import './2.js';

var content = (function (e) {
	'use strict';
	function t(e) {
		return new Promise((t, n) => {
			chrome.runtime.sendMessage(e, function (e) {
				e && e.error && n(e), t(e);
			});
		});
	}
	function n(e, n) {
		return t({
			action: 'dlSendNotification',
			payload: {
				type: e,
				options: n,
			},
		});
	}
	async function o(e) {
		if (!chrome.tabs) return;
		const t = await chrome.tabs.query({
			active: !0,
			currentWindow: !0,
		});
		chrome.tabs.sendMessage(t[0].id, e);
	}
	const i = [
			{
				langCode: 'DE',
				langCodeForSpeech: 'de-DE',
				supportsFormality: !0,
			},
			{
				langCode: 'EN-GB',
				langCodeForSpeech: 'en',
				voice: 'Google UK English Male',
			},
			{
				langCode: 'EN-US',
				langCodeForSpeech: 'en',
				voice: 'Google UK English Male',
			},
			{
				langCode: 'FR',
				langCodeForSpeech: 'fr-FR',
				voice: 'Thomas',
				supportsFormality: !0,
			},
			{
				langCode: 'ES',
				langCodeForSpeech: 'es-ES',
				voice: 'Google espaÃ±ol',
				label: 'ES',
				supportsFormality: !0,
			},
			{
				langCode: 'IT',
				langCodeForSpeech: 'it-IT',
				supportsFormality: !0,
			},
			{
				langCode: 'ID',
				langCodeForSpeech: 'id-ID',
			},
			{
				langCode: 'PL',
				langCodeForSpeech: 'pl-PL',
				supportsFormality: !0,
			},
			{
				langCode: 'NL',
				langCodeForSpeech: 'nl-NL',
				voice: 'Google Nederlands',
				label: 'NL',
				supportsFormality: !0,
			},
			{
				langCode: 'AR',
				langCodeForSpeech: 'ar-AR',
			},
			{
				langCode: 'BG',
				langCodeForSpeech: 'bg-BG',
			},
			{
				langCode: 'CS',
				langCodeForSpeech: 'cs-CZ',
			},
			{
				langCode: 'DA',
				langCodeForSpeech: 'da-DK',
			},
			{
				langCode: 'EL',
				langCodeForSpeech: 'el-GR',
			},
			{
				langCode: 'ET',
				langCodeForSpeech: 'et',
			},
			{
				langCode: 'FI',
				langCodeForSpeech: 'fi-FI',
				voice: 'Satu',
			},
			{
				langCode: 'HU',
				langCodeForSpeech: 'hu-HU',
			},
			{
				langCode: 'JA',
				langCodeForSpeech: 'ja-JP',
				supportsFormality: !0,
			},
			{
				langCode: 'KO',
				langCodeForSpeech: 'ko-KR',
			},
			{
				langCode: 'LT',
				langCodeForSpeech: 'lt',
			},
			{
				langCode: 'LV',
				langCodeForSpeech: 'lv',
			},
			{
				langCode: 'NB',
				langCodeForSpeech: 'nb-NO',
			},
			{
				langCode: 'PT-BR',
				langCodeForSpeech: 'pt-PT',
				supportsFormality: !0,
			},
			{
				langCode: 'PT-PT',
				langCodeForSpeech: 'pt-PT',
				supportsFormality: !0,
			},
			{
				langCode: 'RO',
				langCodeForSpeech: 'ro-RO',
			},
			{
				langCode: 'RU',
				langCodeForSpeech: 'ru-RU',
				supportsFormality: !0,
			},
			{
				langCode: 'SK',
				langCodeForSpeech: 'sk-SK',
			},
			{
				langCode: 'SL',
				langCodeForSpeech: 'sl',
			},
			{
				langCode: 'SV',
				langCodeForSpeech: 'sv-SE',
			},
			{
				langCode: 'TR',
				langCodeForSpeech: 'tr-TR',
			},
			{
				langCode: 'UK',
				langCodeForSpeech: 'uk-UA',
			},
			{
				langCode: 'ZH',
				langCodeForSpeech: 'zh-CN',
			},
			{
				langCode: 'ZH-HANT',
				langCodeForSpeech: 'zh-HANT',
			},
		],
		r = ['EN-GB', 'EN-US', 'EN', 'DE', 'FR', 'ES'],
		s = ['EN-GB', 'EN-US', 'EN', 'DE'],
		a = ['ES', 'FR'],
		l = 1,
		c = 2,
		d = {
			none: '',
			ongoingTranslation: 'ONGOING_TRANSLATION',
			isTranslationComplete: 'IS_TRANLSATION_COMPLETE',
			showOriginal: 'SHOW_ORIGINAL',
			ongoingAutoDetection: 'ON_GOING_AUTODETECTION',
			anonymousUserMaxCharExceeded: 'ANONYMOUS_USER_MAX_CHAR_EXCEEDED',
		},
		u = 1,
		p = 2,
		m = 'inline',
		g = 'automatic',
		h = 'manual',
		f = 'input',
		_ = {
			notLoggedIn: 1,
			loggedInPro: 2,
			loggedInFree: 3,
		},
		v = 1500,
		y = 5e3,
		w = 2e3,
		b = 2e3,
		E = 1,
		S = 3,
		x = 1,
		T = 2,
		C = 3,
		$ = 1,
		k = 2,
		L = 1,
		I = 2,
		M = [/[^.]+\.deepl\.com/g, /[^.]+\.figma\.com/g],
		A = [/docs.google\.com\/spreadsheets/g],
		R = [/[^.]+\.deepl\.com/g],
		O = {
			deepl_inline_ui: {
				z_index: 2147483650,
			},
		},
		N = {
			hintKeyboardShortcut: 'HINT_KEYBOARD_SHORTCUT',
			inputTranslation: 'INPUT_TRANSLATION',
			inlineTranslation: 'INLINE_TRANSLATION',
			fullPageTranslation: 'FULL_PAGE_TRANSLATION',
			accountSuccessfullyCreated: 'ACCOUNT_SUCCESSFULLY_CREATED',
			successfullyLoggedIn: 'SUCCESSFULLY_LOGGED_IN',
			glidesPreventAssetLoss: 'GSLIDES_WARNING_TO_AVOID_ASSET_LOSS',
			showAdsForMSAddins: 'SHOW_ADS_FOR_MS_ADDINS',
		},
		D = {
			green_theme: 'green_theme',
			warning_theme: 'warning_theme',
			ads_theme: 'ads_theme',
		},
		P = {
			inlineTranslationTriggerIcon: 'INLINE_TRANSLATION_TRIGGER_ICON',
			inlineTranslationSettingsIcon: 'INLINE_TRANSLATION_SETTINGS_ICON',
			inlineTranslationSettingPopup: 'INLINE_TRANSLATION_SETTING_POPUP',
			inputTranslationTriggerIcon: 'INPUT_TRANSLATION_TRIGGER_ICON',
			inputImproveTriggerIcon: 'INPUT_IMPROVE_TRIGGER_ICON',
			inputTranslationSettingsIcon: 'INPUT_TRANSLATION_SETTINGS_ICON',
			inputTranslationSettingPopup: 'INPUT_TRANSLATION_SETTING_POPUP',
			settingsPageFPT: 'SETTINGS_PAGE_FPT',
			settingsPageReading: 'SETTINGS_PAGE_READING',
			settingsPageWriting: 'SETTINGS_PAGE_WRITING',
			settingsPageIntegrations: 'SETTINGS_PAGE_INTEGRATIONS',
			fptHideModal: 'FPT_HIDE_MODAL',
			inputTranslationReadMoreLink: 'INPUT_TRANSLATION_READ_MORE_LINK',
			inlineTranslationReadMoreLink: 'INLINE_TRANSLATION_READ_MORE_LINK',
			fptTranslationReadMoreLink: 'FPT_TRANSLATION_READ_MORE_LINK',
			extensionHubToggleSwitch: 'EXTENSION_HUB_TOGGLE_SWITCH',
			hubCustomizeShortcut: 'HUB_CUSTOMIZE_SHORTCUT',
			hubLoginButton: 'HUB_LOGIN_BUTTON',
			hubUpgradeToProLink: 'HUB_UPGRADE_TO_PRO_LINK',
			hubTryProLink: 'HUB_TRY_PRO_LINK',
			hubTryWriteProLink: 'HUB_TRY_WRITE_PRO_LINK',
			settingsPageCustomizeShortcutButton: 'SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON',
			hubFPTEnableCheckbox: 'HUB_FPT_ENABLE_CHECKBOX',
			hubFPTDisableCheckbox: 'HUB_FPT_DISABLE_CHECKBOX',
			deeplWriteIcon: 'DEEPL_WRITE_ICON',
			gmailOnboardingPopup: 'gmailOnboardingPopup',
			gmailOnboardingIcon: 'gmailOnboardingIcon',
			gmailCharLimitLogin: 'gmailCharLimitLogin',
			gmailFeedbackSurvey: 'gmailFeedbackSurvey',
			hubViewIntegrations: 'HUB_VIEW_INTEGRATIONS',
			hubCloseCustomizationsWidget: 'HUB_CLOSE_CUSTOMIZATIONS_WIDGET',
			gslidesFeedbackSurvey: 'GSLIDES_FEEDBACK_SURVEY',
			gslidesCharLimitLogin: 'GSLIDES_CHAR_LIMIT_LOGIN',
			zendeskTryProLink: 'ZENDESK_TRY_PRO_LINK',
			onboardingSignUp: 'ONBOARDING_SIGN_UP',
			onboardingSkipSignUp: 'ONBOARDING_SKIP_SIGN_UP',
			onboardingLoginLink: 'ONBOARDING_LOGIN_LINK',
			onboardingSeeAllIntegrations: 'ONBOARDING_SEE_ALL_INTEGRATIONS',
			iconToggleInHubTranslator: 'ICON_TOGGLE_IN_HUB_TRANSLATOR',
			iconToggleInHubWrite: 'ICON_TOGGLE_IN_HUB_WRITE',
			manageIconSettings: 'MANAGE_ICON_SETTINGS',
			writeLanguageSwitchedInHub: 'WRITE_LANGUAGE_SWITCHED_IN_HUB',
			writeLanguageSwitchedInSettings: 'WRITE_LANGUAGE_SWITCHED_IN_SETTINGS',
		},
		z = 'trigger-translation',
		U = 'CLICK_ON_SHORTCUT_NOTIFICATION',
		H = 'CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES',
		B = 'CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON',
		F = 'CLICK_ON_LOGOUT_MENU_ENTRY',
		W = 'CLICK_ON_REVIEW_WINDOW_CLOSE_ACTION',
		j = {
			disablePerSite: 'DISABLE_PER_SITE',
			disableEverywhere: 'DISABLE_EVERYWHERE',
			enableEverywhere: 'ENABLE_EVERYWHERE',
			enablePerSite: 'ENABLE_PER_SITE',
		},
		q = 'INPUT_TRANSLATION',
		G = 'INLINE_TRANSLATION',
		V = 1,
		Y = 2,
		K = {
			unspecified: 0,
			chrome: 1,
			edge: 2,
			local: 3,
			firefox: 4,
		},
		Z = {
			chrome: 'cofdbpoegempjloogbagkncekinflcnj',
			edge: 'fancfknaplihpclbhbpclnmmjcjanbaf',
			local: 'ocpdpnakdghopjcifldjidbdmfobmmoi',
			firefox: 'firefox-extension@deepl.com',
		},
		X = {
			deepl: /^(.*\.)?deepl\.com$/gm,
			linguee: /^(.*\.)?linguee\.[a-z]{2,3}$/gm,
			google_translate: /^translate\.google\.com$/gm,
			gmail: /^mail\.google\.com$/gm,
		},
		J = {
			word_365: 'euc-word-edit.officeapps.live.com',
			power_point_365: 'euc-powerpoint.officeapps.live.com',
		},
		Q = {
			word_365: 'WacFrame_Word_0',
			power_point_365: 'WacFrame_PowerPoint_0',
		},
		ee = {
			initial: 'INITIAL',
			feedback: 'FEEDBACK',
			review: 'REVIEW',
			gmail: 'GMAIL',
			gslides: 'GSLIDES',
			customer_segmentation: 'CUSTOMER_SEGMENTATION',
			arabic_survey: 'ARABIC_SURVEY',
		},
		te = {
			close_icon: 1,
			deepl_icon: 2,
			outside_click: 3,
		},
		ne = {
			default: 'DEFAULT',
			gdocs: 'GDOCS',
			zendesk: 'ZENDESK',
			whatsappWeb: 'WHATSAPP_WEB',
			twitter: 'TWITTER',
			gmail: 'GMAIL',
			gslides: 'GSLIDES',
			linkedIn: 'LINKEDIN',
		},
		oe = {
			translate: 'translate',
			write: 'write',
		},
		ie = ['script', 'style'],
		re = [
			'a',
			'abbr',
			'acronym',
			'b',
			'bdo',
			'big',
			'br',
			'button',
			'cite',
			'code',
			'dfn',
			'em',
			'i',
			'img',
			'input',
			'kbd',
			'label',
			'map',
			'object',
			'q',
			'samp',
			'script',
			'select',
			'small',
			'span',
			'strong',
			'sub',
			'sup',
			'textarea',
			'time',
			'tt',
			'var',
			'font',
		],
		se = 'OPEN_TICKET',
		ae = 'DETECT_TICKET_LANGUAGE',
		le = 'SWITCH_TICKET_LANGUAGE',
		ce = 'ENABLE_AUTOTRANSLATE',
		de = 'DISABLE_AUTOTRANSLATE',
		ue = 'TRANSLATE_MESSAGE',
		pe = 'TRANSLATE_INPUT',
		me = 'ERROR',
		ge = 'TICKET',
		he = 'LIVE_CHAT',
		fe = 50,
		_e = {
			TRANSLATOR: 'TRANSLATOR',
			WRITE: 'WRITE',
			API: 'API',
			DOC_TRANSLATOR: 'DOC_TRANSLATOR',
		},
		ve = {
			free: 'free',
			pro: 'pro',
			none: 'none',
		},
		ye = 'TEXT_REFINEMENT_REQUEST',
		we = 'GDOCS_INSERT_COPY',
		be = 'GDOCS_DISCARD_COPY',
		Ee = 'GDOCS_CHAR_LIMIT_REACHED',
		Se = 'RESULT_ACCEPTED',
		xe = 'RESULT_REVERTED',
		Te = 'ERROR',
		Ce = 'RESULT_ACCEPTED',
		$e = 'RESULT_REVERTED',
		ke = 'ALTERNATIVES_OPENED',
		Le = 'SEGMENTATION_SELECTED',
		Ie = 'ALTERNATIVE_SELECTED',
		Me = 'SHOWN',
		Ae = 'CLICKED',
		Re = {
			READING_VIEW_TRANSLATE: 'READING_VIEW_TRANSLATE',
			COMPOSE_VIEW_TRANSLATE: 'COMPOSE_VIEW_TRANSLATE',
			COMPOSE_VIEW_IMPROVE: 'COMPOSE_VIEW_IMPROVE',
		},
		Oe = 'ANONYMOUS_USER_LIMIT_EXCEEDED',
		Ne = 'FREE_ACCOUNT_LIMIT_EXCEEDED',
		De = 'WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED',
		Pe = 'WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED',
		ze = 'PRO_TRIAL',
		Ue = 'LOGIN',
		He = 'SIGNUP',
		Be = {
			ANONYMOUS: 'ANONYMOUS',
			FREE: 'FREE',
		},
		Fe = {
			WORD: 'word',
			SENTENCE: 'sentence',
		},
		We = ['JA', 'ZH'],
		je = {
			none: 'None',
			pro: 'Pro',
			free: 'Free',
		},
		qe = ['simple', 'business', 'academic', 'casual'],
		Ge = ['enthusiastic', 'friendly', 'confident', 'diplomatic'],
		Ve = (e, t) => {
			if (!e) throw new Error('No settings supplied to getServiceType');
			if (!Object.keys(_e).includes(t))
				throw new Error('Unidentified service name supplied to getServiceType');
			if (!e.isLoggedIn) return ve.free;
			switch (t) {
				case _e.TRANSLATOR:
					return e.translatorServiceType;
				case _e.WRITE:
					return e.writeServiceType;
				case _e.API:
					return e.apiServiceType;
				case _e.DOC_TRANSLATOR:
					return e.docTranslatorServiceType;
			}
		},
		Ye = (e, t) => Ve(e, t) === ve.pro,
		Ke = (e, t) => Ve(e, t) === ve.none,
		Ze = (e) => !!e.isLoggedIn && ((e, t) => Ve(e, t) === ve.free)(e, _e.WRITE),
		Xe = {
			chrome: 'Chrome',
			edge: 'Edge',
			brave: 'Brave',
			firefox: 'Firefox',
			opera: 'Opera',
			safari: 'Safari',
		};
	function Je() {
		return !!window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
	}
	function Qe(e, t) {
		let n;
		try {
			switch (e) {
				case Xe.chrome:
				case Xe.brave:
					n = t.split('Chrome/')[1].split(' ')[0];
					break;
				case Xe.edge:
					n = t.split('Edg/')[1].split(' ')[0];
					break;
				case Xe.firefox:
					n = t.split('Firefox/')[1].split(' ')[0];
					break;
				case Xe.opera:
					n = t.split('OPR/')[1].split(' ')[0];
					break;
				case Xe.safari:
					n = t.split('Version/')[1].split(' ')[0];
			}
		} catch (t) {
			console.error(`Could not get the browsers (${e}) version from user agent`, t);
		}
		try {
			!n &&
				navigator?.userAgentData &&
				(function (e) {
					return e === Xe.chrome || e === Xe.edge || e === Xe.brave || e === Xe.opera;
				})(e) &&
				(n = et(e).version);
		} catch (t) {
			console.error(`Could not get the chromium browsers (${e}) version`, t);
		}
		return n && 'string' == typeof n ? n : 'unknown_browser_version';
	}
	function et(e) {
		if (!navigator.userAgentData || !e) return;
		const t = new RegExp(`${e}`, 'i');
		return navigator.userAgentData.brands.filter((e) => t.test(e.brand))[0];
	}
	function tt() {
		const e = navigator?.userAgent || 'unknown_user_agent',
			t = navigator?.userAgentData?.platform || navigator?.platform || 'unknown_platform';
		let n = 'unknown_browser',
			o = 'unknown_browser_version';
		const i = navigator?.language || 'unknown_browser_language';
		try {
			const t = e.match(/chrome|chromium|crios/i),
				i = e.match(/edg/i) || et(Xe.edge),
				r = e.match(/firefox|fxios/i),
				s = e.match(/opr\//i) || et(Xe.opera),
				a = e.match(/safari/i),
				l = et(Xe.brave);
			t
				? ((n = Xe.chrome), i && (n = Xe.edge), s && (n = Xe.opera), l && (n = Xe.brave))
				: i
				? (n = Xe.edge)
				: r
				? (n = Xe.firefox)
				: s
				? (n = Xe.opera)
				: a && (n = Xe.safari),
				(o = Qe(n, e));
		} catch (e) {
			console.error('Could not get the name of the brower', e);
		}
		return {
			userAgent: e,
			platform: t,
			browser: n,
			browserVersion: o,
			browserLang: i,
		};
	}
	function nt() {
		if (
			{
				IS_PROD: !0,
				BASE_URLS: {
					dapApi: 'https://s.deepl.com/chrome/statistics',
					toolingApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingWriteApiPro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingWriteApi: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiWrite: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiWritePro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiGlossary: 'https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.26.1',
					login: 'https://www.deepl.com/auth/login',
					token: 'https://w.deepl.com/oidc/token',
					logout: 'https://www.deepl.com/auth/logout',
					feedbackSurvey: 'https://deepl.typeform.com/to/MkMfP2Y6',
					newFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi',
					firefoxFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK',
					uninstallSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU',
					gslidesFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO',
					deeplPro: 'https://www.deepl.com/pro',
					deeplProWrite: 'https://www.deepl.com/pro-write',
					deeplTranslator: 'https://www.deepl.com/translator',
					deeplDoctrans: 'https://www.deepl.com/translator/files',
					deeplTermsOfServiceFree: 'https://www.deepl.com/en/pro-license?tab=free',
					deeplCreateAccount: 'https://www.deepl.com/signup',
					extensionStorePage: 'https://bit.ly/DeepL-Chrome',
					supportArticle: 'https://support.deepl.com/hc/articles/4407580229522',
					deeplSupport: 'https://support.deepl.com/hc',
					chromeWebstore:
						'https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj',
					edgeWebstore:
						'https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf',
					firefoxWebstore: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate',
					firefoxShortcutDocs: 'https://support.mozilla.org/kb/manage-extension-shortcuts-firefox',
					firefoxPrivacyPolicy: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/',
					clientStateApi: 'https://w.deepl.com/web',
					experimentsEndpoint: 'https://s.deepl.com/chrome/experiments',
					gmailFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW',
					customerSegmentationSurveyFree:
						'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071',
					customerSegmentationSurveyPro:
						'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070',
					arabicSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ',
					msAddinsDeepLAds: 'https://www.deepl.com/en/microsoft-365',
				},
				APP_VERSION: '1.26.1',
				FEATURE_FLAGS: {
					TRANSLATE_INPUT: !0,
					PAGE_TRANSLATION: !0,
					IMPROVE_WRITING: !0,
					DOCUMENT_TRANSLATION: !0,
					RECOMMEND_TO_A_FRIEND: !0,
					PRO_LOGIN: !0,
					WEBPAGE_CUSTOMIZER: !0,
					GDOCS_INTEGRATION: !0,
					ZENDESK_INTEGRATION: !0,
					GMAIL_INTEGRATION: !0,
					GSLIDES_INTEGRATION: !0,
					ON_INSTALL_ONBOARDING: !0,
					WHATSAPP_TRANSLATE_ALL_CHAT: !1,
					DEEPL_WRITE_GENERAL: !1,
					DEEPL_WRITE_GDOCS: !0,
					SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
					ARABIC_SURVEY: !0,
					REVIEW_UI_WITH_ITA: !1,
				},
			}.browserBuild
		)
			return (
				{
					IS_PROD: !0,
					BASE_URLS: {
						dapApi: 'https://s.deepl.com/chrome/statistics',
						toolingApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingWriteApiPro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingWriteApi: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiWrite: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiWritePro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiGlossary: 'https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.26.1',
						login: 'https://www.deepl.com/auth/login',
						token: 'https://w.deepl.com/oidc/token',
						logout: 'https://www.deepl.com/auth/logout',
						feedbackSurvey: 'https://deepl.typeform.com/to/MkMfP2Y6',
						newFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi',
						firefoxFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK',
						uninstallSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU',
						gslidesFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO',
						deeplPro: 'https://www.deepl.com/pro',
						deeplProWrite: 'https://www.deepl.com/pro-write',
						deeplTranslator: 'https://www.deepl.com/translator',
						deeplDoctrans: 'https://www.deepl.com/translator/files',
						deeplTermsOfServiceFree: 'https://www.deepl.com/en/pro-license?tab=free',
						deeplCreateAccount: 'https://www.deepl.com/signup',
						extensionStorePage: 'https://bit.ly/DeepL-Chrome',
						supportArticle: 'https://support.deepl.com/hc/articles/4407580229522',
						deeplSupport: 'https://support.deepl.com/hc',
						chromeWebstore:
							'https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj',
						edgeWebstore:
							'https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf',
						firefoxWebstore: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate',
						firefoxShortcutDocs: 'https://support.mozilla.org/kb/manage-extension-shortcuts-firefox',
						firefoxPrivacyPolicy: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/',
						clientStateApi: 'https://w.deepl.com/web',
						experimentsEndpoint: 'https://s.deepl.com/chrome/experiments',
						gmailFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW',
						customerSegmentationSurveyFree:
							'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071',
						customerSegmentationSurveyPro:
							'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070',
						arabicSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ',
						msAddinsDeepLAds: 'https://www.deepl.com/en/microsoft-365',
					},
					APP_VERSION: '1.26.1',
					FEATURE_FLAGS: {
						TRANSLATE_INPUT: !0,
						PAGE_TRANSLATION: !0,
						IMPROVE_WRITING: !0,
						DOCUMENT_TRANSLATION: !0,
						RECOMMEND_TO_A_FRIEND: !0,
						PRO_LOGIN: !0,
						WEBPAGE_CUSTOMIZER: !0,
						GDOCS_INTEGRATION: !0,
						ZENDESK_INTEGRATION: !0,
						GMAIL_INTEGRATION: !0,
						GSLIDES_INTEGRATION: !0,
						ON_INSTALL_ONBOARDING: !0,
						WHATSAPP_TRANSLATE_ALL_CHAT: !1,
						DEEPL_WRITE_GENERAL: !1,
						DEEPL_WRITE_GDOCS: !0,
						SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
						ARABIC_SURVEY: !0,
						REVIEW_UI_WITH_ITA: !1,
					},
				}.browserBuild.toLowerCase() === Xe.firefox.toLowerCase()
			);
		const e = chrome.runtime.getURL('');
		return tt().browser === Xe.firefox || /moz-extension:\/\//gm.test(e);
	}
	const ot = () => {
		const e = /(outlook\.office\.com|sharepoint\.com|microsoft|office)/,
			t = new URL(window.location.href);
		if (!e.test(t.origin)) return !1;
		const n = t.origin.match(e);
		return !!n && n[0];
	};
	var it =
			'undefined' != typeof globalThis
				? globalThis
				: 'undefined' != typeof window
				? window
				: 'undefined' != typeof global
				? global
				: 'undefined' != typeof self
				? self
				: {},
		rt = {
			exports: {},
		};
	/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */
	!(function (e, t) {
		e.exports = (function () {
			const {
				entries: e,
				setPrototypeOf: t,
				isFrozen: n,
				getPrototypeOf: o,
				getOwnPropertyDescriptor: i,
			} = Object;
			let { freeze: r, seal: s, create: a } = Object,
				{ apply: l, construct: c } = 'undefined' != typeof Reflect && Reflect;
			r ||
				(r = function (e) {
					return e;
				}),
				s ||
					(s = function (e) {
						return e;
					}),
				l ||
					(l = function (e, t, n) {
						return e.apply(t, n);
					}),
				c ||
					(c = function (e, t) {
						return new e(...t);
					});
			const d = E(Array.prototype.forEach),
				u = E(Array.prototype.pop),
				p = E(Array.prototype.push),
				m = E(String.prototype.toLowerCase),
				g = E(String.prototype.toString),
				h = E(String.prototype.match),
				f = E(String.prototype.replace),
				_ = E(String.prototype.indexOf),
				v = E(String.prototype.trim),
				y = E(Object.prototype.hasOwnProperty),
				w = E(RegExp.prototype.test),
				b = S(TypeError);
			function E(e) {
				return function (t) {
					for (var n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), i = 1; i < n; i++)
						o[i - 1] = arguments[i];
					return l(e, t, o);
				};
			}
			function S(e) {
				return function () {
					for (var t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
					return c(e, n);
				};
			}
			function x(e, o) {
				let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : m;
				t && t(e, null);
				let r = o.length;
				for (; r--; ) {
					let t = o[r];
					if ('string' == typeof t) {
						const e = i(t);
						e !== t && (n(o) || (o[r] = e), (t = e));
					}
					e[t] = !0;
				}
				return e;
			}
			function T(e) {
				for (let t = 0; t < e.length; t++) y(e, t) || (e[t] = null);
				return e;
			}
			function C(t) {
				const n = a(null);
				for (const [o, i] of e(t))
					y(t, o) &&
						(Array.isArray(i)
							? (n[o] = T(i))
							: i && 'object' == typeof i && i.constructor === Object
							? (n[o] = C(i))
							: (n[o] = i));
				return n;
			}
			function $(e, t) {
				for (; null !== e; ) {
					const n = i(e, t);
					if (n) {
						if (n.get) return E(n.get);
						if ('function' == typeof n.value) return E(n.value);
					}
					e = o(e);
				}
				function n() {
					return null;
				}
				return n;
			}
			const k = r([
					'a',
					'abbr',
					'acronym',
					'address',
					'area',
					'article',
					'aside',
					'audio',
					'b',
					'bdi',
					'bdo',
					'big',
					'blink',
					'blockquote',
					'body',
					'br',
					'button',
					'canvas',
					'caption',
					'center',
					'cite',
					'code',
					'col',
					'colgroup',
					'content',
					'data',
					'datalist',
					'dd',
					'decorator',
					'del',
					'details',
					'dfn',
					'dialog',
					'dir',
					'div',
					'dl',
					'dt',
					'element',
					'em',
					'fieldset',
					'figcaption',
					'figure',
					'font',
					'footer',
					'form',
					'h1',
					'h2',
					'h3',
					'h4',
					'h5',
					'h6',
					'head',
					'header',
					'hgroup',
					'hr',
					'html',
					'i',
					'img',
					'input',
					'ins',
					'kbd',
					'label',
					'legend',
					'li',
					'main',
					'map',
					'mark',
					'marquee',
					'menu',
					'menuitem',
					'meter',
					'nav',
					'nobr',
					'ol',
					'optgroup',
					'option',
					'output',
					'p',
					'picture',
					'pre',
					'progress',
					'q',
					'rp',
					'rt',
					'ruby',
					's',
					'samp',
					'section',
					'select',
					'shadow',
					'small',
					'source',
					'spacer',
					'span',
					'strike',
					'strong',
					'style',
					'sub',
					'summary',
					'sup',
					'table',
					'tbody',
					'td',
					'template',
					'textarea',
					'tfoot',
					'th',
					'thead',
					'time',
					'tr',
					'track',
					'tt',
					'u',
					'ul',
					'var',
					'video',
					'wbr',
				]),
				L = r([
					'svg',
					'a',
					'altglyph',
					'altglyphdef',
					'altglyphitem',
					'animatecolor',
					'animatemotion',
					'animatetransform',
					'circle',
					'clippath',
					'defs',
					'desc',
					'ellipse',
					'filter',
					'font',
					'g',
					'glyph',
					'glyphref',
					'hkern',
					'image',
					'line',
					'lineargradient',
					'marker',
					'mask',
					'metadata',
					'mpath',
					'path',
					'pattern',
					'polygon',
					'polyline',
					'radialgradient',
					'rect',
					'stop',
					'style',
					'switch',
					'symbol',
					'text',
					'textpath',
					'title',
					'tref',
					'tspan',
					'view',
					'vkern',
				]),
				I = r([
					'feBlend',
					'feColorMatrix',
					'feComponentTransfer',
					'feComposite',
					'feConvolveMatrix',
					'feDiffuseLighting',
					'feDisplacementMap',
					'feDistantLight',
					'feDropShadow',
					'feFlood',
					'feFuncA',
					'feFuncB',
					'feFuncG',
					'feFuncR',
					'feGaussianBlur',
					'feImage',
					'feMerge',
					'feMergeNode',
					'feMorphology',
					'feOffset',
					'fePointLight',
					'feSpecularLighting',
					'feSpotLight',
					'feTile',
					'feTurbulence',
				]),
				M = r([
					'animate',
					'color-profile',
					'cursor',
					'discard',
					'font-face',
					'font-face-format',
					'font-face-name',
					'font-face-src',
					'font-face-uri',
					'foreignobject',
					'hatch',
					'hatchpath',
					'mesh',
					'meshgradient',
					'meshpatch',
					'meshrow',
					'missing-glyph',
					'script',
					'set',
					'solidcolor',
					'unknown',
					'use',
				]),
				A = r([
					'math',
					'menclose',
					'merror',
					'mfenced',
					'mfrac',
					'mglyph',
					'mi',
					'mlabeledtr',
					'mmultiscripts',
					'mn',
					'mo',
					'mover',
					'mpadded',
					'mphantom',
					'mroot',
					'mrow',
					'ms',
					'mspace',
					'msqrt',
					'mstyle',
					'msub',
					'msup',
					'msubsup',
					'mtable',
					'mtd',
					'mtext',
					'mtr',
					'munder',
					'munderover',
					'mprescripts',
				]),
				R = r([
					'maction',
					'maligngroup',
					'malignmark',
					'mlongdiv',
					'mscarries',
					'mscarry',
					'msgroup',
					'mstack',
					'msline',
					'msrow',
					'semantics',
					'annotation',
					'annotation-xml',
					'mprescripts',
					'none',
				]),
				O = r(['#text']),
				N = r([
					'accept',
					'action',
					'align',
					'alt',
					'autocapitalize',
					'autocomplete',
					'autopictureinpicture',
					'autoplay',
					'background',
					'bgcolor',
					'border',
					'capture',
					'cellpadding',
					'cellspacing',
					'checked',
					'cite',
					'class',
					'clear',
					'color',
					'cols',
					'colspan',
					'controls',
					'controlslist',
					'coords',
					'crossorigin',
					'datetime',
					'decoding',
					'default',
					'dir',
					'disabled',
					'disablepictureinpicture',
					'disableremoteplayback',
					'download',
					'draggable',
					'enctype',
					'enterkeyhint',
					'face',
					'for',
					'headers',
					'height',
					'hidden',
					'high',
					'href',
					'hreflang',
					'id',
					'inputmode',
					'integrity',
					'ismap',
					'kind',
					'label',
					'lang',
					'list',
					'loading',
					'loop',
					'low',
					'max',
					'maxlength',
					'media',
					'method',
					'min',
					'minlength',
					'multiple',
					'muted',
					'name',
					'nonce',
					'noshade',
					'novalidate',
					'nowrap',
					'open',
					'optimum',
					'pattern',
					'placeholder',
					'playsinline',
					'popover',
					'popovertarget',
					'popovertargetaction',
					'poster',
					'preload',
					'pubdate',
					'radiogroup',
					'readonly',
					'rel',
					'required',
					'rev',
					'reversed',
					'role',
					'rows',
					'rowspan',
					'spellcheck',
					'scope',
					'selected',
					'shape',
					'size',
					'sizes',
					'span',
					'srclang',
					'start',
					'src',
					'srcset',
					'step',
					'style',
					'summary',
					'tabindex',
					'title',
					'translate',
					'type',
					'usemap',
					'valign',
					'value',
					'width',
					'wrap',
					'xmlns',
					'slot',
				]),
				D = r([
					'accent-height',
					'accumulate',
					'additive',
					'alignment-baseline',
					'ascent',
					'attributename',
					'attributetype',
					'azimuth',
					'basefrequency',
					'baseline-shift',
					'begin',
					'bias',
					'by',
					'class',
					'clip',
					'clippathunits',
					'clip-path',
					'clip-rule',
					'color',
					'color-interpolation',
					'color-interpolation-filters',
					'color-profile',
					'color-rendering',
					'cx',
					'cy',
					'd',
					'dx',
					'dy',
					'diffuseconstant',
					'direction',
					'display',
					'divisor',
					'dur',
					'edgemode',
					'elevation',
					'end',
					'fill',
					'fill-opacity',
					'fill-rule',
					'filter',
					'filterunits',
					'flood-color',
					'flood-opacity',
					'font-family',
					'font-size',
					'font-size-adjust',
					'font-stretch',
					'font-style',
					'font-variant',
					'font-weight',
					'fx',
					'fy',
					'g1',
					'g2',
					'glyph-name',
					'glyphref',
					'gradientunits',
					'gradienttransform',
					'height',
					'href',
					'id',
					'image-rendering',
					'in',
					'in2',
					'k',
					'k1',
					'k2',
					'k3',
					'k4',
					'kerning',
					'keypoints',
					'keysplines',
					'keytimes',
					'lang',
					'lengthadjust',
					'letter-spacing',
					'kernelmatrix',
					'kernelunitlength',
					'lighting-color',
					'local',
					'marker-end',
					'marker-mid',
					'marker-start',
					'markerheight',
					'markerunits',
					'markerwidth',
					'maskcontentunits',
					'maskunits',
					'max',
					'mask',
					'media',
					'method',
					'mode',
					'min',
					'name',
					'numoctaves',
					'offset',
					'operator',
					'opacity',
					'order',
					'orient',
					'orientation',
					'origin',
					'overflow',
					'paint-order',
					'path',
					'pathlength',
					'patterncontentunits',
					'patterntransform',
					'patternunits',
					'points',
					'preservealpha',
					'preserveaspectratio',
					'primitiveunits',
					'r',
					'rx',
					'ry',
					'radius',
					'refx',
					'refy',
					'repeatcount',
					'repeatdur',
					'restart',
					'result',
					'rotate',
					'scale',
					'seed',
					'shape-rendering',
					'specularconstant',
					'specularexponent',
					'spreadmethod',
					'startoffset',
					'stddeviation',
					'stitchtiles',
					'stop-color',
					'stop-opacity',
					'stroke-dasharray',
					'stroke-dashoffset',
					'stroke-linecap',
					'stroke-linejoin',
					'stroke-miterlimit',
					'stroke-opacity',
					'stroke',
					'stroke-width',
					'style',
					'surfacescale',
					'systemlanguage',
					'tabindex',
					'targetx',
					'targety',
					'transform',
					'transform-origin',
					'text-anchor',
					'text-decoration',
					'text-rendering',
					'textlength',
					'type',
					'u1',
					'u2',
					'unicode',
					'values',
					'viewbox',
					'visibility',
					'version',
					'vert-adv-y',
					'vert-origin-x',
					'vert-origin-y',
					'width',
					'word-spacing',
					'wrap',
					'writing-mode',
					'xchannelselector',
					'ychannelselector',
					'x',
					'x1',
					'x2',
					'xmlns',
					'y',
					'y1',
					'y2',
					'z',
					'zoomandpan',
				]),
				P = r([
					'accent',
					'accentunder',
					'align',
					'bevelled',
					'close',
					'columnsalign',
					'columnlines',
					'columnspan',
					'denomalign',
					'depth',
					'dir',
					'display',
					'displaystyle',
					'encoding',
					'fence',
					'frame',
					'height',
					'href',
					'id',
					'largeop',
					'length',
					'linethickness',
					'lspace',
					'lquote',
					'mathbackground',
					'mathcolor',
					'mathsize',
					'mathvariant',
					'maxsize',
					'minsize',
					'movablelimits',
					'notation',
					'numalign',
					'open',
					'rowalign',
					'rowlines',
					'rowspacing',
					'rowspan',
					'rspace',
					'rquote',
					'scriptlevel',
					'scriptminsize',
					'scriptsizemultiplier',
					'selection',
					'separator',
					'separators',
					'stretchy',
					'subscriptshift',
					'supscriptshift',
					'symmetric',
					'voffset',
					'width',
					'xmlns',
				]),
				z = r(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']),
				U = s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),
				H = s(/<%[\w\W]*|[\w\W]*%>/gm),
				B = s(/\${[\w\W]*}/gm),
				F = s(/^data-[\-\w.\u00B7-\uFFFF]/),
				W = s(/^aria-[\-\w]+$/),
				j = s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),
				q = s(/^(?:\w+script|data):/i),
				G = s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),
				V = s(/^html$/i),
				Y = s(/^[a-z][.\w]*(-[.\w]+)+$/i);
			var K = Object.freeze({
				__proto__: null,
				MUSTACHE_EXPR: U,
				ERB_EXPR: H,
				TMPLIT_EXPR: B,
				DATA_ATTR: F,
				ARIA_ATTR: W,
				IS_ALLOWED_URI: j,
				IS_SCRIPT_OR_DATA: q,
				ATTR_WHITESPACE: G,
				DOCTYPE_NAME: V,
				CUSTOM_ELEMENT: Y,
			});
			const Z = {
					element: 1,
					attribute: 2,
					text: 3,
					cdataSection: 4,
					entityReference: 5,
					entityNode: 6,
					progressingInstruction: 7,
					comment: 8,
					document: 9,
					documentType: 10,
					documentFragment: 11,
					notation: 12,
				},
				X = function () {
					return 'undefined' == typeof window ? null : window;
				},
				J = function (e, t) {
					if ('object' != typeof e || 'function' != typeof e.createPolicy) return null;
					let n = null;
					const o = 'data-tt-policy-suffix';
					t && t.hasAttribute(o) && (n = t.getAttribute(o));
					const i = 'dompurify' + (n ? '#' + n : '');
					try {
						return e.createPolicy(i, {
							createHTML: (e) => e,
							createScriptURL: (e) => e,
						});
					} catch (e) {
						return console.warn('TrustedTypes policy ' + i + ' could not be created.'), null;
					}
				};
			function Q() {
				let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : X();
				const n = (e) => Q(e);
				if (
					((n.version = '3.1.6'), (n.removed = []), !t || !t.document || t.document.nodeType !== Z.document)
				)
					return (n.isSupported = !1), n;
				let { document: o } = t;
				const i = o,
					s = i.currentScript,
					{
						DocumentFragment: l,
						HTMLTemplateElement: c,
						Node: E,
						Element: S,
						NodeFilter: T,
						NamedNodeMap: U = t.NamedNodeMap || t.MozNamedAttrMap,
						HTMLFormElement: H,
						DOMParser: B,
						trustedTypes: F,
					} = t,
					W = S.prototype,
					q = $(W, 'cloneNode'),
					G = $(W, 'remove'),
					Y = $(W, 'nextSibling'),
					ee = $(W, 'childNodes'),
					te = $(W, 'parentNode');
				if ('function' == typeof c) {
					const e = o.createElement('template');
					e.content && e.content.ownerDocument && (o = e.content.ownerDocument);
				}
				let ne,
					oe = '';
				const {
						implementation: ie,
						createNodeIterator: re,
						createDocumentFragment: se,
						getElementsByTagName: ae,
					} = o,
					{ importNode: le } = i;
				let ce = {};
				n.isSupported =
					'function' == typeof e && 'function' == typeof te && ie && void 0 !== ie.createHTMLDocument;
				const {
					MUSTACHE_EXPR: de,
					ERB_EXPR: ue,
					TMPLIT_EXPR: pe,
					DATA_ATTR: me,
					ARIA_ATTR: ge,
					IS_SCRIPT_OR_DATA: he,
					ATTR_WHITESPACE: fe,
					CUSTOM_ELEMENT: _e,
				} = K;
				let { IS_ALLOWED_URI: ve } = K,
					ye = null;
				const we = x({}, [...k, ...L, ...I, ...A, ...O]);
				let be = null;
				const Ee = x({}, [...N, ...D, ...P, ...z]);
				let Se = Object.seal(
						a(null, {
							tagNameCheck: {
								writable: !0,
								configurable: !1,
								enumerable: !0,
								value: null,
							},
							attributeNameCheck: {
								writable: !0,
								configurable: !1,
								enumerable: !0,
								value: null,
							},
							allowCustomizedBuiltInElements: {
								writable: !0,
								configurable: !1,
								enumerable: !0,
								value: !1,
							},
						}),
					),
					xe = null,
					Te = null,
					Ce = !0,
					$e = !0,
					ke = !1,
					Le = !0,
					Ie = !1,
					Me = !0,
					Ae = !1,
					Re = !1,
					Oe = !1,
					Ne = !1,
					De = !1,
					Pe = !1,
					ze = !0,
					Ue = !1;
				const He = 'user-content-';
				let Be = !0,
					Fe = !1,
					We = {},
					je = null;
				const qe = x({}, [
					'annotation-xml',
					'audio',
					'colgroup',
					'desc',
					'foreignobject',
					'head',
					'iframe',
					'math',
					'mi',
					'mn',
					'mo',
					'ms',
					'mtext',
					'noembed',
					'noframes',
					'noscript',
					'plaintext',
					'script',
					'style',
					'svg',
					'template',
					'thead',
					'title',
					'video',
					'xmp',
				]);
				let Ge = null;
				const Ve = x({}, ['audio', 'video', 'img', 'source', 'image', 'track']);
				let Ye = null;
				const Ke = x({}, [
						'alt',
						'class',
						'for',
						'id',
						'label',
						'name',
						'pattern',
						'placeholder',
						'role',
						'summary',
						'title',
						'value',
						'style',
						'xmlns',
					]),
					Ze = 'http://www.w3.org/1998/Math/MathML',
					Xe = 'http://www.w3.org/2000/svg',
					Je = 'http://www.w3.org/1999/xhtml';
				let Qe = Je,
					et = !1,
					tt = null;
				const nt = x({}, [Ze, Xe, Je], g);
				let ot = null;
				const it = ['application/xhtml+xml', 'text/html'],
					rt = 'text/html';
				let st = null,
					at = null;
				const lt = o.createElement('form'),
					ct = function (e) {
						return e instanceof RegExp || e instanceof Function;
					},
					dt = function () {
						let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
						if (!at || at !== e) {
							if (
								((e && 'object' == typeof e) || (e = {}),
								(e = C(e)),
								(ot = -1 === it.indexOf(e.PARSER_MEDIA_TYPE) ? rt : e.PARSER_MEDIA_TYPE),
								(st = 'application/xhtml+xml' === ot ? g : m),
								(ye = y(e, 'ALLOWED_TAGS') ? x({}, e.ALLOWED_TAGS, st) : we),
								(be = y(e, 'ALLOWED_ATTR') ? x({}, e.ALLOWED_ATTR, st) : Ee),
								(tt = y(e, 'ALLOWED_NAMESPACES') ? x({}, e.ALLOWED_NAMESPACES, g) : nt),
								(Ye = y(e, 'ADD_URI_SAFE_ATTR') ? x(C(Ke), e.ADD_URI_SAFE_ATTR, st) : Ke),
								(Ge = y(e, 'ADD_DATA_URI_TAGS') ? x(C(Ve), e.ADD_DATA_URI_TAGS, st) : Ve),
								(je = y(e, 'FORBID_CONTENTS') ? x({}, e.FORBID_CONTENTS, st) : qe),
								(xe = y(e, 'FORBID_TAGS') ? x({}, e.FORBID_TAGS, st) : {}),
								(Te = y(e, 'FORBID_ATTR') ? x({}, e.FORBID_ATTR, st) : {}),
								(We = !!y(e, 'USE_PROFILES') && e.USE_PROFILES),
								(Ce = !1 !== e.ALLOW_ARIA_ATTR),
								($e = !1 !== e.ALLOW_DATA_ATTR),
								(ke = e.ALLOW_UNKNOWN_PROTOCOLS || !1),
								(Le = !1 !== e.ALLOW_SELF_CLOSE_IN_ATTR),
								(Ie = e.SAFE_FOR_TEMPLATES || !1),
								(Me = !1 !== e.SAFE_FOR_XML),
								(Ae = e.WHOLE_DOCUMENT || !1),
								(Ne = e.RETURN_DOM || !1),
								(De = e.RETURN_DOM_FRAGMENT || !1),
								(Pe = e.RETURN_TRUSTED_TYPE || !1),
								(Oe = e.FORCE_BODY || !1),
								(ze = !1 !== e.SANITIZE_DOM),
								(Ue = e.SANITIZE_NAMED_PROPS || !1),
								(Be = !1 !== e.KEEP_CONTENT),
								(Fe = e.IN_PLACE || !1),
								(ve = e.ALLOWED_URI_REGEXP || j),
								(Qe = e.NAMESPACE || Je),
								(Se = e.CUSTOM_ELEMENT_HANDLING || {}),
								e.CUSTOM_ELEMENT_HANDLING &&
									ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck) &&
									(Se.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),
								e.CUSTOM_ELEMENT_HANDLING &&
									ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) &&
									(Se.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),
								e.CUSTOM_ELEMENT_HANDLING &&
									'boolean' == typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&
									(Se.allowCustomizedBuiltInElements =
										e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),
								Ie && ($e = !1),
								De && (Ne = !0),
								We &&
									((ye = x({}, O)),
									(be = []),
									!0 === We.html && (x(ye, k), x(be, N)),
									!0 === We.svg && (x(ye, L), x(be, D), x(be, z)),
									!0 === We.svgFilters && (x(ye, I), x(be, D), x(be, z)),
									!0 === We.mathMl && (x(ye, A), x(be, P), x(be, z))),
								e.ADD_TAGS && (ye === we && (ye = C(ye)), x(ye, e.ADD_TAGS, st)),
								e.ADD_ATTR && (be === Ee && (be = C(be)), x(be, e.ADD_ATTR, st)),
								e.ADD_URI_SAFE_ATTR && x(Ye, e.ADD_URI_SAFE_ATTR, st),
								e.FORBID_CONTENTS && (je === qe && (je = C(je)), x(je, e.FORBID_CONTENTS, st)),
								Be && (ye['#text'] = !0),
								Ae && x(ye, ['html', 'head', 'body']),
								ye.table && (x(ye, ['tbody']), delete xe.tbody),
								e.TRUSTED_TYPES_POLICY)
							) {
								if ('function' != typeof e.TRUSTED_TYPES_POLICY.createHTML)
									throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
								if ('function' != typeof e.TRUSTED_TYPES_POLICY.createScriptURL)
									throw b('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
								(ne = e.TRUSTED_TYPES_POLICY), (oe = ne.createHTML(''));
							} else
								void 0 === ne && (ne = J(F, s)),
									null !== ne && 'string' == typeof oe && (oe = ne.createHTML(''));
							r && r(e), (at = e);
						}
					},
					ut = x({}, ['mi', 'mo', 'mn', 'ms', 'mtext']),
					pt = x({}, ['foreignobject', 'annotation-xml']),
					mt = x({}, ['title', 'style', 'font', 'a', 'script']),
					gt = x({}, [...L, ...I, ...M]),
					ht = x({}, [...A, ...R]),
					ft = function (e) {
						let t = te(e);
						(t && t.tagName) ||
							(t = {
								namespaceURI: Qe,
								tagName: 'template',
							});
						const n = m(e.tagName),
							o = m(t.tagName);
						return (
							!!tt[e.namespaceURI] &&
							(e.namespaceURI === Xe
								? t.namespaceURI === Je
									? 'svg' === n
									: t.namespaceURI === Ze
									? 'svg' === n && ('annotation-xml' === o || ut[o])
									: Boolean(gt[n])
								: e.namespaceURI === Ze
								? t.namespaceURI === Je
									? 'math' === n
									: t.namespaceURI === Xe
									? 'math' === n && pt[o]
									: Boolean(ht[n])
								: e.namespaceURI === Je
								? !(t.namespaceURI === Xe && !pt[o]) &&
								  !(t.namespaceURI === Ze && !ut[o]) &&
								  !ht[n] &&
								  (mt[n] || !gt[n])
								: !('application/xhtml+xml' !== ot || !tt[e.namespaceURI]))
						);
					},
					_t = function (e) {
						p(n.removed, {
							element: e,
						});
						try {
							te(e).removeChild(e);
						} catch (t) {
							G(e);
						}
					},
					vt = function (e, t) {
						try {
							p(n.removed, {
								attribute: t.getAttributeNode(e),
								from: t,
							});
						} catch (e) {
							p(n.removed, {
								attribute: null,
								from: t,
							});
						}
						if ((t.removeAttribute(e), 'is' === e && !be[e]))
							if (Ne || De)
								try {
									_t(t);
								} catch (e) {}
							else
								try {
									t.setAttribute(e, '');
								} catch (e) {}
					},
					yt = function (e) {
						let t = null,
							n = null;
						if (Oe) e = '<remove></remove>' + e;
						else {
							const t = h(e, /^[\r\n\t ]+/);
							n = t && t[0];
						}
						'application/xhtml+xml' === ot &&
							Qe === Je &&
							(e = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e + '</body></html>');
						const i = ne ? ne.createHTML(e) : e;
						if (Qe === Je)
							try {
								t = new B().parseFromString(i, ot);
							} catch (e) {}
						if (!t || !t.documentElement) {
							t = ie.createDocument(Qe, 'template', null);
							try {
								t.documentElement.innerHTML = et ? oe : i;
							} catch (e) {}
						}
						const r = t.body || t.documentElement;
						return (
							e && n && r.insertBefore(o.createTextNode(n), r.childNodes[0] || null),
							Qe === Je ? ae.call(t, Ae ? 'html' : 'body')[0] : Ae ? t.documentElement : r
						);
					},
					wt = function (e) {
						return re.call(
							e.ownerDocument || e,
							e,
							T.SHOW_ELEMENT |
								T.SHOW_COMMENT |
								T.SHOW_TEXT |
								T.SHOW_PROCESSING_INSTRUCTION |
								T.SHOW_CDATA_SECTION,
							null,
						);
					},
					bt = function (e) {
						return (
							e instanceof H &&
							('string' != typeof e.nodeName ||
								'string' != typeof e.textContent ||
								'function' != typeof e.removeChild ||
								!(e.attributes instanceof U) ||
								'function' != typeof e.removeAttribute ||
								'function' != typeof e.setAttribute ||
								'string' != typeof e.namespaceURI ||
								'function' != typeof e.insertBefore ||
								'function' != typeof e.hasChildNodes)
						);
					},
					Et = function (e) {
						return 'function' == typeof E && e instanceof E;
					},
					St = function (e, t, o) {
						ce[e] &&
							d(ce[e], (e) => {
								e.call(n, t, o, at);
							});
					},
					xt = function (e) {
						let t = null;
						if ((St('beforeSanitizeElements', e, null), bt(e))) return _t(e), !0;
						const o = st(e.nodeName);
						if (
							(St('uponSanitizeElement', e, {
								tagName: o,
								allowedTags: ye,
							}),
							e.hasChildNodes() &&
								!Et(e.firstElementChild) &&
								w(/<[/\w]/g, e.innerHTML) &&
								w(/<[/\w]/g, e.textContent))
						)
							return _t(e), !0;
						if (e.nodeType === Z.progressingInstruction) return _t(e), !0;
						if (Me && e.nodeType === Z.comment && w(/<[/\w]/g, e.data)) return _t(e), !0;
						if (!ye[o] || xe[o]) {
							if (!xe[o] && Ct(o)) {
								if (Se.tagNameCheck instanceof RegExp && w(Se.tagNameCheck, o)) return !1;
								if (Se.tagNameCheck instanceof Function && Se.tagNameCheck(o)) return !1;
							}
							if (Be && !je[o]) {
								const t = te(e) || e.parentNode,
									n = ee(e) || e.childNodes;
								if (n && t)
									for (let o = n.length - 1; o >= 0; --o) {
										const i = q(n[o], !0);
										(i.__removalCount = (e.__removalCount || 0) + 1), t.insertBefore(i, Y(e));
									}
							}
							return _t(e), !0;
						}
						return e instanceof S && !ft(e)
							? (_t(e), !0)
							: ('noscript' !== o && 'noembed' !== o && 'noframes' !== o) ||
							  !w(/<\/no(script|embed|frames)/i, e.innerHTML)
							? (Ie &&
									e.nodeType === Z.text &&
									((t = e.textContent),
									d([de, ue, pe], (e) => {
										t = f(t, e, ' ');
									}),
									e.textContent !== t &&
										(p(n.removed, {
											element: e.cloneNode(),
										}),
										(e.textContent = t))),
							  St('afterSanitizeElements', e, null),
							  !1)
							: (_t(e), !0);
					},
					Tt = function (e, t, n) {
						if (ze && ('id' === t || 'name' === t) && (n in o || n in lt)) return !1;
						if ($e && !Te[t] && w(me, t));
						else if (Ce && w(ge, t));
						else if (!be[t] || Te[t]) {
							if (
								!(
									(Ct(e) &&
										((Se.tagNameCheck instanceof RegExp && w(Se.tagNameCheck, e)) ||
											(Se.tagNameCheck instanceof Function && Se.tagNameCheck(e))) &&
										((Se.attributeNameCheck instanceof RegExp && w(Se.attributeNameCheck, t)) ||
											(Se.attributeNameCheck instanceof Function && Se.attributeNameCheck(t)))) ||
									('is' === t &&
										Se.allowCustomizedBuiltInElements &&
										((Se.tagNameCheck instanceof RegExp && w(Se.tagNameCheck, n)) ||
											(Se.tagNameCheck instanceof Function && Se.tagNameCheck(n))))
								)
							)
								return !1;
						} else if (Ye[t]);
						else if (w(ve, f(n, fe, '')));
						else if (
							('src' !== t && 'xlink:href' !== t && 'href' !== t) ||
							'script' === e ||
							0 !== _(n, 'data:') ||
							!Ge[e]
						)
							if (ke && !w(he, f(n, fe, '')));
							else if (n) return !1;
						return !0;
					},
					Ct = function (e) {
						return 'annotation-xml' !== e && h(e, _e);
					},
					$t = function (e) {
						St('beforeSanitizeAttributes', e, null);
						const { attributes: t } = e;
						if (!t) return;
						const o = {
							attrName: '',
							attrValue: '',
							keepAttr: !0,
							allowedAttributes: be,
						};
						let i = t.length;
						for (; i--; ) {
							const r = t[i],
								{ name: s, namespaceURI: a, value: l } = r,
								c = st(s);
							let p = 'value' === s ? l : v(l);
							if (
								((o.attrName = c),
								(o.attrValue = p),
								(o.keepAttr = !0),
								(o.forceKeepAttr = void 0),
								St('uponSanitizeAttribute', e, o),
								(p = o.attrValue),
								Me && w(/((--!?|])>)|<\/(style|title)/i, p))
							) {
								vt(s, e);
								continue;
							}
							if (o.forceKeepAttr) continue;
							if ((vt(s, e), !o.keepAttr)) continue;
							if (!Le && w(/\/>/i, p)) {
								vt(s, e);
								continue;
							}
							Ie &&
								d([de, ue, pe], (e) => {
									p = f(p, e, ' ');
								});
							const m = st(e.nodeName);
							if (Tt(m, c, p)) {
								if (
									(!Ue || ('id' !== c && 'name' !== c) || (vt(s, e), (p = He + p)),
									ne && 'object' == typeof F && 'function' == typeof F.getAttributeType)
								)
									if (a);
									else
										switch (F.getAttributeType(m, c)) {
											case 'TrustedHTML':
												p = ne.createHTML(p);
												break;
											case 'TrustedScriptURL':
												p = ne.createScriptURL(p);
										}
								try {
									a ? e.setAttributeNS(a, s, p) : e.setAttribute(s, p), bt(e) ? _t(e) : u(n.removed);
								} catch (e) {}
							}
						}
						St('afterSanitizeAttributes', e, null);
					},
					kt = function e(t) {
						let n = null;
						const o = wt(t);
						for (St('beforeSanitizeShadowDOM', t, null); (n = o.nextNode()); )
							St('uponSanitizeShadowNode', n, null), xt(n) || (n.content instanceof l && e(n.content), $t(n));
						St('afterSanitizeShadowDOM', t, null);
					};
				return (
					(n.sanitize = function (e) {
						let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
							o = null,
							r = null,
							s = null,
							a = null;
						if (((et = !e), et && (e = '\x3c!--\x3e'), 'string' != typeof e && !Et(e))) {
							if ('function' != typeof e.toString) throw b('toString is not a function');
							if ('string' != typeof (e = e.toString())) throw b('dirty is not a string, aborting');
						}
						if (!n.isSupported) return e;
						if ((Re || dt(t), (n.removed = []), 'string' == typeof e && (Fe = !1), Fe)) {
							if (e.nodeName) {
								const t = st(e.nodeName);
								if (!ye[t] || xe[t]) throw b('root node is forbidden and cannot be sanitized in-place');
							}
						} else if (e instanceof E)
							(o = yt('\x3c!----\x3e')),
								(r = o.ownerDocument.importNode(e, !0)),
								(r.nodeType === Z.element && 'BODY' === r.nodeName) || 'HTML' === r.nodeName
									? (o = r)
									: o.appendChild(r);
						else {
							if (!Ne && !Ie && !Ae && -1 === e.indexOf('<')) return ne && Pe ? ne.createHTML(e) : e;
							if (((o = yt(e)), !o)) return Ne ? null : Pe ? oe : '';
						}
						o && Oe && _t(o.firstChild);
						const c = wt(Fe ? e : o);
						for (; (s = c.nextNode()); ) xt(s) || (s.content instanceof l && kt(s.content), $t(s));
						if (Fe) return e;
						if (Ne) {
							if (De) for (a = se.call(o.ownerDocument); o.firstChild; ) a.appendChild(o.firstChild);
							else a = o;
							return (be.shadowroot || be.shadowrootmode) && (a = le.call(i, a, !0)), a;
						}
						let u = Ae ? o.outerHTML : o.innerHTML;
						return (
							Ae &&
								ye['!doctype'] &&
								o.ownerDocument &&
								o.ownerDocument.doctype &&
								o.ownerDocument.doctype.name &&
								w(V, o.ownerDocument.doctype.name) &&
								(u = '<!DOCTYPE ' + o.ownerDocument.doctype.name + '>\n' + u),
							Ie &&
								d([de, ue, pe], (e) => {
									u = f(u, e, ' ');
								}),
							ne && Pe ? ne.createHTML(u) : u
						);
					}),
					(n.setConfig = function () {
						dt(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}), (Re = !0);
					}),
					(n.clearConfig = function () {
						(at = null), (Re = !1);
					}),
					(n.isValidAttribute = function (e, t, n) {
						at || dt({});
						const o = st(e),
							i = st(t);
						return Tt(o, i, n);
					}),
					(n.addHook = function (e, t) {
						'function' == typeof t && ((ce[e] = ce[e] || []), p(ce[e], t));
					}),
					(n.removeHook = function (e) {
						if (ce[e]) return u(ce[e]);
					}),
					(n.removeHooks = function (e) {
						ce[e] && (ce[e] = []);
					}),
					(n.removeAllHooks = function () {
						ce = {};
					}),
					n
				);
			}
			var ee = Q();
			return ee;
		})();
	})(rt);
	const st = (e, t = {}) =>
			rt.exports.sanitize(e, {
				USE_PROFILES: {
					html: !0,
				},
				...t,
			}),
		at = () => {
			const e = new URL(window.location.href);
			return (
				'https:' === e.protocol &&
				'docs.google.com' === e.hostname &&
				'/document/' === e.pathname.slice(0, 10)
			);
		},
		lt = () => {
			const e = document.querySelector('.docs-texteventtarget-iframe')?.contentWindow;
			return {
				iFrame: e,
				editable: e && e.document.querySelector('[contenteditable=true]'),
			};
		},
		ct = () => {
			const { iFrame: e, editable: t } = lt();
			if (!e || !t) return;
			const n = new e.ClipboardEvent('copy', {
				bubbles: !0,
				clipboardData: new e.DataTransfer(),
			});
			t.dispatchEvent(n);
		},
		dt = () => {
			const { iFrame: e, editable: t } = lt();
			if (!e || !t) return;
			const n = new e.CustomEvent('copy', {
				bubbles: !0,
			});
			t.dispatchEvent(n);
			const o = ((e) => {
				if (0 === e.length) return !0;
				for (let t = 0; t < e.length; t++) if (8203 !== e.charCodeAt(t)) return !1;
				return !0;
			})(t.innerText.trim());
			return {
				html: o ? '' : st(t.innerHTML),
				text: o ? '' : t.innerText,
			};
		},
		ut = () => {
			const e = document.querySelector('deepl-gdocs-icon')?.shadowRoot.querySelector('.dl-gdocs-icon');
			if (!e) return void console.error('GDocs Icon was not present while trying to get the coordinates');
			const t = e.getBoundingClientRect(),
				n = document.body.parentNode.getBoundingClientRect(),
				{ top: o, left: i, right: r, bottom: s, height: a, width: l } = t;
			return {
				x: i - n.left,
				y: s - n.top,
				selectedTop: o,
				selectedBottom: s,
				selectedRight: n.width - r,
				selectedLeft: i + window.scrollX,
				selectedWidth: l,
				height: a,
			};
		},
		pt = () => {
			const e = document.querySelector('#docs-instant-bubble'),
				t = document.querySelector('.kix-appview-editor'),
				n = document.querySelector('.kix-page-paginated'),
				o = 120,
				i = 40,
				r = t.getBoundingClientRect();
			let s = !1;
			const a = {
				top: 0,
				left: 0,
			};
			try {
				if (!e) throw new Error();
				const t = e.getBoundingClientRect();
				if (t.left <= 0) throw new Error();
				const n = Math.round(t.top + 134 || 0);
				(a.left = t.left),
					(a.top = n ? n + 20 : 0),
					a.top + o / 2 < r.top + 10 && (a.top = r.top + 10),
					a.top - o / 2 > r.bottom && (s = !0);
			} catch (e) {
				if (n) {
					const e = n.getBoundingClientRect();
					(a.left = e.right - i / 2), (a.top = r.top + 30);
				}
			}
			return (
				a.left + i / 2 > r.right && (s = !0),
				{
					shouldBeOutOfViewport: s,
					newPosition: a,
				}
			);
		},
		mt = () => !!document.querySelector('#docs-toolbar-wrapper'),
		gt = (e) => {
			const t = e.clipboardData.getData('application/x-vnd.google-docs-document-slice-clip+wrapped'),
				n = JSON.parse(t),
				o = JSON.parse(n.data).resolved,
				i = [];
			let r = '';
			for (let e = 0; e < o.dsl_spacers.length; e++) {
				const t = o.dsl_spacers[e];
				o.dsl_styleslices.forEach((t) => {
					if (t.stsl_styles.length > 0 && t.stsl_styles[e]) {
						const n = `a${i.length + 1}`;
						i.push({
							entity_type: t.stsl_type,
							entity_abbreviation: n,
							entity: t.stsl_styles[e],
						}),
							(r += `<${n}>`);
					}
				}),
					(r += t);
			}
			const s = [],
				a = r.split('\n').map((e) => {
					const t = e.replace(/<a\d+>/g, '').trim().length > 0;
					if (t) {
						const { leading: n, trailing: o, processedLine: i } = ht(e);
						return (
							s.push(i),
							{
								isTranslatable: t,
								index: s.length - 1,
								leading: n,
								trailing: o,
							}
						);
					}
					return {
						isTranslatable: t,
						line: e,
					};
				});
			return {
				textLines: s,
				entities: i,
				contentReference: a,
				originalObject: n,
				originalText: o.dsl_spacers,
			};
		},
		ht = (e) => {
			const { leadingEntities: t, processedLine: n } = ft(e),
				{ trailingEntities: o, processedLine: i } = _t(n);
			return {
				leading: t,
				trailing: o,
				processedLine: i,
			};
		},
		ft = (e) => {
			let t = '',
				n = '',
				o = '',
				i = !0;
			for (const r of e) {
				if (i) {
					const e = o[o.length - 1];
					if ('<' === r && 0 === o.length) {
						o = '<';
						continue;
					}
					if ('>' === r && o.length > 0 && e.match(/\d/)) {
						(t = t + o + '>'), (o = '');
						continue;
					}
					if ('a' === r && o.length > 0 && '<' === e) {
						o += 'a';
						continue;
					}
					if (r.match(/\d/) && o.length > 0 && ('a' === e || e.match(/\d/))) {
						o += r;
						continue;
					}
					if (vt(r) && 0 === o.length) {
						t += r;
						continue;
					}
					(i = !1), (o = '');
				}
				n += r;
			}
			return {
				processedLine: n,
				leadingEntities: t,
			};
		},
		_t = (e) => {
			let t = '',
				n = '',
				o = '',
				i = !0;
			for (const r of e.split('').reverse()) {
				if (i) {
					if ('>' === r && 0 === o.length) {
						o = '>';
						continue;
					}
					if ('<' === r && o.length > 0 && 'a' === o[0]) {
						(t = '<' + o + t), (o = '');
						continue;
					}
					if ('a' === r && o.length > 0 && o[0].match(/\d/)) {
						o = 'a' + o;
						continue;
					}
					if (r.match(/\d/) && o.length > 0 && ('>' === o[0] || o[0].match(/\d/))) {
						o = r + o;
						continue;
					}
					if (vt(r) && 0 === o.length) {
						t = r + t;
						continue;
					}
					(i = !1), (o = '');
				}
				n = r + n;
			}
			return {
				processedLine: n,
				trailingEntities: t,
			};
		},
		vt = (e) => [16, 17, 18, 28].includes(e.charCodeAt(0)),
		yt = ({ textLines: e, entities: t, contentReference: n }) => {
			let o = n
				.map((t) =>
					t.isTranslatable
						? `${t.leading}${Array.isArray(e[t.index]) ? e[t.index].join('') : e[t.index]}${t.trailing}`
						: t.line,
				)
				.join('\n');
			o = o.replace(/<\/a(\d+)>/g, '<a$1>');
			let i = '',
				r = [],
				s = 0,
				a = 0;
			for (; s + a < o.length; ) {
				const e = s + a;
				if ('<' === o[e] && 'a' === o[e + 1]) {
					let n = '<a',
						i = !0,
						l = !1,
						c = !0;
					for (; c; ) {
						const t = o[e + n.length];
						'>' === t
							? ((n += t), l || (i = !1), (c = !1))
							: t.match(/\d/)
							? ((n += t), (l = !0))
							: ((i = !1), (c = !1));
					}
					if (i) {
						a += n.length;
						const e = t.find((e) => `<${e.entity_abbreviation}>` === n);
						r.push({
							...e,
							new_position: s,
						});
						continue;
					}
				}
				(i += o[e]), s++;
			}
			return {
				processedText: i,
				processedEntities: r,
			};
		},
		wt = (e) => e.replace(/<(\/)?a(\d+)>/g, ''),
		bt = (e) => {
			const { characterMappings: t, cleanSentence: n } = St(e),
				o = /[^\s.,:;!?"()*ï½ï½ ï½¡ï½¢ï½£ï½¤ï½¥ããããããããããããããããããããããã ãª ã« ã¬ ã­]/,
				i = [];
			let r = '',
				s = 0,
				a = !1;
			for (let e = 0; e < n.length; e++) {
				const l = n[e],
					c = o.test(l);
				c !== a &&
					r.length > 0 &&
					(i.push({
						text: r,
						isWord: a,
						offsetStart: s,
						offsetLength: r.length,
						offsetStartRaw: t[s],
						offsetLengthRaw: t[s + r.length],
					}),
					(r = '')),
					(a = c),
					(r += l),
					1 === r.length && (s = e);
			}
			return (
				r &&
					i.push({
						text: r,
						isWord: a,
						offsetStart: s,
						offsetLength: r.length,
						offsetStartRaw: t[s],
						offsetLengthRaw: t[s + r.length],
					}),
				i
			);
		},
		Et = ({ entities: e, text: t, originalObject: n }) => {
			const o = xt({
				entities: e,
				text: t,
				originalObject: n,
			});
			Tt(o);
		},
		St = (e) => {
			const t = [];
			let n = '';
			const o = e.split(/(<a\d+>)/g);
			let i = 0;
			for (let e = 0; e < o.length; e++) {
				const r = o[e];
				if (!/^<a\d+>$/.test(r)) {
					n += r;
					for (let e = 0; e < r.length; e++) t.push(i + e);
				}
				i += r.length;
			}
			return {
				characterMappings: t,
				cleanSentence: n,
			};
		},
		xt = ({ entities: e, text: t, originalObject: n }) => {
			const o = JSON.parse(n.data),
				i = o.resolved.dsl_styleslices.map((t) => {
					const n = e.filter((e) => e.entity_type === t.stsl_type);
					if (0 === n.length) return t;
					const o = {};
					let i = 0;
					n.forEach((e) => {
						(i = e.new_position > i ? e.new_position : i), (o[`${e.new_position}`] = e.entity);
					});
					const r = [];
					for (let e = 0; e <= i; e++) r.push(o[`${e}`] || null);
					return {
						...t,
						stsl_styles: r,
					};
				}),
				r = {
					...o.resolved,
					dsl_spacers: t,
					dsl_styleslices: i,
				},
				s = {
					...n,
					data: JSON.stringify({
						...o,
						resolved: r,
					}),
				};
			return JSON.stringify(s);
		},
		Tt = (e) => {
			const { editable: t } = lt();
			let n;
			const o = 'application/x-vnd.google-docs-document-slice-clip+wrapped';
			if (nt())
				n = new ClipboardEvent('paste', {
					dataType: o,
					data: e,
				});
			else {
				const t = new DataTransfer();
				t.setData(o, e),
					(n = new ClipboardEvent('paste', {
						bubbles: !0,
						clipboardData: t,
					}));
			}
			t.dispatchEvent(n);
		};
	function Ct(e) {
		return (
			!!e &&
			(['EN'].includes(e) ? (e = 'EN-GB') : ['PT'].includes(e) && (e = 'PT-PT'),
			i.map((e) => e.langCode).includes(e))
		);
	}
	const $t = (e) => e.substring(0, 2).toUpperCase();
	async function kt(e, t = !1) {
		let n = '';
		const o = await chrome.i18n.detectLanguage(e);
		return (
			o &&
				o.languages?.length > 0 &&
				(n = o.languages
					.sort((e, t) => t.percentage - e.percentage)[0]
					.language.substr(0, 2)
					.toUpperCase()),
			t
				? {
						langCode: n,
						isReliable: o.isReliable,
						detectedLanguages: o.languages
							.sort((e, t) => t.percentage - e.percentage)
							.map((e) => ({
								langCode: e.language.substr(0, 2).toUpperCase(),
								percentage: e.percentage,
							})),
				  }
				: n
		);
	}
	const Lt = () => {
		let e,
			t,
			n = !1;
		return i
			.map((o) => {
				let i;
				return (
					(n = ['EN-US', 'EN-GB', 'PT-PT', 'PT-BR', 'ZH-HANT'].includes(o.langCode)),
					n &&
						(({ optionLabel: e, selectedLabel: t } = (function (e) {
							switch (e.langCode) {
								case 'EN-US':
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_EN_US'),
										selectedLabel: chrome.i18n.getMessage('selected_languages_EN_US'),
									};
								case 'EN-GB':
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_EN_UK'),
										selectedLabel: chrome.i18n.getMessage('selected_languages_EN_UK'),
									};
								case 'PT-PT':
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_PT_PT'),
										selectedLabel: chrome.i18n.getMessage('selected_languages_PT_PT'),
									};
								case 'PT-BR':
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_PT_BR'),
										selectedLabel: chrome.i18n.getMessage('selected_languages_PT_BR'),
									};
								case 'ZH-HANT':
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_ZH_HANT'),
										selectedLabel: chrome.i18n.getMessage('supported_languages_ZH_HANT'),
									};
								default:
									return {
										optionLabel: chrome.i18n.getMessage('supported_languages_undefined'),
										selectedLabel: chrome.i18n.getMessage('supported_languages_undefined'),
									};
							}
						})(o)),
						(i = o.langCode.slice(0, 2).toLowerCase() + o.langCode.slice(2))),
					{
						value: o.langCode,
						label: n ? e : chrome.i18n.getMessage(`supported_languages_${o.langCode}`),
						selectedOptionLabel: n ? t : chrome.i18n.getMessage(`supported_languages_${o.langCode}`),
						regionalVariant: i,
					}
				);
			})
			.sort((e, t) => e.label.localeCompare(t.label, chrome.i18n.getUILanguage()));
	};
	function It(e) {
		return 'EN' === e ? 'EN-GB' : 'PT' === e ? 'PT-PT' : e;
	}
	function Mt(e, t, n) {
		return 'EN' === e
			? t['EN-GB'] === n || t['EN-US'] === n
			: 'PT' === e
			? t['PT-PT'] === n || t['PT-BR'] === n
			: t[e] === n;
	}
	const At = (e) => r.includes(e?.substr(0, 2).toUpperCase()),
		Rt = (e) => {
			const t = i.find((t) => t.langCode === e);
			return t && t.supportsFormality;
		},
		Ot = (e) => {
			const t = e || chrome.i18n.getUILanguage();
			return ['ar', 'he', 'fa', 'ur'].includes(t.toLowerCase().substr(0, 2)) ? 'rtl' : 'ltr';
		};
	function Nt(e) {
		if ('rtl' === e.dir) return !0;
		return 'rtl' === window.getComputedStyle(e).direction;
	}
	const Dt = () => {
			const e = 'https://docs.google.com';
			return window.location.href.substr(0, 23) === e && !!document.querySelector('#sketchy-hidden-iframe');
		},
		Pt = async () => {
			const e = [],
				t = (n) => {
					const o = [],
						i = [];
					for (let e = 0; e < n.children.length; e++) {
						const t = n.children[e];
						'text' === t.tagName.toLowerCase() ? o.push(t) : 'g' === t.tagName.toLowerCase() && i.push(t);
					}
					o.length > 0 && e.push(o.map((e) => e.textContent).join(' '));
					for (const e of i) t(e);
				},
				n = Bt();
			if (n) {
				t(n);
				const o = e.join('\n');
				return await kt(o);
			}
		},
		zt = async () => {
			const e = Bt(),
				t = document.querySelector('#canvas-container').getBoundingClientRect();
			if (e) {
				const n = t.left - 2,
					o = t.top - 2,
					i = t.right + 2,
					r = t.bottom + 2,
					s = new MouseEvent('mousedown', {
						bubbles: !0,
						cancelable: !0,
						view: window,
						clientX: n,
						clientY: o,
					});
				e.dispatchEvent(s);
				for (let t = 1; t <= 10; t++) {
					const s = new MouseEvent('mousemove', {
						bubbles: !0,
						cancelable: !0,
						view: window,
						clientX: n + (t / 10) * (i - n),
						clientY: o + (t / 10) * (r - o),
					});
					e.dispatchEvent(s), await new Promise((e) => setTimeout(e, 25));
				}
				const a = new MouseEvent('mouseup', {
					bubbles: !0,
					cancelable: !0,
					view: window,
					clientX: i,
					clientY: r,
				});
				e.dispatchEvent(a);
			}
		},
		Ut = (e) => {
			const t = [],
				n = [];
			for (const n of e) {
				const e = n[0],
					o = n[1];
				if (15 === e) {
					const e = n[4];
					if ('' === e.trim()) continue;
					const i = t.find((e) => e.id === o);
					if (i) continue;
					const r = {
						id: o,
						originalContent: e,
						translatedContent: '',
						sentencesIndexes: [],
						originalSentences: [],
						translatedSentences: [],
						modifiers: [],
						secondaryModifiers: [],
						entity: n,
						orphanModifiers: [],
						orphanModifiersIntegrityCheck: [],
					};
					t.push(r);
				} else if (17 === e) {
					const e = t.find((e) => e.id === o);
					if (!e) continue;
					e.modifiers.push(n);
				} else if (41 === e) {
					const e = t.find((e) => e.id === o);
					if (!e) continue;
					e.secondaryModifiers.push(n);
				}
			}
			for (let e = 0; e < t.length; e++) {
				const o = t[e];
				o.orphanModifiers = Ft(o);
				const { originalSentences: i, orphanModifiersIntegrityCheck: r } = qt(o);
				(o.originalSentences = i), (o.orphanModifiersIntegrityCheck = r);
				for (const e of o.originalSentences) o.sentencesIndexes.push(n.length), n.push(e);
			}
			return {
				entities: t,
				sentencesToTranslate: n,
			};
		},
		Ht = ({ entity: e, translatedSentences: t, modifiersToDelete: n }) => {
			e.translatedSentences = e.sentencesIndexes.map((e) => t[e]);
			const { translatedContent: o, orphanModifiersMappingEquivalences: i } = Gt(e);
			if (((e.translatedContent = o), !e.translatedContent || e.translatedContent === e.originalContent))
				return;
			e.entity[4] = e.translatedContent;
			const r = Vt(i, e);
			for (let t = 0; t < e.modifiers.length; t++) {
				const o = e.modifiers[t];
				let i = !1;
				if (Yt(o, r)) {
					const { start: e, end: t } = Kt(o, r);
					t <= e ? (i = !0) : ((o[3] = e), (o[4] = t));
				} else i = !0;
				i && n.push(o);
			}
		},
		Bt = () =>
			Array.from(document.querySelectorAll('#pages svg')).find((e) => 'none' !== getComputedStyle(e).display),
		Ft = ({ originalContent: e, modifiers: t }) => {
			const n = jt(e);
			return Wt(t).filter((e) => !n.includes(e));
		},
		Wt = (e) => {
			const t = [];
			for (const n of e) t.includes(n[3]) || t.push(n[3]), t.includes(n[4]) || t.push(n[4]);
			return t;
		},
		jt = (e) => {
			const t = e.split('\n'),
				n = [0];
			let o = 0;
			for (const e of t) {
				const t = o + e.length;
				n.includes(t) || n.push(t), n.includes(t + 1) || n.push(t + 1), (o = t + 1);
			}
			return n;
		},
		qt = ({ originalContent: e, orphanModifiers: t }) => {
			let n = 0;
			const o = {},
				i = e.split('\n').map((e) => {
					let i = '';
					for (let r = 0; r < e.length; r++) {
						const s = n + r;
						if (t.includes(s)) {
							const n = t.indexOf(s);
							/\s/.test(e[r]) && (o[`${n}`] = e[r]), (i += `<a${n}>`);
						}
						i += e[r];
					}
					return (n += e.length + 1), i;
				});
			return {
				orphanModifiersIntegrityCheck: o,
				originalSentences: i,
			};
		},
		Gt = (e) => {
			let t = {},
				n = 0;
			return {
				translatedContent: e.translatedSentences
					.map((o) => {
						const i = {};
						let r = 0;
						const s = o.replace(/<a\d+>/g, (t, s) => {
							const a = t.match(/<a(\d+)>/);
							if (a) {
								const l = a[1],
									c = t.length,
									d = e.orphanModifiers[Number(l)];
								void 0 !== d && (i[`${d}`] = r + n + s - c * Object.keys(i).length);
								const u = o.charAt(s + c);
								if (
									u &&
									void 0 !== e.orphanModifiersIntegrityCheck[`${l}`] &&
									e.orphanModifiersIntegrityCheck[`${l}`] !== u
								)
									return r++, e.orphanModifiersIntegrityCheck[`${l}`];
							}
							return '';
						});
						return (
							(t = {
								...t,
								...i,
							}),
							(n += s.length + 1),
							s
						);
					})
					.join('\n'),
				orphanModifiersMappingEquivalences: t,
			};
		},
		Vt = (e = {}, { originalContent: t, translatedContent: n }) => {
			const o = jt(t),
				i = jt(n),
				r = {};
			for (let e = 0; e < o.length; e++) r[`${o[e]}`] = i[e];
			return {
				...e,
				...r,
			};
		},
		Yt = (e, t) => {
			const n = e[3],
				o = e[4];
			return void 0 !== t[`${n}`] && void 0 !== t[`${o}`];
		},
		Kt = (e, t) => {
			const n = e[3],
				o = e[4];
			return {
				start: t[`${n}`],
				end: t[`${o}`],
			};
		},
		Zt = (e = 25, t = null) => new Promise((n) => setTimeout(() => n(t), e));
	const Xt = {
		prod: 'production',
		dev: 'development',
		test: 'testing',
	};
	function Jt() {
		return Xt.prod;
	}
	function Qt() {
		return Jt() === Xt.dev;
	}
	function en() {
		return Jt() === Xt.prod;
	}
	const tn = Object.prototype.toString;
	function nn(e) {
		switch (tn.call(e)) {
			case '[object Error]':
			case '[object Exception]':
			case '[object DOMException]':
				return !0;
			default:
				return gn(e, Error);
		}
	}
	function on(e, t) {
		return tn.call(e) === `[object ${t}]`;
	}
	function rn(e) {
		return on(e, 'ErrorEvent');
	}
	function sn(e) {
		return on(e, 'DOMError');
	}
	function an(e) {
		return on(e, 'String');
	}
	function ln(e) {
		return (
			'object' == typeof e &&
			null !== e &&
			'__sentry_template_string__' in e &&
			'__sentry_template_values__' in e
		);
	}
	function cn(e) {
		return null === e || ln(e) || ('object' != typeof e && 'function' != typeof e);
	}
	function dn(e) {
		return on(e, 'Object');
	}
	function un(e) {
		return 'undefined' != typeof Event && gn(e, Event);
	}
	function pn(e) {
		return on(e, 'RegExp');
	}
	function mn(e) {
		return Boolean(e && e.then && 'function' == typeof e.then);
	}
	function gn(e, t) {
		try {
			return e instanceof t;
		} catch (e) {
			return !1;
		}
	}
	function hn(e) {
		return !('object' != typeof e || null === e || (!e.__isVue && !e._isVue));
	}
	function fn(e, t = 0) {
		return 'string' != typeof e || 0 === t || e.length <= t ? e : `${e.slice(0, t)}...`;
	}
	function _n(e, t) {
		let n = e;
		const o = n.length;
		if (o <= 150) return n;
		t > o && (t = o);
		let i = Math.max(t - 60, 0);
		i < 5 && (i = 0);
		let r = Math.min(i + 140, o);
		return (
			r > o - 5 && (r = o),
			r === o && (i = Math.max(r - 140, 0)),
			(n = n.slice(i, r)),
			i > 0 && (n = `'{snip} ${n}`),
			r < o && (n += ' {snip}'),
			n
		);
	}
	function vn(e, t) {
		if (!Array.isArray(e)) return '';
		const n = [];
		for (let t = 0; t < e.length; t++) {
			const o = e[t];
			try {
				hn(o) ? n.push('[VueViewModel]') : n.push(String(o));
			} catch (e) {
				n.push('[value cannot be serialized]');
			}
		}
		return n.join(t);
	}
	function yn(e, t = [], n = !1) {
		return t.some((t) =>
			(function (e, t, n = !1) {
				return !!an(e) && (pn(t) ? t.test(e) : !!an(t) && (n ? e === t : e.includes(t)));
			})(e, t, n),
		);
	}
	function wn(e, t, n = 250, o, i, r, s) {
		if (!(r.exception && r.exception.values && s && gn(s.originalException, Error))) return;
		const a = r.exception.values.length > 0 ? r.exception.values[r.exception.values.length - 1] : void 0;
		var l, c;
		a &&
			(r.exception.values =
				((l = bn(e, t, i, s.originalException, o, r.exception.values, a, 0)),
				(c = n),
				l.map((e) => (e.value && (e.value = fn(e.value, c)), e))));
	}
	function bn(e, t, n, o, i, r, s, a) {
		if (r.length >= n + 1) return r;
		let l = [...r];
		if (gn(o[i], Error)) {
			En(s, a);
			const r = e(t, o[i]),
				c = l.length;
			Sn(r, i, c, a), (l = bn(e, t, n, o[i], i, [r, ...l], r, c));
		}
		return (
			Array.isArray(o.errors) &&
				o.errors.forEach((o, r) => {
					if (gn(o, Error)) {
						En(s, a);
						const c = e(t, o),
							d = l.length;
						Sn(c, `errors[${r}]`, d, a), (l = bn(e, t, n, o, i, [c, ...l], c, d));
					}
				}),
			l
		);
	}
	function En(e, t) {
		(e.mechanism = e.mechanism || {
			type: 'generic',
			handled: !0,
		}),
			(e.mechanism = {
				...e.mechanism,
				...('AggregateError' === e.type && {
					is_exception_group: !0,
				}),
				exception_id: t,
			});
	}
	function Sn(e, t, n, o) {
		(e.mechanism = e.mechanism || {
			type: 'generic',
			handled: !0,
		}),
			(e.mechanism = {
				...e.mechanism,
				type: 'chained',
				source: t,
				exception_id: n,
				parent_id: o,
			});
	}
	function xn(e) {
		return e && e.Math == Math ? e : void 0;
	}
	const Tn =
		('object' == typeof globalThis && xn(globalThis)) ||
		('object' == typeof window && xn(window)) ||
		('object' == typeof self && xn(self)) ||
		('object' == typeof global && xn(global)) ||
		(function () {
			return this;
		})() ||
		{};
	function Cn() {
		return Tn;
	}
	function $n(e, t, n) {
		const o = n || Tn,
			i = (o.__SENTRY__ = o.__SENTRY__ || {});
		return i[e] || (i[e] = t());
	}
	const kn = Cn(),
		Ln = 80;
	function In(e, t = {}) {
		if (!e) return '<unknown>';
		try {
			let n = e;
			const o = 5,
				i = [];
			let r = 0,
				s = 0;
			const a = ' > ',
				l = a.length;
			let c;
			const d = Array.isArray(t) ? t : t.keyAttrs,
				u = (!Array.isArray(t) && t.maxStringLength) || Ln;
			for (
				;
				n && r++ < o && ((c = Mn(n, d)), !('html' === c || (r > 1 && s + i.length * l + c.length >= u)));

			)
				i.push(c), (s += c.length), (n = n.parentNode);
			return i.reverse().join(a);
		} catch (e) {
			return '<unknown>';
		}
	}
	function Mn(e, t) {
		const n = e,
			o = [];
		let i, r, s, a, l;
		if (!n || !n.tagName) return '';
		if (kn.HTMLElement && n instanceof HTMLElement && n.dataset && n.dataset.sentryComponent)
			return n.dataset.sentryComponent;
		o.push(n.tagName.toLowerCase());
		const c = t && t.length ? t.filter((e) => n.getAttribute(e)).map((e) => [e, n.getAttribute(e)]) : null;
		if (c && c.length)
			c.forEach((e) => {
				o.push(`[${e[0]}="${e[1]}"]`);
			});
		else if ((n.id && o.push(`#${n.id}`), (i = n.className), i && an(i)))
			for (r = i.split(/\s+/), l = 0; l < r.length; l++) o.push(`.${r[l]}`);
		const d = ['aria-label', 'type', 'name', 'title', 'alt'];
		for (l = 0; l < d.length; l++) (s = d[l]), (a = n.getAttribute(s)), a && o.push(`[${s}="${a}"]`);
		return o.join('');
	}
	function An() {
		try {
			return kn.document.location.href;
		} catch (e) {
			return '';
		}
	}
	const Rn = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__,
		On = ['debug', 'info', 'warn', 'error', 'log', 'assert', 'trace'],
		Nn = {};
	function Dn(e) {
		if (!('console' in Tn)) return e();
		const t = Tn.console,
			n = {},
			o = Object.keys(Nn);
		o.forEach((e) => {
			const o = Nn[e];
			(n[e] = t[e]), (t[e] = o);
		});
		try {
			return e();
		} finally {
			o.forEach((e) => {
				t[e] = n[e];
			});
		}
	}
	const Pn = (function () {
			let e = !1;
			const t = {
				enable: () => {
					e = !0;
				},
				disable: () => {
					e = !1;
				},
				isEnabled: () => e,
			};
			return (
				Rn
					? On.forEach((n) => {
							t[n] = (...t) => {
								e &&
									Dn(() => {
										Tn.console[n](`Sentry Logger [${n}]:`, ...t);
									});
							};
					  })
					: On.forEach((e) => {
							t[e] = () => {};
					  }),
				t
			);
		})(),
		zn = /^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;
	function Un(e, t = !1) {
		const { host: n, path: o, pass: i, port: r, projectId: s, protocol: a, publicKey: l } = e;
		return `${a}://${l}${t && i ? `:${i}` : ''}@${n}${r ? `:${r}` : ''}/${o ? `${o}/` : o}${s}`;
	}
	function Hn(e) {
		return {
			protocol: e.protocol,
			publicKey: e.publicKey || '',
			pass: e.pass || '',
			host: e.host,
			port: e.port || '',
			path: e.path || '',
			projectId: e.projectId,
		};
	}
	function Bn(e) {
		const t =
			'string' == typeof e
				? (function (e) {
						const t = zn.exec(e);
						if (!t)
							return void Dn(() => {
								console.error(`Invalid Sentry Dsn: ${e}`);
							});
						const [n, o, i = '', r, s = '', a] = t.slice(1);
						let l = '',
							c = a;
						const d = c.split('/');
						if ((d.length > 1 && ((l = d.slice(0, -1).join('/')), (c = d.pop())), c)) {
							const e = c.match(/^\d+/);
							e && (c = e[0]);
						}
						return Hn({
							host: r,
							pass: i,
							path: l,
							projectId: c,
							port: s,
							protocol: n,
							publicKey: o,
						});
				  })(e)
				: Hn(e);
		if (
			t &&
			(function (e) {
				if (!Rn) return !0;
				const { port: t, projectId: n, protocol: o } = e;
				return !(
					['protocol', 'publicKey', 'host', 'projectId'].find(
						(t) => !e[t] && (Pn.error(`Invalid Sentry Dsn: ${t} missing`), !0),
					) ||
					(n.match(/^\d+$/)
						? (function (e) {
								return 'http' === e || 'https' === e;
						  })(o)
							? t && isNaN(parseInt(t, 10)) && (Pn.error(`Invalid Sentry Dsn: Invalid port ${t}`), 1)
							: (Pn.error(`Invalid Sentry Dsn: Invalid protocol ${o}`), 1)
						: (Pn.error(`Invalid Sentry Dsn: Invalid projectId ${n}`), 1))
				);
			})(t)
		)
			return t;
	}
	class Fn extends Error {
		constructor(e, t = 'warn') {
			super(e),
				(this.message = e),
				(this.name = new.target.prototype.constructor.name),
				Object.setPrototypeOf(this, new.target.prototype),
				(this.logLevel = t);
		}
	}
	function Wn(e, t, n) {
		if (!(t in e)) return;
		const o = e[t],
			i = n(o);
		'function' == typeof i && qn(i, o), (e[t] = i);
	}
	function jn(e, t, n) {
		try {
			Object.defineProperty(e, t, {
				value: n,
				writable: !0,
				configurable: !0,
			});
		} catch (n) {
			Rn && Pn.log(`Failed to add non-enumerable property "${t}" to object`, e);
		}
	}
	function qn(e, t) {
		try {
			const n = t.prototype || {};
			(e.prototype = t.prototype = n), jn(e, '__sentry_original__', t);
		} catch (e) {}
	}
	function Gn(e) {
		return e.__sentry_original__;
	}
	function Vn(e) {
		if (nn(e))
			return {
				message: e.message,
				name: e.name,
				stack: e.stack,
				...Kn(e),
			};
		if (un(e)) {
			const t = {
				type: e.type,
				target: Yn(e.target),
				currentTarget: Yn(e.currentTarget),
				...Kn(e),
			};
			return 'undefined' != typeof CustomEvent && gn(e, CustomEvent) && (t.detail = e.detail), t;
		}
		return e;
	}
	function Yn(e) {
		try {
			return (
				(t = e), 'undefined' != typeof Element && gn(t, Element) ? In(e) : Object.prototype.toString.call(e)
			);
		} catch (e) {
			return '<unknown>';
		}
		var t;
	}
	function Kn(e) {
		if ('object' == typeof e && null !== e) {
			const t = {};
			for (const n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
			return t;
		}
		return {};
	}
	function Zn(e) {
		return Xn(e, new Map());
	}
	function Xn(e, t) {
		if (
			(function (e) {
				if (!dn(e)) return !1;
				try {
					const t = Object.getPrototypeOf(e).constructor.name;
					return !t || 'Object' === t;
				} catch (e) {
					return !0;
				}
			})(e)
		) {
			const n = t.get(e);
			if (void 0 !== n) return n;
			const o = {};
			t.set(e, o);
			for (const n of Object.keys(e)) void 0 !== e[n] && (o[n] = Xn(e[n], t));
			return o;
		}
		if (Array.isArray(e)) {
			const n = t.get(e);
			if (void 0 !== n) return n;
			const o = [];
			return (
				t.set(e, o),
				e.forEach((e) => {
					o.push(Xn(e, t));
				}),
				o
			);
		}
		return e;
	}
	const Jn = 50,
		Qn = /\(error: (.*)\)/,
		eo = /captureMessage|captureException/;
	const to = '<anonymous>';
	function no(e) {
		try {
			return (e && 'function' == typeof e && e.name) || to;
		} catch (e) {
			return to;
		}
	}
	const oo = {},
		io = {};
	function ro(e, t) {
		(oo[e] = oo[e] || []), oo[e].push(t);
	}
	function so(e, t) {
		io[e] || (t(), (io[e] = !0));
	}
	function ao(e, t) {
		const n = e && oo[e];
		if (n)
			for (const o of n)
				try {
					o(t);
				} catch (t) {
					Rn &&
						Pn.error(
							`Error while triggering instrumentation handler.\nType: ${e}\nName: ${no(o)}\nError:`,
							t,
						);
				}
	}
	function lo(e) {
		const t = 'console';
		ro(t, e), so(t, co);
	}
	function co() {
		'console' in Tn &&
			On.forEach(function (e) {
				e in Tn.console &&
					Wn(Tn.console, e, function (t) {
						return (
							(Nn[e] = t),
							function (...t) {
								ao('console', {
									args: t,
									level: e,
								});
								const n = Nn[e];
								n && n.apply(Tn.console, t);
							}
						);
					});
			});
	}
	function uo() {
		const e = Tn,
			t = e.crypto || e.msCrypto;
		let n = () => 16 * Math.random();
		try {
			if (t && t.randomUUID) return t.randomUUID().replace(/-/g, '');
			t &&
				t.getRandomValues &&
				(n = () => {
					const e = new Uint8Array(1);
					return t.getRandomValues(e), e[0];
				});
		} catch (e) {}
		return ([1e7] + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, (e) =>
			(e ^ ((15 & n()) >> (e / 4))).toString(16),
		);
	}
	function po(e) {
		return e.exception && e.exception.values ? e.exception.values[0] : void 0;
	}
	function mo(e) {
		const { message: t, event_id: n } = e;
		if (t) return t;
		const o = po(e);
		return o
			? o.type && o.value
				? `${o.type}: ${o.value}`
				: o.type || o.value || n || '<unknown>'
			: n || '<unknown>';
	}
	function go(e, t, n) {
		const o = (e.exception = e.exception || {}),
			i = (o.values = o.values || []),
			r = (i[0] = i[0] || {});
		r.value || (r.value = t || ''), r.type || (r.type = n || 'Error');
	}
	function ho(e, t) {
		const n = po(e);
		if (!n) return;
		const o = n.mechanism;
		if (
			((n.mechanism = {
				type: 'generic',
				handled: !0,
				...o,
				...t,
			}),
			t && 'data' in t)
		) {
			const e = {
				...(o && o.data),
				...t.data,
			};
			n.mechanism.data = e;
		}
	}
	function fo(e) {
		if (e && e.__sentry_captured__) return !0;
		try {
			jn(e, '__sentry_captured__', !0);
		} catch (e) {}
		return !1;
	}
	function _o(e) {
		return Array.isArray(e) ? e : [e];
	}
	const vo = Tn,
		yo = 1e3;
	let wo, bo, Eo;
	function So(e) {
		ro('dom', e), so('dom', xo);
	}
	function xo() {
		if (!vo.document) return;
		const e = ao.bind(null, 'dom'),
			t = To(e, !0);
		vo.document.addEventListener('click', t, !1),
			vo.document.addEventListener('keypress', t, !1),
			['EventTarget', 'Node'].forEach((t) => {
				const n = vo[t] && vo[t].prototype;
				n &&
					n.hasOwnProperty &&
					n.hasOwnProperty('addEventListener') &&
					(Wn(n, 'addEventListener', function (t) {
						return function (n, o, i) {
							if ('click' === n || 'keypress' == n)
								try {
									const o = this,
										r = (o.__sentry_instrumentation_handlers__ = o.__sentry_instrumentation_handlers__ || {}),
										s = (r[n] = r[n] || {
											refCount: 0,
										});
									if (!s.handler) {
										const o = To(e);
										(s.handler = o), t.call(this, n, o, i);
									}
									s.refCount++;
								} catch (e) {}
							return t.call(this, n, o, i);
						};
					}),
					Wn(n, 'removeEventListener', function (e) {
						return function (t, n, o) {
							if ('click' === t || 'keypress' == t)
								try {
									const n = this,
										i = n.__sentry_instrumentation_handlers__ || {},
										r = i[t];
									r &&
										(r.refCount--,
										r.refCount <= 0 && (e.call(this, t, r.handler, o), (r.handler = void 0), delete i[t]),
										0 === Object.keys(i).length && delete n.__sentry_instrumentation_handlers__);
								} catch (e) {}
							return e.call(this, t, n, o);
						};
					}));
			});
	}
	function To(e, t = !1) {
		return (n) => {
			if (!n || n._sentryCaptured) return;
			const o = (function (e) {
				try {
					return e.target;
				} catch (e) {
					return null;
				}
			})(n);
			if (
				(function (e, t) {
					return (
						'keypress' === e &&
						(!t || !t.tagName || ('INPUT' !== t.tagName && 'TEXTAREA' !== t.tagName && !t.isContentEditable))
					);
				})(n.type, o)
			)
				return;
			jn(n, '_sentryCaptured', !0), o && !o._sentryId && jn(o, '_sentryId', uo());
			const i = 'keypress' === n.type ? 'input' : n.type;
			if (
				!(function (e) {
					if (e.type !== bo) return !1;
					try {
						if (!e.target || e.target._sentryId !== Eo) return !1;
					} catch (e) {}
					return !0;
				})(n)
			) {
				e({
					event: n,
					name: i,
					global: t,
				}),
					(bo = n.type),
					(Eo = o ? o._sentryId : void 0);
			}
			clearTimeout(wo),
				(wo = vo.setTimeout(() => {
					(Eo = void 0), (bo = void 0);
				}, yo));
		};
	}
	const Co = Cn();
	function $o(e) {
		return e && /^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString());
	}
	function ko() {
		if ('string' == typeof EdgeRuntime) return !0;
		if (
			!(function () {
				if (!('fetch' in Co)) return !1;
				try {
					return new Headers(), new Request('http://www.example.com'), new Response(), !0;
				} catch (e) {
					return !1;
				}
			})()
		)
			return !1;
		if ($o(Co.fetch)) return !0;
		let e = !1;
		const t = Co.document;
		if (t && 'function' == typeof t.createElement)
			try {
				const n = t.createElement('iframe');
				(n.hidden = !0),
					t.head.appendChild(n),
					n.contentWindow && n.contentWindow.fetch && (e = $o(n.contentWindow.fetch)),
					t.head.removeChild(n);
			} catch (e) {
				Rn && Pn.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', e);
			}
		return e;
	}
	function Lo(e) {
		const t = 'fetch';
		ro(t, e), so(t, Io);
	}
	function Io() {
		ko() &&
			Wn(Tn, 'fetch', function (e) {
				return function (...t) {
					const { method: n, url: o } = (function (e) {
							if (0 === e.length)
								return {
									method: 'GET',
									url: '',
								};
							if (2 === e.length) {
								const [t, n] = e;
								return {
									url: Ao(t),
									method: Mo(n, 'method') ? String(n.method).toUpperCase() : 'GET',
								};
							}
							const t = e[0];
							return {
								url: Ao(t),
								method: Mo(t, 'method') ? String(t.method).toUpperCase() : 'GET',
							};
						})(t),
						i = {
							args: t,
							fetchData: {
								method: n,
								url: o,
							},
							startTimestamp: Date.now(),
						};
					return (
						ao('fetch', {
							...i,
						}),
						e.apply(Tn, t).then(
							(e) => (
								ao('fetch', {
									...i,
									endTimestamp: Date.now(),
									response: e,
								}),
								e
							),
							(e) => {
								throw (
									(ao('fetch', {
										...i,
										endTimestamp: Date.now(),
										error: e,
									}),
									e)
								);
							},
						)
					);
				};
			});
	}
	function Mo(e, t) {
		return !!e && 'object' == typeof e && !!e[t];
	}
	function Ao(e) {
		return 'string' == typeof e ? e : e ? (Mo(e, 'url') ? e.url : e.toString ? e.toString() : '') : '';
	}
	let Ro = null;
	function Oo() {
		(Ro = Tn.onerror),
			(Tn.onerror = function (e, t, n, o, i) {
				return (
					ao('error', {
						column: o,
						error: i,
						line: n,
						msg: e,
						url: t,
					}),
					!(!Ro || Ro.__SENTRY_LOADER__) && Ro.apply(this, arguments)
				);
			}),
			(Tn.onerror.__SENTRY_INSTRUMENTED__ = !0);
	}
	let No = null;
	function Do() {
		(No = Tn.onunhandledrejection),
			(Tn.onunhandledrejection = function (e) {
				return ao('unhandledrejection', e), !(No && !No.__SENTRY_LOADER__) || No.apply(this, arguments);
			}),
			(Tn.onunhandledrejection.__SENTRY_INSTRUMENTED__ = !0);
	}
	const Po = Cn();
	const zo = Tn;
	let Uo;
	function Ho(e) {
		const t = 'history';
		ro(t, e), so(t, Bo);
	}
	function Bo() {
		if (
			!(function () {
				const e = Po.chrome,
					t = e && e.app && e.app.runtime,
					n = 'history' in Po && !!Po.history.pushState && !!Po.history.replaceState;
				return !t && n;
			})()
		)
			return;
		const e = zo.onpopstate;
		function t(e) {
			return function (...t) {
				const n = t.length > 2 ? t[2] : void 0;
				if (n) {
					const e = Uo,
						t = String(n);
					Uo = t;
					ao('history', {
						from: e,
						to: t,
					});
				}
				return e.apply(this, t);
			};
		}
		(zo.onpopstate = function (...t) {
			const n = zo.location.href,
				o = Uo;
			Uo = n;
			if (
				(ao('history', {
					from: o,
					to: n,
				}),
				e)
			)
				try {
					return e.apply(this, t);
				} catch (e) {}
		}),
			Wn(zo.history, 'pushState', t),
			Wn(zo.history, 'replaceState', t);
	}
	const Fo = Tn,
		Wo = '__sentry_xhr_v3__';
	function jo(e) {
		ro('xhr', e), so('xhr', qo);
	}
	function qo() {
		if (!Fo.XMLHttpRequest) return;
		const e = XMLHttpRequest.prototype;
		Wn(e, 'open', function (e) {
			return function (...t) {
				const n = Date.now(),
					o = an(t[0]) ? t[0].toUpperCase() : void 0,
					i = (function (e) {
						if (an(e)) return e;
						try {
							return e.toString();
						} catch (e) {}
						return;
					})(t[1]);
				if (!o || !i) return e.apply(this, t);
				(this[Wo] = {
					method: o,
					url: i,
					request_headers: {},
				}),
					'POST' === o && i.match(/sentry_key/) && (this.__sentry_own_request__ = !0);
				const r = () => {
					const e = this[Wo];
					if (e && 4 === this.readyState) {
						try {
							e.status_code = this.status;
						} catch (e) {}
						ao('xhr', {
							args: [o, i],
							endTimestamp: Date.now(),
							startTimestamp: n,
							xhr: this,
						});
					}
				};
				return (
					'onreadystatechange' in this && 'function' == typeof this.onreadystatechange
						? Wn(this, 'onreadystatechange', function (e) {
								return function (...t) {
									return r(), e.apply(this, t);
								};
						  })
						: this.addEventListener('readystatechange', r),
					Wn(this, 'setRequestHeader', function (e) {
						return function (...t) {
							const [n, o] = t,
								i = this[Wo];
							return i && an(n) && an(o) && (i.request_headers[n.toLowerCase()] = o), e.apply(this, t);
						};
					}),
					e.apply(this, t)
				);
			};
		}),
			Wn(e, 'send', function (e) {
				return function (...t) {
					const n = this[Wo];
					if (!n) return e.apply(this, t);
					void 0 !== t[0] && (n.body = t[0]);
					return (
						ao('xhr', {
							args: [n.method, n.url],
							startTimestamp: Date.now(),
							xhr: this,
						}),
						e.apply(this, t)
					);
				};
			});
	}
	function Go() {
		return (
			!('undefined' != typeof __SENTRY_BROWSER_BUNDLE__ && __SENTRY_BROWSER_BUNDLE__) &&
			'[object process]' === Object.prototype.toString.call('undefined' != typeof process ? process : 0)
		);
	}
	function Vo(e, t) {
		return e.require(t);
	}
	function Yo(e) {
		let t;
		try {
			t = Vo(module, e);
		} catch (e) {}
		try {
			const { cwd: n } = Vo(module, 'process');
			t = Vo(module, `${n()}/node_modules/${e}`);
		} catch (e) {}
		return t;
	}
	function Ko() {
		return (
			'undefined' != typeof window && (!Go() || (void 0 !== Tn.process && 'renderer' === Tn.process.type))
		);
	}
	function Zo(e, t = 100, n = 1 / 0) {
		try {
			return Jo('', e, t, n);
		} catch (e) {
			return {
				ERROR: `**non-serializable** (${e})`,
			};
		}
	}
	function Xo(e, t = 3, n = 102400) {
		const o = Zo(e, t);
		return (
			(i = o),
			(function (e) {
				return ~-encodeURI(e).split(/%..|./).length;
			})(JSON.stringify(i)) > n
				? Xo(e, t - 1, n)
				: o
		);
		var i;
	}
	function Jo(
		e,
		t,
		n = 1 / 0,
		o = 1 / 0,
		i = (function () {
			const e = 'function' == typeof WeakSet,
				t = e ? new WeakSet() : [];
			return [
				function (n) {
					if (e) return !!t.has(n) || (t.add(n), !1);
					for (let e = 0; e < t.length; e++) if (t[e] === n) return !0;
					return t.push(n), !1;
				},
				function (n) {
					if (e) t.delete(n);
					else
						for (let e = 0; e < t.length; e++)
							if (t[e] === n) {
								t.splice(e, 1);
								break;
							}
				},
			];
		})(),
	) {
		const [r, s] = i;
		if (
			null == t ||
			(['number', 'boolean', 'string'].includes(typeof t) && ('number' != typeof (a = t) || a == a))
		)
			return t;
		var a;
		const l = (function (e, t) {
			try {
				if ('domain' === e && t && 'object' == typeof t && t._events) return '[Domain]';
				if ('domainEmitter' === e) return '[DomainEmitter]';
				if ('undefined' != typeof global && t === global) return '[Global]';
				if ('undefined' != typeof window && t === window) return '[Window]';
				if ('undefined' != typeof document && t === document) return '[Document]';
				if (hn(t)) return '[VueViewModel]';
				if (
					(function (e) {
						return dn(e) && 'nativeEvent' in e && 'preventDefault' in e && 'stopPropagation' in e;
					})(t)
				)
					return '[SyntheticEvent]';
				if ('number' == typeof t && t != t) return '[NaN]';
				if ('function' == typeof t) return `[Function: ${no(t)}]`;
				if ('symbol' == typeof t) return `[${String(t)}]`;
				if ('bigint' == typeof t) return `[BigInt: ${String(t)}]`;
				const n = (function (e) {
					const t = Object.getPrototypeOf(e);
					return t ? t.constructor.name : 'null prototype';
				})(t);
				return /^HTML(\w*)Element$/.test(n) ? `[HTMLElement: ${n}]` : `[object ${n}]`;
			} catch (e) {
				return `**non-serializable** (${e})`;
			}
		})(e, t);
		if (!l.startsWith('[object ')) return l;
		if (t.__sentry_skip_normalization__) return t;
		const c =
			'number' == typeof t.__sentry_override_normalization_depth__
				? t.__sentry_override_normalization_depth__
				: n;
		if (0 === c) return l.replace('object ', '');
		if (r(t)) return '[Circular ~]';
		const d = t;
		if (d && 'function' == typeof d.toJSON)
			try {
				return Jo('', d.toJSON(), c - 1, o, i);
			} catch (e) {}
		const u = Array.isArray(t) ? [] : {};
		let p = 0;
		const m = Vn(t);
		for (const e in m) {
			if (!Object.prototype.hasOwnProperty.call(m, e)) continue;
			if (p >= o) {
				u[e] = '[MaxProperties ~]';
				break;
			}
			const t = m[e];
			(u[e] = Jo(e, t, c - 1, o, i)), p++;
		}
		return s(t), u;
	}
	const Qo = /^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;
	function ei(...e) {
		let t = '',
			n = !1;
		for (let o = e.length - 1; o >= -1 && !n; o--) {
			const i = o >= 0 ? e[o] : '/';
			i && ((t = `${i}/${t}`), (n = '/' === i.charAt(0)));
		}
		return (
			(t = (function (e, t) {
				let n = 0;
				for (let t = e.length - 1; t >= 0; t--) {
					const o = e[t];
					'.' === o ? e.splice(t, 1) : '..' === o ? (e.splice(t, 1), n++) : n && (e.splice(t, 1), n--);
				}
				if (t) for (; n--; n) e.unshift('..');
				return e;
			})(
				t.split('/').filter((e) => !!e),
				!n,
			).join('/')),
			(n ? '/' : '') + t || '.'
		);
	}
	function ti(e) {
		let t = 0;
		for (; t < e.length && '' === e[t]; t++);
		let n = e.length - 1;
		for (; n >= 0 && '' === e[n]; n--);
		return t > n ? [] : e.slice(t, n - t + 1);
	}
	function ni(e, t) {
		let n = (function (e) {
			const t = e.length > 1024 ? `<truncated>${e.slice(-1024)}` : e,
				n = Qo.exec(t);
			return n ? n.slice(1) : [];
		})(e)[2];
		return t && n.slice(-1 * t.length) === t && (n = n.slice(0, n.length - t.length)), n;
	}
	var oi;
	function ii(e) {
		return new si((t) => {
			t(e);
		});
	}
	function ri(e) {
		return new si((t, n) => {
			n(e);
		});
	}
	!(function (e) {
		e[(e.PENDING = 0)] = 'PENDING';
		e[(e.RESOLVED = 1)] = 'RESOLVED';
		e[(e.REJECTED = 2)] = 'REJECTED';
	})(oi || (oi = {}));
	class si {
		constructor(e) {
			si.prototype.__init.call(this),
				si.prototype.__init2.call(this),
				si.prototype.__init3.call(this),
				si.prototype.__init4.call(this),
				(this._state = oi.PENDING),
				(this._handlers = []);
			try {
				e(this._resolve, this._reject);
			} catch (e) {
				this._reject(e);
			}
		}
		then(e, t) {
			return new si((n, o) => {
				this._handlers.push([
					!1,
					(t) => {
						if (e)
							try {
								n(e(t));
							} catch (e) {
								o(e);
							}
						else n(t);
					},
					(e) => {
						if (t)
							try {
								n(t(e));
							} catch (e) {
								o(e);
							}
						else o(e);
					},
				]),
					this._executeHandlers();
			});
		}
		catch(e) {
			return this.then((e) => e, e);
		}
		finally(e) {
			return new si((t, n) => {
				let o, i;
				return this.then(
					(t) => {
						(i = !1), (o = t), e && e();
					},
					(t) => {
						(i = !0), (o = t), e && e();
					},
				).then(() => {
					i ? n(o) : t(o);
				});
			});
		}
		__init() {
			this._resolve = (e) => {
				this._setResult(oi.RESOLVED, e);
			};
		}
		__init2() {
			this._reject = (e) => {
				this._setResult(oi.REJECTED, e);
			};
		}
		__init3() {
			this._setResult = (e, t) => {
				this._state === oi.PENDING &&
					(mn(t)
						? t.then(this._resolve, this._reject)
						: ((this._state = e), (this._value = t), this._executeHandlers()));
			};
		}
		__init4() {
			this._executeHandlers = () => {
				if (this._state === oi.PENDING) return;
				const e = this._handlers.slice();
				(this._handlers = []),
					e.forEach((e) => {
						e[0] ||
							(this._state === oi.RESOLVED && e[1](this._value),
							this._state === oi.REJECTED && e[2](this._value),
							(e[0] = !0));
					});
			};
		}
	}
	function ai(e) {
		const t = [];
		function n(e) {
			return t.splice(t.indexOf(e), 1)[0];
		}
		return {
			$: t,
			add: function (o) {
				if (!(void 0 === e || t.length < e))
					return ri(new Fn('Not adding Promise because buffer limit was reached.'));
				const i = o();
				return (
					-1 === t.indexOf(i) && t.push(i), i.then(() => n(i)).then(null, () => n(i).then(null, () => {})), i
				);
			},
			drain: function (e) {
				return new si((n, o) => {
					let i = t.length;
					if (!i) return n(!0);
					const r = setTimeout(() => {
						e && e > 0 && n(!1);
					}, e);
					t.forEach((e) => {
						ii(e).then(() => {
							--i || (clearTimeout(r), n(!0));
						}, o);
					});
				});
			},
		};
	}
	function li(e) {
		if (!e) return {};
		const t = e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);
		if (!t) return {};
		const n = t[6] || '',
			o = t[8] || '';
		return {
			host: t[4],
			path: t[5],
			protocol: t[2],
			search: n,
			hash: o,
			relative: t[5] + n + o,
		};
	}
	function ci(e) {
		return e.split(/[\?#]/, 1)[0];
	}
	function di(e) {
		return e.split(/\\?\//).filter((e) => e.length > 0 && ',' !== e).length;
	}
	const ui = {
			ip: !1,
			request: !0,
			transaction: !0,
			user: !0,
		},
		pi = ['cookies', 'data', 'headers', 'method', 'query_string', 'url'],
		mi = ['id', 'username', 'email'];
	function gi(e, t = {}) {
		const n = e.method && e.method.toUpperCase();
		let o = '',
			i = 'url';
		t.customRoute || e.route
			? ((o = t.customRoute || `${e.baseUrl || ''}${e.route && e.route.path}`), (i = 'route'))
			: (e.originalUrl || e.url) && (o = ci(e.originalUrl || e.url || ''));
		let r = '';
		return t.method && n && (r += n), t.method && t.path && (r += ' '), t.path && o && (r += o), [r, i];
	}
	function hi(e, t) {
		const { include: n = pi, deps: o } = t || {},
			i = {},
			r = e.headers || {},
			s = e.method,
			a = r.host || e.hostname || e.host || '<no host>',
			l = 'https' === e.protocol || (e.socket && e.socket.encrypted) ? 'https' : 'http',
			c = e.originalUrl || e.url || '',
			d = c.startsWith(l) ? c : `${l}://${a}${c}`;
		return (
			n.forEach((t) => {
				switch (t) {
					case 'headers':
						(i.headers = r), n.includes('cookies') || delete i.headers.cookie;
						break;
					case 'method':
						i.method = s;
						break;
					case 'url':
						i.url = d;
						break;
					case 'cookies':
						i.cookies =
							e.cookies ||
							(r.cookie &&
								(function (e) {
									const t = {};
									let n = 0;
									for (; n < e.length; ) {
										const o = e.indexOf('=', n);
										if (-1 === o) break;
										let i = e.indexOf(';', n);
										if (-1 === i) i = e.length;
										else if (i < o) {
											n = e.lastIndexOf(';', o - 1) + 1;
											continue;
										}
										const r = e.slice(n, o).trim();
										if (void 0 === t[r]) {
											let n = e.slice(o + 1, i).trim();
											34 === n.charCodeAt(0) && (n = n.slice(1, -1));
											try {
												t[r] = -1 !== n.indexOf('%') ? decodeURIComponent(n) : n;
											} catch (e) {
												t[r] = n;
											}
										}
										n = i + 1;
									}
									return t;
								})(r.cookie)) ||
							{};
						break;
					case 'query_string':
						i.query_string = (function (e, t) {
							let n = e.originalUrl || e.url || '';
							if (!n) return;
							n.startsWith('/') && (n = `http://dogs.are.great${n}`);
							try {
								return (
									e.query ||
									('undefined' != typeof URL && new URL(n).search.slice(1)) ||
									(t && t.url && t.url.parse(n).query) ||
									void 0
								);
							} catch (e) {
								return;
							}
						})(e, o);
						break;
					case 'data':
						if ('GET' === s || 'HEAD' === s) break;
						void 0 !== e.body && (i.data = an(e.body) ? e.body : JSON.stringify(Zo(e.body)));
						break;
					default:
						({}).hasOwnProperty.call(e, t) && (i[t] = e[t]);
				}
			}),
			i
		);
	}
	function fi(e, t, n) {
		const o = {
			...ui,
			...(n && n.include),
		};
		if (o.request) {
			const i = Array.isArray(o.request)
				? hi(t, {
						include: o.request,
						deps: n && n.deps,
				  })
				: hi(t, {
						deps: n && n.deps,
				  });
			e.request = {
				...e.request,
				...i,
			};
		}
		if (o.user) {
			const n =
				t.user && dn(t.user)
					? (function (e, t) {
							const n = {};
							return (
								(Array.isArray(t) ? t : mi).forEach((t) => {
									e && t in e && (n[t] = e[t]);
								}),
								n
							);
					  })(t.user, o.user)
					: {};
			Object.keys(n).length &&
				(e.user = {
					...e.user,
					...n,
				});
		}
		if (o.ip) {
			const n = t.ip || (t.socket && t.socket.remoteAddress);
			n &&
				(e.user = {
					...e.user,
					ip_address: n,
				});
		}
		return (
			o.transaction &&
				!e.transaction &&
				(e.transaction = (function (e, t) {
					switch (t) {
						case 'path':
							return gi(e, {
								path: !0,
							})[0];
						case 'handler':
							return (e.route && e.route.stack && e.route.stack[0] && e.route.stack[0].name) || '<anonymous>';
						default:
							return gi(e, {
								path: !0,
								method: !0,
								customRoute: e._reconstructedRoute ? e._reconstructedRoute : void 0,
							})[0];
					}
				})(t, o.transaction)),
			e
		);
	}
	const _i = ['fatal', 'error', 'warning', 'log', 'info', 'debug'];
	function vi(e) {
		return 'warn' === e ? 'warning' : _i.includes(e) ? e : 'log';
	}
	const yi = 1e3;
	function wi() {
		return Date.now() / yi;
	}
	const bi = (function () {
			const { performance: e } = Tn;
			if (!e || !e.now) return wi;
			const t = Date.now() - e.now(),
				n = null == e.timeOrigin ? t : e.timeOrigin;
			return () => (n + e.now()) / yi;
		})(),
		Ei = (() => {
			const { performance: e } = Tn;
			if (!e || !e.now) return;
			const t = 36e5,
				n = e.now(),
				o = Date.now(),
				i = e.timeOrigin ? Math.abs(e.timeOrigin + n - o) : t,
				r = i < t,
				s = e.timing && e.timing.navigationStart,
				a = 'number' == typeof s ? Math.abs(s + n - o) : t;
			return r || a < t ? (i <= a ? e.timeOrigin : s) : o;
		})();
	function Si(e, t = []) {
		return [e, t];
	}
	function xi(e, t) {
		const [n, o] = e;
		return [n, [...o, t]];
	}
	function Ti(e, t) {
		const n = e[1];
		for (const e of n) {
			if (t(e, e[0].type)) return !0;
		}
		return !1;
	}
	function Ci(e, t) {
		return (t || new TextEncoder()).encode(e);
	}
	function $i(e, t) {
		const [n, o] = e;
		let i = JSON.stringify(n);
		function r(e) {
			'string' == typeof i
				? (i = 'string' == typeof e ? i + e : [Ci(i, t), e])
				: i.push('string' == typeof e ? Ci(e, t) : e);
		}
		for (const e of o) {
			const [t, n] = e;
			if ((r(`\n${JSON.stringify(t)}\n`), 'string' == typeof n || n instanceof Uint8Array)) r(n);
			else {
				let e;
				try {
					e = JSON.stringify(n);
				} catch (t) {
					e = JSON.stringify(Zo(n));
				}
				r(e);
			}
		}
		return 'string' == typeof i
			? i
			: (function (e) {
					const t = e.reduce((e, t) => e + t.length, 0),
						n = new Uint8Array(t);
					let o = 0;
					for (const t of e) n.set(t, o), (o += t.length);
					return n;
			  })(i);
	}
	function ki(e, t) {
		const n = 'string' == typeof e.data ? Ci(e.data, t) : e.data;
		return [
			Zn({
				type: 'attachment',
				length: n.length,
				filename: e.filename,
				content_type: e.contentType,
				attachment_type: e.attachmentType,
			}),
			n,
		];
	}
	const Li = {
		session: 'session',
		sessions: 'session',
		attachment: 'attachment',
		transaction: 'transaction',
		event: 'error',
		client_report: 'internal',
		user_report: 'default',
		profile: 'profile',
		replay_event: 'replay',
		replay_recording: 'replay',
		check_in: 'monitor',
		feedback: 'feedback',
		span: 'span',
		statsd: 'metric_bucket',
	};
	function Ii(e) {
		return Li[e];
	}
	function Mi(e) {
		if (!e || !e.sdk) return;
		const { name: t, version: n } = e.sdk;
		return {
			name: t,
			version: n,
		};
	}
	function Ai(e, t, n, o) {
		const i = e.sdkProcessingMetadata && e.sdkProcessingMetadata.dynamicSamplingContext;
		return {
			event_id: e.event_id,
			sent_at: new Date().toISOString(),
			...(t && {
				sdk: t,
			}),
			...(!!n &&
				o && {
					dsn: Un(o),
				}),
			...(i && {
				trace: Zn({
					...i,
				}),
			}),
		};
	}
	const Ri = 6e4;
	function Oi(e, t, n = Date.now()) {
		return (
			(function (e, t) {
				return e[t] || e.all || 0;
			})(e, t) > n
		);
	}
	function Ni(e, { statusCode: t, headers: n }, o = Date.now()) {
		const i = {
				...e,
			},
			r = n && n['x-sentry-rate-limits'],
			s = n && n['retry-after'];
		if (r)
			for (const e of r.trim().split(',')) {
				const [t, n, , , r] = e.split(':', 5),
					s = parseInt(t, 10),
					a = 1e3 * (isNaN(s) ? 60 : s);
				if (n)
					for (const e of n.split(';'))
						('metric_bucket' === e && r && !r.split(';').includes('custom')) || (i[e] = o + a);
				else i.all = o + a;
			}
		else
			s
				? (i.all =
						o +
						(function (e, t = Date.now()) {
							const n = parseInt(`${e}`, 10);
							if (!isNaN(n)) return 1e3 * n;
							const o = Date.parse(`${e}`);
							return isNaN(o) ? Ri : o - t;
						})(s, o))
				: 429 === t && (i.all = o + 6e4);
		return i;
	}
	function Di(e, t) {
		const n = {
				type: t.name || t.constructor.name,
				value: t.message,
			},
			o = (function (e, t) {
				return e(t.stack || '', 1);
			})(e, t);
		return (
			o.length &&
				(n.stacktrace = {
					frames: o,
				}),
			n
		);
	}
	function Pi(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	const zi = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__,
		Ui = 'production';
	function Hi() {
		return $n('globalEventProcessors', () => []);
	}
	function Bi(e) {
		Hi().push(e);
	}
	function Fi(e, t, n, o = 0) {
		return new si((i, r) => {
			const s = e[o];
			if (null === t || 'function' != typeof s) i(t);
			else {
				const a = s(
					{
						...t,
					},
					n,
				);
				zi && s.id && null === a && Pn.log(`Event processor "${s.id}" dropped event`),
					mn(a)
						? a.then((t) => Fi(e, t, n, o + 1).then(i)).then(null, r)
						: Fi(e, a, n, o + 1)
								.then(i)
								.then(null, r);
			}
		});
	}
	function Wi(e) {
		const t = bi(),
			n = {
				sid: uo(),
				init: !0,
				timestamp: t,
				started: t,
				duration: 0,
				status: 'ok',
				errors: 0,
				ignoreDuration: !1,
				toJSON: () =>
					(function (e) {
						return Zn({
							sid: `${e.sid}`,
							init: e.init,
							started: new Date(1e3 * e.started).toISOString(),
							timestamp: new Date(1e3 * e.timestamp).toISOString(),
							status: e.status,
							errors: e.errors,
							did: 'number' == typeof e.did || 'string' == typeof e.did ? `${e.did}` : void 0,
							duration: e.duration,
							abnormal_mechanism: e.abnormal_mechanism,
							attrs: {
								release: e.release,
								environment: e.environment,
								ip_address: e.ipAddress,
								user_agent: e.userAgent,
							},
						});
					})(n),
			};
		return e && ji(n, e), n;
	}
	function ji(e, t = {}) {
		if (
			(t.user &&
				(!e.ipAddress && t.user.ip_address && (e.ipAddress = t.user.ip_address),
				e.did || t.did || (e.did = t.user.id || t.user.email || t.user.username)),
			(e.timestamp = t.timestamp || bi()),
			t.abnormal_mechanism && (e.abnormal_mechanism = t.abnormal_mechanism),
			t.ignoreDuration && (e.ignoreDuration = t.ignoreDuration),
			t.sid && (e.sid = 32 === t.sid.length ? t.sid : uo()),
			void 0 !== t.init && (e.init = t.init),
			!e.did && t.did && (e.did = `${t.did}`),
			'number' == typeof t.started && (e.started = t.started),
			e.ignoreDuration)
		)
			e.duration = void 0;
		else if ('number' == typeof t.duration) e.duration = t.duration;
		else {
			const t = e.timestamp - e.started;
			e.duration = t >= 0 ? t : 0;
		}
		t.release && (e.release = t.release),
			t.environment && (e.environment = t.environment),
			!e.ipAddress && t.ipAddress && (e.ipAddress = t.ipAddress),
			!e.userAgent && t.userAgent && (e.userAgent = t.userAgent),
			'number' == typeof t.errors && (e.errors = t.errors),
			t.status && (e.status = t.status);
	}
	const qi = 1;
	function Gi(e) {
		const { spanId: t, traceId: n } = e.spanContext(),
			{ data: o, op: i, parent_span_id: r, status: s, tags: a, origin: l } = Yi(e);
		return Zn({
			data: o,
			op: i,
			parent_span_id: r,
			span_id: t,
			status: s,
			tags: a,
			trace_id: n,
			origin: l,
		});
	}
	function Vi(e) {
		return e > 9999999999 ? e / 1e3 : e;
	}
	function Yi(e) {
		return (function (e) {
			return 'function' == typeof e.getSpanJSON;
		})(e)
			? e.getSpanJSON()
			: 'function' == typeof e.toJSON
			? e.toJSON()
			: {};
	}
	function Ki(e) {
		const { traceFlags: t } = e.spanContext();
		return Boolean(t & qi);
	}
	function Zi(e, t, n, o, i, r) {
		const { normalizeDepth: s = 3, normalizeMaxBreadth: a = 1e3 } = e,
			l = {
				...t,
				event_id: t.event_id || n.event_id || uo(),
				timestamp: t.timestamp || wi(),
			},
			c = n.integrations || e.integrations.map((e) => e.name);
		!(function (e, t) {
			const { environment: n, release: o, dist: i, maxValueLength: r = 250 } = t;
			'environment' in e || (e.environment = 'environment' in t ? n : Ui);
			void 0 === e.release && void 0 !== o && (e.release = o);
			void 0 === e.dist && void 0 !== i && (e.dist = i);
			e.message && (e.message = fn(e.message, r));
			const s = e.exception && e.exception.values && e.exception.values[0];
			s && s.value && (s.value = fn(s.value, r));
			const a = e.request;
			a && a.url && (a.url = fn(a.url, r));
		})(l, e),
			(function (e, t) {
				t.length > 0 && ((e.sdk = e.sdk || {}), (e.sdk.integrations = [...(e.sdk.integrations || []), ...t]));
			})(l, c),
			void 0 === t.type &&
				(function (e, t) {
					const n = Tn._sentryDebugIds;
					if (!n) return;
					let o;
					const i = Xi.get(t);
					i ? (o = i) : ((o = new Map()), Xi.set(t, o));
					const r = Object.keys(n).reduce((e, i) => {
						let r;
						const s = o.get(i);
						s ? (r = s) : ((r = t(i)), o.set(i, r));
						for (let t = r.length - 1; t >= 0; t--) {
							const o = r[t];
							if (o.filename) {
								e[o.filename] = n[i];
								break;
							}
						}
						return e;
					}, {});
					try {
						e.exception.values.forEach((e) => {
							e.stacktrace.frames.forEach((e) => {
								e.filename && (e.debug_id = r[e.filename]);
							});
						});
					} catch (e) {}
				})(l, e.stackParser);
		const d = (function (e, t) {
			if (!t) return e;
			const n = e ? e.clone() : new gr();
			return n.update(t), n;
		})(o, n.captureContext);
		n.mechanism && ho(l, n.mechanism);
		const u = i && i.getEventProcessors ? i.getEventProcessors() : [],
			p = (function () {
				mr || (mr = new gr());
				return mr;
			})().getScopeData();
		if (r) {
			ur(p, r.getScopeData());
		}
		if (d) {
			ur(p, d.getScopeData());
		}
		const m = [...(n.attachments || []), ...p.attachments];
		m.length && (n.attachments = m), dr(l, p);
		return Fi([...u, ...Hi(), ...p.eventProcessors], l, n).then(
			(e) => (
				e &&
					(function (e) {
						const t = {};
						try {
							e.exception.values.forEach((e) => {
								e.stacktrace.frames.forEach((e) => {
									e.debug_id &&
										(e.abs_path ? (t[e.abs_path] = e.debug_id) : e.filename && (t[e.filename] = e.debug_id),
										delete e.debug_id);
								});
							});
						} catch (e) {}
						if (0 === Object.keys(t).length) return;
						(e.debug_meta = e.debug_meta || {}), (e.debug_meta.images = e.debug_meta.images || []);
						const n = e.debug_meta.images;
						Object.keys(t).forEach((e) => {
							n.push({
								type: 'sourcemap',
								code_file: e,
								debug_id: t[e],
							});
						});
					})(e),
				'number' == typeof s && s > 0
					? (function (e, t, n) {
							if (!e) return null;
							const o = {
								...e,
								...(e.breadcrumbs && {
									breadcrumbs: e.breadcrumbs.map((e) => ({
										...e,
										...(e.data && {
											data: Zo(e.data, t, n),
										}),
									})),
								}),
								...(e.user && {
									user: Zo(e.user, t, n),
								}),
								...(e.contexts && {
									contexts: Zo(e.contexts, t, n),
								}),
								...(e.extra && {
									extra: Zo(e.extra, t, n),
								}),
							};
							e.contexts &&
								e.contexts.trace &&
								o.contexts &&
								((o.contexts.trace = e.contexts.trace),
								e.contexts.trace.data && (o.contexts.trace.data = Zo(e.contexts.trace.data, t, n)));
							e.spans &&
								(o.spans = e.spans.map((e) => {
									const o = Yi(e).data;
									return o && (e.data = Zo(o, t, n)), e;
								}));
							return o;
					  })(e, s, a)
					: e
			),
		);
	}
	const Xi = new WeakMap();
	function Ji(e) {
		if (e)
			return (function (e) {
				return e instanceof gr || 'function' == typeof e;
			})(e) ||
				(function (e) {
					return Object.keys(e).some((e) => Qi.includes(e));
				})(e)
				? {
						captureContext: e,
				  }
				: e;
	}
	const Qi = [
		'user',
		'level',
		'extra',
		'contexts',
		'tags',
		'fingerprint',
		'requestSession',
		'propagationContext',
	];
	function er(e, t) {
		return Er().captureException(e, Ji(t));
	}
	function tr(e, t) {
		const n = 'string' == typeof t ? t : void 0,
			o =
				'string' != typeof t
					? {
							captureContext: t,
					  }
					: void 0;
		return Er().captureMessage(e, n, o);
	}
	function nr(e, t) {
		return Er().captureEvent(e, t);
	}
	function or(e, t) {
		Er().addBreadcrumb(e, t);
	}
	function ir(...e) {
		const t = Er();
		if (2 === e.length) {
			const [n, o] = e;
			return n ? t.withScope(() => ((t.getStackTop().scope = n), o(n))) : t.withScope(o);
		}
		return t.withScope(e[0]);
	}
	function rr() {
		return Er().getClient();
	}
	function sr() {
		return Er().getScope();
	}
	function ar(e) {
		return e.transaction;
	}
	function lr(e, t, n) {
		const o = t.getOptions(),
			{ publicKey: i } = t.getDsn() || {},
			{ segment: r } = (n && n.getUser()) || {},
			s = Zn({
				environment: o.environment || Ui,
				release: o.release,
				user_segment: r,
				public_key: i,
				trace_id: e,
			});
		return t.emit && t.emit('createDsc', s), s;
	}
	function cr(e) {
		const t = rr();
		if (!t) return {};
		const n = lr(Yi(e).trace_id || '', t, sr()),
			o = ar(e);
		if (!o) return n;
		const i = o && o._frozenDynamicSamplingContext;
		if (i) return i;
		const { sampleRate: r, source: s } = o.metadata;
		null != r && (n.sample_rate = `${r}`);
		const a = Yi(o);
		return (
			s && 'url' !== s && (n.transaction = a.description),
			(n.sampled = String(Ki(o))),
			t.emit && t.emit('createDsc', n),
			n
		);
	}
	function dr(e, t) {
		const { fingerprint: n, span: o, breadcrumbs: i, sdkProcessingMetadata: r } = t;
		!(function (e, t) {
			const { extra: n, tags: o, user: i, contexts: r, level: s, transactionName: a } = t,
				l = Zn(n);
			l &&
				Object.keys(l).length &&
				(e.extra = {
					...l,
					...e.extra,
				});
			const c = Zn(o);
			c &&
				Object.keys(c).length &&
				(e.tags = {
					...c,
					...e.tags,
				});
			const d = Zn(i);
			d &&
				Object.keys(d).length &&
				(e.user = {
					...d,
					...e.user,
				});
			const u = Zn(r);
			u &&
				Object.keys(u).length &&
				(e.contexts = {
					...u,
					...e.contexts,
				});
			s && (e.level = s);
			a && (e.transaction = a);
		})(e, t),
			o &&
				(function (e, t) {
					e.contexts = {
						trace: Gi(t),
						...e.contexts,
					};
					const n = ar(t);
					if (n) {
						e.sdkProcessingMetadata = {
							dynamicSamplingContext: cr(t),
							...e.sdkProcessingMetadata,
						};
						const o = Yi(n).description;
						o &&
							(e.tags = {
								transaction: o,
								...e.tags,
							});
					}
				})(e, o),
			(function (e, t) {
				(e.fingerprint = e.fingerprint ? _o(e.fingerprint) : []),
					t && (e.fingerprint = e.fingerprint.concat(t));
				e.fingerprint && !e.fingerprint.length && delete e.fingerprint;
			})(e, n),
			(function (e, t) {
				const n = [...(e.breadcrumbs || []), ...t];
				e.breadcrumbs = n.length ? n : void 0;
			})(e, i),
			(function (e, t) {
				e.sdkProcessingMetadata = {
					...e.sdkProcessingMetadata,
					...t,
				};
			})(e, r);
	}
	function ur(e, t) {
		const {
			extra: n,
			tags: o,
			user: i,
			contexts: r,
			level: s,
			sdkProcessingMetadata: a,
			breadcrumbs: l,
			fingerprint: c,
			eventProcessors: d,
			attachments: u,
			propagationContext: p,
			transactionName: m,
			span: g,
		} = t;
		pr(e, 'extra', n),
			pr(e, 'tags', o),
			pr(e, 'user', i),
			pr(e, 'contexts', r),
			pr(e, 'sdkProcessingMetadata', a),
			s && (e.level = s),
			m && (e.transactionName = m),
			g && (e.span = g),
			l.length && (e.breadcrumbs = [...e.breadcrumbs, ...l]),
			c.length && (e.fingerprint = [...e.fingerprint, ...c]),
			d.length && (e.eventProcessors = [...e.eventProcessors, ...d]),
			u.length && (e.attachments = [...e.attachments, ...u]),
			(e.propagationContext = {
				...e.propagationContext,
				...p,
			});
	}
	function pr(e, t, n) {
		if (n && Object.keys(n).length) {
			e[t] = {
				...e[t],
			};
			for (const o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[t][o] = n[o]);
		}
	}
	let mr;
	class gr {
		constructor() {
			(this._notifyingListeners = !1),
				(this._scopeListeners = []),
				(this._eventProcessors = []),
				(this._breadcrumbs = []),
				(this._attachments = []),
				(this._user = {}),
				(this._tags = {}),
				(this._extra = {}),
				(this._contexts = {}),
				(this._sdkProcessingMetadata = {}),
				(this._propagationContext = hr());
		}
		static clone(e) {
			return e ? e.clone() : new gr();
		}
		clone() {
			const e = new gr();
			return (
				(e._breadcrumbs = [...this._breadcrumbs]),
				(e._tags = {
					...this._tags,
				}),
				(e._extra = {
					...this._extra,
				}),
				(e._contexts = {
					...this._contexts,
				}),
				(e._user = this._user),
				(e._level = this._level),
				(e._span = this._span),
				(e._session = this._session),
				(e._transactionName = this._transactionName),
				(e._fingerprint = this._fingerprint),
				(e._eventProcessors = [...this._eventProcessors]),
				(e._requestSession = this._requestSession),
				(e._attachments = [...this._attachments]),
				(e._sdkProcessingMetadata = {
					...this._sdkProcessingMetadata,
				}),
				(e._propagationContext = {
					...this._propagationContext,
				}),
				(e._client = this._client),
				e
			);
		}
		setClient(e) {
			this._client = e;
		}
		getClient() {
			return this._client;
		}
		addScopeListener(e) {
			this._scopeListeners.push(e);
		}
		addEventProcessor(e) {
			return this._eventProcessors.push(e), this;
		}
		setUser(e) {
			return (
				(this._user = e || {
					email: void 0,
					id: void 0,
					ip_address: void 0,
					segment: void 0,
					username: void 0,
				}),
				this._session &&
					ji(this._session, {
						user: e,
					}),
				this._notifyScopeListeners(),
				this
			);
		}
		getUser() {
			return this._user;
		}
		getRequestSession() {
			return this._requestSession;
		}
		setRequestSession(e) {
			return (this._requestSession = e), this;
		}
		setTags(e) {
			return (
				(this._tags = {
					...this._tags,
					...e,
				}),
				this._notifyScopeListeners(),
				this
			);
		}
		setTag(e, t) {
			return (
				(this._tags = {
					...this._tags,
					[e]: t,
				}),
				this._notifyScopeListeners(),
				this
			);
		}
		setExtras(e) {
			return (
				(this._extra = {
					...this._extra,
					...e,
				}),
				this._notifyScopeListeners(),
				this
			);
		}
		setExtra(e, t) {
			return (
				(this._extra = {
					...this._extra,
					[e]: t,
				}),
				this._notifyScopeListeners(),
				this
			);
		}
		setFingerprint(e) {
			return (this._fingerprint = e), this._notifyScopeListeners(), this;
		}
		setLevel(e) {
			return (this._level = e), this._notifyScopeListeners(), this;
		}
		setTransactionName(e) {
			return (this._transactionName = e), this._notifyScopeListeners(), this;
		}
		setContext(e, t) {
			return (
				null === t ? delete this._contexts[e] : (this._contexts[e] = t), this._notifyScopeListeners(), this
			);
		}
		setSpan(e) {
			return (this._span = e), this._notifyScopeListeners(), this;
		}
		getSpan() {
			return this._span;
		}
		getTransaction() {
			const e = this._span;
			return e && e.transaction;
		}
		setSession(e) {
			return e ? (this._session = e) : delete this._session, this._notifyScopeListeners(), this;
		}
		getSession() {
			return this._session;
		}
		update(e) {
			if (!e) return this;
			const t = 'function' == typeof e ? e(this) : e;
			if (t instanceof gr) {
				const e = t.getScopeData();
				(this._tags = {
					...this._tags,
					...e.tags,
				}),
					(this._extra = {
						...this._extra,
						...e.extra,
					}),
					(this._contexts = {
						...this._contexts,
						...e.contexts,
					}),
					e.user && Object.keys(e.user).length && (this._user = e.user),
					e.level && (this._level = e.level),
					e.fingerprint.length && (this._fingerprint = e.fingerprint),
					t.getRequestSession() && (this._requestSession = t.getRequestSession()),
					e.propagationContext && (this._propagationContext = e.propagationContext);
			} else if (dn(t)) {
				const t = e;
				(this._tags = {
					...this._tags,
					...t.tags,
				}),
					(this._extra = {
						...this._extra,
						...t.extra,
					}),
					(this._contexts = {
						...this._contexts,
						...t.contexts,
					}),
					t.user && (this._user = t.user),
					t.level && (this._level = t.level),
					t.fingerprint && (this._fingerprint = t.fingerprint),
					t.requestSession && (this._requestSession = t.requestSession),
					t.propagationContext && (this._propagationContext = t.propagationContext);
			}
			return this;
		}
		clear() {
			return (
				(this._breadcrumbs = []),
				(this._tags = {}),
				(this._extra = {}),
				(this._user = {}),
				(this._contexts = {}),
				(this._level = void 0),
				(this._transactionName = void 0),
				(this._fingerprint = void 0),
				(this._requestSession = void 0),
				(this._span = void 0),
				(this._session = void 0),
				this._notifyScopeListeners(),
				(this._attachments = []),
				(this._propagationContext = hr()),
				this
			);
		}
		addBreadcrumb(e, t) {
			const n = 'number' == typeof t ? t : 100;
			if (n <= 0) return this;
			const o = {
					timestamp: wi(),
					...e,
				},
				i = this._breadcrumbs;
			return (
				i.push(o), (this._breadcrumbs = i.length > n ? i.slice(-n) : i), this._notifyScopeListeners(), this
			);
		}
		getLastBreadcrumb() {
			return this._breadcrumbs[this._breadcrumbs.length - 1];
		}
		clearBreadcrumbs() {
			return (this._breadcrumbs = []), this._notifyScopeListeners(), this;
		}
		addAttachment(e) {
			return this._attachments.push(e), this;
		}
		getAttachments() {
			return this.getScopeData().attachments;
		}
		clearAttachments() {
			return (this._attachments = []), this;
		}
		getScopeData() {
			const {
				_breadcrumbs: e,
				_attachments: t,
				_contexts: n,
				_tags: o,
				_extra: i,
				_user: r,
				_level: s,
				_fingerprint: a,
				_eventProcessors: l,
				_propagationContext: c,
				_sdkProcessingMetadata: d,
				_transactionName: u,
				_span: p,
			} = this;
			return {
				breadcrumbs: e,
				attachments: t,
				contexts: n,
				tags: o,
				extra: i,
				user: r,
				level: s,
				fingerprint: a || [],
				eventProcessors: l,
				propagationContext: c,
				sdkProcessingMetadata: d,
				transactionName: u,
				span: p,
			};
		}
		applyToEvent(e, t = {}, n = []) {
			dr(e, this.getScopeData());
			return Fi([...n, ...Hi(), ...this._eventProcessors], e, t);
		}
		setSDKProcessingMetadata(e) {
			return (
				(this._sdkProcessingMetadata = {
					...this._sdkProcessingMetadata,
					...e,
				}),
				this
			);
		}
		setPropagationContext(e) {
			return (this._propagationContext = e), this;
		}
		getPropagationContext() {
			return this._propagationContext;
		}
		captureException(e, t) {
			const n = t && t.event_id ? t.event_id : uo();
			if (!this._client) return Pn.warn('No client configured on scope - will not capture exception!'), n;
			const o = new Error('Sentry syntheticException');
			return (
				this._client.captureException(
					e,
					{
						originalException: e,
						syntheticException: o,
						...t,
						event_id: n,
					},
					this,
				),
				n
			);
		}
		captureMessage(e, t, n) {
			const o = n && n.event_id ? n.event_id : uo();
			if (!this._client) return Pn.warn('No client configured on scope - will not capture message!'), o;
			const i = new Error(e);
			return (
				this._client.captureMessage(
					e,
					t,
					{
						originalException: e,
						syntheticException: i,
						...n,
						event_id: o,
					},
					this,
				),
				o
			);
		}
		captureEvent(e, t) {
			const n = t && t.event_id ? t.event_id : uo();
			return this._client
				? (this._client.captureEvent(
						e,
						{
							...t,
							event_id: n,
						},
						this,
				  ),
				  n)
				: (Pn.warn('No client configured on scope - will not capture event!'), n);
		}
		_notifyScopeListeners() {
			this._notifyingListeners ||
				((this._notifyingListeners = !0),
				this._scopeListeners.forEach((e) => {
					e(this);
				}),
				(this._notifyingListeners = !1));
		}
	}
	function hr() {
		return {
			traceId: uo(),
			spanId: uo().substring(16),
		};
	}
	const fr = '7.116.0',
		_r = parseFloat(fr),
		vr = 100;
	class yr {
		constructor(e, t, n, o = _r) {
			let i, r;
			(this._version = o),
				t ? (i = t) : ((i = new gr()), i.setClient(e)),
				n ? (r = n) : ((r = new gr()), r.setClient(e)),
				(this._stack = [
					{
						scope: i,
					},
				]),
				e && this.bindClient(e),
				(this._isolationScope = r);
		}
		isOlderThan(e) {
			return this._version < e;
		}
		bindClient(e) {
			const t = this.getStackTop();
			(t.client = e), t.scope.setClient(e), e && e.setupIntegrations && e.setupIntegrations();
		}
		pushScope() {
			const e = this.getScope().clone();
			return (
				this.getStack().push({
					client: this.getClient(),
					scope: e,
				}),
				e
			);
		}
		popScope() {
			return !(this.getStack().length <= 1) && !!this.getStack().pop();
		}
		withScope(e) {
			const t = this.pushScope();
			let n;
			try {
				n = e(t);
			} catch (e) {
				throw (this.popScope(), e);
			}
			return mn(n)
				? n.then(
						(e) => (this.popScope(), e),
						(e) => {
							throw (this.popScope(), e);
						},
				  )
				: (this.popScope(), n);
		}
		getClient() {
			return this.getStackTop().client;
		}
		getScope() {
			return this.getStackTop().scope;
		}
		getIsolationScope() {
			return this._isolationScope;
		}
		getStack() {
			return this._stack;
		}
		getStackTop() {
			return this._stack[this._stack.length - 1];
		}
		captureException(e, t) {
			const n = (this._lastEventId = t && t.event_id ? t.event_id : uo()),
				o = new Error('Sentry syntheticException');
			return (
				this.getScope().captureException(e, {
					originalException: e,
					syntheticException: o,
					...t,
					event_id: n,
				}),
				n
			);
		}
		captureMessage(e, t, n) {
			const o = (this._lastEventId = n && n.event_id ? n.event_id : uo()),
				i = new Error(e);
			return (
				this.getScope().captureMessage(e, t, {
					originalException: e,
					syntheticException: i,
					...n,
					event_id: o,
				}),
				o
			);
		}
		captureEvent(e, t) {
			const n = t && t.event_id ? t.event_id : uo();
			return (
				e.type || (this._lastEventId = n),
				this.getScope().captureEvent(e, {
					...t,
					event_id: n,
				}),
				n
			);
		}
		lastEventId() {
			return this._lastEventId;
		}
		addBreadcrumb(e, t) {
			const { scope: n, client: o } = this.getStackTop();
			if (!o) return;
			const { beforeBreadcrumb: i = null, maxBreadcrumbs: r = vr } = (o.getOptions && o.getOptions()) || {};
			if (r <= 0) return;
			const s = {
					timestamp: wi(),
					...e,
				},
				a = i ? Dn(() => i(s, t)) : s;
			null !== a && (o.emit && o.emit('beforeAddBreadcrumb', a, t), n.addBreadcrumb(a, r));
		}
		setUser(e) {
			this.getScope().setUser(e), this.getIsolationScope().setUser(e);
		}
		setTags(e) {
			this.getScope().setTags(e), this.getIsolationScope().setTags(e);
		}
		setExtras(e) {
			this.getScope().setExtras(e), this.getIsolationScope().setExtras(e);
		}
		setTag(e, t) {
			this.getScope().setTag(e, t), this.getIsolationScope().setTag(e, t);
		}
		setExtra(e, t) {
			this.getScope().setExtra(e, t), this.getIsolationScope().setExtra(e, t);
		}
		setContext(e, t) {
			this.getScope().setContext(e, t), this.getIsolationScope().setContext(e, t);
		}
		configureScope(e) {
			const { scope: t, client: n } = this.getStackTop();
			n && e(t);
		}
		run(e) {
			const t = br(this);
			try {
				e(this);
			} finally {
				br(t);
			}
		}
		getIntegration(e) {
			const t = this.getClient();
			if (!t) return null;
			try {
				return t.getIntegration(e);
			} catch (t) {
				return zi && Pn.warn(`Cannot retrieve integration ${e.id} from the current Hub`), null;
			}
		}
		startTransaction(e, t) {
			const n = this._callExtensionMethod('startTransaction', e, t);
			if (zi && !n) {
				this.getClient()
					? Pn.warn(
							"Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n",
					  )
					: Pn.warn(
							"Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'",
					  );
			}
			return n;
		}
		traceHeaders() {
			return this._callExtensionMethod('traceHeaders');
		}
		captureSession(e = !1) {
			if (e) return this.endSession();
			this._sendSessionUpdate();
		}
		endSession() {
			const e = this.getStackTop().scope,
				t = e.getSession();
			t &&
				(function (e, t) {
					let n = {};
					t
						? (n = {
								status: t,
						  })
						: 'ok' === e.status &&
						  (n = {
								status: 'exited',
						  }),
						ji(e, n);
				})(t),
				this._sendSessionUpdate(),
				e.setSession();
		}
		startSession(e) {
			const { scope: t, client: n } = this.getStackTop(),
				{ release: o, environment: i = Ui } = (n && n.getOptions()) || {},
				{ userAgent: r } = Tn.navigator || {},
				s = Wi({
					release: o,
					environment: i,
					user: t.getUser(),
					...(r && {
						userAgent: r,
					}),
					...e,
				}),
				a = t.getSession && t.getSession();
			return (
				a &&
					'ok' === a.status &&
					ji(a, {
						status: 'exited',
					}),
				this.endSession(),
				t.setSession(s),
				s
			);
		}
		shouldSendDefaultPii() {
			const e = this.getClient(),
				t = e && e.getOptions();
			return Boolean(t && t.sendDefaultPii);
		}
		_sendSessionUpdate() {
			const { scope: e, client: t } = this.getStackTop(),
				n = e.getSession();
			n && t && t.captureSession && t.captureSession(n);
		}
		_callExtensionMethod(e, ...t) {
			const n = wr().__SENTRY__;
			if (n && n.extensions && 'function' == typeof n.extensions[e]) return n.extensions[e].apply(this, t);
			zi && Pn.warn(`Extension method ${e} couldn't be found, doing nothing.`);
		}
	}
	function wr() {
		return (
			(Tn.__SENTRY__ = Tn.__SENTRY__ || {
				extensions: {},
				hub: void 0,
			}),
			Tn
		);
	}
	function br(e) {
		const t = wr(),
			n = xr(t);
		return Tr(t, e), n;
	}
	function Er() {
		const e = wr();
		if (e.__SENTRY__ && e.__SENTRY__.acs) {
			const t = e.__SENTRY__.acs.getCurrentHub();
			if (t) return t;
		}
		return (function (e = wr()) {
			(t = e), (t && t.__SENTRY__ && t.__SENTRY__.hub && !xr(e).isOlderThan(_r)) || Tr(e, new yr());
			var t;
			return xr(e);
		})(e);
	}
	function Sr() {
		return Er().getIsolationScope();
	}
	function xr(e) {
		return $n('hub', () => new yr(), e);
	}
	function Tr(e, t) {
		if (!e) return !1;
		return ((e.__SENTRY__ = e.__SENTRY__ || {}).hub = t), !0;
	}
	var Cr;
	function $r(e, t, n = () => {}) {
		let o;
		try {
			o = e();
		} catch (e) {
			throw (t(e), n(), e);
		}
		return (function (e, t, n) {
			if (mn(e))
				return e.then(
					(e) => (n(), e),
					(e) => {
						throw (t(e), n(), e);
					},
				);
			return n(), e;
		})(o, t, n);
	}
	function kr(e, t) {
		const n = (function (e) {
			if (e.startTime) {
				const n = {
					...e,
				};
				return (
					(n.startTimestamp =
						'number' == typeof (t = e.startTime)
							? Vi(t)
							: Array.isArray(t)
							? t[0] + t[1] / 1e9
							: t instanceof Date
							? Vi(t.getTime())
							: bi()),
					delete n.startTime,
					n
				);
			}
			var t;
			return e;
		})(e);
		return (function (e, t = {}) {
			const n = wr();
			return n.__SENTRY__ && n.__SENTRY__.acs ? n.__SENTRY__.acs.runWithAsyncContext(e, t) : e();
		})(() =>
			ir(e.scope, (o) => {
				const i = Er(),
					r = o.getSpan(),
					s =
						e.onlyIfParent && !r
							? void 0
							: (function (e, { parentSpan: t, spanContext: n, forceTransaction: o, scope: i }) {
									if (
										!(function (e) {
											if ('boolean' == typeof __SENTRY_TRACING__ && !__SENTRY_TRACING__) return !1;
											const t = rr(),
												n = e || (t && t.getOptions());
											return !!n && (n.enableTracing || 'tracesSampleRate' in n || 'tracesSampler' in n);
										})()
									)
										return;
									const r = Sr();
									let s;
									if (t && !o) s = t.startChild(n);
									else if (t) {
										const o = cr(t),
											{ traceId: i, spanId: r } = t.spanContext(),
											a = Ki(t);
										s = e.startTransaction({
											traceId: i,
											parentSpanId: r,
											parentSampled: a,
											...n,
											metadata: {
												dynamicSamplingContext: o,
												...n.metadata,
											},
										});
									} else {
										const {
											traceId: t,
											dsc: o,
											parentSpanId: a,
											sampled: l,
										} = {
											...r.getPropagationContext(),
											...i.getPropagationContext(),
										};
										s = e.startTransaction({
											traceId: t,
											parentSpanId: a,
											parentSampled: l,
											...n,
											metadata: {
												dynamicSamplingContext: o,
												...n.metadata,
											},
										});
									}
									return (
										i.setSpan(s),
										(function (e, t, n) {
											e && (jn(e, Ir, n), jn(e, Lr, t));
										})(s, i, r),
										s
									);
							  })(i, {
									parentSpan: r,
									spanContext: n,
									forceTransaction: e.forceTransaction,
									scope: o,
							  });
				return $r(
					() => t(s),
					() => {
						if (s) {
							const { status: e } = Yi(s);
							(e && 'ok' !== e) || s.setStatus('internal_error');
						}
					},
					() => s && s.end(),
				);
			}),
		);
	}
	!(function (e) {
		e.Ok = 'ok';
		e.DeadlineExceeded = 'deadline_exceeded';
		e.Unauthenticated = 'unauthenticated';
		e.PermissionDenied = 'permission_denied';
		e.NotFound = 'not_found';
		e.ResourceExhausted = 'resource_exhausted';
		e.InvalidArgument = 'invalid_argument';
		e.Unimplemented = 'unimplemented';
		e.Unavailable = 'unavailable';
		e.InternalError = 'internal_error';
		e.UnknownError = 'unknown_error';
		e.Cancelled = 'cancelled';
		e.AlreadyExists = 'already_exists';
		e.FailedPrecondition = 'failed_precondition';
		e.Aborted = 'aborted';
		e.OutOfRange = 'out_of_range';
		e.DataLoss = 'data_loss';
	})(Cr || (Cr = {}));
	const Lr = '_sentryScope',
		Ir = '_sentryIsolationScope';
	let Mr;
	function Ar(e, t, n, o, i, r) {
		const s = sr().getSpan();
		if (s) {
			const a =
					(function (e) {
						return Mr ? Mr.get(e) : void 0;
					})(s) || new Map(),
				l = `${e}:${t}@${o}`,
				c = a.get(r);
			if (c) {
				const [, e] = c;
				a.set(r, [
					l,
					{
						min: Math.min(e.min, n),
						max: Math.max(e.max, n),
						count: (e.count += 1),
						sum: (e.sum += n),
						tags: e.tags,
					},
				]);
			} else
				a.set(r, [
					l,
					{
						min: n,
						max: n,
						count: 1,
						sum: n,
						tags: i,
					},
				]);
			Mr || (Mr = new WeakMap()), Mr.set(s, a);
		}
	}
	const Rr = 'sentry.source';
	function Or(e, t, n, o) {
		const i = Mi(n),
			r = e.type && 'replay_event' !== e.type ? e.type : 'event';
		!(function (e, t) {
			t &&
				((e.sdk = e.sdk || {}),
				(e.sdk.name = e.sdk.name || t.name),
				(e.sdk.version = e.sdk.version || t.version),
				(e.sdk.integrations = [...(e.sdk.integrations || []), ...(t.integrations || [])]),
				(e.sdk.packages = [...(e.sdk.packages || []), ...(t.packages || [])]));
		})(e, n && n.sdk);
		const s = Ai(e, i, o, t);
		delete e.sdkProcessingMetadata;
		return Si(s, [
			[
				{
					type: r,
				},
				e,
			],
		]);
	}
	const Nr = '7';
	function Dr(e, t) {
		return (
			(n = {
				sentry_key: e.publicKey,
				sentry_version: Nr,
				...(t && {
					sentry_client: `${t.name}/${t.version}`,
				}),
			}),
			Object.keys(n)
				.map((e) => `${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)
				.join('&')
		);
		var n;
	}
	const Pr = [];
	function zr(e, t) {
		for (const n of t) n && n.afterAllSetup && n.afterAllSetup(e);
	}
	function Ur(e, t, n) {
		if (n[t.name]) zi && Pn.log(`Integration skipped because it was already installed: ${t.name}`);
		else {
			if (
				((n[t.name] = t),
				-1 === Pr.indexOf(t.name) && (t.setupOnce(Bi, Er), Pr.push(t.name)),
				t.setup && 'function' == typeof t.setup && t.setup(e),
				e.on && 'function' == typeof t.preprocessEvent)
			) {
				const n = t.preprocessEvent.bind(t);
				e.on('preprocessEvent', (t, o) => n(t, o, e));
			}
			if (e.addEventProcessor && 'function' == typeof t.processEvent) {
				const n = t.processEvent.bind(t),
					o = Object.assign((t, o) => n(t, o, e), {
						id: t.name,
					});
				e.addEventProcessor(o);
			}
			zi && Pn.log(`Integration installed: ${t.name}`);
		}
	}
	function Hr(e, t) {
		return Object.assign(
			function (...e) {
				return t(...e);
			},
			{
				id: e,
			},
		);
	}
	function Br(e) {
		return e.replace(/[^\w\-./]+/gi, '');
	}
	const Fr = [
		['\n', '\\n'],
		['\r', '\\r'],
		['\t', '\\t'],
		['\\', '\\\\'],
		['|', '\\u{7c}'],
		[',', '\\u{2c}'],
	];
	function Wr(e) {
		return [...e].reduce(
			(e, t) =>
				e +
				(function (e) {
					for (const [t, n] of Fr) if (e === t) return n;
					return e;
				})(t),
			'',
		);
	}
	function jr(e, t, n, o) {
		const i = {
			sent_at: new Date().toISOString(),
		};
		n &&
			n.sdk &&
			(i.sdk = {
				name: n.sdk.name,
				version: n.sdk.version,
			}),
			o && t && (i.dsn = Un(t));
		const r = (function (e) {
			const t = (function (e) {
				let t = '';
				for (const n of e) {
					const e = Object.entries(n.tags),
						o = e.length > 0 ? `|#${e.map(([e, t]) => `${e}:${t}`).join(',')}` : '';
					t += `${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`;
				}
				return t;
			})(e);
			return [
				{
					type: 'statsd',
					length: t.length,
				},
				t,
			];
		})(e);
		return Si(i, [r]);
	}
	const qr = "Not capturing exception because it's already been captured.";
	class Gr {
		constructor(e) {
			if (
				((this._options = e),
				(this._integrations = {}),
				(this._integrationsInitialized = !1),
				(this._numProcessing = 0),
				(this._outcomes = {}),
				(this._hooks = {}),
				(this._eventProcessors = []),
				e.dsn ? (this._dsn = Bn(e.dsn)) : zi && Pn.warn('No DSN provided, client will not send events.'),
				this._dsn)
			) {
				const t = (function (e, t = {}) {
					const n = 'string' == typeof t ? t : t.tunnel,
						o = 'string' != typeof t && t._metadata ? t._metadata.sdk : void 0;
					return (
						n ||
						`${(function (e) {
							return `${(function (e) {
								const t = e.protocol ? `${e.protocol}:` : '',
									n = e.port ? `:${e.port}` : '';
								return `${t}//${e.host}${n}${e.path ? `/${e.path}` : ''}/api/`;
							})(e)}${e.projectId}/envelope/`;
						})(e)}?${Dr(e, o)}`
					);
				})(this._dsn, e);
				this._transport = e.transport({
					tunnel: this._options.tunnel,
					recordDroppedEvent: this.recordDroppedEvent.bind(this),
					...e.transportOptions,
					url: t,
				});
			}
		}
		captureException(e, t, n) {
			if (fo(e)) return void (zi && Pn.log(qr));
			let o = t && t.event_id;
			return (
				this._process(
					this.eventFromException(e, t)
						.then((e) => this._captureEvent(e, t, n))
						.then((e) => {
							o = e;
						}),
				),
				o
			);
		}
		captureMessage(e, t, n, o) {
			let i = n && n.event_id;
			const r = ln(e) ? e : String(e),
				s = cn(e) ? this.eventFromMessage(r, t, n) : this.eventFromException(e, n);
			return (
				this._process(
					s
						.then((e) => this._captureEvent(e, n, o))
						.then((e) => {
							i = e;
						}),
				),
				i
			);
		}
		captureEvent(e, t, n) {
			if (t && t.originalException && fo(t.originalException)) return void (zi && Pn.log(qr));
			let o = t && t.event_id;
			const i = (e.sdkProcessingMetadata || {}).capturedSpanScope;
			return (
				this._process(
					this._captureEvent(e, t, i || n).then((e) => {
						o = e;
					}),
				),
				o
			);
		}
		captureSession(e) {
			'string' != typeof e.release
				? zi && Pn.warn('Discarded session because of missing or non-string release')
				: (this.sendSession(e),
				  ji(e, {
						init: !1,
				  }));
		}
		getDsn() {
			return this._dsn;
		}
		getOptions() {
			return this._options;
		}
		getSdkMetadata() {
			return this._options._metadata;
		}
		getTransport() {
			return this._transport;
		}
		flush(e) {
			const t = this._transport;
			return t
				? (this.metricsAggregator && this.metricsAggregator.flush(),
				  this._isClientDoneProcessing(e).then((n) => t.flush(e).then((e) => n && e)))
				: ii(!0);
		}
		close(e) {
			return this.flush(e).then(
				(e) => (
					(this.getOptions().enabled = !1), this.metricsAggregator && this.metricsAggregator.close(), e
				),
			);
		}
		getEventProcessors() {
			return this._eventProcessors;
		}
		addEventProcessor(e) {
			this._eventProcessors.push(e);
		}
		setupIntegrations(e) {
			((e && !this._integrationsInitialized) || (this._isEnabled() && !this._integrationsInitialized)) &&
				this._setupIntegrations();
		}
		init() {
			this._isEnabled() && this._setupIntegrations();
		}
		getIntegrationById(e) {
			return this.getIntegrationByName(e);
		}
		getIntegrationByName(e) {
			return this._integrations[e];
		}
		getIntegration(e) {
			try {
				return this._integrations[e.id] || null;
			} catch (t) {
				return zi && Pn.warn(`Cannot retrieve integration ${e.id} from the current Client`), null;
			}
		}
		addIntegration(e) {
			const t = this._integrations[e.name];
			Ur(this, e, this._integrations), t || zr(this, [e]);
		}
		sendEvent(e, t = {}) {
			this.emit('beforeSendEvent', e, t);
			let n = Or(e, this._dsn, this._options._metadata, this._options.tunnel);
			for (const e of t.attachments || [])
				n = xi(n, ki(e, this._options.transportOptions && this._options.transportOptions.textEncoder));
			const o = this._sendEnvelope(n);
			o && o.then((t) => this.emit('afterSendEvent', e, t), null);
		}
		sendSession(e) {
			const t = (function (e, t, n, o) {
				const i = Mi(n);
				return Si(
					{
						sent_at: new Date().toISOString(),
						...(i && {
							sdk: i,
						}),
						...(!!o &&
							t && {
								dsn: Un(t),
							}),
					},
					[
						'aggregates' in e
							? [
									{
										type: 'sessions',
									},
									e,
							  ]
							: [
									{
										type: 'session',
									},
									e.toJSON(),
							  ],
					],
				);
			})(e, this._dsn, this._options._metadata, this._options.tunnel);
			this._sendEnvelope(t);
		}
		recordDroppedEvent(e, t, n) {
			if (this._options.sendClientReports) {
				const n = `${e}:${t}`;
				zi && Pn.log(`Adding outcome: "${n}"`), (this._outcomes[n] = this._outcomes[n] + 1 || 1);
			}
		}
		captureAggregateMetrics(e) {
			zi && Pn.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);
			const t = jr(e, this._dsn, this._options._metadata, this._options.tunnel);
			this._sendEnvelope(t);
		}
		on(e, t) {
			this._hooks[e] || (this._hooks[e] = []), this._hooks[e].push(t);
		}
		emit(e, ...t) {
			this._hooks[e] && this._hooks[e].forEach((e) => e(...t));
		}
		_setupIntegrations() {
			const { integrations: e } = this._options;
			(this._integrations = (function (e, t) {
				const n = {};
				return (
					t.forEach((t) => {
						t && Ur(e, t, n);
					}),
					n
				);
			})(this, e)),
				zr(this, e),
				(this._integrationsInitialized = !0);
		}
		_updateSessionFromEvent(e, t) {
			let n = !1,
				o = !1;
			const i = t.exception && t.exception.values;
			if (i) {
				o = !0;
				for (const e of i) {
					const t = e.mechanism;
					if (t && !1 === t.handled) {
						n = !0;
						break;
					}
				}
			}
			const r = 'ok' === e.status;
			((r && 0 === e.errors) || (r && n)) &&
				(ji(e, {
					...(n && {
						status: 'crashed',
					}),
					errors: e.errors || Number(o || n),
				}),
				this.captureSession(e));
		}
		_isClientDoneProcessing(e) {
			return new si((t) => {
				let n = 0;
				const o = setInterval(() => {
					0 == this._numProcessing
						? (clearInterval(o), t(!0))
						: ((n += 1), e && n >= e && (clearInterval(o), t(!1)));
				}, 1);
			});
		}
		_isEnabled() {
			return !1 !== this.getOptions().enabled && void 0 !== this._transport;
		}
		_prepareEvent(e, t, n, o = Sr()) {
			const i = this.getOptions(),
				r = Object.keys(this._integrations);
			return (
				!t.integrations && r.length > 0 && (t.integrations = r),
				this.emit('preprocessEvent', e, t),
				Zi(i, e, t, n, this, o).then((e) => {
					if (null === e) return e;
					const t = {
						...o.getPropagationContext(),
						...(n ? n.getPropagationContext() : void 0),
					};
					if (!(e.contexts && e.contexts.trace) && t) {
						const { traceId: o, spanId: i, parentSpanId: r, dsc: s } = t;
						e.contexts = {
							trace: {
								trace_id: o,
								span_id: i,
								parent_span_id: r,
							},
							...e.contexts,
						};
						const a = s || lr(o, this, n);
						e.sdkProcessingMetadata = {
							dynamicSamplingContext: a,
							...e.sdkProcessingMetadata,
						};
					}
					return e;
				})
			);
		}
		_captureEvent(e, t = {}, n) {
			return this._processEvent(e, t, n).then(
				(e) => e.event_id,
				(e) => {
					if (zi) {
						const t = e;
						'log' === t.logLevel ? Pn.log(t.message) : Pn.warn(t);
					}
				},
			);
		}
		_processEvent(e, t, n) {
			const o = this.getOptions(),
				{ sampleRate: i } = o,
				r = Yr(e),
				s = Vr(e),
				a = e.type || 'error',
				l = `before send for type \`${a}\``;
			if (s && 'number' == typeof i && Math.random() > i)
				return (
					this.recordDroppedEvent('sample_rate', 'error', e),
					ri(
						new Fn(
							`Discarding event because it's not included in the random sample (sampling rate = ${i})`,
							'log',
						),
					)
				);
			const c = 'replay_event' === a ? 'replay' : a,
				d = (e.sdkProcessingMetadata || {}).capturedSpanIsolationScope;
			return this._prepareEvent(e, t, n, d)
				.then((n) => {
					if (null === n)
						throw (
							(this.recordDroppedEvent('event_processor', c, e),
							new Fn('An event processor returned `null`, will not send event.', 'log'))
						);
					if (t.data && !0 === t.data.__sentry__) return n;
					const i = (function (e, t, n) {
						const { beforeSend: o, beforeSendTransaction: i } = e;
						if (Vr(t) && o) return o(t, n);
						if (Yr(t) && i) return i(t, n);
						return t;
					})(o, n, t);
					return (function (e, t) {
						const n = `${t} must return \`null\` or a valid event.`;
						if (mn(e))
							return e.then(
								(e) => {
									if (!dn(e) && null !== e) throw new Fn(n);
									return e;
								},
								(e) => {
									throw new Fn(`${t} rejected with ${e}`);
								},
							);
						if (!dn(e) && null !== e) throw new Fn(n);
						return e;
					})(i, l);
				})
				.then((o) => {
					if (null === o)
						throw (
							(this.recordDroppedEvent('before_send', c, e),
							new Fn(`${l} returned \`null\`, will not send event.`, 'log'))
						);
					const i = n && n.getSession();
					!r && i && this._updateSessionFromEvent(i, o);
					const s = o.transaction_info;
					if (r && s && o.transaction !== e.transaction) {
						const e = 'custom';
						o.transaction_info = {
							...s,
							source: e,
						};
					}
					return this.sendEvent(o, t), o;
				})
				.then(null, (e) => {
					if (e instanceof Fn) throw e;
					throw (
						(this.captureException(e, {
							data: {
								__sentry__: !0,
							},
							originalException: e,
						}),
						new Fn(
							`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`,
						))
					);
				});
		}
		_process(e) {
			this._numProcessing++,
				e.then(
					(e) => (this._numProcessing--, e),
					(e) => (this._numProcessing--, e),
				);
		}
		_sendEnvelope(e) {
			if ((this.emit('beforeEnvelope', e), this._isEnabled() && this._transport))
				return this._transport.send(e).then(null, (e) => {
					zi && Pn.error('Error while sending event:', e);
				});
			zi && Pn.error('Transport disabled');
		}
		_clearOutcomes() {
			const e = this._outcomes;
			return (
				(this._outcomes = {}),
				Object.keys(e).map((t) => {
					const [n, o] = t.split(':');
					return {
						reason: n,
						category: o,
						quantity: e[t],
					};
				})
			);
		}
	}
	function Vr(e) {
		return void 0 === e.type;
	}
	function Yr(e) {
		return 'transaction' === e.type;
	}
	const Kr = {
			c: class {
				constructor(e) {
					this._value = e;
				}
				get weight() {
					return 1;
				}
				add(e) {
					this._value += e;
				}
				toString() {
					return `${this._value}`;
				}
			},
			g: class {
				constructor(e) {
					(this._last = e), (this._min = e), (this._max = e), (this._sum = e), (this._count = 1);
				}
				get weight() {
					return 5;
				}
				add(e) {
					(this._last = e),
						e < this._min && (this._min = e),
						e > this._max && (this._max = e),
						(this._sum += e),
						this._count++;
				}
				toString() {
					return `${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`;
				}
			},
			d: class {
				constructor(e) {
					this._value = [e];
				}
				get weight() {
					return this._value.length;
				}
				add(e) {
					this._value.push(e);
				}
				toString() {
					return this._value.join(':');
				}
			},
			s: class {
				constructor(e) {
					(this.first = e), (this._value = new Set([e]));
				}
				get weight() {
					return this._value.size;
				}
				add(e) {
					this._value.add(e);
				}
				toString() {
					return Array.from(this._value)
						.map((e) =>
							'string' == typeof e
								? (function (e) {
										let t = 0;
										for (let n = 0; n < e.length; n++) (t = (t << 5) - t + e.charCodeAt(n)), (t &= t);
										return t >>> 0;
								  })(e)
								: e,
						)
						.join(':');
				}
			},
		},
		Zr = 30;
	function Xr(e, t) {
		if ('event' === t || 'transaction' === t) return Array.isArray(e) ? e[1] : void 0;
	}
	function Jr(e, t) {
		const n =
				t &&
				(function (e) {
					return void 0 !== e.getClient;
				})(t)
					? t.getClient()
					: t,
			o = n && n.getDsn(),
			i = n && n.getOptions().tunnel;
		return (
			(function (e, t) {
				return !!t && e.includes(t.host);
			})(e, o) ||
			(function (e, t) {
				if (!t) return !1;
				return Qr(e) === Qr(t);
			})(e, i)
		);
	}
	function Qr(e) {
		return '/' === e[e.length - 1] ? e.slice(0, -1) : e;
	}
	const es = new Map(),
		ts = new Set();
	function ns(e, t) {
		return (
			(function (e) {
				if (Tn._sentryModuleMetadata)
					for (const t of Object.keys(Tn._sentryModuleMetadata)) {
						const n = Tn._sentryModuleMetadata[t];
						if (ts.has(t)) continue;
						ts.add(t);
						const o = e(t);
						for (const e of o.reverse())
							if (e.filename) {
								es.set(e.filename, n);
								break;
							}
					}
			})(e),
			es.get(t)
		);
	}
	const os = 'ModuleMetadata',
		is = () => ({
			name: os,
			setupOnce() {},
			setup(e) {
				'function' == typeof e.on &&
					e.on('beforeEnvelope', (e) => {
						Ti(e, (e, t) => {
							if ('event' === t) {
								const t = Array.isArray(e) ? e[1] : void 0;
								t &&
									(!(function (e) {
										try {
											e.exception.values.forEach((e) => {
												if (e.stacktrace) for (const t of e.stacktrace.frames || []) delete t.module_metadata;
											});
										} catch (e) {}
									})(t),
									(e[1] = t));
							}
						});
					});
			},
			processEvent: (e, t, n) => (
				(function (e, t) {
					try {
						t.exception.values.forEach((t) => {
							if (t.stacktrace)
								for (const n of t.stacktrace.frames || []) {
									if (!n.filename) continue;
									const t = ns(e, n.filename);
									t && (n.module_metadata = t);
								}
						});
					} catch (e) {}
				})(n.getOptions().stackParser, e),
				e
			),
		});
	Hr(os, is);
	const rs = {
			include: {
				cookies: !0,
				data: !0,
				headers: !0,
				ip: !1,
				query_string: !0,
				url: !0,
				user: {
					id: !0,
					username: !0,
					email: !0,
				},
			},
			transactionNamingScheme: 'methodPath',
		},
		ss = 'RequestData',
		as = (e = {}) => {
			const t = fi,
				n = {
					...rs,
					...e,
					include: {
						method: !0,
						...rs.include,
						...e.include,
						user:
							e.include && 'boolean' == typeof e.include.user
								? e.include.user
								: {
										...rs.include.user,
										...(e.include || {}).user,
								  },
					},
				};
			return {
				name: ss,
				setupOnce() {},
				processEvent(e, o, i) {
					const { transactionNamingScheme: r } = n,
						{ sdkProcessingMetadata: s = {} } = e,
						a = s.request;
					if (!a) return e;
					const l =
							s.requestDataOptionsFromExpressHandler ||
							s.requestDataOptionsFromGCPWrapper ||
							(function (e) {
								const {
										transactionNamingScheme: t,
										include: { ip: n, user: o, ...i },
									} = e,
									r = [];
								for (const [e, t] of Object.entries(i)) t && r.push(e);
								let s;
								if (void 0 === o) s = !0;
								else if ('boolean' == typeof o) s = o;
								else {
									const e = [];
									for (const [t, n] of Object.entries(o)) n && e.push(t);
									s = e;
								}
								return {
									include: {
										ip: n,
										user: s,
										request: 0 !== r.length ? r : void 0,
										transaction: t,
									},
								};
							})(n),
						c = t(e, a, l);
					if ('transaction' === e.type || 'handler' === r) return c;
					const d = a._sentryTransaction;
					if (d) {
						const e = Yi(d).description || '',
							t =
								'sentry.javascript.nextjs' ===
								(function (e) {
									try {
										return e.getOptions()._metadata.sdk.name;
									} catch (e) {
										return;
									}
								})(i)
									? e.startsWith('/api')
									: 'path' !== r,
							[n] = gi(a, {
								path: !0,
								method: t,
								customRoute: e,
							});
						c.transaction = n;
					}
					return c;
				},
			};
		};
	Hr(ss, as);
	const ls = [
			/^Script error\.?$/,
			/^Javascript error: Script error\.? on line 0$/,
			/^ResizeObserver loop completed with undelivered notifications.$/,
			/^Cannot redefine property: googletag$/,
		],
		cs = [
			/^.*\/healthcheck$/,
			/^.*\/healthy$/,
			/^.*\/live$/,
			/^.*\/ready$/,
			/^.*\/heartbeat$/,
			/^.*\/health$/,
			/^.*\/healthz$/,
		],
		ds = 'InboundFilters',
		us = (e = {}) => ({
			name: ds,
			setupOnce() {},
			processEvent(t, n, o) {
				const i = o.getOptions(),
					r = (function (e = {}, t = {}) {
						return {
							allowUrls: [...(e.allowUrls || []), ...(t.allowUrls || [])],
							denyUrls: [...(e.denyUrls || []), ...(t.denyUrls || [])],
							ignoreErrors: [
								...(e.ignoreErrors || []),
								...(t.ignoreErrors || []),
								...(e.disableErrorDefaults ? [] : ls),
							],
							ignoreTransactions: [
								...(e.ignoreTransactions || []),
								...(t.ignoreTransactions || []),
								...(e.disableTransactionDefaults ? [] : cs),
							],
							ignoreInternal: void 0 === e.ignoreInternal || e.ignoreInternal,
						};
					})(e, i);
				return (function (e, t) {
					if (
						t.ignoreInternal &&
						(function (e) {
							try {
								return 'SentryError' === e.exception.values[0].type;
							} catch (e) {}
							return !1;
						})(e)
					)
						return zi && Pn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${mo(e)}`), !0;
					if (
						(function (e, t) {
							if (e.type || !t || !t.length) return !1;
							return (function (e) {
								const t = [];
								e.message && t.push(e.message);
								let n;
								try {
									n = e.exception.values[e.exception.values.length - 1];
								} catch (e) {}
								n && n.value && (t.push(n.value), n.type && t.push(`${n.type}: ${n.value}`));
								zi && 0 === t.length && Pn.error(`Could not extract message for event ${mo(e)}`);
								return t;
							})(e).some((e) => yn(e, t));
						})(e, t.ignoreErrors)
					)
						return (
							zi &&
								Pn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${mo(e)}`),
							!0
						);
					if (
						(function (e, t) {
							if ('transaction' !== e.type || !t || !t.length) return !1;
							const n = e.transaction;
							return !!n && yn(n, t);
						})(e, t.ignoreTransactions)
					)
						return (
							zi &&
								Pn.warn(
									`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${mo(e)}`,
								),
							!0
						);
					if (
						(function (e, t) {
							if (!t || !t.length) return !1;
							const n = ps(e);
							return !!n && yn(n, t);
						})(e, t.denyUrls)
					)
						return (
							zi &&
								Pn.warn(
									`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${mo(e)}.\nUrl: ${ps(
										e,
									)}`,
								),
							!0
						);
					if (
						!(function (e, t) {
							if (!t || !t.length) return !0;
							const n = ps(e);
							return !n || yn(n, t);
						})(e, t.allowUrls)
					)
						return (
							zi &&
								Pn.warn(
									`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${mo(
										e,
									)}.\nUrl: ${ps(e)}`,
								),
							!0
						);
					return !1;
				})(t, r)
					? null
					: t;
			},
		});
	Hr(ds, us);
	function ps(e) {
		try {
			let t;
			try {
				t = e.exception.values[0].stacktrace.frames;
			} catch (e) {}
			return t
				? (function (e = []) {
						for (let t = e.length - 1; t >= 0; t--) {
							const n = e[t];
							if (n && '<anonymous>' !== n.filename && '[native code]' !== n.filename)
								return n.filename || null;
						}
						return null;
				  })(t)
				: null;
		} catch (t) {
			return zi && Pn.error(`Cannot extract url for event ${mo(e)}`), null;
		}
	}
	let ms;
	const gs = 'FunctionToString',
		hs = new WeakMap(),
		fs = () => ({
			name: gs,
			setupOnce() {
				ms = Function.prototype.toString;
				try {
					Function.prototype.toString = function (...e) {
						const t = Gn(this),
							n = hs.has(rr()) && void 0 !== t ? t : this;
						return ms.apply(n, e);
					};
				} catch (e) {}
			},
			setup(e) {
				hs.set(e, !0);
			},
		}),
		_s = (Hr(gs, fs), 'LinkedErrors'),
		vs = (e = {}) => {
			const t = e.limit || 5,
				n = e.key || 'cause';
			return {
				name: _s,
				setupOnce() {},
				preprocessEvent(e, o, i) {
					const r = i.getOptions();
					wn(Di, r.stackParser, r.maxValueLength, n, t, e, o);
				},
			};
		};
	Hr(_s, vs);
	class ys {
		constructor(e) {
			(this._client = e),
				(this._buckets = new Map()),
				(this._interval = setInterval(() => this.flush(), 5e3));
		}
		add(e, t, n, o = 'none', i = {}, r = bi()) {
			const s = Math.floor(r),
				a = t.replace(/[^\w\-.]+/gi, '_');
			const l = (function (e) {
					const t = {};
					for (const n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[Br(n)] = Wr(String(e[n])));
					return t;
				})(i),
				c = (function (e) {
					return e.replace(/[^\w]+/gi, '_');
				})(o),
				d = (function (e, t, n, o) {
					return `${e}${t}${n}${Object.entries(Zn(o)).sort((e, t) => e[0].localeCompare(t[0]))}`;
				})(e, a, c, l);
			let u = this._buckets.get(d);
			const p = u && 's' === e ? u.metric.weight : 0;
			u
				? (u.metric.add(n), u.timestamp < s && (u.timestamp = s))
				: ((u = {
						metric: new Kr[e](n),
						timestamp: s,
						metricType: e,
						name: a,
						unit: c,
						tags: l,
				  }),
				  this._buckets.set(d, u));
			Ar(e, a, 'string' == typeof n ? u.metric.weight - p : n, c, i, d);
		}
		flush() {
			if (0 !== this._buckets.size) {
				if (this._client.captureAggregateMetrics) {
					const e = Array.from(this._buckets).map(([, e]) => e);
					this._client.captureAggregateMetrics(e);
				}
				this._buckets.clear();
			}
		}
		close() {
			clearInterval(this._interval), this.flush();
		}
	}
	const ws = 'MetricsAggregator',
		bs = () => ({
			name: ws,
			setupOnce() {},
			setup(e) {
				e.metricsAggregator = new ys(e);
			},
		});
	Hr(ws, bs);
	const Es = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
	function Ss(e) {
		const t = Pi([
			e,
			'call',
			(e) => e(),
			'access',
			(e) => e.getClient,
			'call',
			(e) => e(),
			'optionalAccess',
			(e) => e.getOptions,
			'call',
			(e) => e(),
		]);
		return 'sentry' !== (Pi([t, 'optionalAccess', (e) => e.instrumenter]) || 'sentry');
	}
	class xs {
		static __initStatic() {
			this.id = 'Express';
		}
		constructor(e = {}) {
			(this.name = xs.id),
				(this._router = e.router || e.app),
				(this._methods = (Array.isArray(e.methods) ? e.methods : []).concat('use'));
		}
		setupOnce(e, t) {
			this._router
				? Ss(t)
					? Es && Pn.log('Express Integration is skipped because of instrumenter configuration.')
					: ((function (e, t = []) {
							t.forEach((t) =>
								(function (e, t) {
									const n = e[t];
									return (
										(e[t] = function (...e) {
											return n.call(
												this,
												...(function (e, t) {
													return e.map((e) =>
														'function' == typeof e
															? Ts(e, t)
															: Array.isArray(e)
															? e.map((e) => ('function' == typeof e ? Ts(e, t) : e))
															: e,
													);
												})(e, t),
											);
										}),
										e
									);
								})(e, t),
							);
					  })(this._router, this._methods),
					  (function (e) {
							const t = 'settings' in e;
							t && void 0 === e._router && e.lazyrouter && e.lazyrouter();
							const n = t ? e._router : e;
							if (!n)
								return (
									Es &&
										Pn.debug(
											'Cannot instrument router for URL Parameterization (did not find a valid router).',
										),
									void (Es && Pn.debug('Routing instrumentation is currently only supported in Express 4.'))
								);
							const o = Object.getPrototypeOf(n),
								i = o.process_params;
							o.process_params = function (e, t, n, o, r) {
								n._reconstructedRoute || (n._reconstructedRoute = '');
								const {
									layerRoutePath: s,
									isRegex: a,
									isArray: l,
									numExtraSegments: c,
								} = (function (e) {
									let t = Pi([e, 'access', (e) => e.route, 'optionalAccess', (e) => e.path]);
									const n = pn(t),
										o = Array.isArray(t);
									if (!t) {
										const [n] = Tn.process.versions.node.split('.').map(Number);
										n >= 16 && (t = Cs(e.path, e.regexp, e.keys));
									}
									if (!t)
										return {
											isRegex: n,
											isArray: o,
											numExtraSegments: 0,
										};
									const i = o
											? Math.max(((s = t), s.reduce((e, t) => e + di(t.toString()), 0) - di(e.path || '')), 0)
											: 0,
										r = (function (e, t) {
											if (e) return t.map((e) => e.toString()).join(',');
											return t && t.toString();
										})(o, t);
									var s;
									return {
										layerRoutePath: r,
										isRegex: n,
										isArray: o,
										numExtraSegments: i,
									};
								})(e);
								let d;
								(s || a || l) && (n._hasParameters = !0),
									(d =
										s ||
										(function (e, t, n) {
											const o = Pi([
												ci(e || ''),
												'optionalAccess',
												(e) => e.split,
												'call',
												(e) => e('/'),
												'access',
												(e) => e.filter,
												'call',
												(e) => e((e) => !!e),
											]);
											let i = 0;
											const r =
												Pi([
													t,
													'optionalAccess',
													(e) => e.split,
													'call',
													(e) => e('/'),
													'access',
													(e) => e.filter,
													'call',
													(e) => e((e) => !!e),
													'access',
													(e) => e.length,
												]) || 0;
											return Pi([
												n,
												'optionalAccess',
												(e) => e.split,
												'call',
												(e) => e('/'),
												'access',
												(e) => e.filter,
												'call',
												(e) => e((e) => Pi([o, 'optionalAccess', (e) => e[r + i]]) === e && ((i += 1), !0)),
												'access',
												(e) => e.join,
												'call',
												(e) => e('/'),
											]);
										})(n.originalUrl, n._reconstructedRoute, e.path) ||
										'');
								const u = d
									.split('/')
									.filter((e) => e.length > 0 && (a || l || !e.includes('*')))
									.join('/');
								u && u.length > 0 && (n._reconstructedRoute += `/${u}${a ? '/' : ''}`);
								if (di(ci(n.originalUrl || '')) + c === di(n._reconstructedRoute)) {
									n._hasParameters ||
										(n._reconstructedRoute !== n.originalUrl &&
											(n._reconstructedRoute = n.originalUrl ? ci(n.originalUrl) : n.originalUrl));
									const e = o.__sentry_transaction,
										t = (e && Yi(e).data) || {};
									if (e && 'custom' !== t[Rr]) {
										const t = n._reconstructedRoute || '/',
											[o, i] = gi(n, {
												path: !0,
												method: !0,
												customRoute: t,
											});
										e.updateName(o), e.setAttribute(Rr, i);
									}
								}
								return i.call(this, e, t, n, o, r);
							};
					  })(this._router))
				: Es && Pn.error('ExpressIntegration is missing an Express instance');
		}
	}
	function Ts(e, t) {
		const n = e.length;
		switch (n) {
			case 2:
				return function (n, o) {
					const i = o.__sentry_transaction;
					if (i) {
						const n = i.startChild({
							description: e.name,
							op: `middleware.express.${t}`,
							origin: 'auto.middleware.express',
						});
						o.once('finish', () => {
							n.end();
						});
					}
					return e.call(this, n, o);
				};
			case 3:
				return function (n, o, i) {
					const r = Pi([
						o.__sentry_transaction,
						'optionalAccess',
						(e) => e.startChild,
						'call',
						(n) =>
							n({
								description: e.name,
								op: `middleware.express.${t}`,
								origin: 'auto.middleware.express',
							}),
					]);
					e.call(this, n, o, function (...e) {
						Pi([r, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), i.call(this, ...e);
					});
				};
			case 4:
				return function (n, o, i, r) {
					const s = Pi([
						i.__sentry_transaction,
						'optionalAccess',
						(e) => e.startChild,
						'call',
						(n) =>
							n({
								description: e.name,
								op: `middleware.express.${t}`,
								origin: 'auto.middleware.express',
							}),
					]);
					e.call(this, n, o, i, function (...e) {
						Pi([s, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), r.call(this, ...e);
					});
				};
			default:
				throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`);
		}
	}
	xs.__initStatic();
	const Cs = (e, t, n) => {
		if (
			!(
				e &&
				t &&
				n &&
				0 !== Object.keys(n).length &&
				Pi([n, 'access', (e) => e[0], 'optionalAccess', (e) => e.offset])
			)
		)
			return;
		const o = n.sort((e, t) => e.offset - t.offset),
			i = new RegExp(t, `${t.flags}d`).exec(e);
		if (!i || !i.indices) return;
		const [, ...r] = i.indices;
		if (r.length !== o.length) return;
		let s = e,
			a = 0;
		return (
			r.forEach((e, t) => {
				if (e) {
					const [n, i] = e,
						r = s.substring(0, n - a),
						l = `:${o[t].name}`,
						c = s.substring(i - a);
					(s = r + l + c), (a += i - n - l.length);
				}
			}),
			s
		);
	};
	class $s {
		static __initStatic() {
			this.id = 'Postgres';
		}
		constructor(e = {}) {
			(this.name = $s.id), (this._usePgNative = !!e.usePgNative), (this._module = e.module);
		}
		loadDependency() {
			return (this._module = this._module || Yo('pg'));
		}
		setupOnce(e, t) {
			if (Ss(t))
				return void (Es && Pn.log('Postgres Integration is skipped because of instrumenter configuration.'));
			const n = this.loadDependency();
			if (!n) return void (Es && Pn.error('Postgres Integration was unable to require `pg` package.'));
			const o = this._usePgNative
				? Pi([n, 'access', (e) => e.native, 'optionalAccess', (e) => e.Client])
				: n.Client;
			o
				? Wn(o.prototype, 'query', function (e) {
						return function (n, o, i) {
							const r = t().getScope().getSpan(),
								s = {
									'db.system': 'postgresql',
								};
							try {
								this.database && (s['db.name'] = this.database),
									this.host && (s['server.address'] = this.host),
									this.port && (s['server.port'] = this.port),
									this.user && (s['db.user'] = this.user);
							} catch (e) {}
							const a = Pi([
								r,
								'optionalAccess',
								(e) => e.startChild,
								'call',
								(e) =>
									e({
										description: 'string' == typeof n ? n : n.text,
										op: 'db',
										origin: 'auto.db.postgres',
										data: s,
									}),
							]);
							if ('function' == typeof i)
								return e.call(this, n, o, function (e, t) {
									Pi([a, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), i(e, t);
								});
							if ('function' == typeof o)
								return e.call(this, n, function (e, t) {
									Pi([a, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), o(e, t);
								});
							const l = void 0 !== o ? e.call(this, n, o) : e.call(this, n);
							return mn(l)
								? l.then((e) => (Pi([a, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), e))
								: (Pi([a, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), l);
						};
				  })
				: Es && Pn.error("Postgres Integration was unable to access 'pg-native' bindings.");
		}
	}
	$s.__initStatic();
	class ks {
		static __initStatic() {
			this.id = 'Mysql';
		}
		constructor() {
			this.name = ks.id;
		}
		loadDependency() {
			return (this._module = this._module || Yo('mysql/lib/Connection.js'));
		}
		setupOnce(e, t) {
			if (Ss(t))
				return void (Es && Pn.log('Mysql Integration is skipped because of instrumenter configuration.'));
			const n = this.loadDependency();
			if (!n) return void (Es && Pn.error('Mysql Integration was unable to require `mysql` package.'));
			let o;
			try {
				n.prototype.connect = new Proxy(n.prototype.connect, {
					apply: (e, t, n) => (o || (o = t.config), e.apply(t, n)),
				});
			} catch (e) {
				Es && Pn.error('Mysql Integration was unable to instrument `mysql` config.');
			}
			function i(e) {
				if (!e) return;
				const t = o
					? {
							'server.address': o.host,
							'server.port': o.port,
							'db.user': o.user,
					  }
					: {};
				Object.keys(t).forEach((n) => {
					e.setAttribute(n, t[n]);
				}),
					e.end();
			}
			Wn(n, 'createQuery', function (e) {
				return function (n, o, r) {
					const s = Pi([
						t().getScope().getSpan(),
						'optionalAccess',
						(e) => e.startChild,
						'call',
						(e) =>
							e({
								description: 'string' == typeof n ? n : n.sql,
								op: 'db',
								origin: 'auto.db.mysql',
								data: {
									'db.system': 'mysql',
								},
							}),
					]);
					if ('function' == typeof r)
						return e.call(this, n, o, function (e, t, n) {
							i(s), r(e, t, n);
						});
					if ('function' == typeof o)
						return e.call(this, n, function (e, t, n) {
							i(s), o(e, t, n);
						});
					const a = e.call(this, n, o);
					return (
						a.on('end', () => {
							i(s);
						}),
						a
					);
				};
			});
		}
	}
	ks.__initStatic();
	const Ls = [
			'aggregate',
			'bulkWrite',
			'countDocuments',
			'createIndex',
			'createIndexes',
			'deleteMany',
			'deleteOne',
			'distinct',
			'drop',
			'dropIndex',
			'dropIndexes',
			'estimatedDocumentCount',
			'find',
			'findOne',
			'findOneAndDelete',
			'findOneAndReplace',
			'findOneAndUpdate',
			'indexes',
			'indexExists',
			'indexInformation',
			'initializeOrderedBulkOp',
			'insertMany',
			'insertOne',
			'isCapped',
			'mapReduce',
			'options',
			'parallelCollectionScan',
			'rename',
			'replaceOne',
			'stats',
			'updateMany',
			'updateOne',
		],
		Is = {
			bulkWrite: ['operations'],
			countDocuments: ['query'],
			createIndex: ['fieldOrSpec'],
			createIndexes: ['indexSpecs'],
			deleteMany: ['filter'],
			deleteOne: ['filter'],
			distinct: ['key', 'query'],
			dropIndex: ['indexName'],
			find: ['query'],
			findOne: ['query'],
			findOneAndDelete: ['filter'],
			findOneAndReplace: ['filter', 'replacement'],
			findOneAndUpdate: ['filter', 'update'],
			indexExists: ['indexes'],
			insertMany: ['docs'],
			insertOne: ['doc'],
			mapReduce: ['map', 'reduce'],
			rename: ['newName'],
			replaceOne: ['filter', 'doc'],
			updateMany: ['filter', 'update'],
			updateOne: ['filter', 'update'],
		};
	class Ms {
		static __initStatic() {
			this.id = 'Mongo';
		}
		constructor(e = {}) {
			(this.name = Ms.id),
				(this._operations = Array.isArray(e.operations) ? e.operations : Ls),
				(this._describeOperations = !('describeOperations' in e) || e.describeOperations),
				(this._useMongoose = !!e.useMongoose);
		}
		loadDependency() {
			const e = this._useMongoose ? 'mongoose' : 'mongodb';
			return (this._module = this._module || Yo(e));
		}
		setupOnce(e, t) {
			if (Ss(t))
				return void (Es && Pn.log('Mongo Integration is skipped because of instrumenter configuration.'));
			const n = this.loadDependency();
			if (n) this._instrumentOperations(n.Collection, this._operations, t);
			else {
				const e = this._useMongoose ? 'mongoose' : 'mongodb';
				Es && Pn.error(`Mongo Integration was unable to require \`${e}\` package.`);
			}
		}
		_instrumentOperations(e, t, n) {
			t.forEach((t) => this._patchOperation(e, t, n));
		}
		_patchOperation(e, t, n) {
			if (!(t in e.prototype)) return;
			const o = this._getSpanContextFromOperationArguments.bind(this);
			Wn(e.prototype, t, function (e) {
				return function (...i) {
					const r = i[i.length - 1],
						s = n(),
						a = s.getScope(),
						l = s.getClient(),
						c = a.getSpan(),
						d = Pi([
							l,
							'optionalAccess',
							(e) => e.getOptions,
							'call',
							(e) => e(),
							'access',
							(e) => e.sendDefaultPii,
						]);
					if ('function' != typeof r || ('mapReduce' === t && 2 === i.length)) {
						const n = Pi([c, 'optionalAccess', (e) => e.startChild, 'call', (e) => e(o(this, t, i, d))]),
							r = e.call(this, ...i);
						if (mn(r)) return r.then((e) => (Pi([n, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), e));
						if ((u = r) && 'object' == typeof u && u.once && 'function' == typeof u.once) {
							const e = r;
							try {
								e.once('close', () => {
									Pi([n, 'optionalAccess', (e) => e.end, 'call', (e) => e()]);
								});
							} catch (e) {
								Pi([n, 'optionalAccess', (e) => e.end, 'call', (e) => e()]);
							}
							return e;
						}
						return Pi([n, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), r;
					}
					var u;
					const p = Pi([
						c,
						'optionalAccess',
						(e) => e.startChild,
						'call',
						(e) => e(o(this, t, i.slice(0, -1))),
					]);
					return e.call(this, ...i.slice(0, -1), function (e, t) {
						Pi([p, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), r(e, t);
					});
				};
			});
		}
		_getSpanContextFromOperationArguments(e, t, n, o = !1) {
			const i = {
					'db.system': 'mongodb',
					'db.name': e.dbName,
					'db.operation': t,
					'db.mongodb.collection': e.collectionName,
				},
				r = {
					op: 'db',
					origin: 'auto.db.mongo',
					description: t,
					data: i,
				},
				s = Is[t],
				a = Array.isArray(this._describeOperations)
					? this._describeOperations.includes(t)
					: this._describeOperations;
			if (!s || !a || !o) return r;
			try {
				if ('mapReduce' === t) {
					const [e, t] = n;
					(i[s[0]] = 'string' == typeof e ? e : e.name || '<anonymous>'),
						(i[s[1]] = 'string' == typeof t ? t : t.name || '<anonymous>');
				} else for (let e = 0; e < s.length; e++) i[`db.mongodb.${s[e]}`] = JSON.stringify(n[e]);
			} catch (e) {}
			return r;
		}
	}
	Ms.__initStatic();
	class As {
		static __initStatic() {
			this.id = 'Prisma';
		}
		constructor(e = {}) {
			if (((this.name = As.id), (t = e.client) && t.$use && !e.client._sentryInstrumented)) {
				jn(e.client, '_sentryInstrumented', !0);
				const t = {};
				try {
					const n = e.client._engineConfig;
					if (n) {
						const { activeProvider: e, clientVersion: o } = n;
						e && (t['db.system'] = e), o && (t['db.prisma.version'] = o);
					}
				} catch (e) {}
				e.client.$use((e, n) => {
					if (Ss(Er)) return n(e);
					const o = e.action,
						i = e.model;
					return kr(
						{
							name: i ? `${i} ${o}` : o,
							onlyIfParent: !0,
							op: 'db.prisma',
							attributes: {
								'sentry.origin': 'auto.db.prisma',
							},
							data: {
								...t,
								'db.operation': o,
							},
						},
						() => n(e),
					);
				});
			} else
				Es && Pn.warn('Unsupported Prisma client provided to PrismaIntegration. Provided client:', e.client);
			var t;
		}
		setupOnce() {}
	}
	As.__initStatic();
	class Rs {
		static __initStatic() {
			this.id = 'GraphQL';
		}
		constructor() {
			this.name = Rs.id;
		}
		loadDependency() {
			return (this._module = this._module || Yo('graphql/execution/execute.js'));
		}
		setupOnce(e, t) {
			if (Ss(t))
				return void (Es && Pn.log('GraphQL Integration is skipped because of instrumenter configuration.'));
			const n = this.loadDependency();
			n
				? Wn(n, 'execute', function (e) {
						return function (...n) {
							const o = t().getScope(),
								i = o.getSpan(),
								r = Pi([
									i,
									'optionalAccess',
									(e) => e.startChild,
									'call',
									(e) =>
										e({
											description: 'execute',
											op: 'graphql.execute',
											origin: 'auto.graphql.graphql',
										}),
								]);
							Pi([o, 'optionalAccess', (e) => e.setSpan, 'call', (e) => e(r)]);
							const s = e.call(this, ...n);
							return mn(s)
								? s.then(
										(e) => (
											Pi([r, 'optionalAccess', (e) => e.end, 'call', (e) => e()]),
											Pi([o, 'optionalAccess', (e) => e.setSpan, 'call', (e) => e(i)]),
											e
										),
								  )
								: (Pi([r, 'optionalAccess', (e) => e.end, 'call', (e) => e()]),
								  Pi([o, 'optionalAccess', (e) => e.setSpan, 'call', (e) => e(i)]),
								  s);
						};
				  })
				: Es && Pn.error('GraphQL Integration was unable to require graphql/execution package.');
		}
	}
	Rs.__initStatic();
	class Os {
		static __initStatic() {
			this.id = 'Apollo';
		}
		constructor(
			e = {
				useNestjs: !1,
			},
		) {
			(this.name = Os.id), (this._useNest = !!e.useNestjs);
		}
		loadDependency() {
			return (
				this._useNest
					? (this._module = this._module || Yo('@nestjs/graphql'))
					: (this._module = this._module || Yo('apollo-server-core')),
				this._module
			);
		}
		setupOnce(e, t) {
			if (Ss(t)) Es && Pn.log('Apollo Integration is skipped because of instrumenter configuration.');
			else if (this._useNest) {
				const e = this.loadDependency();
				if (!e)
					return void (
						Es && Pn.error('Apollo-NestJS Integration was unable to require @nestjs/graphql package.')
					);
				Wn(e.GraphQLFactory.prototype, 'mergeWithSchema', function (e) {
					return function (...n) {
						return (
							Wn(this.resolversExplorerService, 'explore', function (e) {
								return function () {
									return Ns(_o(e.call(this)), t);
								};
							}),
							e.call(this, ...n)
						);
					};
				});
			} else {
				const e = this.loadDependency();
				if (!e)
					return void (
						Es && Pn.error('Apollo Integration was unable to require apollo-server-core package.')
					);
				Wn(e.ApolloServerBase.prototype, 'constructSchema', function (e) {
					return function () {
						if (!this.config.resolvers)
							return (
								Es &&
									(this.config.schema
										? (Pn.warn(
												'Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead.',
										  ),
										  Pn.warn())
										: this.config.modules &&
										  Pn.warn(
												'Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property.',
										  ),
									Pn.error('Skipping tracing as no resolvers found on the `ApolloServer` instance.')),
								e.call(this)
							);
						const n = _o(this.config.resolvers);
						return (this.config.resolvers = Ns(n, t)), e.call(this);
					};
				});
			}
		}
	}
	function Ns(e, t) {
		return e.map(
			(e) => (
				Object.keys(e).forEach((n) => {
					Object.keys(e[n]).forEach((o) => {
						'function' == typeof e[n][o] &&
							(function (e, t, n, o) {
								Wn(e[t], n, function (e) {
									return function (...i) {
										const r = Pi([
												o().getScope().getSpan(),
												'optionalAccess',
												(e) => e.startChild,
												'call',
												(e) =>
													e({
														description: `${t}.${n}`,
														op: 'graphql.resolve',
														origin: 'auto.graphql.apollo',
													}),
											]),
											s = e.call(this, ...i);
										return mn(s)
											? s.then((e) => (Pi([r, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), e))
											: (Pi([r, 'optionalAccess', (e) => e.end, 'call', (e) => e()]), s);
									};
								});
							})(e, n, o, t);
					});
				}),
				e
			),
		);
	}
	Os.__initStatic();
	const Ds = Tn,
		Ps = () =>
			Ds.__WEB_VITALS_POLYFILL__
				? Ds.performance &&
				  ((performance.getEntriesByType && performance.getEntriesByType('navigation')[0]) ||
						(() => {
							const e = Ds.performance.timing,
								t = Ds.performance.navigation.type,
								n = {
									entryType: 'navigation',
									startTime: 0,
									type: 2 == t ? 'back_forward' : 1 === t ? 'reload' : 'navigate',
								};
							for (const t in e)
								'navigationStart' !== t && 'toJSON' !== t && (n[t] = Math.max(e[t] - e.navigationStart, 0));
							return n;
						})())
				: Ds.performance && performance.getEntriesByType && performance.getEntriesByType('navigation')[0],
		zs = () => {
			const e = Ps();
			return (e && e.activationStart) || 0;
		},
		Us = (e, t, n) => {
			try {
				if (PerformanceObserver.supportedEntryTypes.includes(e)) {
					const o = new PerformanceObserver((e) => {
						t(e.getEntries());
					});
					return (
						o.observe(
							Object.assign(
								{
									type: e,
									buffered: !0,
								},
								n || {},
							),
						),
						o
					);
				}
			} catch (e) {}
		},
		Hs = (e, t) => {
			const n = (o) => {
				('pagehide' !== o.type && 'hidden' !== Ds.document.visibilityState) ||
					(e(o),
					t && (removeEventListener('visibilitychange', n, !0), removeEventListener('pagehide', n, !0)));
			};
			Ds.document && (addEventListener('visibilitychange', n, !0), addEventListener('pagehide', n, !0));
		};
	let Bs = -1;
	const Fs = () => (
			Bs < 0 &&
				(Ds.document &&
					Ds.document.visibilityState &&
					(Bs = 'hidden' !== Ds.document.visibilityState || Ds.document.prerendering ? 1 / 0 : 0),
				Hs(({ timeStamp: e }) => {
					Bs = e;
				}, !0)),
			{
				get firstHiddenTime() {
					return Bs;
				},
			}
		),
		Ws = {},
		js = (e) => {
			const t = Fs(),
				n = ((e, t) => {
					const n = Ps();
					let o = 'navigate';
					return (
						n &&
							(o =
								(Ds.document && Ds.document.prerendering) || zs() > 0
									? 'prerender'
									: n.type.replace(/_/g, '-')),
						{
							name: e,
							value: void 0 === t ? -1 : t,
							rating: 'good',
							delta: 0,
							entries: [],
							id: `v3-${Date.now()}-${Math.floor(8999999999999 * Math.random()) + 1e12}`,
							navigationType: o,
						}
					);
				})('LCP');
			let o;
			const i = (e) => {
					const i = e[e.length - 1];
					if (i) {
						const e = Math.max(i.startTime - zs(), 0);
						e < t.firstHiddenTime && ((n.value = e), (n.entries = [i]), o());
					}
				},
				r = Us('largest-contentful-paint', i);
			if (r) {
				o = ((e, t, n) => {
					let o, i;
					return (r) => {
						t.value >= 0 &&
							(r || n) &&
							((i = t.value - (o || 0)), (i || void 0 === o) && ((o = t.value), (t.delta = i), e(t)));
					};
				})(e, n);
				const t = () => {
					Ws[n.id] || (i(r.takeRecords()), r.disconnect(), (Ws[n.id] = !0), o(!0));
				};
				return (
					['keydown', 'click'].forEach((e) => {
						Ds.document &&
							addEventListener(e, t, {
								once: !0,
								capture: !0,
							});
					}),
					Hs(t, !0),
					t
				);
			}
		},
		qs = {},
		Gs = {};
	let Vs;
	function Ys(e, t = !1) {
		return (function (e, t, n, o, i = !1) {
			let r;
			Js(e, t), Gs[e] || ((r = n()), (Gs[e] = !0));
			o &&
				t({
					metric: o,
				});
			return Qs(e, t, i ? r : void 0);
		})('lcp', e, Xs, Vs, t);
	}
	function Ks(e, t) {
		return (
			Js(e, t),
			Gs[e] ||
				(!(function (e) {
					const t = {};
					'event' === e && (t.durationThreshold = 0);
					Us(
						e,
						(t) => {
							Zs(e, {
								entries: t,
							});
						},
						t,
					);
				})(e),
				(Gs[e] = !0)),
			Qs(e, t)
		);
	}
	function Zs(e, t) {
		const n = qs[e];
		if (n && n.length)
			for (const o of n)
				try {
					o(t);
				} catch (t) {
					Es &&
						Pn.error(
							`Error while triggering instrumentation handler.\nType: ${e}\nName: ${no(o)}\nError:`,
							t,
						);
				}
	}
	function Xs() {
		return js((e) => {
			Zs('lcp', {
				metric: e,
			}),
				(Vs = e);
		});
	}
	function Js(e, t) {
		(qs[e] = qs[e] || []), qs[e].push(t);
	}
	function Qs(e, t, n) {
		return () => {
			n && n();
			const o = qs[e];
			if (!o) return;
			const i = o.indexOf(t);
			-1 !== i && o.splice(i, 1);
		};
	}
	const ea = Tn;
	let ta = 0;
	function na() {
		return ta > 0;
	}
	function oa(e, t = {}, n) {
		if ('function' != typeof e) return e;
		try {
			const t = e.__sentry_wrapped__;
			if (t) return t;
			if (Gn(e)) return e;
		} catch (t) {
			return e;
		}
		const o = function () {
			const o = Array.prototype.slice.call(arguments);
			try {
				n && 'function' == typeof n && n.apply(this, arguments);
				const i = o.map((e) => oa(e, t));
				return e.apply(this, i);
			} catch (e) {
				throw (
					(ta++,
					setTimeout(() => {
						ta--;
					}),
					ir((n) => {
						n.addEventProcessor(
							(e) => (
								t.mechanism && (go(e, void 0, void 0), ho(e, t.mechanism)),
								(e.extra = {
									...e.extra,
									arguments: o,
								}),
								e
							),
						),
							er(e);
					}),
					e)
				);
			}
		};
		try {
			for (const t in e) Object.prototype.hasOwnProperty.call(e, t) && (o[t] = e[t]);
		} catch (e) {}
		qn(o, e), jn(e, '__sentry_wrapped__', o);
		try {
			Object.getOwnPropertyDescriptor(o, 'name').configurable &&
				Object.defineProperty(o, 'name', {
					get: () => e.name,
				});
		} catch (e) {}
		return o;
	}
	const ia = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
	function ra(e, t) {
		const n = aa(e, t),
			o = {
				type: t && t.name,
				value: ca(t),
			};
		return (
			n.length &&
				(o.stacktrace = {
					frames: n,
				}),
			void 0 === o.type && '' === o.value && (o.value = 'Unrecoverable error caught'),
			o
		);
	}
	function sa(e, t) {
		return {
			exception: {
				values: [ra(e, t)],
			},
		};
	}
	function aa(e, t) {
		const n = t.stacktrace || t.stack || '',
			o = (function (e) {
				if (e) {
					if ('number' == typeof e.framesToPop) return e.framesToPop;
					if (la.test(e.message)) return 1;
				}
				return 0;
			})(t);
		try {
			return e(n, o);
		} catch (e) {}
		return [];
	}
	const la = /Minified React error #\d+;/i;
	function ca(e) {
		const t = e && e.message;
		return t ? (t.error && 'string' == typeof t.error.message ? t.error.message : t) : 'No error message';
	}
	function da(e, t, n, o, i) {
		let r;
		if (rn(t) && t.error) {
			return sa(e, t.error);
		}
		if (sn(t) || on(t, 'DOMException')) {
			const i = t;
			if ('stack' in t) r = sa(e, t);
			else {
				const t = i.name || (sn(i) ? 'DOMError' : 'DOMException'),
					s = i.message ? `${t}: ${i.message}` : t;
				(r = ua(e, s, n, o)), go(r, s);
			}
			return (
				'code' in i &&
					(r.tags = {
						...r.tags,
						'DOMException.code': `${i.code}`,
					}),
				r
			);
		}
		if (nn(t)) return sa(e, t);
		if (dn(t) || un(t)) {
			return (
				(r = (function (e, t, n, o) {
					const i = rr(),
						r = i && i.getOptions().normalizeDepth,
						s = {
							exception: {
								values: [
									{
										type: un(t) ? t.constructor.name : o ? 'UnhandledRejection' : 'Error',
										value: pa(t, {
											isUnhandledRejection: o,
										}),
									},
								],
							},
							extra: {
								__serialized__: Xo(t, r),
							},
						};
					if (n) {
						const t = aa(e, n);
						t.length &&
							(s.exception.values[0].stacktrace = {
								frames: t,
							});
					}
					return s;
				})(e, t, n, i)),
				ho(r, {
					synthetic: !0,
				}),
				r
			);
		}
		return (
			(r = ua(e, t, n, o)),
			go(r, `${t}`, void 0),
			ho(r, {
				synthetic: !0,
			}),
			r
		);
	}
	function ua(e, t, n, o) {
		const i = {};
		if (o && n) {
			const o = aa(e, n);
			o.length &&
				(i.exception = {
					values: [
						{
							value: t,
							stacktrace: {
								frames: o,
							},
						},
					],
				});
		}
		if (ln(t)) {
			const { __sentry_template_string__: e, __sentry_template_values__: n } = t;
			return (
				(i.logentry = {
					message: e,
					params: n,
				}),
				i
			);
		}
		return (i.message = t), i;
	}
	function pa(e, { isUnhandledRejection: t }) {
		const n = (function (e, t = 40) {
				const n = Object.keys(Vn(e));
				if ((n.sort(), !n.length)) return '[object has no keys]';
				if (n[0].length >= t) return fn(n[0], t);
				for (let e = n.length; e > 0; e--) {
					const o = n.slice(0, e).join(', ');
					if (!(o.length > t)) return e === n.length ? o : fn(o, t);
				}
				return '';
			})(e),
			o = t ? 'promise rejection' : 'exception';
		if (rn(e)) return `Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;
		if (un(e)) {
			return `Event \`${(function (e) {
				try {
					const t = Object.getPrototypeOf(e);
					return t ? t.constructor.name : void 0;
				} catch (e) {}
			})(e)}\` (type=${e.type}) captured as ${o}`;
		}
		return `Object captured as ${o} with keys: ${n}`;
	}
	class ma extends Gr {
		constructor(e) {
			!(function (e, t, n = [t], o = 'npm') {
				const i = e._metadata || {};
				i.sdk ||
					(i.sdk = {
						name: `sentry.javascript.${t}`,
						packages: n.map((e) => ({
							name: `${o}:@sentry/${e}`,
							version: fr,
						})),
						version: fr,
					}),
					(e._metadata = i);
			})(e, 'browser', ['browser'], ea.SENTRY_SDK_SOURCE || 'npm'),
				super(e),
				e.sendClientReports &&
					ea.document &&
					ea.document.addEventListener('visibilitychange', () => {
						'hidden' === ea.document.visibilityState && this._flushOutcomes();
					});
		}
		eventFromException(e, t) {
			return (function (e, t, n, o) {
				const i = da(e, t, (n && n.syntheticException) || void 0, o);
				return ho(i), (i.level = 'error'), n && n.event_id && (i.event_id = n.event_id), ii(i);
			})(this._options.stackParser, e, t, this._options.attachStacktrace);
		}
		eventFromMessage(e, t = 'info', n) {
			return (function (e, t, n = 'info', o, i) {
				const r = ua(e, t, (o && o.syntheticException) || void 0, i);
				return (r.level = n), o && o.event_id && (r.event_id = o.event_id), ii(r);
			})(this._options.stackParser, e, t, n, this._options.attachStacktrace);
		}
		captureUserFeedback(e) {
			if (!this._isEnabled()) return void (ia && Pn.warn('SDK not enabled, will not capture user feedback.'));
			const t = (function (e, { metadata: t, tunnel: n, dsn: o }) {
				const i = {
						event_id: e.event_id,
						sent_at: new Date().toISOString(),
						...(t &&
							t.sdk && {
								sdk: {
									name: t.sdk.name,
									version: t.sdk.version,
								},
							}),
						...(!!n &&
							!!o && {
								dsn: Un(o),
							}),
					},
					r = (function (e) {
						return [
							{
								type: 'user_report',
							},
							e,
						];
					})(e);
				return Si(i, [r]);
			})(e, {
				metadata: this.getSdkMetadata(),
				dsn: this.getDsn(),
				tunnel: this.getOptions().tunnel,
			});
			this._sendEnvelope(t);
		}
		_prepareEvent(e, t, n) {
			return (e.platform = e.platform || 'javascript'), super._prepareEvent(e, t, n);
		}
		_flushOutcomes() {
			const e = this._clearOutcomes();
			if (0 === e.length) return void (ia && Pn.log('No outcomes to send'));
			if (!this._dsn) return void (ia && Pn.log('No dsn provided, will not send outcomes'));
			ia && Pn.log('Sending outcomes:', e);
			const t =
				((n = e),
				Si(
					(o = this._options.tunnel && Un(this._dsn))
						? {
								dsn: o,
						  }
						: {},
					[
						[
							{
								type: 'client_report',
							},
							{
								timestamp: i || wi(),
								discarded_events: n,
							},
						],
					],
				));
			var n, o, i;
			this._sendEnvelope(t);
		}
	}
	let ga;
	function ha(
		e,
		t = (function () {
			if (ga) return ga;
			if ($o(ea.fetch)) return (ga = ea.fetch.bind(ea));
			const e = ea.document;
			let t = ea.fetch;
			if (e && 'function' == typeof e.createElement)
				try {
					const n = e.createElement('iframe');
					(n.hidden = !0), e.head.appendChild(n);
					const o = n.contentWindow;
					o && o.fetch && (t = o.fetch), e.head.removeChild(n);
				} catch (e) {
					ia && Pn.warn('Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ', e);
				}
			return (ga = t.bind(ea));
		})(),
	) {
		let n = 0,
			o = 0;
		return (function (e, t, n = ai(e.bufferSize || Zr)) {
			let o = {};
			function i(i) {
				const r = [];
				if (
					(Ti(i, (t, n) => {
						const i = Ii(n);
						if (Oi(o, i)) {
							const o = Xr(t, n);
							e.recordDroppedEvent('ratelimit_backoff', i, o);
						} else r.push(t);
					}),
					0 === r.length)
				)
					return ii();
				const s = Si(i[0], r),
					a = (t) => {
						Ti(s, (n, o) => {
							const i = Xr(n, o);
							e.recordDroppedEvent(t, Ii(o), i);
						});
					};
				return n
					.add(() =>
						t({
							body: $i(s, e.textEncoder),
						}).then(
							(e) => (
								void 0 !== e.statusCode &&
									(e.statusCode < 200 || e.statusCode >= 300) &&
									zi &&
									Pn.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),
								(o = Ni(o, e)),
								e
							),
							(e) => {
								throw (a('network_error'), e);
							},
						),
					)
					.then(
						(e) => e,
						(e) => {
							if (e instanceof Fn)
								return (
									zi && Pn.error('Skipped sending event because buffer is full.'), a('queue_overflow'), ii()
								);
							throw e;
						},
					);
			}
			return (
				(i.__sentry__baseTransport__ = !0),
				{
					send: i,
					flush: (e) => n.drain(e),
				}
			);
		})(e, function (i) {
			const r = i.body.length;
			(n += r), o++;
			const s = {
				body: i.body,
				method: 'POST',
				referrerPolicy: 'origin',
				headers: e.headers,
				keepalive: n <= 6e4 && o < 15,
				...e.fetchOptions,
			};
			try {
				return t(e.url, s).then(
					(e) => (
						(n -= r),
						o--,
						{
							statusCode: e.status,
							headers: {
								'x-sentry-rate-limits': e.headers.get('X-Sentry-Rate-Limits'),
								'retry-after': e.headers.get('Retry-After'),
							},
						}
					),
				);
			} catch (e) {
				return (ga = void 0), (n -= r), o--, ri(e);
			}
		});
	}
	const fa = '?';
	function _a(e, t, n, o) {
		const i = {
			filename: e,
			function: t,
			in_app: !0,
		};
		return void 0 !== n && (i.lineno = n), void 0 !== o && (i.colno = o), i;
	}
	const va =
			/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,
		ya = /\((\S*)(?::(\d+))(?::(\d+))\)/,
		wa =
			/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,
		ba = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i,
		Ea = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,
		Sa = (function (...e) {
			const t = e.sort((e, t) => e[0] - t[0]).map((e) => e[1]);
			return (e, n = 0) => {
				const o = [],
					i = e.split('\n');
				for (let e = n; e < i.length; e++) {
					const n = i[e];
					if (n.length > 1024) continue;
					const r = Qn.test(n) ? n.replace(Qn, '$1') : n;
					if (!r.match(/\S*Error: /)) {
						for (const e of t) {
							const t = e(r);
							if (t) {
								o.push(t);
								break;
							}
						}
						if (o.length >= Jn) break;
					}
				}
				return (function (e) {
					if (!e.length) return [];
					const t = Array.from(e);
					/sentryWrapped/.test(t[t.length - 1].function || '') && t.pop();
					t.reverse(),
						eo.test(t[t.length - 1].function || '') &&
							(t.pop(), eo.test(t[t.length - 1].function || '') && t.pop());
					return t.slice(0, Jn).map((e) => ({
						...e,
						filename: e.filename || t[t.length - 1].filename,
						function: e.function || '?',
					}));
				})(o);
			};
		})(
			...[
				[
					30,
					(e) => {
						const t = va.exec(e);
						if (t) {
							if (t[2] && 0 === t[2].indexOf('eval')) {
								const e = ya.exec(t[2]);
								e && ((t[2] = e[1]), (t[3] = e[2]), (t[4] = e[3]));
							}
							const [e, n] = xa(t[1] || fa, t[2]);
							return _a(n, e, t[3] ? +t[3] : void 0, t[4] ? +t[4] : void 0);
						}
					},
				],
				[
					50,
					(e) => {
						const t = wa.exec(e);
						if (t) {
							if (t[3] && t[3].indexOf(' > eval') > -1) {
								const e = ba.exec(t[3]);
								e && ((t[1] = t[1] || 'eval'), (t[3] = e[1]), (t[4] = e[2]), (t[5] = ''));
							}
							let e = t[3],
								n = t[1] || fa;
							return ([n, e] = xa(n, e)), _a(e, n, t[4] ? +t[4] : void 0, t[5] ? +t[5] : void 0);
						}
					},
				],
				[
					40,
					(e) => {
						const t = Ea.exec(e);
						return t ? _a(t[2], t[1] || fa, +t[3], t[4] ? +t[4] : void 0) : void 0;
					},
				],
			],
		),
		xa = (e, t) => {
			const n = -1 !== e.indexOf('safari-extension'),
				o = -1 !== e.indexOf('safari-web-extension');
			return n || o
				? [
						-1 !== e.indexOf('@') ? e.split('@')[0] : fa,
						n ? `safari-extension:${t}` : `safari-web-extension:${t}`,
				  ]
				: [e, t];
		},
		Ta = 1024,
		Ca = 'Breadcrumbs',
		$a = (e = {}) => {
			const t = {
				console: !0,
				dom: !0,
				fetch: !0,
				history: !0,
				sentry: !0,
				xhr: !0,
				...e,
			};
			return {
				name: Ca,
				setupOnce() {},
				setup(e) {
					t.console &&
						lo(
							(function (e) {
								return function (t) {
									if (rr() !== e) return;
									const n = {
										category: 'console',
										data: {
											arguments: t.args,
											logger: 'console',
										},
										level: vi(t.level),
										message: vn(t.args, ' '),
									};
									if ('assert' === t.level) {
										if (!1 !== t.args[0]) return;
										(n.message = `Assertion failed: ${vn(t.args.slice(1), ' ') || 'console.assert'}`),
											(n.data.arguments = t.args.slice(1));
									}
									or(n, {
										input: t.args,
										level: t.level,
									});
								};
							})(e),
						),
						t.dom &&
							So(
								(function (e, t) {
									return function (n) {
										if (rr() !== e) return;
										let o,
											i,
											r = 'object' == typeof t ? t.serializeAttribute : void 0,
											s =
												'object' == typeof t && 'number' == typeof t.maxStringLength
													? t.maxStringLength
													: void 0;
										s &&
											s > Ta &&
											(ia &&
												Pn.warn(
													`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${s} was configured. Sentry will use 1024 instead.`,
												),
											(s = Ta)),
											'string' == typeof r && (r = [r]);
										try {
											const e = n.event,
												t = (function (e) {
													return !!e && !!e.target;
												})(e)
													? e.target
													: e;
											(o = In(t, {
												keyAttrs: r,
												maxStringLength: s,
											})),
												(i = (function (e) {
													if (!kn.HTMLElement) return null;
													let t = e;
													for (let e = 0; e < 5; e++) {
														if (!t) return null;
														if (t instanceof HTMLElement && t.dataset.sentryComponent)
															return t.dataset.sentryComponent;
														t = t.parentNode;
													}
													return null;
												})(t));
										} catch (e) {
											o = '<unknown>';
										}
										if (0 === o.length) return;
										const a = {
											category: `ui.${n.name}`,
											message: o,
										};
										i &&
											(a.data = {
												'ui.component_name': i,
											}),
											or(a, {
												event: n.event,
												name: n.name,
												global: n.global,
											});
									};
								})(e, t.dom),
							),
						t.xhr &&
							jo(
								(function (e) {
									return function (t) {
										if (rr() !== e) return;
										const { startTimestamp: n, endTimestamp: o } = t,
											i = t.xhr[Wo];
										if (!n || !o || !i) return;
										const { method: r, url: s, status_code: a, body: l } = i;
										or(
											{
												category: 'xhr',
												data: {
													method: r,
													url: s,
													status_code: a,
												},
												type: 'http',
											},
											{
												xhr: t.xhr,
												input: l,
												startTimestamp: n,
												endTimestamp: o,
											},
										);
									};
								})(e),
							),
						t.fetch &&
							Lo(
								(function (e) {
									return function (t) {
										if (rr() !== e) return;
										const { startTimestamp: n, endTimestamp: o } = t;
										if (o && (!t.fetchData.url.match(/sentry_key/) || 'POST' !== t.fetchData.method))
											if (t.error) {
												or(
													{
														category: 'fetch',
														data: t.fetchData,
														level: 'error',
														type: 'http',
													},
													{
														data: t.error,
														input: t.args,
														startTimestamp: n,
														endTimestamp: o,
													},
												);
											} else {
												const e = t.response;
												or(
													{
														category: 'fetch',
														data: {
															...t.fetchData,
															status_code: e && e.status,
														},
														type: 'http',
													},
													{
														input: t.args,
														response: e,
														startTimestamp: n,
														endTimestamp: o,
													},
												);
											}
									};
								})(e),
							),
						t.history &&
							Ho(
								(function (e) {
									return function (t) {
										if (rr() !== e) return;
										let n = t.from,
											o = t.to;
										const i = li(ea.location.href);
										let r = n ? li(n) : void 0;
										const s = li(o);
										(r && r.path) || (r = i),
											i.protocol === s.protocol && i.host === s.host && (o = s.relative),
											i.protocol === r.protocol && i.host === r.host && (n = r.relative),
											or({
												category: 'navigation',
												data: {
													from: n,
													to: o,
												},
											});
									};
								})(e),
							),
						t.sentry &&
							e.on &&
							e.on(
								'beforeSendEvent',
								(function (e) {
									return function (t) {
										rr() === e &&
											or(
												{
													category: 'sentry.' + ('transaction' === t.type ? 'transaction' : 'event'),
													event_id: t.event_id,
													level: t.level,
													message: mo(t),
												},
												{
													event: t,
												},
											);
									};
								})(e),
							);
				},
			};
		};
	Hr(Ca, $a);
	const ka = 'Dedupe',
		La = () => {
			let e;
			return {
				name: ka,
				setupOnce() {},
				processEvent(t) {
					if (t.type) return t;
					try {
						if (
							(function (e, t) {
								if (!t) return !1;
								if (
									(function (e, t) {
										const n = e.message,
											o = t.message;
										if (!n && !o) return !1;
										if ((n && !o) || (!n && o)) return !1;
										if (n !== o) return !1;
										if (!Ma(e, t)) return !1;
										if (!Ia(e, t)) return !1;
										return !0;
									})(e, t)
								)
									return !0;
								if (
									(function (e, t) {
										const n = Aa(t),
											o = Aa(e);
										if (!n || !o) return !1;
										if (n.type !== o.type || n.value !== o.value) return !1;
										if (!Ma(e, t)) return !1;
										if (!Ia(e, t)) return !1;
										return !0;
									})(e, t)
								)
									return !0;
								return !1;
							})(t, e)
						)
							return (
								ia && Pn.warn('Event dropped due to being a duplicate of previously captured event.'), null
							);
					} catch (e) {}
					return (e = t);
				},
			};
		};
	Hr(ka, La);
	function Ia(e, t) {
		let n = Ra(e),
			o = Ra(t);
		if (!n && !o) return !0;
		if ((n && !o) || (!n && o)) return !1;
		if (o.length !== n.length) return !1;
		for (let e = 0; e < o.length; e++) {
			const t = o[e],
				i = n[e];
			if (
				t.filename !== i.filename ||
				t.lineno !== i.lineno ||
				t.colno !== i.colno ||
				t.function !== i.function
			)
				return !1;
		}
		return !0;
	}
	function Ma(e, t) {
		let n = e.fingerprint,
			o = t.fingerprint;
		if (!n && !o) return !0;
		if ((n && !o) || (!n && o)) return !1;
		try {
			return !(n.join('') !== o.join(''));
		} catch (e) {
			return !1;
		}
	}
	function Aa(e) {
		return e.exception && e.exception.values && e.exception.values[0];
	}
	function Ra(e) {
		const t = e.exception;
		if (t)
			try {
				return t.values[0].stacktrace.frames;
			} catch (e) {
				return;
			}
	}
	const Oa = 'GlobalHandlers',
		Na = (e = {}) => {
			const t = {
				onerror: !0,
				onunhandledrejection: !0,
				...e,
			};
			return {
				name: Oa,
				setupOnce() {
					Error.stackTraceLimit = 50;
				},
				setup(e) {
					t.onerror &&
						(!(function (e) {
							!(function (e) {
								const t = 'error';
								ro(t, e), so(t, Oo);
							})((t) => {
								const { stackParser: n, attachStacktrace: o } = za();
								if (rr() !== e || na()) return;
								const { msg: i, url: r, line: s, column: a, error: l } = t,
									c =
										void 0 === l && an(i)
											? (function (e, t, n, o) {
													const i =
														/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;
													let r = rn(e) ? e.message : e,
														s = 'Error';
													const a = r.match(i);
													a && ((s = a[1]), (r = a[2]));
													const l = {
														exception: {
															values: [
																{
																	type: s,
																	value: r,
																},
															],
														},
													};
													return Da(l, t, n, o);
											  })(i, r, s, a)
											: Da(da(n, l || i, void 0, o, !1), r, s, a);
								(c.level = 'error'),
									nr(c, {
										originalException: l,
										mechanism: {
											handled: !1,
											type: 'onerror',
										},
									});
							});
						})(e),
						Pa('onerror')),
						t.onunhandledrejection &&
							(!(function (e) {
								!(function (e) {
									const t = 'unhandledrejection';
									ro(t, e), so(t, Do);
								})((t) => {
									const { stackParser: n, attachStacktrace: o } = za();
									if (rr() !== e || na()) return;
									const i = (function (e) {
											if (cn(e)) return e;
											const t = e;
											try {
												if ('reason' in t) return t.reason;
												if ('detail' in t && 'reason' in t.detail) return t.detail.reason;
											} catch (e) {}
											return e;
										})(t),
										r = cn(i)
											? {
													exception: {
														values: [
															{
																type: 'UnhandledRejection',
																value: `Non-Error promise rejection captured with value: ${String(i)}`,
															},
														],
													},
											  }
											: da(n, i, void 0, o, !0);
									(r.level = 'error'),
										nr(r, {
											originalException: i,
											mechanism: {
												handled: !1,
												type: 'onunhandledrejection',
											},
										});
								});
							})(e),
							Pa('onunhandledrejection'));
				},
			};
		};
	Hr(Oa, Na);
	function Da(e, t, n, o) {
		const i = (e.exception = e.exception || {}),
			r = (i.values = i.values || []),
			s = (r[0] = r[0] || {}),
			a = (s.stacktrace = s.stacktrace || {}),
			l = (a.frames = a.frames || []),
			c = isNaN(parseInt(o, 10)) ? void 0 : o,
			d = isNaN(parseInt(n, 10)) ? void 0 : n,
			u = an(t) && t.length > 0 ? t : An();
		return (
			0 === l.length &&
				l.push({
					colno: c,
					filename: u,
					function: '?',
					in_app: !0,
					lineno: d,
				}),
			e
		);
	}
	function Pa(e) {
		ia && Pn.log(`Global Handler attached: ${e}`);
	}
	function za() {
		const e = rr();
		return (
			(e && e.getOptions()) || {
				stackParser: () => [],
				attachStacktrace: !1,
			}
		);
	}
	const Ua = 'HttpContext',
		Ha = () => ({
			name: Ua,
			setupOnce() {},
			preprocessEvent(e) {
				if (!ea.navigator && !ea.location && !ea.document) return;
				const t = (e.request && e.request.url) || (ea.location && ea.location.href),
					{ referrer: n } = ea.document || {},
					{ userAgent: o } = ea.navigator || {},
					i = {
						...(e.request && e.request.headers),
						...(n && {
							Referer: n,
						}),
						...(o && {
							'User-Agent': o,
						}),
					},
					r = {
						...e.request,
						...(t && {
							url: t,
						}),
						headers: i,
					};
				e.request = r;
			},
		}),
		Ba = (Hr(Ua, Ha), 'LinkedErrors'),
		Fa = (e = {}) => {
			const t = e.limit || 5,
				n = e.key || 'cause';
			return {
				name: Ba,
				setupOnce() {},
				preprocessEvent(e, o, i) {
					const r = i.getOptions();
					wn(ra, r.stackParser, r.maxValueLength, n, t, e, o);
				},
			};
		},
		Wa =
			(Hr(Ba, Fa),
			[
				'EventTarget',
				'Window',
				'Node',
				'ApplicationCache',
				'AudioTrackList',
				'BroadcastChannel',
				'ChannelMergerNode',
				'CryptoOperation',
				'EventSource',
				'FileReader',
				'HTMLUnknownElement',
				'IDBDatabase',
				'IDBRequest',
				'IDBTransaction',
				'KeyOperation',
				'MediaController',
				'MessagePort',
				'ModalWindow',
				'Notification',
				'SVGElementInstance',
				'Screen',
				'SharedWorker',
				'TextTrack',
				'TextTrackCue',
				'TextTrackList',
				'WebSocket',
				'WebSocketWorker',
				'Worker',
				'XMLHttpRequest',
				'XMLHttpRequestEventTarget',
				'XMLHttpRequestUpload',
			]),
		ja = 'TryCatch',
		qa = (e = {}) => {
			const t = {
				XMLHttpRequest: !0,
				eventTarget: !0,
				requestAnimationFrame: !0,
				setInterval: !0,
				setTimeout: !0,
				...e,
			};
			return {
				name: ja,
				setupOnce() {
					t.setTimeout && Wn(ea, 'setTimeout', Ga),
						t.setInterval && Wn(ea, 'setInterval', Ga),
						t.requestAnimationFrame && Wn(ea, 'requestAnimationFrame', Va),
						t.XMLHttpRequest && 'XMLHttpRequest' in ea && Wn(XMLHttpRequest.prototype, 'send', Ya);
					const e = t.eventTarget;
					if (e) {
						(Array.isArray(e) ? e : Wa).forEach(Ka);
					}
				},
			};
		};
	Hr(ja, qa);
	function Ga(e) {
		return function (...t) {
			const n = t[0];
			return (
				(t[0] = oa(n, {
					mechanism: {
						data: {
							function: no(e),
						},
						handled: !1,
						type: 'instrument',
					},
				})),
				e.apply(this, t)
			);
		};
	}
	function Va(e) {
		return function (t) {
			return e.apply(this, [
				oa(t, {
					mechanism: {
						data: {
							function: 'requestAnimationFrame',
							handler: no(e),
						},
						handled: !1,
						type: 'instrument',
					},
				}),
			]);
		};
	}
	function Ya(e) {
		return function (...t) {
			const n = this;
			return (
				['onload', 'onerror', 'onprogress', 'onreadystatechange'].forEach((e) => {
					e in n &&
						'function' == typeof n[e] &&
						Wn(n, e, function (t) {
							const n = {
									mechanism: {
										data: {
											function: e,
											handler: no(t),
										},
										handled: !1,
										type: 'instrument',
									},
								},
								o = Gn(t);
							return o && (n.mechanism.data.handler = no(o)), oa(t, n);
						});
				}),
				e.apply(this, t)
			);
		};
	}
	function Ka(e) {
		const t = ea,
			n = t[e] && t[e].prototype;
		n &&
			n.hasOwnProperty &&
			n.hasOwnProperty('addEventListener') &&
			(Wn(n, 'addEventListener', function (t) {
				return function (n, o, i) {
					try {
						'function' == typeof o.handleEvent &&
							(o.handleEvent = oa(o.handleEvent, {
								mechanism: {
									data: {
										function: 'handleEvent',
										handler: no(o),
										target: e,
									},
									handled: !1,
									type: 'instrument',
								},
							}));
					} catch (e) {}
					return t.apply(this, [
						n,
						oa(o, {
							mechanism: {
								data: {
									function: 'addEventListener',
									handler: no(o),
									target: e,
								},
								handled: !1,
								type: 'instrument',
							},
						}),
						i,
					]);
				};
			}),
			Wn(n, 'removeEventListener', function (e) {
				return function (t, n, o) {
					const i = n;
					try {
						const n = i && i.__sentry_wrapped__;
						n && e.call(this, t, n, o);
					} catch (e) {}
					return e.call(this, t, i, o);
				};
			}));
	}
	const Za = [us(), fs(), qa(), $a(), Na(), Fa(), La(), Ha()];
	const Xa = Tn,
		Ja = 'sentryReplaySession',
		Qa = 'replay_event',
		el = 'Unable to send Replay',
		tl = 15e4,
		nl = 5e3,
		ol = 2e7,
		il = 36e5;
	function rl(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	var sl;
	function al(e) {
		const t = rl([e, 'optionalAccess', (e) => e.host]);
		return Boolean(rl([t, 'optionalAccess', (e) => e.shadowRoot]) === e);
	}
	function ll(e) {
		return '[object ShadowRoot]' === Object.prototype.toString.call(e);
	}
	function cl(e) {
		try {
			const n = e.rules || e.cssRules;
			return n
				? ((t = Array.from(n, dl).join('')).includes(' background-clip: text;') &&
						!t.includes(' -webkit-background-clip: text;') &&
						(t = t.replace(
							' background-clip: text;',
							' -webkit-background-clip: text; background-clip: text;',
						)),
				  t)
				: null;
		} catch (e) {
			return null;
		}
		var t;
	}
	function dl(e) {
		let t;
		if (
			(function (e) {
				return 'styleSheet' in e;
			})(e)
		)
			try {
				t =
					cl(e.styleSheet) ||
					(function (e) {
						const { cssText: t } = e;
						if (t.split('"').length < 3) return t;
						const n = ['@import', `url(${JSON.stringify(e.href)})`];
						return (
							'' === e.layerName ? n.push('layer') : e.layerName && n.push(`layer(${e.layerName})`),
							e.supportsText && n.push(`supports(${e.supportsText})`),
							e.media.length && n.push(e.media.mediaText),
							n.join(' ') + ';'
						);
					})(e);
			} catch (e) {}
		else if (
			(function (e) {
				return 'selectorText' in e;
			})(e) &&
			e.selectorText.includes(':')
		)
			return (function (e) {
				const t = /(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;
				return e.replace(t, '$1\\$2');
			})(e.cssText);
		return t || e.cssText;
	}
	!(function (e) {
		(e[(e.Document = 0)] = 'Document'),
			(e[(e.DocumentType = 1)] = 'DocumentType'),
			(e[(e.Element = 2)] = 'Element'),
			(e[(e.Text = 3)] = 'Text'),
			(e[(e.CDATA = 4)] = 'CDATA'),
			(e[(e.Comment = 5)] = 'Comment');
	})(sl || (sl = {}));
	class ul {
		constructor() {
			(this.idNodeMap = new Map()), (this.nodeMetaMap = new WeakMap());
		}
		getId(e) {
			if (!e) return -1;
			const t = rl([this, 'access', (e) => e.getMeta, 'call', (t) => t(e), 'optionalAccess', (e) => e.id]);
			return (o = () => -1), null != (n = t) ? n : o();
			var n, o;
		}
		getNode(e) {
			return this.idNodeMap.get(e) || null;
		}
		getIds() {
			return Array.from(this.idNodeMap.keys());
		}
		getMeta(e) {
			return this.nodeMetaMap.get(e) || null;
		}
		removeNodeFromMap(e) {
			const t = this.getId(e);
			this.idNodeMap.delete(t), e.childNodes && e.childNodes.forEach((e) => this.removeNodeFromMap(e));
		}
		has(e) {
			return this.idNodeMap.has(e);
		}
		hasNode(e) {
			return this.nodeMetaMap.has(e);
		}
		add(e, t) {
			const n = t.id;
			this.idNodeMap.set(n, e), this.nodeMetaMap.set(e, t);
		}
		replace(e, t) {
			const n = this.getNode(e);
			if (n) {
				const e = this.nodeMetaMap.get(n);
				e && this.nodeMetaMap.set(t, e);
			}
			this.idNodeMap.set(e, t);
		}
		reset() {
			(this.idNodeMap = new Map()), (this.nodeMetaMap = new WeakMap());
		}
	}
	function pl({ maskInputOptions: e, tagName: t, type: n }) {
		return (
			'OPTION' === t && (t = 'SELECT'),
			Boolean(e[t.toLowerCase()] || (n && e[n]) || 'password' === n || ('INPUT' === t && !n && e.text))
		);
	}
	function ml({ isMasked: e, element: t, value: n, maskInputFn: o }) {
		let i = n || '';
		return e ? (o && (i = o(i, t)), '*'.repeat(i.length)) : i;
	}
	function gl(e) {
		return e.toLowerCase();
	}
	function hl(e) {
		return e.toUpperCase();
	}
	const fl = '__rrweb_original__';
	function _l(e) {
		const t = e.type;
		return e.hasAttribute('data-rr-is-password') ? 'password' : t ? gl(t) : null;
	}
	function vl(e, t, n) {
		return 'INPUT' !== t || ('radio' !== n && 'checkbox' !== n) ? e.value : e.getAttribute('value') || '';
	}
	let yl = 1;
	const wl = new RegExp('[^a-z0-9-_:]'),
		bl = -2;
	function El() {
		return yl++;
	}
	let Sl, xl;
	const Tl = /url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,
		Cl = /^(?:[a-z+]+:)?\/\//i,
		$l = /^www\..*/i,
		kl = /^(data:)([^,]*),(.*)/i;
	function Ll(e, t) {
		return (e || '').replace(Tl, (e, n, o, i, r, s) => {
			const a = o || r || s,
				l = n || i || '';
			if (!a) return e;
			if (Cl.test(a) || $l.test(a)) return `url(${l}${a}${l})`;
			if (kl.test(a)) return `url(${l}${a}${l})`;
			if ('/' === a[0])
				return `url(${l}${
					(function (e) {
						lett = '';
						return (
							(t = e.indexOf('//') > -1 ? e.split('/').slice(0, 3).join('/') : e.split('/')[0]),
							(t = t.split('?')[0]),
							t
						);
					})(t) + a
				}${l})`;
			const c = t.split('/'),
				d = a.split('/');
			c.pop();
			for (const e of d) '.' !== e && ('..' === e ? c.pop() : c.push(e));
			return `url(${l}${c.join('/')}${l})`;
		});
	}
	const Il = /^[^ \t\n\r\u000c]+/,
		Ml = /^[, \t\n\r\u000c]+/;
	function Al(e, t) {
		if (!t || '' === t.trim()) return t;
		const n = e.createElement('a');
		return (n.href = t), n.href;
	}
	function Rl(e) {
		return Boolean('svg' === e.tagName || e.ownerSVGElement);
	}
	function Ol() {
		const e = document.createElement('a');
		return (e.href = ''), e.href;
	}
	function Nl(e, t, n, o, i, r) {
		return o
			? 'src' === n || ('href' === n && ('use' !== t || '#' !== o[0])) || ('xlink:href' === n && '#' !== o[0])
				? Al(e, o)
				: 'background' !== n || ('table' !== t && 'td' !== t && 'th' !== t)
				? 'srcset' === n
					? (function (e, t) {
							if ('' === t.trim()) return t;
							let n = 0;
							function o(e) {
								let o;
								const i = e.exec(t.substring(n));
								return i ? ((o = i[0]), (n += o.length), o) : '';
							}
							const i = [];
							for (; o(Ml), !(n >= t.length); ) {
								let r = o(Il);
								if (',' === r.slice(-1)) (r = Al(e, r.substring(0, r.length - 1))), i.push(r);
								else {
									let o = '';
									r = Al(e, r);
									let s = !1;
									for (;;) {
										const e = t.charAt(n);
										if ('' === e) {
											i.push((r + o).trim());
											break;
										}
										if (s) ')' === e && (s = !1);
										else {
											if (',' === e) {
												(n += 1), i.push((r + o).trim());
												break;
											}
											'(' === e && (s = !0);
										}
										(o += e), (n += 1);
									}
								}
							}
							return i.join(', ');
					  })(e, o)
					: 'style' === n
					? Ll(o, Ol())
					: 'object' === t && 'data' === n
					? Al(e, o)
					: 'function' == typeof r
					? r(n, o, i)
					: o
				: Al(e, o)
			: o;
	}
	function Dl(e, t, n) {
		return ('video' === e || 'audio' === e) && 'autoplay' === t;
	}
	function Pl(e, t, n = 1 / 0, o = 0) {
		return e ? (e.nodeType !== e.ELEMENT_NODE || o > n ? -1 : t(e) ? o : Pl(e.parentNode, t, n, o + 1)) : -1;
	}
	function zl(e, t) {
		return (n) => {
			const o = n;
			if (null === o) return !1;
			try {
				if (e)
					if ('string' == typeof e) {
						if (o.matches(`.${e}`)) return !0;
					} else if (
						(function (e, t) {
							for (let n = e.classList.length; n--; ) {
								const o = e.classList[n];
								if (t.test(o)) return !0;
							}
							return !1;
						})(o, e)
					)
						return !0;
				return !(!t || !o.matches(t));
			} catch (e) {
				return !1;
			}
		};
	}
	function Ul(e, t, n, o, i, r) {
		try {
			const s = e.nodeType === e.ELEMENT_NODE ? e : e.parentElement;
			if (null === s) return !1;
			if ('INPUT' === s.tagName) {
				const e = s.getAttribute('autocomplete');
				if (
					[
						'current-password',
						'new-password',
						'cc-number',
						'cc-exp',
						'cc-exp-month',
						'cc-exp-year',
						'cc-csc',
					].includes(e)
				)
					return !0;
			}
			let a = -1,
				l = -1;
			if (r) {
				if (((l = Pl(s, zl(o, i))), l < 0)) return !0;
				a = Pl(s, zl(t, n), l >= 0 ? l : 1 / 0);
			} else {
				if (((a = Pl(s, zl(t, n))), a < 0)) return !1;
				l = Pl(s, zl(o, i), a >= 0 ? a : 1 / 0);
			}
			return a >= 0 ? !(l >= 0) || a <= l : !(l >= 0) && !!r;
		} catch (e) {}
		return !!r;
	}
	function Hl(e, t) {
		const {
				doc: n,
				mirror: o,
				blockClass: i,
				blockSelector: r,
				unblockSelector: s,
				maskAllText: a,
				maskAttributeFn: l,
				maskTextClass: c,
				unmaskTextClass: d,
				maskTextSelector: u,
				unmaskTextSelector: p,
				inlineStylesheet: m,
				maskInputOptions: g = {},
				maskTextFn: h,
				maskInputFn: f,
				dataURLOptions: _ = {},
				inlineImages: v,
				recordCanvas: y,
				keepIframeSrcFn: w,
				newlyAddedElement: b = !1,
			} = t,
			E = (function (e, t) {
				if (!t.hasNode(e)) return;
				const n = t.getId(e);
				return 1 === n ? void 0 : n;
			})(n, o);
		switch (e.nodeType) {
			case e.DOCUMENT_NODE:
				return 'CSS1Compat' !== e.compatMode
					? {
							type: sl.Document,
							childNodes: [],
							compatMode: e.compatMode,
					  }
					: {
							type: sl.Document,
							childNodes: [],
					  };
			case e.DOCUMENT_TYPE_NODE:
				return {
					type: sl.DocumentType,
					name: e.name,
					publicId: e.publicId,
					systemId: e.systemId,
					rootId: E,
				};
			case e.ELEMENT_NODE:
				return (function (e, t) {
					const {
							doc: n,
							blockClass: o,
							blockSelector: i,
							unblockSelector: r,
							inlineStylesheet: s,
							maskInputOptions: a = {},
							maskAttributeFn: l,
							maskInputFn: c,
							dataURLOptions: d = {},
							inlineImages: u,
							recordCanvas: p,
							keepIframeSrcFn: m,
							newlyAddedElement: g = !1,
							rootId: h,
							maskAllText: f,
							maskTextClass: _,
							unmaskTextClass: v,
							maskTextSelector: y,
							unmaskTextSelector: w,
						} = t,
						b = (function (e, t, n, o) {
							try {
								if (o && e.matches(o)) return !1;
								if ('string' == typeof t) {
									if (e.classList.contains(t)) return !0;
								} else
									for (let n = e.classList.length; n--; ) {
										const o = e.classList[n];
										if (t.test(o)) return !0;
									}
								if (n) return e.matches(n);
							} catch (e) {}
							return !1;
						})(e, o, i, r),
						E = (function (e) {
							if (e instanceof HTMLFormElement) return 'form';
							const t = gl(e.tagName);
							return wl.test(t) ? 'div' : t;
						})(e);
					let S = {};
					const x = e.attributes.length;
					for (let t = 0; t < x; t++) {
						const o = e.attributes[t];
						o.name && !Dl(E, o.name, o.value) && (S[o.name] = Nl(n, E, gl(o.name), o.value, e, l));
					}
					if ('link' === E && s) {
						const t = Array.from(n.styleSheets).find((t) => t.href === e.href);
						let o = null;
						t && (o = cl(t)), o && (delete S.rel, delete S.href, (S._cssText = Ll(o, t.href)));
					}
					if ('style' === E && e.sheet && !(e.innerText || e.textContent || '').trim().length) {
						const t = cl(e.sheet);
						t && (S._cssText = Ll(t, Ol()));
					}
					if ('input' === E || 'textarea' === E || 'select' === E || 'option' === E) {
						const t = e,
							n = _l(t),
							o = vl(t, hl(E), n),
							i = t.checked;
						if ('submit' !== n && 'button' !== n && o) {
							const e = Ul(
								t,
								_,
								y,
								v,
								w,
								pl({
									type: n,
									tagName: hl(E),
									maskInputOptions: a,
								}),
							);
							S.value = ml({
								isMasked: e,
								element: t,
								value: o,
								maskInputFn: c,
							});
						}
						i && (S.checked = i);
					}
					'option' === E && (e.selected && !a.select ? (S.selected = !0) : delete S.selected);
					if ('canvas' === E && p)
						if ('2d' === e.__context)
							(function (e) {
								const t = e.getContext('2d');
								if (!t) return !0;
								for (let n = 0; n < e.width; n += 50)
									for (let o = 0; o < e.height; o += 50) {
										const i = t.getImageData,
											r = fl in i ? i[fl] : i;
										if (
											new Uint32Array(
												r.call(t, n, o, Math.min(50, e.width - n), Math.min(50, e.height - o)).data.buffer,
											).some((e) => 0 !== e)
										)
											return !1;
									}
								return !0;
							})(e) || (S.rr_dataURL = e.toDataURL(d.type, d.quality));
						else if (!('__context' in e)) {
							const t = e.toDataURL(d.type, d.quality),
								n = document.createElement('canvas');
							(n.width = e.width), (n.height = e.height);
							t !== n.toDataURL(d.type, d.quality) && (S.rr_dataURL = t);
						}
					if ('img' === E && u) {
						Sl || ((Sl = n.createElement('canvas')), (xl = Sl.getContext('2d')));
						const t = e,
							o = t.crossOrigin;
						t.crossOrigin = 'anonymous';
						const i = () => {
							t.removeEventListener('load', i);
							try {
								(Sl.width = t.naturalWidth),
									(Sl.height = t.naturalHeight),
									xl.drawImage(t, 0, 0),
									(S.rr_dataURL = Sl.toDataURL(d.type, d.quality));
							} catch (e) {
								console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`);
							}
							o ? (S.crossOrigin = o) : t.removeAttribute('crossorigin');
						};
						t.complete && 0 !== t.naturalWidth ? i() : t.addEventListener('load', i);
					}
					('audio' !== E && 'video' !== E) ||
						((S.rr_mediaState = e.paused ? 'paused' : 'played'), (S.rr_mediaCurrentTime = e.currentTime));
					g ||
						(e.scrollLeft && (S.rr_scrollLeft = e.scrollLeft), e.scrollTop && (S.rr_scrollTop = e.scrollTop));
					if (b) {
						const { width: t, height: n } = e.getBoundingClientRect();
						S = {
							class: S.class,
							rr_width: `${t}px`,
							rr_height: `${n}px`,
						};
					}
					'iframe' !== E || m(S.src) || (e.contentDocument || (S.rr_src = S.src), delete S.src);
					let T;
					try {
						customElements.get(E) && (T = !0);
					} catch (e) {}
					return {
						type: sl.Element,
						tagName: E,
						attributes: S,
						childNodes: [],
						isSVG: Rl(e) || void 0,
						needBlock: b,
						rootId: h,
						isCustom: T,
					};
				})(e, {
					doc: n,
					blockClass: i,
					blockSelector: r,
					unblockSelector: s,
					inlineStylesheet: m,
					maskAttributeFn: l,
					maskInputOptions: g,
					maskInputFn: f,
					dataURLOptions: _,
					inlineImages: v,
					recordCanvas: y,
					keepIframeSrcFn: w,
					newlyAddedElement: b,
					rootId: E,
					maskAllText: a,
					maskTextClass: c,
					unmaskTextClass: d,
					maskTextSelector: u,
					unmaskTextSelector: p,
				});
			case e.TEXT_NODE:
				return (function (e, t) {
					const {
							maskAllText: n,
							maskTextClass: o,
							unmaskTextClass: i,
							maskTextSelector: r,
							unmaskTextSelector: s,
							maskTextFn: a,
							maskInputOptions: l,
							maskInputFn: c,
							rootId: d,
						} = t,
						u = e.parentNode && e.parentNode.tagName;
					let p = e.textContent;
					const m = 'STYLE' === u || void 0,
						g = 'SCRIPT' === u || void 0,
						h = 'TEXTAREA' === u || void 0;
					if (m && p) {
						try {
							e.nextSibling ||
								e.previousSibling ||
								(rl([
									e,
									'access',
									(e) => e.parentNode,
									'access',
									(e) => e.sheet,
									'optionalAccess',
									(e) => e.cssRules,
								]) &&
									(p = cl(e.parentNode.sheet)));
						} catch (t) {
							console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`, e);
						}
						p = Ll(p, Ol());
					}
					g && (p = 'SCRIPT_PLACEHOLDER');
					const f = Ul(e, o, r, i, s, n);
					m || g || h || !p || !f || (p = a ? a(p, e.parentElement) : p.replace(/[\S]/g, '*'));
					h && p && (l.textarea || f) && (p = c ? c(p, e.parentNode) : p.replace(/[\S]/g, '*'));
					if ('OPTION' === u && p) {
						p = ml({
							isMasked: Ul(
								e,
								o,
								r,
								i,
								s,
								pl({
									type: null,
									tagName: u,
									maskInputOptions: l,
								}),
							),
							element: e,
							value: p,
							maskInputFn: c,
						});
					}
					return {
						type: sl.Text,
						textContent: p || '',
						isStyle: m,
						rootId: d,
					};
				})(e, {
					maskAllText: a,
					maskTextClass: c,
					unmaskTextClass: d,
					maskTextSelector: u,
					unmaskTextSelector: p,
					maskTextFn: h,
					maskInputOptions: g,
					maskInputFn: f,
					rootId: E,
				});
			case e.CDATA_SECTION_NODE:
				return {
					type: sl.CDATA,
					textContent: '',
					rootId: E,
				};
			case e.COMMENT_NODE:
				return {
					type: sl.Comment,
					textContent: e.textContent || '',
					rootId: E,
				};
			default:
				return !1;
		}
	}
	function Bl(e) {
		return null == e ? '' : e.toLowerCase();
	}
	function Fl(e, t) {
		const {
			doc: n,
			mirror: o,
			blockClass: i,
			blockSelector: r,
			unblockSelector: s,
			maskAllText: a,
			maskTextClass: l,
			unmaskTextClass: c,
			maskTextSelector: d,
			unmaskTextSelector: u,
			skipChild: p = !1,
			inlineStylesheet: m = !0,
			maskInputOptions: g = {},
			maskAttributeFn: h,
			maskTextFn: f,
			maskInputFn: _,
			slimDOMOptions: v,
			dataURLOptions: y = {},
			inlineImages: w = !1,
			recordCanvas: b = !1,
			onSerialize: E,
			onIframeLoad: S,
			iframeLoadTimeout: x = 5e3,
			onStylesheetLoad: T,
			stylesheetLoadTimeout: C = 5e3,
			keepIframeSrcFn: $ = () => !1,
			newlyAddedElement: k = !1,
		} = t;
		let { preserveWhiteSpace: L = !0 } = t;
		const I = Hl(e, {
			doc: n,
			mirror: o,
			blockClass: i,
			blockSelector: r,
			maskAllText: a,
			unblockSelector: s,
			maskTextClass: l,
			unmaskTextClass: c,
			maskTextSelector: d,
			unmaskTextSelector: u,
			inlineStylesheet: m,
			maskInputOptions: g,
			maskAttributeFn: h,
			maskTextFn: f,
			maskInputFn: _,
			dataURLOptions: y,
			inlineImages: w,
			recordCanvas: b,
			keepIframeSrcFn: $,
			newlyAddedElement: k,
		});
		if (!I) return console.warn(e, 'not serialized'), null;
		let M;
		M = o.hasNode(e)
			? o.getId(e)
			: !(function (e, t) {
					if (t.comment && e.type === sl.Comment) return !0;
					if (e.type === sl.Element) {
						if (
							t.script &&
							('script' === e.tagName ||
								('link' === e.tagName &&
									('preload' === e.attributes.rel || 'modulepreload' === e.attributes.rel) &&
									'script' === e.attributes.as) ||
								('link' === e.tagName &&
									'prefetch' === e.attributes.rel &&
									'string' == typeof e.attributes.href &&
									e.attributes.href.endsWith('.js')))
						)
							return !0;
						if (
							t.headFavicon &&
							(('link' === e.tagName && 'shortcut icon' === e.attributes.rel) ||
								('meta' === e.tagName &&
									(Bl(e.attributes.name).match(/^msapplication-tile(image|color)$/) ||
										'application-name' === Bl(e.attributes.name) ||
										'icon' === Bl(e.attributes.rel) ||
										'apple-touch-icon' === Bl(e.attributes.rel) ||
										'shortcut icon' === Bl(e.attributes.rel))))
						)
							return !0;
						if ('meta' === e.tagName) {
							if (t.headMetaDescKeywords && Bl(e.attributes.name).match(/^description|keywords$/)) return !0;
							if (
								t.headMetaSocial &&
								(Bl(e.attributes.property).match(/^(og|twitter|fb):/) ||
									Bl(e.attributes.name).match(/^(og|twitter):/) ||
									'pinterest' === Bl(e.attributes.name))
							)
								return !0;
							if (
								t.headMetaRobots &&
								('robots' === Bl(e.attributes.name) ||
									'googlebot' === Bl(e.attributes.name) ||
									'bingbot' === Bl(e.attributes.name))
							)
								return !0;
							if (t.headMetaHttpEquiv && void 0 !== e.attributes['http-equiv']) return !0;
							if (
								t.headMetaAuthorship &&
								('author' === Bl(e.attributes.name) ||
									'generator' === Bl(e.attributes.name) ||
									'framework' === Bl(e.attributes.name) ||
									'publisher' === Bl(e.attributes.name) ||
									'progid' === Bl(e.attributes.name) ||
									Bl(e.attributes.property).match(/^article:/) ||
									Bl(e.attributes.property).match(/^product:/))
							)
								return !0;
							if (
								t.headMetaVerification &&
								('google-site-verification' === Bl(e.attributes.name) ||
									'yandex-verification' === Bl(e.attributes.name) ||
									'csrf-token' === Bl(e.attributes.name) ||
									'p:domain_verify' === Bl(e.attributes.name) ||
									'verify-v1' === Bl(e.attributes.name) ||
									'verification' === Bl(e.attributes.name) ||
									'shopify-checkout-api-token' === Bl(e.attributes.name))
							)
								return !0;
						}
					}
					return !1;
			  })(I, v) &&
			  (L || I.type !== sl.Text || I.isStyle || I.textContent.replace(/^\s+|\s+$/gm, '').length)
			? El()
			: bl;
		const A = Object.assign(I, {
			id: M,
		});
		if ((o.add(e, A), M === bl)) return null;
		E && E(e);
		let R = !p;
		if (A.type === sl.Element) {
			(R = R && !A.needBlock), delete A.needBlock;
			const t = e.shadowRoot;
			t && ll(t) && (A.isShadowHost = !0);
		}
		if ((A.type === sl.Document || A.type === sl.Element) && R) {
			v.headWhitespace && A.type === sl.Element && 'head' === A.tagName && (L = !1);
			const t = {
				doc: n,
				mirror: o,
				blockClass: i,
				blockSelector: r,
				maskAllText: a,
				unblockSelector: s,
				maskTextClass: l,
				unmaskTextClass: c,
				maskTextSelector: d,
				unmaskTextSelector: u,
				skipChild: p,
				inlineStylesheet: m,
				maskInputOptions: g,
				maskAttributeFn: h,
				maskTextFn: f,
				maskInputFn: _,
				slimDOMOptions: v,
				dataURLOptions: y,
				inlineImages: w,
				recordCanvas: b,
				preserveWhiteSpace: L,
				onSerialize: E,
				onIframeLoad: S,
				iframeLoadTimeout: x,
				onStylesheetLoad: T,
				stylesheetLoadTimeout: C,
				keepIframeSrcFn: $,
			};
			for (const n of Array.from(e.childNodes)) {
				const e = Fl(n, t);
				e && A.childNodes.push(e);
			}
			if (
				(function (e) {
					return e.nodeType === e.ELEMENT_NODE;
				})(e) &&
				e.shadowRoot
			)
				for (const n of Array.from(e.shadowRoot.childNodes)) {
					const o = Fl(n, t);
					o && (ll(e.shadowRoot) && (o.isShadow = !0), A.childNodes.push(o));
				}
		}
		return (
			e.parentNode && al(e.parentNode) && ll(e.parentNode) && (A.isShadow = !0),
			A.type === sl.Element &&
				'iframe' === A.tagName &&
				(function (e, t, n) {
					const o = e.contentWindow;
					if (!o) return;
					let i,
						r = !1;
					try {
						i = o.document.readyState;
					} catch (e) {
						return;
					}
					if ('complete' !== i) {
						const o = setTimeout(() => {
							r || (t(), (r = !0));
						}, n);
						return void e.addEventListener('load', () => {
							clearTimeout(o), (r = !0), t();
						});
					}
					const s = 'about:blank';
					if (o.location.href !== s || e.src === s || '' === e.src)
						return setTimeout(t, 0), e.addEventListener('load', t);
					e.addEventListener('load', t);
				})(
					e,
					() => {
						const t = e.contentDocument;
						if (t && S) {
							const n = Fl(t, {
								doc: t,
								mirror: o,
								blockClass: i,
								blockSelector: r,
								unblockSelector: s,
								maskAllText: a,
								maskTextClass: l,
								unmaskTextClass: c,
								maskTextSelector: d,
								unmaskTextSelector: u,
								skipChild: !1,
								inlineStylesheet: m,
								maskInputOptions: g,
								maskAttributeFn: h,
								maskTextFn: f,
								maskInputFn: _,
								slimDOMOptions: v,
								dataURLOptions: y,
								inlineImages: w,
								recordCanvas: b,
								preserveWhiteSpace: L,
								onSerialize: E,
								onIframeLoad: S,
								iframeLoadTimeout: x,
								onStylesheetLoad: T,
								stylesheetLoadTimeout: C,
								keepIframeSrcFn: $,
							});
							n && S(e, n);
						}
					},
					x,
				),
			A.type === sl.Element &&
				'link' === A.tagName &&
				'stylesheet' === A.attributes.rel &&
				(function (e, t, n) {
					let o,
						i = !1;
					try {
						o = e.sheet;
					} catch (e) {
						return;
					}
					if (o) return;
					const r = setTimeout(() => {
						i || (t(), (i = !0));
					}, n);
					e.addEventListener('load', () => {
						clearTimeout(r), (i = !0), t();
					});
				})(
					e,
					() => {
						if (T) {
							const t = Fl(e, {
								doc: n,
								mirror: o,
								blockClass: i,
								blockSelector: r,
								unblockSelector: s,
								maskAllText: a,
								maskTextClass: l,
								unmaskTextClass: c,
								maskTextSelector: d,
								unmaskTextSelector: u,
								skipChild: !1,
								inlineStylesheet: m,
								maskInputOptions: g,
								maskAttributeFn: h,
								maskTextFn: f,
								maskInputFn: _,
								slimDOMOptions: v,
								dataURLOptions: y,
								inlineImages: w,
								recordCanvas: b,
								preserveWhiteSpace: L,
								onSerialize: E,
								onIframeLoad: S,
								iframeLoadTimeout: x,
								onStylesheetLoad: T,
								stylesheetLoadTimeout: C,
								keepIframeSrcFn: $,
							});
							t && T(e, t);
						}
					},
					C,
				),
			A
		);
	}
	function Wl(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	function jl(e, t, n = document) {
		const o = {
			capture: !0,
			passive: !0,
		};
		return n.addEventListener(e, t, o), () => n.removeEventListener(e, t, o);
	}
	const ql =
		'Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.';
	let Gl = {
		map: {},
		getId: () => (console.error(ql), -1),
		getNode: () => (console.error(ql), null),
		removeNodeFromMap() {
			console.error(ql);
		},
		has: () => (console.error(ql), !1),
		reset() {
			console.error(ql);
		},
	};
	function Vl(e, t, n = {}) {
		let o = null,
			i = 0;
		return function (...r) {
			const s = Date.now();
			i || !1 !== n.leading || (i = s);
			const a = t - (s - i),
				l = this;
			a <= 0 || a > t
				? (o &&
						(!(function (...e) {
							mc('clearTimeout')(...e);
						})(o),
						(o = null)),
				  (i = s),
				  e.apply(l, r))
				: o ||
				  !1 === n.trailing ||
				  (o = gc(() => {
						(i = !1 === n.leading ? 0 : Date.now()), (o = null), e.apply(l, r);
				  }, a));
		};
	}
	function Yl(e, t, n, o, i = window) {
		const r = i.Object.getOwnPropertyDescriptor(e, t);
		return (
			i.Object.defineProperty(
				e,
				t,
				o
					? n
					: {
							set(e) {
								gc(() => {
									n.set.call(this, e);
								}, 0),
									r && r.set && r.set.call(this, e);
							},
					  },
			),
			() => Yl(e, t, r || {}, !0)
		);
	}
	function Kl(e, t, n) {
		try {
			if (!(t in e)) return () => {};
			const o = e[t],
				i = n(o);
			return (
				'function' == typeof i &&
					((i.prototype = i.prototype || {}),
					Object.defineProperties(i, {
						__rrweb_original__: {
							enumerable: !1,
							value: o,
						},
					})),
				(e[t] = i),
				() => {
					e[t] = o;
				}
			);
		} catch (e) {
			return () => {};
		}
	}
	'undefined' != typeof window &&
		window.Proxy &&
		window.Reflect &&
		(Gl = new Proxy(Gl, {
			get: (e, t, n) => ('map' === t && console.error(ql), Reflect.get(e, t, n)),
		}));
	let Zl = Date.now;
	function Xl(e) {
		const t = e.document;
		return {
			left: t.scrollingElement
				? t.scrollingElement.scrollLeft
				: void 0 !== e.pageXOffset
				? e.pageXOffset
				: Wl([t, 'optionalAccess', (e) => e.documentElement, 'access', (e) => e.scrollLeft]) ||
				  Wl([
						t,
						'optionalAccess',
						(e) => e.body,
						'optionalAccess',
						(e) => e.parentElement,
						'optionalAccess',
						(e) => e.scrollLeft,
				  ]) ||
				  Wl([t, 'optionalAccess', (e) => e.body, 'optionalAccess', (e) => e.scrollLeft]) ||
				  0,
			top: t.scrollingElement
				? t.scrollingElement.scrollTop
				: void 0 !== e.pageYOffset
				? e.pageYOffset
				: Wl([t, 'optionalAccess', (e) => e.documentElement, 'access', (e) => e.scrollTop]) ||
				  Wl([
						t,
						'optionalAccess',
						(e) => e.body,
						'optionalAccess',
						(e) => e.parentElement,
						'optionalAccess',
						(e) => e.scrollTop,
				  ]) ||
				  Wl([t, 'optionalAccess', (e) => e.body, 'optionalAccess', (e) => e.scrollTop]) ||
				  0,
		};
	}
	function Jl() {
		return (
			window.innerHeight ||
			(document.documentElement && document.documentElement.clientHeight) ||
			(document.body && document.body.clientHeight)
		);
	}
	function Ql() {
		return (
			window.innerWidth ||
			(document.documentElement && document.documentElement.clientWidth) ||
			(document.body && document.body.clientWidth)
		);
	}
	function ec(e) {
		if (!e) return null;
		return e.nodeType === e.ELEMENT_NODE ? e : e.parentElement;
	}
	function tc(e, t, n, o, i) {
		if (!e) return !1;
		const r = ec(e);
		if (!r) return !1;
		const s = zl(t, n);
		if (!i) {
			const e = o && r.matches(o);
			return s(r) && !e;
		}
		const a = Pl(r, s);
		let l = -1;
		return !(a < 0) && (o && (l = Pl(r, zl(null, o))), (a > -1 && l < 0) || a < l);
	}
	function nc(e, t) {
		return t.getId(e) === bl;
	}
	function oc(e, t) {
		if (al(e)) return !1;
		const n = t.getId(e);
		return (
			!t.has(n) ||
			((!e.parentNode || e.parentNode.nodeType !== e.DOCUMENT_NODE) && (!e.parentNode || oc(e.parentNode, t)))
		);
	}
	function ic(e) {
		return Boolean(e.changedTouches);
	}
	function rc(e, t) {
		return Boolean('IFRAME' === e.nodeName && t.getMeta(e));
	}
	function sc(e, t) {
		return Boolean(
			'LINK' === e.nodeName &&
				e.nodeType === e.ELEMENT_NODE &&
				e.getAttribute &&
				'stylesheet' === e.getAttribute('rel') &&
				t.getMeta(e),
		);
	}
	function ac(e) {
		return Boolean(Wl([e, 'optionalAccess', (e) => e.shadowRoot]));
	}
	/[1-9][0-9]{12}/.test(Date.now().toString()) || (Zl = () => new Date().getTime());
	class lc {
		constructor() {
			(this.id = 1), (this.styleIDMap = new WeakMap()), (this.idStyleMap = new Map());
		}
		getId(e) {
			return (t = this.styleIDMap.get(e)), (n = () => -1), null != t ? t : n();
			var t, n;
		}
		has(e) {
			return this.styleIDMap.has(e);
		}
		add(e, t) {
			if (this.has(e)) return this.getId(e);
			let n;
			return (n = void 0 === t ? this.id++ : t), this.styleIDMap.set(e, n), this.idStyleMap.set(n, e), n;
		}
		getStyle(e) {
			return this.idStyleMap.get(e) || null;
		}
		reset() {
			(this.styleIDMap = new WeakMap()), (this.idStyleMap = new Map()), (this.id = 1);
		}
		generateId() {
			return this.id++;
		}
	}
	function cc(e) {
		let t = null;
		return (
			Wl([
				e,
				'access',
				(e) => e.getRootNode,
				'optionalCall',
				(e) => e(),
				'optionalAccess',
				(e) => e.nodeType,
			]) === Node.DOCUMENT_FRAGMENT_NODE &&
				e.getRootNode().host &&
				(t = e.getRootNode().host),
			t
		);
	}
	function dc(e) {
		const t = e.ownerDocument;
		if (!t) return !1;
		const n = (function (e) {
			let t,
				n = e;
			for (; (t = cc(n)); ) n = t;
			return n;
		})(e);
		return t.contains(n);
	}
	function uc(e) {
		const t = e.ownerDocument;
		return !!t && (t.contains(e) || dc(e));
	}
	const pc = {};
	function mc(e) {
		const t = pc[e];
		if (t) return t;
		const n = window.document;
		let o = window[e];
		if (n && 'function' == typeof n.createElement)
			try {
				const t = n.createElement('iframe');
				(t.hidden = !0), n.head.appendChild(t);
				const i = t.contentWindow;
				i && i[e] && (o = i[e]), n.head.removeChild(t);
			} catch (e) {}
		return (pc[e] = o.bind(window));
	}
	function gc(...e) {
		return mc('setTimeout')(...e);
	}
	var hc = ((e) => (
			(e[(e.DomContentLoaded = 0)] = 'DomContentLoaded'),
			(e[(e.Load = 1)] = 'Load'),
			(e[(e.FullSnapshot = 2)] = 'FullSnapshot'),
			(e[(e.IncrementalSnapshot = 3)] = 'IncrementalSnapshot'),
			(e[(e.Meta = 4)] = 'Meta'),
			(e[(e.Custom = 5)] = 'Custom'),
			(e[(e.Plugin = 6)] = 'Plugin'),
			e
		))(hc || {}),
		fc = ((e) => (
			(e[(e.Mutation = 0)] = 'Mutation'),
			(e[(e.MouseMove = 1)] = 'MouseMove'),
			(e[(e.MouseInteraction = 2)] = 'MouseInteraction'),
			(e[(e.Scroll = 3)] = 'Scroll'),
			(e[(e.ViewportResize = 4)] = 'ViewportResize'),
			(e[(e.Input = 5)] = 'Input'),
			(e[(e.TouchMove = 6)] = 'TouchMove'),
			(e[(e.MediaInteraction = 7)] = 'MediaInteraction'),
			(e[(e.StyleSheetRule = 8)] = 'StyleSheetRule'),
			(e[(e.CanvasMutation = 9)] = 'CanvasMutation'),
			(e[(e.Font = 10)] = 'Font'),
			(e[(e.Log = 11)] = 'Log'),
			(e[(e.Drag = 12)] = 'Drag'),
			(e[(e.StyleDeclaration = 13)] = 'StyleDeclaration'),
			(e[(e.Selection = 14)] = 'Selection'),
			(e[(e.AdoptedStyleSheet = 15)] = 'AdoptedStyleSheet'),
			(e[(e.CustomElement = 16)] = 'CustomElement'),
			e
		))(fc || {}),
		_c = ((e) => (
			(e[(e.MouseUp = 0)] = 'MouseUp'),
			(e[(e.MouseDown = 1)] = 'MouseDown'),
			(e[(e.Click = 2)] = 'Click'),
			(e[(e.ContextMenu = 3)] = 'ContextMenu'),
			(e[(e.DblClick = 4)] = 'DblClick'),
			(e[(e.Focus = 5)] = 'Focus'),
			(e[(e.Blur = 6)] = 'Blur'),
			(e[(e.TouchStart = 7)] = 'TouchStart'),
			(e[(e.TouchMove_Departed = 8)] = 'TouchMove_Departed'),
			(e[(e.TouchEnd = 9)] = 'TouchEnd'),
			(e[(e.TouchCancel = 10)] = 'TouchCancel'),
			e
		))(_c || {}),
		vc = ((e) => ((e[(e.Mouse = 0)] = 'Mouse'), (e[(e.Pen = 1)] = 'Pen'), (e[(e.Touch = 2)] = 'Touch'), e))(
			vc || {},
		);
	function yc(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	function wc(e) {
		return '__ln' in e;
	}
	class bc {
		constructor() {
			(this.length = 0), (this.head = null), (this.tail = null);
		}
		get(e) {
			if (e >= this.length) throw new Error('Position outside of list range');
			let t = this.head;
			for (let n = 0; n < e; n++) t = yc([t, 'optionalAccess', (e) => e.next]) || null;
			return t;
		}
		addNode(e) {
			const t = {
				value: e,
				previous: null,
				next: null,
			};
			if (((e.__ln = t), e.previousSibling && wc(e.previousSibling))) {
				const n = e.previousSibling.__ln.next;
				(t.next = n),
					(t.previous = e.previousSibling.__ln),
					(e.previousSibling.__ln.next = t),
					n && (n.previous = t);
			} else if (e.nextSibling && wc(e.nextSibling) && e.nextSibling.__ln.previous) {
				const n = e.nextSibling.__ln.previous;
				(t.previous = n), (t.next = e.nextSibling.__ln), (e.nextSibling.__ln.previous = t), n && (n.next = t);
			} else this.head && (this.head.previous = t), (t.next = this.head), (this.head = t);
			null === t.next && (this.tail = t), this.length++;
		}
		removeNode(e) {
			const t = e.__ln;
			this.head &&
				(t.previous
					? ((t.previous.next = t.next), t.next ? (t.next.previous = t.previous) : (this.tail = t.previous))
					: ((this.head = t.next), this.head ? (this.head.previous = null) : (this.tail = null)),
				e.__ln && delete e.__ln,
				this.length--);
		}
	}
	const Ec = (e, t) => `${e}@${t}`;
	class Sc {
		constructor() {
			(this.frozen = !1),
				(this.locked = !1),
				(this.texts = []),
				(this.attributes = []),
				(this.attributeMap = new WeakMap()),
				(this.removes = []),
				(this.mapRemoves = []),
				(this.movedMap = {}),
				(this.addedSet = new Set()),
				(this.movedSet = new Set()),
				(this.droppedSet = new Set()),
				(this.processMutations = (e) => {
					e.forEach(this.processMutation), this.emit();
				}),
				(this.emit = () => {
					if (this.frozen || this.locked) return;
					const e = [],
						t = new Set(),
						n = new bc(),
						o = (e) => {
							let t = e,
								n = bl;
							for (; n === bl; ) (t = t && t.nextSibling), (n = t && this.mirror.getId(t));
							return n;
						},
						i = (i) => {
							if (!i.parentNode || !uc(i)) return;
							const r = al(i.parentNode) ? this.mirror.getId(cc(i)) : this.mirror.getId(i.parentNode),
								s = o(i);
							if (-1 === r || -1 === s) return n.addNode(i);
							const a = Fl(i, {
								doc: this.doc,
								mirror: this.mirror,
								blockClass: this.blockClass,
								blockSelector: this.blockSelector,
								maskAllText: this.maskAllText,
								unblockSelector: this.unblockSelector,
								maskTextClass: this.maskTextClass,
								unmaskTextClass: this.unmaskTextClass,
								maskTextSelector: this.maskTextSelector,
								unmaskTextSelector: this.unmaskTextSelector,
								skipChild: !0,
								newlyAddedElement: !0,
								inlineStylesheet: this.inlineStylesheet,
								maskInputOptions: this.maskInputOptions,
								maskAttributeFn: this.maskAttributeFn,
								maskTextFn: this.maskTextFn,
								maskInputFn: this.maskInputFn,
								slimDOMOptions: this.slimDOMOptions,
								dataURLOptions: this.dataURLOptions,
								recordCanvas: this.recordCanvas,
								inlineImages: this.inlineImages,
								onSerialize: (e) => {
									rc(e, this.mirror) && this.iframeManager.addIframe(e),
										sc(e, this.mirror) && this.stylesheetManager.trackLinkElement(e),
										ac(i) && this.shadowDomManager.addShadowRoot(i.shadowRoot, this.doc);
								},
								onIframeLoad: (e, t) => {
									this.iframeManager.attachIframe(e, t), this.shadowDomManager.observeAttachShadow(e);
								},
								onStylesheetLoad: (e, t) => {
									this.stylesheetManager.attachLinkElement(e, t);
								},
							});
							a &&
								(e.push({
									parentId: r,
									nextId: s,
									node: a,
								}),
								t.add(a.id));
						};
					for (; this.mapRemoves.length; ) this.mirror.removeNodeFromMap(this.mapRemoves.shift());
					for (const e of this.movedSet)
						(Tc(this.removes, e, this.mirror) && !this.movedSet.has(e.parentNode)) || i(e);
					for (const e of this.addedSet)
						$c(this.droppedSet, e) || Tc(this.removes, e, this.mirror)
							? $c(this.movedSet, e)
								? i(e)
								: this.droppedSet.add(e)
							: i(e);
					let r = null;
					for (; n.length; ) {
						let e = null;
						if (r) {
							const t = this.mirror.getId(r.value.parentNode),
								n = o(r.value);
							-1 !== t && -1 !== n && (e = r);
						}
						if (!e) {
							let t = n.tail;
							for (; t; ) {
								const n = t;
								if (((t = t.previous), n)) {
									const t = this.mirror.getId(n.value.parentNode);
									if (-1 === o(n.value)) continue;
									if (-1 !== t) {
										e = n;
										break;
									}
									{
										const t = n.value;
										if (t.parentNode && t.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
											const o = t.parentNode.host;
											if (-1 !== this.mirror.getId(o)) {
												e = n;
												break;
											}
										}
									}
								}
							}
						}
						if (!e) {
							for (; n.head; ) n.removeNode(n.head.value);
							break;
						}
						(r = e.previous), n.removeNode(e.value), i(e.value);
					}
					const s = {
						texts: this.texts
							.map((e) => ({
								id: this.mirror.getId(e.node),
								value: e.value,
							}))
							.filter((e) => !t.has(e.id))
							.filter((e) => this.mirror.has(e.id)),
						attributes: this.attributes
							.map((e) => {
								const { attributes: t } = e;
								if ('string' == typeof t.style) {
									const n = JSON.stringify(e.styleDiff),
										o = JSON.stringify(e._unchangedStyles);
									n.length < t.style.length &&
										(n + o).split('var(').length === t.style.split('var(').length &&
										(t.style = e.styleDiff);
								}
								return {
									id: this.mirror.getId(e.node),
									attributes: t,
								};
							})
							.filter((e) => !t.has(e.id))
							.filter((e) => this.mirror.has(e.id)),
						removes: this.removes,
						adds: e,
					};
					(s.texts.length || s.attributes.length || s.removes.length || s.adds.length) &&
						((this.texts = []),
						(this.attributes = []),
						(this.attributeMap = new WeakMap()),
						(this.removes = []),
						(this.addedSet = new Set()),
						(this.movedSet = new Set()),
						(this.droppedSet = new Set()),
						(this.movedMap = {}),
						this.mutationCb(s));
				}),
				(this.processMutation = (e) => {
					if (!nc(e.target, this.mirror))
						switch (e.type) {
							case 'characterData': {
								const t = e.target.textContent;
								tc(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) ||
									t === e.oldValue ||
									this.texts.push({
										value:
											Ul(
												e.target,
												this.maskTextClass,
												this.maskTextSelector,
												this.unmaskTextClass,
												this.unmaskTextSelector,
												this.maskAllText,
											) && t
												? this.maskTextFn
													? this.maskTextFn(t, ec(e.target))
													: t.replace(/[\S]/g, '*')
												: t,
										node: e.target,
									});
								break;
							}
							case 'attributes': {
								const t = e.target;
								let n = e.attributeName,
									o = e.target.getAttribute(n);
								if ('value' === n) {
									const n = _l(t),
										i = t.tagName;
									o = vl(t, i, n);
									const r = pl({
										maskInputOptions: this.maskInputOptions,
										tagName: i,
										type: n,
									});
									o = ml({
										isMasked: Ul(
											e.target,
											this.maskTextClass,
											this.maskTextSelector,
											this.unmaskTextClass,
											this.unmaskTextSelector,
											r,
										),
										element: t,
										value: o,
										maskInputFn: this.maskInputFn,
									});
								}
								if (
									tc(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) ||
									o === e.oldValue
								)
									return;
								let i = this.attributeMap.get(e.target);
								if ('IFRAME' === t.tagName && 'src' === n && !this.keepIframeSrcFn(o)) {
									if (t.contentDocument) return;
									n = 'rr_src';
								}
								if (
									(i ||
										((i = {
											node: e.target,
											attributes: {},
											styleDiff: {},
											_unchangedStyles: {},
										}),
										this.attributes.push(i),
										this.attributeMap.set(e.target, i)),
									'type' === n &&
										'INPUT' === t.tagName &&
										'password' === (e.oldValue || '').toLowerCase() &&
										t.setAttribute('data-rr-is-password', 'true'),
									!Dl(t.tagName, n) &&
										((i.attributes[n] = Nl(this.doc, gl(t.tagName), gl(n), o, t, this.maskAttributeFn)),
										'style' === n))
								) {
									if (!this.unattachedDoc)
										try {
											this.unattachedDoc = document.implementation.createHTMLDocument();
										} catch (e) {
											this.unattachedDoc = this.doc;
										}
									const n = this.unattachedDoc.createElement('span');
									e.oldValue && n.setAttribute('style', e.oldValue);
									for (const e of Array.from(t.style)) {
										const o = t.style.getPropertyValue(e),
											r = t.style.getPropertyPriority(e);
										o !== n.style.getPropertyValue(e) || r !== n.style.getPropertyPriority(e)
											? (i.styleDiff[e] = '' === r ? o : [o, r])
											: (i._unchangedStyles[e] = [o, r]);
									}
									for (const e of Array.from(n.style))
										'' === t.style.getPropertyValue(e) && (i.styleDiff[e] = !1);
								}
								break;
							}
							case 'childList':
								if (tc(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !0)) return;
								e.addedNodes.forEach((t) => this.genAdds(t, e.target)),
									e.removedNodes.forEach((t) => {
										const n = this.mirror.getId(t),
											o = al(e.target) ? this.mirror.getId(e.target.host) : this.mirror.getId(e.target);
										tc(e.target, this.blockClass, this.blockSelector, this.unblockSelector, !1) ||
											nc(t, this.mirror) ||
											!(function (e, t) {
												return -1 !== t.getId(e);
											})(t, this.mirror) ||
											(this.addedSet.has(t)
												? (xc(this.addedSet, t), this.droppedSet.add(t))
												: (this.addedSet.has(e.target) && -1 === n) ||
												  oc(e.target, this.mirror) ||
												  (this.movedSet.has(t) && this.movedMap[Ec(n, o)]
														? xc(this.movedSet, t)
														: this.removes.push({
																parentId: o,
																id: n,
																isShadow: !(!al(e.target) || !ll(e.target)) || void 0,
														  })),
											this.mapRemoves.push(t));
									});
						}
				}),
				(this.genAdds = (e, t) => {
					if (
						!this.processedNodeManager.inOtherBuffer(e, this) &&
						!this.addedSet.has(e) &&
						!this.movedSet.has(e)
					) {
						if (this.mirror.hasNode(e)) {
							if (nc(e, this.mirror)) return;
							this.movedSet.add(e);
							let n = null;
							t && this.mirror.hasNode(t) && (n = this.mirror.getId(t)),
								n && -1 !== n && (this.movedMap[Ec(this.mirror.getId(e), n)] = !0);
						} else this.addedSet.add(e), this.droppedSet.delete(e);
						tc(e, this.blockClass, this.blockSelector, this.unblockSelector, !1) ||
							(e.childNodes.forEach((e) => this.genAdds(e)),
							ac(e) &&
								e.shadowRoot.childNodes.forEach((t) => {
									this.processedNodeManager.add(t, this), this.genAdds(t, e);
								}));
					}
				});
		}
		init(e) {
			[
				'mutationCb',
				'blockClass',
				'blockSelector',
				'unblockSelector',
				'maskAllText',
				'maskTextClass',
				'unmaskTextClass',
				'maskTextSelector',
				'unmaskTextSelector',
				'inlineStylesheet',
				'maskInputOptions',
				'maskAttributeFn',
				'maskTextFn',
				'maskInputFn',
				'keepIframeSrcFn',
				'recordCanvas',
				'inlineImages',
				'slimDOMOptions',
				'dataURLOptions',
				'doc',
				'mirror',
				'iframeManager',
				'stylesheetManager',
				'shadowDomManager',
				'canvasManager',
				'processedNodeManager',
			].forEach((t) => {
				this[t] = e[t];
			});
		}
		freeze() {
			(this.frozen = !0), this.canvasManager.freeze();
		}
		unfreeze() {
			(this.frozen = !1), this.canvasManager.unfreeze(), this.emit();
		}
		isFrozen() {
			return this.frozen;
		}
		lock() {
			(this.locked = !0), this.canvasManager.lock();
		}
		unlock() {
			(this.locked = !1), this.canvasManager.unlock(), this.emit();
		}
		reset() {
			this.shadowDomManager.reset(), this.canvasManager.reset();
		}
	}
	function xc(e, t) {
		e.delete(t), t.childNodes.forEach((t) => xc(e, t));
	}
	function Tc(e, t, n) {
		return 0 !== e.length && Cc(e, t, n);
	}
	function Cc(e, t, n) {
		const { parentNode: o } = t;
		if (!o) return !1;
		const i = n.getId(o);
		return !!e.some((e) => e.id === i) || Cc(e, o, n);
	}
	function $c(e, t) {
		return 0 !== e.size && kc(e, t);
	}
	function kc(e, t) {
		const { parentNode: n } = t;
		return !!n && (!!e.has(n) || kc(e, n));
	}
	let Lc;
	const Ic = (e) => {
		if (!Lc) return e;
		return (...t) => {
			try {
				return e(...t);
			} catch (e) {
				if (Lc && !0 === Lc(e)) return () => {};
				throw e;
			}
		};
	};
	function Mc(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	const Ac = [];
	function Rc(e) {
		try {
			if ('composedPath' in e) {
				const t = e.composedPath();
				if (t.length) return t[0];
			} else if ('path' in e && e.path.length) return e.path[0];
		} catch (e) {}
		return e && e.target;
	}
	function Oc(e, t) {
		const n = new Sc();
		Ac.push(n), n.init(e);
		let o = window.MutationObserver || window.__rrMutationObserver;
		const i = Mc([
			window,
			'optionalAccess',
			(e) => e.Zone,
			'optionalAccess',
			(e) => e.__symbol__,
			'optionalCall',
			(e) => e('MutationObserver'),
		]);
		i && window[i] && (o = window[i]);
		const r = new o(
			Ic((t) => {
				(e.onMutation && !1 === e.onMutation(t)) || n.processMutations.bind(n)(t);
			}),
		);
		return (
			r.observe(t, {
				attributes: !0,
				attributeOldValue: !0,
				characterData: !0,
				characterDataOldValue: !0,
				childList: !0,
				subtree: !0,
			}),
			r
		);
	}
	function Nc({
		mouseInteractionCb: e,
		doc: t,
		mirror: n,
		blockClass: o,
		blockSelector: i,
		unblockSelector: r,
		sampling: s,
	}) {
		if (!1 === s.mouseInteraction) return () => {};
		const a = !0 === s.mouseInteraction || void 0 === s.mouseInteraction ? {} : s.mouseInteraction,
			l = [];
		let c = null;
		return (
			Object.keys(_c)
				.filter((e) => Number.isNaN(Number(e)) && !e.endsWith('_Departed') && !1 !== a[e])
				.forEach((s) => {
					let a = gl(s);
					const d = ((t) => (s) => {
						const a = Rc(s);
						if (tc(a, o, i, r, !0)) return;
						let l = null,
							d = t;
						if ('pointerType' in s) {
							switch (s.pointerType) {
								case 'mouse':
									l = vc.Mouse;
									break;
								case 'touch':
									l = vc.Touch;
									break;
								case 'pen':
									l = vc.Pen;
							}
							l === vc.Touch
								? _c[t] === _c.MouseDown
									? (d = 'TouchStart')
									: _c[t] === _c.MouseUp && (d = 'TouchEnd')
								: vc.Pen;
						} else ic(s) && (l = vc.Touch);
						null !== l
							? ((c = l),
							  ((d.startsWith('Touch') && l === vc.Touch) || (d.startsWith('Mouse') && l === vc.Mouse)) &&
									(l = null))
							: _c[t] === _c.Click && ((l = c), (c = null));
						const u = ic(s) ? s.changedTouches[0] : s;
						if (!u) return;
						const p = n.getId(a),
							{ clientX: m, clientY: g } = u;
						Ic(e)({
							type: _c[d],
							id: p,
							x: m,
							y: g,
							...(null !== l && {
								pointerType: l,
							}),
						});
					})(s);
					if (window.PointerEvent)
						switch (_c[s]) {
							case _c.MouseDown:
							case _c.MouseUp:
								a = a.replace('mouse', 'pointer');
								break;
							case _c.TouchStart:
							case _c.TouchEnd:
								return;
						}
					l.push(jl(a, d, t));
				}),
			Ic(() => {
				l.forEach((e) => e());
			})
		);
	}
	function Dc({
		scrollCb: e,
		doc: t,
		mirror: n,
		blockClass: o,
		blockSelector: i,
		unblockSelector: r,
		sampling: s,
	}) {
		return jl(
			'scroll',
			Ic(
				Vl(
					Ic((s) => {
						const a = Rc(s);
						if (!a || tc(a, o, i, r, !0)) return;
						const l = n.getId(a);
						if (a === t && t.defaultView) {
							const n = Xl(t.defaultView);
							e({
								id: l,
								x: n.left,
								y: n.top,
							});
						} else
							e({
								id: l,
								x: a.scrollLeft,
								y: a.scrollTop,
							});
					}),
					s.scroll || 100,
				),
			),
			t,
		);
	}
	const Pc = ['INPUT', 'TEXTAREA', 'SELECT'],
		zc = new WeakMap();
	function Uc({
		inputCb: e,
		doc: t,
		mirror: n,
		blockClass: o,
		blockSelector: i,
		unblockSelector: r,
		ignoreClass: s,
		ignoreSelector: a,
		maskInputOptions: l,
		maskInputFn: c,
		sampling: d,
		userTriggeredOnInput: u,
		maskTextClass: p,
		unmaskTextClass: m,
		maskTextSelector: g,
		unmaskTextSelector: h,
	}) {
		function f(e) {
			let n = Rc(e);
			const d = e.isTrusted,
				f = n && hl(n.tagName);
			if (('OPTION' === f && (n = n.parentElement), !n || !f || Pc.indexOf(f) < 0 || tc(n, o, i, r, !0)))
				return;
			const v = n;
			if (v.classList.contains(s) || (a && v.matches(a))) return;
			const y = _l(n);
			let w = vl(v, f, y),
				b = !1;
			const E = pl({
					maskInputOptions: l,
					tagName: f,
					type: y,
				}),
				S = Ul(n, p, g, m, h, E);
			('radio' !== y && 'checkbox' !== y) || (b = n.checked),
				(w = ml({
					isMasked: S,
					element: n,
					value: w,
					maskInputFn: c,
				})),
				_(
					n,
					u
						? {
								text: w,
								isChecked: b,
								userTriggered: d,
						  }
						: {
								text: w,
								isChecked: b,
						  },
				);
			const x = n.name;
			'radio' === y &&
				x &&
				b &&
				t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach((e) => {
					if (e !== n) {
						const t = ml({
							isMasked: S,
							element: e,
							value: vl(e, f, y),
							maskInputFn: c,
						});
						_(
							e,
							u
								? {
										text: t,
										isChecked: !b,
										userTriggered: !1,
								  }
								: {
										text: t,
										isChecked: !b,
								  },
						);
					}
				});
		}
		function _(t, o) {
			const i = zc.get(t);
			if (!i || i.text !== o.text || i.isChecked !== o.isChecked) {
				zc.set(t, o);
				const i = n.getId(t);
				Ic(e)({
					...o,
					id: i,
				});
			}
		}
		const v = ('last' === d.input ? ['change'] : ['input', 'change']).map((e) => jl(e, Ic(f), t)),
			y = t.defaultView;
		if (!y)
			return () => {
				v.forEach((e) => e());
			};
		const w = y.Object.getOwnPropertyDescriptor(y.HTMLInputElement.prototype, 'value'),
			b = [
				[y.HTMLInputElement.prototype, 'value'],
				[y.HTMLInputElement.prototype, 'checked'],
				[y.HTMLSelectElement.prototype, 'value'],
				[y.HTMLTextAreaElement.prototype, 'value'],
				[y.HTMLSelectElement.prototype, 'selectedIndex'],
				[y.HTMLOptionElement.prototype, 'selected'],
			];
		return (
			w &&
				w.set &&
				v.push(
					...b.map((e) =>
						Yl(
							e[0],
							e[1],
							{
								set() {
									Ic(f)({
										target: this,
										isTrusted: !1,
									});
								},
							},
							!1,
							y,
						),
					),
				),
			Ic(() => {
				v.forEach((e) => e());
			})
		);
	}
	function Hc(e) {
		return (function (e, t) {
			if (
				(jc('CSSGroupingRule') && e.parentRule instanceof CSSGroupingRule) ||
				(jc('CSSMediaRule') && e.parentRule instanceof CSSMediaRule) ||
				(jc('CSSSupportsRule') && e.parentRule instanceof CSSSupportsRule) ||
				(jc('CSSConditionRule') && e.parentRule instanceof CSSConditionRule)
			) {
				const n = Array.from(e.parentRule.cssRules).indexOf(e);
				t.unshift(n);
			} else if (e.parentStyleSheet) {
				const n = Array.from(e.parentStyleSheet.cssRules).indexOf(e);
				t.unshift(n);
			}
			return t;
		})(e, []);
	}
	function Bc(e, t, n) {
		let o, i;
		return e
			? (e.ownerNode ? (o = t.getId(e.ownerNode)) : (i = n.getId(e)),
			  {
					styleId: i,
					id: o,
			  })
			: {};
	}
	function Fc({ mirror: e, stylesheetManager: t }, n) {
		let o = null;
		o = '#document' === n.nodeName ? e.getId(n) : e.getId(n.host);
		const i =
				'#document' === n.nodeName
					? Mc([n, 'access', (e) => e.defaultView, 'optionalAccess', (e) => e.Document])
					: Mc([
							n,
							'access',
							(e) => e.ownerDocument,
							'optionalAccess',
							(e) => e.defaultView,
							'optionalAccess',
							(e) => e.ShadowRoot,
					  ]),
			r = Mc([i, 'optionalAccess', (e) => e.prototype])
				? Object.getOwnPropertyDescriptor(Mc([i, 'optionalAccess', (e) => e.prototype]), 'adoptedStyleSheets')
				: void 0;
		return null !== o && -1 !== o && i && r
			? (Object.defineProperty(n, 'adoptedStyleSheets', {
					configurable: r.configurable,
					enumerable: r.enumerable,
					get() {
						return Mc([r, 'access', (e) => e.get, 'optionalAccess', (e) => e.call, 'call', (e) => e(this)]);
					},
					set(e) {
						const n = Mc([
							r,
							'access',
							(e) => e.set,
							'optionalAccess',
							(e) => e.call,
							'call',
							(t) => t(this, e),
						]);
						if (null !== o && -1 !== o)
							try {
								t.adoptStyleSheets(e, o);
							} catch (e) {}
						return n;
					},
			  }),
			  Ic(() => {
					Object.defineProperty(n, 'adoptedStyleSheets', {
						configurable: r.configurable,
						enumerable: r.enumerable,
						get: r.get,
						set: r.set,
					});
			  }))
			: () => {};
	}
	function Wc(e, t = {}) {
		const n = e.doc.defaultView;
		if (!n) return () => {};
		const o = Oc(e, e.doc),
			i = (function ({ mousemoveCb: e, sampling: t, doc: n, mirror: o }) {
				if (!1 === t.mousemove) return () => {};
				const i = 'number' == typeof t.mousemove ? t.mousemove : 50,
					r = 'number' == typeof t.mousemoveCallback ? t.mousemoveCallback : 500;
				let s,
					a = [];
				const l = Vl(
						Ic((t) => {
							const n = Date.now() - s;
							e(
								a.map((e) => ((e.timeOffset -= n), e)),
								t,
							),
								(a = []),
								(s = null);
						}),
						r,
					),
					c = Ic(
						Vl(
							Ic((e) => {
								const t = Rc(e),
									{ clientX: n, clientY: i } = ic(e) ? e.changedTouches[0] : e;
								s || (s = Zl()),
									a.push({
										x: n,
										y: i,
										id: o.getId(t),
										timeOffset: Zl() - s,
									}),
									l(
										'undefined' != typeof DragEvent && e instanceof DragEvent
											? fc.Drag
											: e instanceof MouseEvent
											? fc.MouseMove
											: fc.TouchMove,
									);
							}),
							i,
							{
								trailing: !1,
							},
						),
					),
					d = [jl('mousemove', c, n), jl('touchmove', c, n), jl('drag', c, n)];
				return Ic(() => {
					d.forEach((e) => e());
				});
			})(e),
			r = Nc(e),
			s = Dc(e),
			a = (function ({ viewportResizeCb: e }, { win: t }) {
				let n = -1,
					o = -1;
				return jl(
					'resize',
					Ic(
						Vl(
							Ic(() => {
								const t = Jl(),
									i = Ql();
								(n === t && o === i) ||
									(e({
										width: Number(i),
										height: Number(t),
									}),
									(n = t),
									(o = i));
							}),
							200,
						),
					),
					t,
				);
			})(e, {
				win: n,
			}),
			l = Uc(e),
			c = (function ({
				mediaInteractionCb: e,
				blockClass: t,
				blockSelector: n,
				unblockSelector: o,
				mirror: i,
				sampling: r,
				doc: s,
			}) {
				const a = Ic((s) =>
						Vl(
							Ic((r) => {
								const a = Rc(r);
								if (!a || tc(a, t, n, o, !0)) return;
								const { currentTime: l, volume: c, muted: d, playbackRate: u } = a;
								e({
									type: s,
									id: i.getId(a),
									currentTime: l,
									volume: c,
									muted: d,
									playbackRate: u,
								});
							}),
							r.media || 500,
						),
					),
					l = [
						jl('play', a(0), s),
						jl('pause', a(1), s),
						jl('seeked', a(2), s),
						jl('volumechange', a(3), s),
						jl('ratechange', a(4), s),
					];
				return Ic(() => {
					l.forEach((e) => e());
				});
			})(e),
			d = (function ({ styleSheetRuleCb: e, mirror: t, stylesheetManager: n }, { win: o }) {
				if (!o.CSSStyleSheet || !o.CSSStyleSheet.prototype) return () => {};
				const i = o.CSSStyleSheet.prototype.insertRule;
				o.CSSStyleSheet.prototype.insertRule = new Proxy(i, {
					apply: Ic((o, i, r) => {
						const [s, a] = r,
							{ id: l, styleId: c } = Bc(i, t, n.styleMirror);
						return (
							((l && -1 !== l) || (c && -1 !== c)) &&
								e({
									id: l,
									styleId: c,
									adds: [
										{
											rule: s,
											index: a,
										},
									],
								}),
							o.apply(i, r)
						);
					}),
				});
				const r = o.CSSStyleSheet.prototype.deleteRule;
				let s, a;
				(o.CSSStyleSheet.prototype.deleteRule = new Proxy(r, {
					apply: Ic((o, i, r) => {
						const [s] = r,
							{ id: a, styleId: l } = Bc(i, t, n.styleMirror);
						return (
							((a && -1 !== a) || (l && -1 !== l)) &&
								e({
									id: a,
									styleId: l,
									removes: [
										{
											index: s,
										},
									],
								}),
							o.apply(i, r)
						);
					}),
				})),
					o.CSSStyleSheet.prototype.replace &&
						((s = o.CSSStyleSheet.prototype.replace),
						(o.CSSStyleSheet.prototype.replace = new Proxy(s, {
							apply: Ic((o, i, r) => {
								const [s] = r,
									{ id: a, styleId: l } = Bc(i, t, n.styleMirror);
								return (
									((a && -1 !== a) || (l && -1 !== l)) &&
										e({
											id: a,
											styleId: l,
											replace: s,
										}),
									o.apply(i, r)
								);
							}),
						}))),
					o.CSSStyleSheet.prototype.replaceSync &&
						((a = o.CSSStyleSheet.prototype.replaceSync),
						(o.CSSStyleSheet.prototype.replaceSync = new Proxy(a, {
							apply: Ic((o, i, r) => {
								const [s] = r,
									{ id: a, styleId: l } = Bc(i, t, n.styleMirror);
								return (
									((a && -1 !== a) || (l && -1 !== l)) &&
										e({
											id: a,
											styleId: l,
											replaceSync: s,
										}),
									o.apply(i, r)
								);
							}),
						})));
				const l = {};
				qc('CSSGroupingRule')
					? (l.CSSGroupingRule = o.CSSGroupingRule)
					: (qc('CSSMediaRule') && (l.CSSMediaRule = o.CSSMediaRule),
					  qc('CSSConditionRule') && (l.CSSConditionRule = o.CSSConditionRule),
					  qc('CSSSupportsRule') && (l.CSSSupportsRule = o.CSSSupportsRule));
				const c = {};
				return (
					Object.entries(l).forEach(([o, i]) => {
						(c[o] = {
							insertRule: i.prototype.insertRule,
							deleteRule: i.prototype.deleteRule,
						}),
							(i.prototype.insertRule = new Proxy(c[o].insertRule, {
								apply: Ic((o, i, r) => {
									const [s, a] = r,
										{ id: l, styleId: c } = Bc(i.parentStyleSheet, t, n.styleMirror);
									return (
										((l && -1 !== l) || (c && -1 !== c)) &&
											e({
												id: l,
												styleId: c,
												adds: [
													{
														rule: s,
														index: [...Hc(i), a || 0],
													},
												],
											}),
										o.apply(i, r)
									);
								}),
							})),
							(i.prototype.deleteRule = new Proxy(c[o].deleteRule, {
								apply: Ic((o, i, r) => {
									const [s] = r,
										{ id: a, styleId: l } = Bc(i.parentStyleSheet, t, n.styleMirror);
									return (
										((a && -1 !== a) || (l && -1 !== l)) &&
											e({
												id: a,
												styleId: l,
												removes: [
													{
														index: [...Hc(i), s],
													},
												],
											}),
										o.apply(i, r)
									);
								}),
							}));
					}),
					Ic(() => {
						(o.CSSStyleSheet.prototype.insertRule = i),
							(o.CSSStyleSheet.prototype.deleteRule = r),
							s && (o.CSSStyleSheet.prototype.replace = s),
							a && (o.CSSStyleSheet.prototype.replaceSync = a),
							Object.entries(l).forEach(([e, t]) => {
								(t.prototype.insertRule = c[e].insertRule), (t.prototype.deleteRule = c[e].deleteRule);
							});
					})
				);
			})(e, {
				win: n,
			}),
			u = Fc(e, e.doc),
			p = (function (
				{ styleDeclarationCb: e, mirror: t, ignoreCSSAttributes: n, stylesheetManager: o },
				{ win: i },
			) {
				const r = i.CSSStyleDeclaration.prototype.setProperty;
				i.CSSStyleDeclaration.prototype.setProperty = new Proxy(r, {
					apply: Ic((i, s, a) => {
						const [l, c, d] = a;
						if (n.has(l)) return r.apply(s, [l, c, d]);
						const { id: u, styleId: p } = Bc(
							Mc([s, 'access', (e) => e.parentRule, 'optionalAccess', (e) => e.parentStyleSheet]),
							t,
							o.styleMirror,
						);
						return (
							((u && -1 !== u) || (p && -1 !== p)) &&
								e({
									id: u,
									styleId: p,
									set: {
										property: l,
										value: c,
										priority: d,
									},
									index: Hc(s.parentRule),
								}),
							i.apply(s, a)
						);
					}),
				});
				const s = i.CSSStyleDeclaration.prototype.removeProperty;
				return (
					(i.CSSStyleDeclaration.prototype.removeProperty = new Proxy(s, {
						apply: Ic((i, r, a) => {
							const [l] = a;
							if (n.has(l)) return s.apply(r, [l]);
							const { id: c, styleId: d } = Bc(
								Mc([r, 'access', (e) => e.parentRule, 'optionalAccess', (e) => e.parentStyleSheet]),
								t,
								o.styleMirror,
							);
							return (
								((c && -1 !== c) || (d && -1 !== d)) &&
									e({
										id: c,
										styleId: d,
										remove: {
											property: l,
										},
										index: Hc(r.parentRule),
									}),
								i.apply(r, a)
							);
						}),
					})),
					Ic(() => {
						(i.CSSStyleDeclaration.prototype.setProperty = r),
							(i.CSSStyleDeclaration.prototype.removeProperty = s);
					})
				);
			})(e, {
				win: n,
			}),
			m = e.collectFonts
				? (function ({ fontCb: e, doc: t }) {
						const n = t.defaultView;
						if (!n) return () => {};
						const o = [],
							i = new WeakMap(),
							r = n.FontFace;
						n.FontFace = function (e, t, n) {
							const o = new r(e, t, n);
							return (
								i.set(o, {
									family: e,
									buffer: 'string' != typeof t,
									descriptors: n,
									fontSource: 'string' == typeof t ? t : JSON.stringify(Array.from(new Uint8Array(t))),
								}),
								o
							);
						};
						const s = Kl(t.fonts, 'add', function (t) {
							return function (n) {
								return (
									gc(
										Ic(() => {
											const t = i.get(n);
											t && (e(t), i.delete(n));
										}),
										0,
									),
									t.apply(this, [n])
								);
							};
						});
						return (
							o.push(() => {
								n.FontFace = r;
							}),
							o.push(s),
							Ic(() => {
								o.forEach((e) => e());
							})
						);
				  })(e)
				: () => {},
			g = (function (e) {
				const { doc: t, mirror: n, blockClass: o, blockSelector: i, unblockSelector: r, selectionCb: s } = e;
				let a = !0;
				const l = Ic(() => {
					const e = t.getSelection();
					if (!e || (a && Mc([e, 'optionalAccess', (e) => e.isCollapsed]))) return;
					a = e.isCollapsed || !1;
					const l = [],
						c = e.rangeCount || 0;
					for (let t = 0; t < c; t++) {
						const s = e.getRangeAt(t),
							{ startContainer: a, startOffset: c, endContainer: d, endOffset: u } = s;
						tc(a, o, i, r, !0) ||
							tc(d, o, i, r, !0) ||
							l.push({
								start: n.getId(a),
								startOffset: c,
								end: n.getId(d),
								endOffset: u,
							});
					}
					s({
						ranges: l,
					});
				});
				return l(), jl('selectionchange', l);
			})(e),
			h = (function ({ doc: e, customElementCb: t }) {
				const n = e.defaultView;
				return n && n.customElements
					? Kl(n.customElements, 'define', function (e) {
							return function (n, o, i) {
								try {
									t({
										define: {
											name: n,
										},
									});
								} catch (e) {}
								return e.apply(this, [n, o, i]);
							};
					  })
					: () => {};
			})(e),
			f = [];
		for (const t of e.plugins) f.push(t.observer(t.callback, n, t.options));
		return Ic(() => {
			Ac.forEach((e) => e.reset()),
				o.disconnect(),
				i(),
				r(),
				s(),
				a(),
				l(),
				c(),
				d(),
				u(),
				p(),
				m(),
				g(),
				h(),
				f.forEach((e) => e());
		});
	}
	function jc(e) {
		return void 0 !== window[e];
	}
	function qc(e) {
		return Boolean(
			void 0 !== window[e] &&
				window[e].prototype &&
				'insertRule' in window[e].prototype &&
				'deleteRule' in window[e].prototype,
		);
	}
	class Gc {
		constructor(e) {
			(this.generateIdFn = e),
				(this.iframeIdToRemoteIdMap = new WeakMap()),
				(this.iframeRemoteIdToIdMap = new WeakMap());
		}
		getId(e, t, n, o) {
			const i = n || this.getIdToRemoteIdMap(e),
				r = o || this.getRemoteIdToIdMap(e);
			let s = i.get(t);
			return s || ((s = this.generateIdFn()), i.set(t, s), r.set(s, t)), s;
		}
		getIds(e, t) {
			const n = this.getIdToRemoteIdMap(e),
				o = this.getRemoteIdToIdMap(e);
			return t.map((t) => this.getId(e, t, n, o));
		}
		getRemoteId(e, t, n) {
			const o = n || this.getRemoteIdToIdMap(e);
			if ('number' != typeof t) return t;
			const i = o.get(t);
			return i || -1;
		}
		getRemoteIds(e, t) {
			const n = this.getRemoteIdToIdMap(e);
			return t.map((t) => this.getRemoteId(e, t, n));
		}
		reset(e) {
			if (!e)
				return (
					(this.iframeIdToRemoteIdMap = new WeakMap()), void (this.iframeRemoteIdToIdMap = new WeakMap())
				);
			this.iframeIdToRemoteIdMap.delete(e), this.iframeRemoteIdToIdMap.delete(e);
		}
		getIdToRemoteIdMap(e) {
			let t = this.iframeIdToRemoteIdMap.get(e);
			return t || ((t = new Map()), this.iframeIdToRemoteIdMap.set(e, t)), t;
		}
		getRemoteIdToIdMap(e) {
			let t = this.iframeRemoteIdToIdMap.get(e);
			return t || ((t = new Map()), this.iframeRemoteIdToIdMap.set(e, t)), t;
		}
	}
	function Vc(e) {
		let t,
			n = e[0],
			o = 1;
		for (; o < e.length; ) {
			const i = e[o],
				r = e[o + 1];
			if (((o += 2), ('optionalAccess' === i || 'optionalCall' === i) && null == n)) return;
			'access' === i || 'optionalAccess' === i
				? ((t = n), (n = r(n)))
				: ('call' !== i && 'optionalCall' !== i) || ((n = r((...e) => n.call(t, ...e))), (t = void 0));
		}
		return n;
	}
	class Yc {
		constructor() {
			(this.crossOriginIframeMirror = new Gc(El)), (this.crossOriginIframeRootIdMap = new WeakMap());
		}
		addIframe() {}
		addLoadListener() {}
		attachIframe() {}
	}
	class Kc {
		constructor(e) {
			(this.iframes = new WeakMap()),
				(this.crossOriginIframeMap = new WeakMap()),
				(this.crossOriginIframeMirror = new Gc(El)),
				(this.crossOriginIframeRootIdMap = new WeakMap()),
				(this.mutationCb = e.mutationCb),
				(this.wrappedEmit = e.wrappedEmit),
				(this.stylesheetManager = e.stylesheetManager),
				(this.recordCrossOriginIframes = e.recordCrossOriginIframes),
				(this.crossOriginIframeStyleMirror = new Gc(
					this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror),
				)),
				(this.mirror = e.mirror),
				this.recordCrossOriginIframes && window.addEventListener('message', this.handleMessage.bind(this));
		}
		addIframe(e) {
			this.iframes.set(e, !0), e.contentWindow && this.crossOriginIframeMap.set(e.contentWindow, e);
		}
		addLoadListener(e) {
			this.loadListener = e;
		}
		attachIframe(e, t) {
			this.mutationCb({
				adds: [
					{
						parentId: this.mirror.getId(e),
						nextId: null,
						node: t,
					},
				],
				removes: [],
				texts: [],
				attributes: [],
				isAttachIframe: !0,
			}),
				Vc([this, 'access', (e) => e.loadListener, 'optionalCall', (t) => t(e)]),
				e.contentDocument &&
					e.contentDocument.adoptedStyleSheets &&
					e.contentDocument.adoptedStyleSheets.length > 0 &&
					this.stylesheetManager.adoptStyleSheets(
						e.contentDocument.adoptedStyleSheets,
						this.mirror.getId(e.contentDocument),
					);
		}
		handleMessage(e) {
			const t = e;
			if ('rrweb' !== t.data.type || t.origin !== t.data.origin) return;
			if (!e.source) return;
			const n = this.crossOriginIframeMap.get(e.source);
			if (!n) return;
			const o = this.transformCrossOriginEvent(n, t.data.event);
			o && this.wrappedEmit(o, t.data.isCheckout);
		}
		transformCrossOriginEvent(e, t) {
			switch (t.type) {
				case hc.FullSnapshot: {
					this.crossOriginIframeMirror.reset(e),
						this.crossOriginIframeStyleMirror.reset(e),
						this.replaceIdOnNode(t.data.node, e);
					const n = t.data.node.id;
					return (
						this.crossOriginIframeRootIdMap.set(e, n),
						this.patchRootIdOnNode(t.data.node, n),
						{
							timestamp: t.timestamp,
							type: hc.IncrementalSnapshot,
							data: {
								source: fc.Mutation,
								adds: [
									{
										parentId: this.mirror.getId(e),
										nextId: null,
										node: t.data.node,
									},
								],
								removes: [],
								texts: [],
								attributes: [],
								isAttachIframe: !0,
							},
						}
					);
				}
				case hc.Meta:
				case hc.Load:
				case hc.DomContentLoaded:
					return !1;
				case hc.Plugin:
					return t;
				case hc.Custom:
					return this.replaceIds(t.data.payload, e, ['id', 'parentId', 'previousId', 'nextId']), t;
				case hc.IncrementalSnapshot:
					switch (t.data.source) {
						case fc.Mutation:
							return (
								t.data.adds.forEach((t) => {
									this.replaceIds(t, e, ['parentId', 'nextId', 'previousId']),
										this.replaceIdOnNode(t.node, e);
									const n = this.crossOriginIframeRootIdMap.get(e);
									n && this.patchRootIdOnNode(t.node, n);
								}),
								t.data.removes.forEach((t) => {
									this.replaceIds(t, e, ['parentId', 'id']);
								}),
								t.data.attributes.forEach((t) => {
									this.replaceIds(t, e, ['id']);
								}),
								t.data.texts.forEach((t) => {
									this.replaceIds(t, e, ['id']);
								}),
								t
							);
						case fc.Drag:
						case fc.TouchMove:
						case fc.MouseMove:
							return (
								t.data.positions.forEach((t) => {
									this.replaceIds(t, e, ['id']);
								}),
								t
							);
						case fc.ViewportResize:
							return !1;
						case fc.MediaInteraction:
						case fc.MouseInteraction:
						case fc.Scroll:
						case fc.CanvasMutation:
						case fc.Input:
							return this.replaceIds(t.data, e, ['id']), t;
						case fc.StyleSheetRule:
						case fc.StyleDeclaration:
							return this.replaceIds(t.data, e, ['id']), this.replaceStyleIds(t.data, e, ['styleId']), t;
						case fc.Font:
							return t;
						case fc.Selection:
							return (
								t.data.ranges.forEach((t) => {
									this.replaceIds(t, e, ['start', 'end']);
								}),
								t
							);
						case fc.AdoptedStyleSheet:
							return (
								this.replaceIds(t.data, e, ['id']),
								this.replaceStyleIds(t.data, e, ['styleIds']),
								Vc([
									t,
									'access',
									(e) => e.data,
									'access',
									(e) => e.styles,
									'optionalAccess',
									(e) => e.forEach,
									'call',
									(t) =>
										t((t) => {
											this.replaceStyleIds(t, e, ['styleId']);
										}),
								]),
								t
							);
					}
			}
			return !1;
		}
		replace(e, t, n, o) {
			for (const i of o)
				(Array.isArray(t[i]) || 'number' == typeof t[i]) &&
					(Array.isArray(t[i]) ? (t[i] = e.getIds(n, t[i])) : (t[i] = e.getId(n, t[i])));
			return t;
		}
		replaceIds(e, t, n) {
			return this.replace(this.crossOriginIframeMirror, e, t, n);
		}
		replaceStyleIds(e, t, n) {
			return this.replace(this.crossOriginIframeStyleMirror, e, t, n);
		}
		replaceIdOnNode(e, t) {
			this.replaceIds(e, t, ['id', 'rootId']),
				'childNodes' in e &&
					e.childNodes.forEach((e) => {
						this.replaceIdOnNode(e, t);
					});
		}
		patchRootIdOnNode(e, t) {
			e.type === sl.Document || e.rootId || (e.rootId = t),
				'childNodes' in e &&
					e.childNodes.forEach((e) => {
						this.patchRootIdOnNode(e, t);
					});
		}
	}
	class Zc {
		init() {}
		addShadowRoot() {}
		observeAttachShadow() {}
		reset() {}
	}
	class Xc {
		constructor(e) {
			(this.shadowDoms = new WeakSet()),
				(this.restoreHandlers = []),
				(this.mutationCb = e.mutationCb),
				(this.scrollCb = e.scrollCb),
				(this.bypassOptions = e.bypassOptions),
				(this.mirror = e.mirror),
				this.init();
		}
		init() {
			this.reset(), this.patchAttachShadow(Element, document);
		}
		addShadowRoot(e, t) {
			if (!ll(e)) return;
			if (this.shadowDoms.has(e)) return;
			this.shadowDoms.add(e);
			const n = Oc(
				{
					...this.bypassOptions,
					doc: t,
					mutationCb: this.mutationCb,
					mirror: this.mirror,
					shadowDomManager: this,
				},
				e,
			);
			this.restoreHandlers.push(() => n.disconnect()),
				this.restoreHandlers.push(
					Dc({
						...this.bypassOptions,
						scrollCb: this.scrollCb,
						doc: e,
						mirror: this.mirror,
					}),
				),
				gc(() => {
					e.adoptedStyleSheets &&
						e.adoptedStyleSheets.length > 0 &&
						this.bypassOptions.stylesheetManager.adoptStyleSheets(
							e.adoptedStyleSheets,
							this.mirror.getId(e.host),
						),
						this.restoreHandlers.push(
							Fc(
								{
									mirror: this.mirror,
									stylesheetManager: this.bypassOptions.stylesheetManager,
								},
								e,
							),
						);
				}, 0);
		}
		observeAttachShadow(e) {
			e.contentWindow &&
				e.contentDocument &&
				this.patchAttachShadow(e.contentWindow.Element, e.contentDocument);
		}
		patchAttachShadow(e, t) {
			const n = this;
			this.restoreHandlers.push(
				Kl(e.prototype, 'attachShadow', function (e) {
					return function (o) {
						const i = e.call(this, o);
						return this.shadowRoot && uc(this) && n.addShadowRoot(this.shadowRoot, t), i;
					};
				}),
			);
		}
		reset() {
			this.restoreHandlers.forEach((e) => {
				try {
					e();
				} catch (e) {}
			}),
				(this.restoreHandlers = []),
				(this.shadowDoms = new WeakSet());
		}
	}
	class Jc {
		reset() {}
		freeze() {}
		unfreeze() {}
		lock() {}
		unlock() {}
		snapshot() {}
	}
	class Qc {
		constructor(e) {
			(this.trackedLinkElements = new WeakSet()),
				(this.styleMirror = new lc()),
				(this.mutationCb = e.mutationCb),
				(this.adoptedStyleSheetCb = e.adoptedStyleSheetCb);
		}
		attachLinkElement(e, t) {
			'_cssText' in t.attributes &&
				this.mutationCb({
					adds: [],
					removes: [],
					texts: [],
					attributes: [
						{
							id: t.id,
							attributes: t.attributes,
						},
					],
				}),
				this.trackLinkElement(e);
		}
		trackLinkElement(e) {
			this.trackedLinkElements.has(e) ||
				(this.trackedLinkElements.add(e), this.trackStylesheetInLinkElement(e));
		}
		adoptStyleSheets(e, t) {
			if (0 === e.length) return;
			const n = {
					id: t,
					styleIds: [],
				},
				o = [];
			for (const t of e) {
				let e;
				this.styleMirror.has(t)
					? (e = this.styleMirror.getId(t))
					: ((e = this.styleMirror.add(t)),
					  o.push({
							styleId: e,
							rules: Array.from(t.rules || CSSRule, (e, t) => ({
								rule: dl(e),
								index: t,
							})),
					  })),
					n.styleIds.push(e);
			}
			o.length > 0 && (n.styles = o), this.adoptedStyleSheetCb(n);
		}
		reset() {
			this.styleMirror.reset(), (this.trackedLinkElements = new WeakSet());
		}
		trackStylesheetInLinkElement(e) {}
	}
	class ed {
		constructor() {
			(this.nodeMap = new WeakMap()), (this.loop = !0), this.periodicallyClear();
		}
		periodicallyClear() {
			!(function (...e) {
				mc('requestAnimationFrame')(...e);
			})(() => {
				this.clear(), this.loop && this.periodicallyClear();
			});
		}
		inOtherBuffer(e, t) {
			const n = this.nodeMap.get(e);
			return n && Array.from(n).some((e) => e !== t);
		}
		add(e, t) {
			this.nodeMap.set(e, (this.nodeMap.get(e) || new Set()).add(t));
		}
		clear() {
			this.nodeMap = new WeakMap();
		}
		destroy() {
			this.loop = !1;
		}
	}
	let td, nd;
	const od = new ul();
	function id(e = {}) {
		const {
			emit: t,
			checkoutEveryNms: n,
			checkoutEveryNth: o,
			blockClass: i = 'rr-block',
			blockSelector: r = null,
			unblockSelector: s = null,
			ignoreClass: a = 'rr-ignore',
			ignoreSelector: l = null,
			maskAllText: c = !1,
			maskTextClass: d = 'rr-mask',
			unmaskTextClass: u = null,
			maskTextSelector: p = null,
			unmaskTextSelector: m = null,
			inlineStylesheet: g = !0,
			maskAllInputs: h,
			maskInputOptions: f,
			slimDOMOptions: _,
			maskAttributeFn: v,
			maskInputFn: y,
			maskTextFn: w,
			maxCanvasSize: b = null,
			packFn: E,
			sampling: S = {},
			dataURLOptions: x = {},
			mousemoveWait: T,
			recordCanvas: C = !1,
			recordCrossOriginIframes: $ = !1,
			recordAfter: k = 'DOMContentLoaded' === e.recordAfter ? e.recordAfter : 'load',
			userTriggeredOnInput: L = !1,
			collectFonts: I = !1,
			inlineImages: M = !1,
			plugins: A,
			keepIframeSrcFn: R = () => !1,
			ignoreCSSAttributes: O = new Set([]),
			errorHandler: N,
			onMutation: D,
			getCanvasManager: P,
		} = e;
		Lc = N;
		const z = !$ || window.parent === window;
		let U = !1;
		if (!z)
			try {
				window.parent.document && (U = !1);
			} catch (e) {
				U = !0;
			}
		if (z && !t) throw new Error('emit function is required');
		void 0 !== T && void 0 === S.mousemove && (S.mousemove = T), od.reset();
		const H =
				!0 === h
					? {
							color: !0,
							date: !0,
							'datetime-local': !0,
							email: !0,
							month: !0,
							number: !0,
							range: !0,
							search: !0,
							tel: !0,
							text: !0,
							time: !0,
							url: !0,
							week: !0,
							textarea: !0,
							select: !0,
							radio: !0,
							checkbox: !0,
					  }
					: void 0 !== f
					? f
					: {},
			B =
				!0 === _ || 'all' === _
					? {
							script: !0,
							comment: !0,
							headFavicon: !0,
							headWhitespace: !0,
							headMetaSocial: !0,
							headMetaRobots: !0,
							headMetaHttpEquiv: !0,
							headMetaVerification: !0,
							headMetaAuthorship: 'all' === _,
							headMetaDescKeywords: 'all' === _,
					  }
					: _ || {};
		let F;
		!(function (e = window) {
			'NodeList' in e &&
				!e.NodeList.prototype.forEach &&
				(e.NodeList.prototype.forEach = Array.prototype.forEach),
				'DOMTokenList' in e &&
					!e.DOMTokenList.prototype.forEach &&
					(e.DOMTokenList.prototype.forEach = Array.prototype.forEach),
				Node.prototype.contains ||
					(Node.prototype.contains = (...e) => {
						let t = e[0];
						if (!(0 in e)) throw new TypeError('1 argument is required');
						do {
							if (this === t) return !0;
						} while ((t = t && t.parentNode));
						return !1;
					});
		})();
		let W = 0;
		const j = (e) => {
			for (const t of A || []) t.eventProcessor && (e = t.eventProcessor(e));
			return E && !U && (e = E(e)), e;
		};
		td = (e, i) => {
			const r = e;
			if (
				((r.timestamp = Zl()),
				!Pi([Ac, 'access', (e) => e[0], 'optionalAccess', (e) => e.isFrozen, 'call', (e) => e()]) ||
					r.type === hc.FullSnapshot ||
					(r.type === hc.IncrementalSnapshot && r.data.source === fc.Mutation) ||
					Ac.forEach((e) => e.unfreeze()),
				z)
			)
				Pi([t, 'optionalCall', (e) => e(j(r), i)]);
			else if (U) {
				const e = {
					type: 'rrweb',
					event: j(r),
					origin: window.location.origin,
					isCheckout: i,
				};
				window.parent.postMessage(e, '*');
			}
			if (r.type === hc.FullSnapshot) (F = r), (W = 0);
			else if (r.type === hc.IncrementalSnapshot) {
				if (r.data.source === fc.Mutation && r.data.isAttachIframe) return;
				W++;
				const e = o && W >= o,
					t = n && F && r.timestamp - F.timestamp > n;
				(e || t) && Q(!0);
			}
		};
		const q = (e) => {
				td({
					type: hc.IncrementalSnapshot,
					data: {
						source: fc.Mutation,
						...e,
					},
				});
			},
			G = (e) =>
				td({
					type: hc.IncrementalSnapshot,
					data: {
						source: fc.Scroll,
						...e,
					},
				}),
			V = (e) =>
				td({
					type: hc.IncrementalSnapshot,
					data: {
						source: fc.CanvasMutation,
						...e,
					},
				}),
			Y = new Qc({
				mutationCb: q,
				adoptedStyleSheetCb: (e) =>
					td({
						type: hc.IncrementalSnapshot,
						data: {
							source: fc.AdoptedStyleSheet,
							...e,
						},
					}),
			}),
			K =
				'boolean' == typeof __RRWEB_EXCLUDE_IFRAME__ && __RRWEB_EXCLUDE_IFRAME__
					? new Yc()
					: new Kc({
							mirror: od,
							mutationCb: q,
							stylesheetManager: Y,
							recordCrossOriginIframes: $,
							wrappedEmit: td,
					  });
		for (const e of A || [])
			e.getMirror &&
				e.getMirror({
					nodeMirror: od,
					crossOriginIframeMirror: K.crossOriginIframeMirror,
					crossOriginIframeStyleMirror: K.crossOriginIframeStyleMirror,
				});
		const Z = new ed(),
			X = (function (e, t) {
				try {
					return e ? e(t) : new Jc();
				} catch (e) {
					return console.warn('Unable to initialize CanvasManager'), new Jc();
				}
			})(P, {
				mirror: od,
				win: window,
				mutationCb: (e) =>
					td({
						type: hc.IncrementalSnapshot,
						data: {
							source: fc.CanvasMutation,
							...e,
						},
					}),
				recordCanvas: C,
				blockClass: i,
				blockSelector: r,
				unblockSelector: s,
				maxCanvasSize: b,
				sampling: S.canvas,
				dataURLOptions: x,
				errorHandler: N,
			}),
			J =
				'boolean' == typeof __RRWEB_EXCLUDE_SHADOW_DOM__ && __RRWEB_EXCLUDE_SHADOW_DOM__
					? new Zc()
					: new Xc({
							mutationCb: q,
							scrollCb: G,
							bypassOptions: {
								onMutation: D,
								blockClass: i,
								blockSelector: r,
								unblockSelector: s,
								maskAllText: c,
								maskTextClass: d,
								unmaskTextClass: u,
								maskTextSelector: p,
								unmaskTextSelector: m,
								inlineStylesheet: g,
								maskInputOptions: H,
								dataURLOptions: x,
								maskAttributeFn: v,
								maskTextFn: w,
								maskInputFn: y,
								recordCanvas: C,
								inlineImages: M,
								sampling: S,
								slimDOMOptions: B,
								iframeManager: K,
								stylesheetManager: Y,
								canvasManager: X,
								keepIframeSrcFn: R,
								processedNodeManager: Z,
							},
							mirror: od,
					  }),
			Q = (e = !1) => {
				td(
					{
						type: hc.Meta,
						data: {
							href: window.location.href,
							width: Ql(),
							height: Jl(),
						},
					},
					e,
				),
					Y.reset(),
					J.init(),
					Ac.forEach((e) => e.lock());
				const t = (function (e, t) {
					const {
						mirror: n = new ul(),
						blockClass: o = 'rr-block',
						blockSelector: i = null,
						unblockSelector: r = null,
						maskAllText: s = !1,
						maskTextClass: a = 'rr-mask',
						unmaskTextClass: l = null,
						maskTextSelector: c = null,
						unmaskTextSelector: d = null,
						inlineStylesheet: u = !0,
						inlineImages: p = !1,
						recordCanvas: m = !1,
						maskAllInputs: g = !1,
						maskAttributeFn: h,
						maskTextFn: f,
						maskInputFn: _,
						slimDOM: v = !1,
						dataURLOptions: y,
						preserveWhiteSpace: w,
						onSerialize: b,
						onIframeLoad: E,
						iframeLoadTimeout: S,
						onStylesheetLoad: x,
						stylesheetLoadTimeout: T,
						keepIframeSrcFn: C = () => !1,
					} = t || {};
					return Fl(e, {
						doc: e,
						mirror: n,
						blockClass: o,
						blockSelector: i,
						unblockSelector: r,
						maskAllText: s,
						maskTextClass: a,
						unmaskTextClass: l,
						maskTextSelector: c,
						unmaskTextSelector: d,
						skipChild: !1,
						inlineStylesheet: u,
						maskInputOptions:
							!0 === g
								? {
										color: !0,
										date: !0,
										'datetime-local': !0,
										email: !0,
										month: !0,
										number: !0,
										range: !0,
										search: !0,
										tel: !0,
										text: !0,
										time: !0,
										url: !0,
										week: !0,
										textarea: !0,
										select: !0,
								  }
								: !1 === g
								? {}
								: g,
						maskAttributeFn: h,
						maskTextFn: f,
						maskInputFn: _,
						slimDOMOptions:
							!0 === v || 'all' === v
								? {
										script: !0,
										comment: !0,
										headFavicon: !0,
										headWhitespace: !0,
										headMetaDescKeywords: 'all' === v,
										headMetaSocial: !0,
										headMetaRobots: !0,
										headMetaHttpEquiv: !0,
										headMetaAuthorship: !0,
										headMetaVerification: !0,
								  }
								: !1 === v
								? {}
								: v,
						dataURLOptions: y,
						inlineImages: p,
						recordCanvas: m,
						preserveWhiteSpace: w,
						onSerialize: b,
						onIframeLoad: E,
						iframeLoadTimeout: S,
						onStylesheetLoad: x,
						stylesheetLoadTimeout: T,
						keepIframeSrcFn: C,
						newlyAddedElement: !1,
					});
				})(document, {
					mirror: od,
					blockClass: i,
					blockSelector: r,
					unblockSelector: s,
					maskAllText: c,
					maskTextClass: d,
					unmaskTextClass: u,
					maskTextSelector: p,
					unmaskTextSelector: m,
					inlineStylesheet: g,
					maskAllInputs: H,
					maskAttributeFn: v,
					maskInputFn: y,
					maskTextFn: w,
					slimDOM: B,
					dataURLOptions: x,
					recordCanvas: C,
					inlineImages: M,
					onSerialize: (e) => {
						rc(e, od) && K.addIframe(e),
							sc(e, od) && Y.trackLinkElement(e),
							ac(e) && J.addShadowRoot(e.shadowRoot, document);
					},
					onIframeLoad: (e, t) => {
						K.attachIframe(e, t), J.observeAttachShadow(e);
					},
					onStylesheetLoad: (e, t) => {
						Y.attachLinkElement(e, t);
					},
					keepIframeSrcFn: R,
				});
				if (!t) return console.warn('Failed to snapshot the document');
				td({
					type: hc.FullSnapshot,
					data: {
						node: t,
						initialOffset: Xl(window),
					},
				}),
					Ac.forEach((e) => e.unlock()),
					document.adoptedStyleSheets &&
						document.adoptedStyleSheets.length > 0 &&
						Y.adoptStyleSheets(document.adoptedStyleSheets, od.getId(document));
			};
		nd = Q;
		try {
			const e = [],
				t = (e) =>
					Ic(Wc)(
						{
							onMutation: D,
							mutationCb: q,
							mousemoveCb: (e, t) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: t,
										positions: e,
									},
								}),
							mouseInteractionCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.MouseInteraction,
										...e,
									},
								}),
							scrollCb: G,
							viewportResizeCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.ViewportResize,
										...e,
									},
								}),
							inputCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.Input,
										...e,
									},
								}),
							mediaInteractionCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.MediaInteraction,
										...e,
									},
								}),
							styleSheetRuleCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.StyleSheetRule,
										...e,
									},
								}),
							styleDeclarationCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.StyleDeclaration,
										...e,
									},
								}),
							canvasMutationCb: V,
							fontCb: (e) =>
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.Font,
										...e,
									},
								}),
							selectionCb: (e) => {
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.Selection,
										...e,
									},
								});
							},
							customElementCb: (e) => {
								td({
									type: hc.IncrementalSnapshot,
									data: {
										source: fc.CustomElement,
										...e,
									},
								});
							},
							blockClass: i,
							ignoreClass: a,
							ignoreSelector: l,
							maskAllText: c,
							maskTextClass: d,
							unmaskTextClass: u,
							maskTextSelector: p,
							unmaskTextSelector: m,
							maskInputOptions: H,
							inlineStylesheet: g,
							sampling: S,
							recordCanvas: C,
							inlineImages: M,
							userTriggeredOnInput: L,
							collectFonts: I,
							doc: e,
							maskAttributeFn: v,
							maskInputFn: y,
							maskTextFn: w,
							keepIframeSrcFn: R,
							blockSelector: r,
							unblockSelector: s,
							slimDOMOptions: B,
							dataURLOptions: x,
							mirror: od,
							iframeManager: K,
							stylesheetManager: Y,
							shadowDomManager: J,
							processedNodeManager: Z,
							canvasManager: X,
							ignoreCSSAttributes: O,
							plugins:
								Pi([
									A,
									'optionalAccess',
									(e) => e.filter,
									'call',
									(e) => e((e) => e.observer),
									'optionalAccess',
									(e) => e.map,
									'call',
									(e) =>
										e((e) => ({
											observer: e.observer,
											options: e.options,
											callback: (t) =>
												td({
													type: hc.Plugin,
													data: {
														plugin: e.name,
														payload: t,
													},
												}),
										})),
								]) || [],
						},
						{},
					);
			K.addLoadListener((n) => {
				try {
					e.push(t(n.contentDocument));
				} catch (e) {
					console.warn(e);
				}
			});
			const n = () => {
				Q(), e.push(t(document));
			};
			return (
				'interactive' === document.readyState || 'complete' === document.readyState
					? n()
					: (e.push(
							jl('DOMContentLoaded', () => {
								td({
									type: hc.DomContentLoaded,
									data: {},
								}),
									'DOMContentLoaded' === k && n();
							}),
					  ),
					  e.push(
							jl(
								'load',
								() => {
									td({
										type: hc.Load,
										data: {},
									}),
										'load' === k && n();
								},
								window,
							),
					  )),
				() => {
					e.forEach((e) => e()), Z.destroy(), (nd = void 0), (Lc = void 0);
				}
			);
		} catch (e) {
			console.warn(e);
		}
	}
	(id.mirror = od),
		(id.takeFullSnapshot = function (e) {
			if (!nd) throw new Error('please take full snapshot after start recording');
			nd(e);
		});
	const rd = 3;
	function sd(e) {
		return e > 9999999999 ? e : 1e3 * e;
	}
	function ad(e) {
		return e > 9999999999 ? e / 1e3 : e;
	}
	function ld(e, t) {
		'sentry.transaction' !== t.category &&
			(['ui.click', 'ui.input'].includes(t.category)
				? e.triggerUserActivity()
				: e.checkAndHandleExpiredSession(),
			e.addUpdate(
				() => (
					e.throttledAddEvent({
						type: hc.Custom,
						timestamp: 1e3 * (t.timestamp || 0),
						data: {
							tag: 'breadcrumb',
							payload: Zo(t, 10, 1e3),
						},
					}),
					'console' === t.category
				),
			));
	}
	const cd = 'button,a';
	function dd(e) {
		return e.closest(cd) || e;
	}
	function ud(e) {
		const t = pd(e);
		return t && t instanceof Element ? dd(t) : t;
	}
	function pd(e) {
		return (function (e) {
			return 'object' == typeof e && !!e && 'target' in e;
		})(e)
			? e.target
			: e;
	}
	let md;
	function gd(e) {
		return (
			md ||
				((md = []),
				Wn(Xa, 'open', function (e) {
					return function (...t) {
						if (md)
							try {
								md.forEach((e) => e());
							} catch (e) {}
						return e.apply(Xa, t);
					};
				})),
			md.push(e),
			() => {
				const t = md ? md.indexOf(e) : -1;
				t > -1 && md.splice(t, 1);
			}
		);
	}
	class hd {
		constructor(e, t, n = ld) {
			(this._lastMutation = 0),
				(this._lastScroll = 0),
				(this._clicks = []),
				(this._timeout = t.timeout / 1e3),
				(this._threshold = t.threshold / 1e3),
				(this._scollTimeout = t.scrollTimeout / 1e3),
				(this._replay = e),
				(this._ignoreSelector = t.ignoreSelector),
				(this._addBreadcrumbEvent = n);
		}
		addListeners() {
			const e = gd(() => {
				this._lastMutation = _d();
			});
			this._teardown = () => {
				e(), (this._clicks = []), (this._lastMutation = 0), (this._lastScroll = 0);
			};
		}
		removeListeners() {
			this._teardown && this._teardown(), this._checkClickTimeout && clearTimeout(this._checkClickTimeout);
		}
		handleClick(e, t) {
			if (
				(function (e, t) {
					if (!fd.includes(e.tagName)) return !0;
					if ('INPUT' === e.tagName && !['submit', 'button'].includes(e.getAttribute('type') || ''))
						return !0;
					if (
						'A' === e.tagName &&
						(e.hasAttribute('download') || (e.hasAttribute('target') && '_self' !== e.getAttribute('target')))
					)
						return !0;
					if (t && e.matches(t)) return !0;
					return !1;
				})(t, this._ignoreSelector) ||
				!(function (e) {
					return !(!e.data || 'number' != typeof e.data.nodeId || !e.timestamp);
				})(e)
			)
				return;
			const n = {
				timestamp: ad(e.timestamp),
				clickBreadcrumb: e,
				clickCount: 0,
				node: t,
			};
			this._clicks.some((e) => e.node === n.node && Math.abs(e.timestamp - n.timestamp) < 1) ||
				(this._clicks.push(n), 1 === this._clicks.length && this._scheduleCheckClicks());
		}
		registerMutation(e = Date.now()) {
			this._lastMutation = ad(e);
		}
		registerScroll(e = Date.now()) {
			this._lastScroll = ad(e);
		}
		registerClick(e) {
			const t = dd(e);
			this._handleMultiClick(t);
		}
		_handleMultiClick(e) {
			this._getClicks(e).forEach((e) => {
				e.clickCount++;
			});
		}
		_getClicks(e) {
			return this._clicks.filter((t) => t.node === e);
		}
		_checkClicks() {
			const e = [],
				t = _d();
			this._clicks.forEach((n) => {
				!n.mutationAfter &&
					this._lastMutation &&
					(n.mutationAfter = n.timestamp <= this._lastMutation ? this._lastMutation - n.timestamp : void 0),
					!n.scrollAfter &&
						this._lastScroll &&
						(n.scrollAfter = n.timestamp <= this._lastScroll ? this._lastScroll - n.timestamp : void 0),
					n.timestamp + this._timeout <= t && e.push(n);
			});
			for (const t of e) {
				const e = this._clicks.indexOf(t);
				e > -1 && (this._generateBreadcrumbs(t), this._clicks.splice(e, 1));
			}
			this._clicks.length && this._scheduleCheckClicks();
		}
		_generateBreadcrumbs(e) {
			const t = this._replay,
				n = e.scrollAfter && e.scrollAfter <= this._scollTimeout,
				o = e.mutationAfter && e.mutationAfter <= this._threshold,
				i = !n && !o,
				{ clickCount: r, clickBreadcrumb: s } = e;
			if (i) {
				const n = 1e3 * Math.min(e.mutationAfter || this._timeout, this._timeout),
					o = n < 1e3 * this._timeout ? 'mutation' : 'timeout',
					i = {
						type: 'default',
						message: s.message,
						timestamp: s.timestamp,
						category: 'ui.slowClickDetected',
						data: {
							...s.data,
							url: Xa.location.href,
							route: t.getCurrentRoute(),
							timeAfterClickMs: n,
							endReason: o,
							clickCount: r || 1,
						},
					};
				this._addBreadcrumbEvent(t, i);
			} else if (r > 1) {
				const e = {
					type: 'default',
					message: s.message,
					timestamp: s.timestamp,
					category: 'ui.multiClick',
					data: {
						...s.data,
						url: Xa.location.href,
						route: t.getCurrentRoute(),
						clickCount: r,
						metric: !0,
					},
				};
				this._addBreadcrumbEvent(t, e);
			}
		}
		_scheduleCheckClicks() {
			this._checkClickTimeout && clearTimeout(this._checkClickTimeout),
				(this._checkClickTimeout = setTimeout(() => this._checkClicks(), 1e3));
		}
	}
	const fd = ['A', 'BUTTON', 'INPUT'];
	function _d() {
		return Date.now() / 1e3;
	}
	function vd(e, t) {
		try {
			if (
				!(function (e) {
					return e.type === rd;
				})(t)
			)
				return;
			const { source: n } = t.data;
			if (
				(n === fc.Mutation && e.registerMutation(t.timestamp),
				n === fc.Scroll && e.registerScroll(t.timestamp),
				(function (e) {
					return e.data.source === fc.MouseInteraction;
				})(t))
			) {
				const { type: n, id: o } = t.data,
					i = id.mirror.getNode(o);
				i instanceof HTMLElement && n === _c.Click && e.registerClick(i);
			}
		} catch (e) {}
	}
	function yd(e) {
		return {
			timestamp: Date.now() / 1e3,
			type: 'default',
			...e,
		};
	}
	var wd;
	!(function (e) {
		(e[(e.Document = 0)] = 'Document'),
			(e[(e.DocumentType = 1)] = 'DocumentType'),
			(e[(e.Element = 2)] = 'Element'),
			(e[(e.Text = 3)] = 'Text'),
			(e[(e.CDATA = 4)] = 'CDATA'),
			(e[(e.Comment = 5)] = 'Comment');
	})(wd || (wd = {}));
	const bd = new Set([
		'id',
		'class',
		'aria-label',
		'role',
		'name',
		'alt',
		'title',
		'data-test-id',
		'data-testid',
		'disabled',
		'aria-disabled',
		'data-sentry-component',
	]);
	function Ed(e) {
		const t = {};
		for (const n in e)
			if (bd.has(n)) {
				let o = n;
				('data-testid' !== n && 'data-test-id' !== n) || (o = 'testId'), (t[o] = e[n]);
			}
		return t;
	}
	const Sd = (e) => (t) => {
		if (!e.isEnabled()) return;
		const n = (function (e) {
			const { target: t, message: n } = (function (e) {
				const t = 'click' === e.name;
				let n,
					o = null;
				try {
					(o = t ? ud(e.event) : pd(e.event)),
						(n =
							In(o, {
								maxStringLength: 200,
							}) || '<unknown>');
				} catch (e) {
					n = '<unknown>';
				}
				return {
					target: o,
					message: n,
				};
			})(e);
			return yd({
				category: `ui.${e.name}`,
				...xd(t, n),
			});
		})(t);
		if (!n) return;
		const o = 'click' === t.name,
			i = o ? t.event : void 0;
		var r, s, a;
		!(o && e.clickDetector && i && i.target) ||
			i.altKey ||
			i.metaKey ||
			i.ctrlKey ||
			i.shiftKey ||
			((r = e.clickDetector), (s = n), (a = ud(t.event)), r.handleClick(s, a)),
			ld(e, n);
	};
	function xd(e, t) {
		const n = id.mirror.getId(e),
			o = n && id.mirror.getNode(n),
			i = o && id.mirror.getMeta(o),
			r =
				i &&
				(function (e) {
					return e.type === wd.Element;
				})(i)
					? i
					: null;
		return {
			message: t,
			data: r
				? {
						nodeId: n,
						node: {
							id: n,
							tagName: r.tagName,
							textContent: Array.from(r.childNodes)
								.map((e) => e.type === wd.Text && e.textContent)
								.filter(Boolean)
								.map((e) => e.trim())
								.join(''),
							attributes: Ed(r.attributes),
						},
				  }
				: {},
		};
	}
	function Td(e, t) {
		if (!e.isEnabled()) return;
		e.updateUserActivity();
		const n = (function (e) {
			const { metaKey: t, shiftKey: n, ctrlKey: o, altKey: i, key: r, target: s } = e;
			if (
				!s ||
				(function (e) {
					return 'INPUT' === e.tagName || 'TEXTAREA' === e.tagName || e.isContentEditable;
				})(s) ||
				!r
			)
				return null;
			const a = t || o || i,
				l = 1 === r.length;
			if (!a && l) return null;
			const c =
					In(s, {
						maxStringLength: 200,
					}) || '<unknown>',
				d = xd(s, c);
			return yd({
				category: 'ui.keyDown',
				message: c,
				data: {
					...d.data,
					metaKey: t,
					shiftKey: n,
					ctrlKey: o,
					altKey: i,
					key: r,
				},
			});
		})(t);
		n && ld(e, n);
	}
	const Cd = {
		resource: function (e) {
			const {
				entryType: t,
				initiatorType: n,
				name: o,
				responseEnd: i,
				startTime: r,
				decodedBodySize: s,
				encodedBodySize: a,
				responseStatus: l,
				transferSize: c,
			} = e;
			if (['fetch', 'xmlhttprequest'].includes(n)) return null;
			return {
				type: `${t}.${n}`,
				start: kd(r),
				end: kd(i),
				name: o,
				data: {
					size: c,
					statusCode: l,
					decodedBodySize: s,
					encodedBodySize: a,
				},
			};
		},
		paint: function (e) {
			const { duration: t, entryType: n, name: o, startTime: i } = e,
				r = kd(i);
			return {
				type: n,
				name: o,
				start: r,
				end: r + t,
				data: void 0,
			};
		},
		navigation: function (e) {
			const {
				entryType: t,
				name: n,
				decodedBodySize: o,
				duration: i,
				domComplete: r,
				encodedBodySize: s,
				domContentLoadedEventStart: a,
				domContentLoadedEventEnd: l,
				domInteractive: c,
				loadEventStart: d,
				loadEventEnd: u,
				redirectCount: p,
				startTime: m,
				transferSize: g,
				type: h,
			} = e;
			if (0 === i) return null;
			return {
				type: `${t}.${h}`,
				start: kd(m),
				end: kd(r),
				name: n,
				data: {
					size: g,
					decodedBodySize: o,
					encodedBodySize: s,
					duration: i,
					domInteractive: c,
					domContentLoadedEventStart: a,
					domContentLoadedEventEnd: l,
					loadEventStart: d,
					loadEventEnd: u,
					domComplete: r,
					redirectCount: p,
				},
			};
		},
	};
	function $d(e) {
		return Cd[e.entryType] ? Cd[e.entryType](e) : null;
	}
	function kd(e) {
		return ((Ei || Xa.performance.timeOrigin) + e) / 1e3;
	}
	function Ld(e) {
		function t(t) {
			e.performanceEntries.includes(t) || e.performanceEntries.push(t);
		}
		function n({ entries: e }) {
			e.forEach(t);
		}
		const o = [];
		return (
			['navigation', 'paint', 'resource'].forEach((e) => {
				o.push(Ks(e, n));
			}),
			o.push(
				Ys(({ metric: t }) => {
					e.replayPerformanceEntries.push(
						(function (e) {
							const t = e.entries,
								n = t[t.length - 1],
								o = n ? n.element : void 0,
								i = e.value,
								r = kd(i);
							return {
								type: 'largest-contentful-paint',
								name: 'largest-contentful-paint',
								start: r,
								end: r,
								data: {
									value: i,
									size: i,
									nodeId: o ? id.mirror.getId(o) : void 0,
								},
							};
						})(t),
					);
				}),
			),
			() => {
				o.forEach((e) => e());
			}
		);
	}
	const Id = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__,
		Md =
			'var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';
	function Ad(e, t) {
		Id && (Pn.info(e), t && Od(e));
	}
	function Rd(e, t) {
		Id &&
			(Pn.info(e),
			t &&
				setTimeout(() => {
					Od(e);
				}, 0));
	}
	function Od(e) {
		or(
			{
				category: 'console',
				data: {
					logger: 'replay',
				},
				level: 'info',
				message: e,
			},
			{
				level: 'info',
			},
		);
	}
	class Nd extends Error {
		constructor() {
			super('Event buffer exceeded maximum size of 20000000.');
		}
	}
	class Dd {
		constructor() {
			(this.events = []), (this._totalSize = 0), (this.hasCheckout = !1);
		}
		get hasEvents() {
			return this.events.length > 0;
		}
		get type() {
			return 'sync';
		}
		destroy() {
			this.events = [];
		}
		async addEvent(e) {
			const t = JSON.stringify(e).length;
			if (((this._totalSize += t), this._totalSize > ol)) throw new Nd();
			this.events.push(e);
		}
		finish() {
			return new Promise((e) => {
				const t = this.events;
				this.clear(), e(JSON.stringify(t));
			});
		}
		clear() {
			(this.events = []), (this._totalSize = 0), (this.hasCheckout = !1);
		}
		getEarliestTimestamp() {
			const e = this.events.map((e) => e.timestamp).sort()[0];
			return e ? sd(e) : null;
		}
	}
	class Pd {
		constructor(e) {
			(this._worker = e), (this._id = 0);
		}
		ensureReady() {
			return (
				this._ensureReadyPromise ||
					(this._ensureReadyPromise = new Promise((e, t) => {
						this._worker.addEventListener(
							'message',
							({ data: n }) => {
								n.success ? e() : t();
							},
							{
								once: !0,
							},
						),
							this._worker.addEventListener(
								'error',
								(e) => {
									t(e);
								},
								{
									once: !0,
								},
							);
					})),
				this._ensureReadyPromise
			);
		}
		destroy() {
			Ad('[Replay] Destroying compression worker'), this._worker.terminate();
		}
		postMessage(e, t) {
			const n = this._getAndIncrementId();
			return new Promise((o, i) => {
				const r = ({ data: t }) => {
					const s = t;
					if (s.method === e && s.id === n) {
						if ((this._worker.removeEventListener('message', r), !s.success))
							return Id && Pn.error('[Replay]', s.response), void i(new Error('Error in compression worker'));
						o(s.response);
					}
				};
				this._worker.addEventListener('message', r),
					this._worker.postMessage({
						id: n,
						method: e,
						arg: t,
					});
			});
		}
		_getAndIncrementId() {
			return this._id++;
		}
	}
	class zd {
		constructor(e) {
			(this._worker = new Pd(e)),
				(this._earliestTimestamp = null),
				(this._totalSize = 0),
				(this.hasCheckout = !1);
		}
		get hasEvents() {
			return !!this._earliestTimestamp;
		}
		get type() {
			return 'worker';
		}
		ensureReady() {
			return this._worker.ensureReady();
		}
		destroy() {
			this._worker.destroy();
		}
		addEvent(e) {
			const t = sd(e.timestamp);
			(!this._earliestTimestamp || t < this._earliestTimestamp) && (this._earliestTimestamp = t);
			const n = JSON.stringify(e);
			return (
				(this._totalSize += n.length),
				this._totalSize > ol ? Promise.reject(new Nd()) : this._sendEventToWorker(n)
			);
		}
		finish() {
			return this._finishRequest();
		}
		clear() {
			(this._earliestTimestamp = null),
				(this._totalSize = 0),
				(this.hasCheckout = !1),
				this._worker.postMessage('clear').then(null, (e) => {
					Id && Pn.warn('[Replay] Sending "clear" message to worker failed', e);
				});
		}
		getEarliestTimestamp() {
			return this._earliestTimestamp;
		}
		_sendEventToWorker(e) {
			return this._worker.postMessage('addEvent', e);
		}
		async _finishRequest() {
			const e = await this._worker.postMessage('finish');
			return (this._earliestTimestamp = null), (this._totalSize = 0), e;
		}
	}
	class Ud {
		constructor(e) {
			(this._fallback = new Dd()),
				(this._compression = new zd(e)),
				(this._used = this._fallback),
				(this._ensureWorkerIsLoadedPromise = this._ensureWorkerIsLoaded());
		}
		get type() {
			return this._used.type;
		}
		get hasEvents() {
			return this._used.hasEvents;
		}
		get hasCheckout() {
			return this._used.hasCheckout;
		}
		set hasCheckout(e) {
			this._used.hasCheckout = e;
		}
		destroy() {
			this._fallback.destroy(), this._compression.destroy();
		}
		clear() {
			return this._used.clear();
		}
		getEarliestTimestamp() {
			return this._used.getEarliestTimestamp();
		}
		addEvent(e) {
			return this._used.addEvent(e);
		}
		async finish() {
			return await this.ensureWorkerIsLoaded(), this._used.finish();
		}
		ensureWorkerIsLoaded() {
			return this._ensureWorkerIsLoadedPromise;
		}
		async _ensureWorkerIsLoaded() {
			try {
				await this._compression.ensureReady();
			} catch (e) {
				return void Ad('[Replay] Failed to load the compression worker, falling back to simple buffer');
			}
			await this._switchToCompressionWorker();
		}
		async _switchToCompressionWorker() {
			const { events: e, hasCheckout: t } = this._fallback,
				n = [];
			for (const t of e) n.push(this._compression.addEvent(t));
			(this._compression.hasCheckout = t), (this._used = this._compression);
			try {
				await Promise.all(n);
			} catch (e) {
				Id && Pn.warn('[Replay] Failed to add events when switching buffers.', e);
			}
		}
	}
	function Hd({ useCompression: e, workerUrl: t }) {
		if (e && window.Worker) {
			const e = (function (e) {
				try {
					const t =
						e ||
						(function () {
							if ('undefined' == typeof __SENTRY_EXCLUDE_REPLAY_WORKER__ || !__SENTRY_EXCLUDE_REPLAY_WORKER__)
								return (function () {
									const e = new Blob([Md]);
									return URL.createObjectURL(e);
								})();
							return '';
						})();
					if (!t) return;
					Ad('[Replay] Using compression worker' + (e ? ` from ${e}` : ''));
					const n = new Worker(t);
					return new Ud(n);
				} catch (e) {
					Ad('[Replay] Failed to create compression worker');
				}
			})(t);
			if (e) return e;
		}
		return Ad('[Replay] Using simple buffer'), new Dd();
	}
	function Bd() {
		try {
			return 'sessionStorage' in Xa && !!Xa.sessionStorage;
		} catch (e) {
			return !1;
		}
	}
	function Fd(e) {
		!(function () {
			if (!Bd()) return;
			try {
				Xa.sessionStorage.removeItem(Ja);
			} catch (e) {}
		})(),
			(e.session = void 0);
	}
	function Wd(e) {
		return void 0 !== e && Math.random() < e;
	}
	function jd(e) {
		const t = Date.now();
		return {
			id: e.id || uo(),
			started: e.started || t,
			lastActivity: e.lastActivity || t,
			segmentId: e.segmentId || 0,
			sampled: e.sampled,
			previousSessionId: e.previousSessionId,
		};
	}
	function qd(e) {
		if (Bd())
			try {
				Xa.sessionStorage.setItem(Ja, JSON.stringify(e));
			} catch (e) {}
	}
	function Gd(
		{ sessionSampleRate: e, allowBuffering: t, stickySession: n = !1 },
		{ previousSessionId: o } = {},
	) {
		const i = (function (e, t) {
				return Wd(e) ? 'session' : !!t && 'buffer';
			})(e, t),
			r = jd({
				sampled: i,
				previousSessionId: o,
			});
		return n && qd(r), r;
	}
	function Vd(e, t, n = +new Date()) {
		return null === e || void 0 === t || t < 0 || (0 !== t && e + t <= n);
	}
	function Yd(e, { maxReplayDuration: t, sessionIdleExpire: n, targetTime: o = Date.now() }) {
		return Vd(e.started, t, o) || Vd(e.lastActivity, n, o);
	}
	function Kd(e, { sessionIdleExpire: t, maxReplayDuration: n }) {
		return (
			!!Yd(e, {
				sessionIdleExpire: t,
				maxReplayDuration: n,
			}) &&
			('buffer' !== e.sampled || 0 !== e.segmentId)
		);
	}
	function Zd({ traceInternals: e, sessionIdleExpire: t, maxReplayDuration: n, previousSessionId: o }, i) {
		const r =
			i.stickySession &&
			(function (e) {
				if (!Bd()) return null;
				try {
					const t = Xa.sessionStorage.getItem(Ja);
					if (!t) return null;
					const n = JSON.parse(t);
					return Rd('[Replay] Loading existing session', e), jd(n);
				} catch (e) {
					return null;
				}
			})(e);
		return r
			? Kd(r, {
					sessionIdleExpire: t,
					maxReplayDuration: n,
			  })
				? (Rd('[Replay] Session in sessionStorage is expired, creating new one...'),
				  Gd(i, {
						previousSessionId: r.id,
				  }))
				: r
			: (Rd('[Replay] Creating new session', e),
			  Gd(i, {
					previousSessionId: o,
			  }));
	}
	function Xd(e, t, n) {
		return !!Qd(e, t) && (Jd(e, t, n), !0);
	}
	async function Jd(e, t, n) {
		if (!e.eventBuffer) return null;
		try {
			n && 'buffer' === e.recordingMode && e.eventBuffer.clear(), n && (e.eventBuffer.hasCheckout = !0);
			const o = (function (e, t) {
				try {
					if (
						'function' == typeof t &&
						(function (e) {
							return e.type === hc.Custom;
						})(e)
					)
						return t(e);
				} catch (e) {
					return (
						Id &&
							Pn.error(
								'[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...',
								e,
							),
						null
					);
				}
				return e;
			})(t, e.getOptions().beforeAddRecordingEvent);
			if (!o) return;
			return await e.eventBuffer.addEvent(o);
		} catch (t) {
			const n = t && t instanceof Nd ? 'addEventSizeExceeded' : 'addEvent';
			Id && Pn.error(t),
				await e.stop({
					reason: n,
				});
			const o = rr();
			o && o.recordDroppedEvent('internal_sdk_error', 'replay');
		}
	}
	function Qd(e, t) {
		if (!e.eventBuffer || e.isPaused() || !e.isEnabled()) return !1;
		const n = sd(t.timestamp);
		return (
			!(n + e.timeouts.sessionIdlePause < Date.now()) &&
			(!(n > e.getContext().initialTimestamp + e.getOptions().maxReplayDuration) ||
				(Ad(
					`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,
					e.getOptions()._experiments.traceInternals,
				),
				!1))
		);
	}
	function eu(e) {
		return !e.type;
	}
	function tu(e) {
		return 'transaction' === e.type;
	}
	function nu(e) {
		return 'feedback' === e.type;
	}
	function ou(e) {
		const t = (function () {
			const e = rr();
			if (!e) return !1;
			const t = e.getTransport();
			if (!t) return !1;
			return t.send.__sentry__baseTransport__ || !1;
		})();
		return (n, o) => {
			if (!e.isEnabled() || (!eu(n) && !tu(n))) return;
			const i = o && o.statusCode;
			(t && (!i || i < 200 || i >= 300)) ||
				(tu(n)
					? (function (e, t) {
							const n = e.getContext();
							t.contexts &&
								t.contexts.trace &&
								t.contexts.trace.trace_id &&
								n.traceIds.size < 100 &&
								n.traceIds.add(t.contexts.trace.trace_id);
					  })(e, n)
					: (function (e, t) {
							const n = e.getContext();
							t.event_id && n.errorIds.size < 100 && n.errorIds.add(t.event_id);
							if ('buffer' !== e.recordingMode || !t.tags || !t.tags.replayId) return;
							const { beforeErrorSampling: o } = e.getOptions();
							if ('function' == typeof o && !o(t)) return;
							setTimeout(() => {
								e.sendBufferedReplayOrFlush();
							});
					  })(e, n));
		};
	}
	function iu(e) {
		return (t) => {
			e.isEnabled() &&
				eu(t) &&
				(function (e, t) {
					const n = t.exception && t.exception.values && t.exception.values[0].value;
					if ('string' != typeof n) return;
					if (
						n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/) ||
						n.match(/(does not match server-rendered HTML|Hydration failed because)/i)
					) {
						ld(
							e,
							yd({
								category: 'replay.hydrate-error',
							}),
						);
					}
				})(e, t);
		};
	}
	function ru(e, t = !1) {
		const n = t ? ou(e) : void 0;
		return Object.assign(
			(t, o) => {
				if (!e.isEnabled()) return t;
				if (
					(function (e) {
						return 'replay_event' === e.type;
					})(t)
				)
					return delete t.breadcrumbs, t;
				if (!eu(t) && !tu(t) && !nu(t)) return t;
				if (!e.checkAndHandleExpiredSession()) return t;
				if (nu(t))
					return (
						e.flush(),
						(t.contexts.feedback.replay_id = e.getSessionId()),
						(function (e, t) {
							e.triggerUserActivity(),
								e.addUpdate(
									() =>
										!t.timestamp ||
										(e.throttledAddEvent({
											type: hc.Custom,
											timestamp: 1e3 * t.timestamp,
											data: {
												tag: 'breadcrumb',
												payload: {
													timestamp: t.timestamp,
													type: 'default',
													category: 'sentry.feedback',
													data: {
														feedbackId: t.event_id,
													},
												},
											},
										}),
										!1),
								);
						})(e, t),
						t
					);
				if (
					(function (e, t) {
						return !(
							e.type ||
							!e.exception ||
							!e.exception.values ||
							!e.exception.values.length ||
							!t.originalException ||
							!t.originalException.__rrweb__
						);
					})(t, o) &&
					!e.getOptions()._experiments.captureExceptions
				)
					return Id && Pn.log('[Replay] Ignoring error from rrweb internals', t), null;
				const i = (function (e, t) {
					return (
						'buffer' === e.recordingMode &&
						t.message !== el &&
						!(!t.exception || t.type) &&
						Wd(e.getOptions().errorSampleRate)
					);
				})(e, t);
				return (
					(i || 'session' === e.recordingMode) &&
						(t.tags = {
							...t.tags,
							replayId: e.getSessionId(),
						}),
					n &&
						n(t, {
							statusCode: 200,
						}),
					t
				);
			},
			{
				id: 'Replay',
			},
		);
	}
	function su(e, t) {
		return t.map(({ type: t, start: n, end: o, name: i, data: r }) => {
			const s = e.throttledAddEvent({
				type: hc.Custom,
				timestamp: n,
				data: {
					tag: 'performanceSpan',
					payload: {
						op: t,
						description: i,
						startTimestamp: n,
						endTimestamp: o,
						data: r,
					},
				},
			});
			return 'string' == typeof s ? Promise.resolve(null) : s;
		});
	}
	function au(e) {
		return (t) => {
			if (!e.isEnabled()) return;
			const n = (function (e) {
				const { from: t, to: n } = e,
					o = Date.now() / 1e3;
				return {
					type: 'navigation.push',
					start: o,
					end: o,
					name: n,
					data: {
						previous: t,
					},
				};
			})(t);
			null !== n &&
				(e.getContext().urls.push(n.name), e.triggerUserActivity(), e.addUpdate(() => (su(e, [n]), !1)));
		};
	}
	function lu(e, t) {
		e.isEnabled() &&
			null !== t &&
			((function (e, t) {
				return (!Id || !e.getOptions()._experiments.traceInternals) && Jr(t, rr());
			})(e, t.name) ||
				e.addUpdate(() => (su(e, [t]), !0)));
	}
	function cu(e) {
		return (t) => {
			if (!e.isEnabled()) return;
			const n = (function (e) {
				const { startTimestamp: t, endTimestamp: n, xhr: o } = e,
					i = o[Wo];
				if (!t || !n || !i) return null;
				const { method: r, url: s, status_code: a } = i;
				return void 0 === s
					? null
					: {
							type: 'resource.xhr',
							name: s,
							start: t / 1e3,
							end: n / 1e3,
							data: {
								method: r,
								statusCode: a,
							},
					  };
			})(t);
			lu(e, n);
		};
	}
	function du(e, t) {
		if (e)
			try {
				if ('string' == typeof e) return t.encode(e).length;
				if (e instanceof URLSearchParams) return t.encode(e.toString()).length;
				if (e instanceof FormData) {
					const n = vu(e);
					return t.encode(n).length;
				}
				if (e instanceof Blob) return e.size;
				if (e instanceof ArrayBuffer) return e.byteLength;
			} catch (e) {}
	}
	function uu(e) {
		if (!e) return;
		const t = parseInt(e, 10);
		return isNaN(t) ? void 0 : t;
	}
	function pu(e) {
		try {
			if ('string' == typeof e) return [e];
			if (e instanceof URLSearchParams) return [e.toString()];
			if (e instanceof FormData) return [vu(e)];
			if (!e) return [void 0];
		} catch (t) {
			return Id && Pn.warn('[Replay] Failed to serialize body', e), [void 0, 'BODY_PARSE_ERROR'];
		}
		return (
			Id && Pn.info('[Replay] Skipping network body because of body type', e),
			[void 0, 'UNPARSEABLE_BODY_TYPE']
		);
	}
	function mu(e, t) {
		if (!e)
			return {
				headers: {},
				size: void 0,
				_meta: {
					warnings: [t],
				},
			};
		const n = {
				...e._meta,
			},
			o = n.warnings || [];
		return (n.warnings = [...o, t]), (e._meta = n), e;
	}
	function gu(e, t) {
		if (!t) return null;
		const {
			startTimestamp: n,
			endTimestamp: o,
			url: i,
			method: r,
			statusCode: s,
			request: a,
			response: l,
		} = t;
		return {
			type: e,
			start: n / 1e3,
			end: o / 1e3,
			name: i,
			data: Zn({
				method: r,
				statusCode: s,
				request: a,
				response: l,
			}),
		};
	}
	function hu(e) {
		return {
			headers: {},
			size: e,
			_meta: {
				warnings: ['URL_SKIPPED'],
			},
		};
	}
	function fu(e, t, n) {
		if (!t && 0 === Object.keys(e).length) return;
		if (!t)
			return {
				headers: e,
			};
		if (!n)
			return {
				headers: e,
				size: t,
			};
		const o = {
				headers: e,
				size: t,
			},
			{ body: i, warnings: r } = (function (e) {
				if (!e || 'string' != typeof e)
					return {
						body: e,
					};
				const t = e.length > tl,
					n = (function (e) {
						const t = e[0],
							n = e[e.length - 1];
						return ('[' === t && ']' === n) || ('{' === t && '}' === n);
					})(e);
				if (t) {
					const t = e.slice(0, tl);
					return n
						? {
								body: t,
								warnings: ['MAYBE_JSON_TRUNCATED'],
						  }
						: {
								body: `${t}â¦`,
								warnings: ['TEXT_TRUNCATED'],
						  };
				}
				if (n)
					try {
						return {
							body: JSON.parse(e),
						};
					} catch (e) {}
				return {
					body: e,
				};
			})(n);
		return (
			(o.body = i),
			r &&
				r.length > 0 &&
				(o._meta = {
					warnings: r,
				}),
			o
		);
	}
	function _u(e, t) {
		return Object.keys(e).reduce((n, o) => {
			const i = o.toLowerCase();
			return t.includes(i) && e[o] && (n[i] = e[o]), n;
		}, {});
	}
	function vu(e) {
		return new URLSearchParams(e).toString();
	}
	function yu(e, t) {
		const n = (function (e, t = Xa.document.baseURI) {
			if (e.startsWith('http://') || e.startsWith('https://') || e.startsWith(Xa.location.origin)) return e;
			const n = new URL(e, t);
			if (n.origin !== new URL(t).origin) return e;
			const o = n.href;
			if (!e.endsWith('/') && o.endsWith('/')) return o.slice(0, -1);
			return o;
		})(e);
		return yn(n, t);
	}
	async function wu(e, t, n) {
		try {
			const o = await (async function (e, t, n) {
					const o = Date.now(),
						{ startTimestamp: i = o, endTimestamp: r = o } = t,
						{ url: s, method: a, status_code: l = 0, request_body_size: c, response_body_size: d } = e.data,
						u = yu(s, n.networkDetailAllowUrls) && !yu(s, n.networkDetailDenyUrls),
						p = u
							? (function ({ networkCaptureBodies: e, networkRequestHeaders: t }, n, o) {
									const i = n
										? (function (e, t) {
												if (1 === e.length && 'string' != typeof e[0]) return Su(e[0], t);
												if (2 === e.length) return Su(e[1], t);
												return {};
										  })(n, t)
										: {};
									if (!e) return fu(i, o, void 0);
									const r = bu(n),
										[s, a] = pu(r),
										l = fu(i, o, s);
									if (a) return mu(l, a);
									return l;
							  })(n, t.input, c)
							: hu(c),
						m = await (async function (
							e,
							{ networkCaptureBodies: t, textEncoder: n, networkResponseHeaders: o },
							i,
							r,
						) {
							if (!e && void 0 !== r) return hu(r);
							const s = i ? Eu(i.headers, o) : {};
							if (!i || (!t && void 0 !== r)) return fu(s, r, void 0);
							const [a, l] = await (async function (e) {
									const t = (function (e) {
										try {
											return e.clone();
										} catch (e) {
											Id && Pn.warn('[Replay] Failed to clone response body', e);
										}
									})(e);
									if (!t) return [void 0, 'BODY_PARSE_ERROR'];
									try {
										const e = await (function (e) {
											return new Promise((t, n) => {
												const o = setTimeout(
													() => n(new Error('Timeout while trying to read response body')),
													500,
												);
												(async function (e) {
													return await e.text();
												})(e)
													.then(
														(e) => t(e),
														(e) => n(e),
													)
													.finally(() => clearTimeout(o));
											});
										})(t);
										return [e];
									} catch (e) {
										return (
											Id && Pn.warn('[Replay] Failed to get text body from response', e),
											[void 0, 'BODY_PARSE_ERROR']
										);
									}
								})(i),
								c = (function (
									e,
									{
										networkCaptureBodies: t,
										textEncoder: n,
										responseBodySize: o,
										captureDetails: i,
										headers: r,
									},
								) {
									try {
										const s = e && e.length && void 0 === o ? du(e, n) : o;
										return i ? fu(r, s, t ? e : void 0) : hu(s);
									} catch (e) {
										return Id && Pn.warn('[Replay] Failed to serialize response body', e), fu(r, o, void 0);
									}
								})(a, {
									networkCaptureBodies: t,
									textEncoder: n,
									responseBodySize: r,
									captureDetails: e,
									headers: s,
								});
							if (l) return mu(c, l);
							return c;
						})(u, n, t.response, d);
					return {
						startTimestamp: i,
						endTimestamp: r,
						url: s,
						method: a,
						statusCode: l,
						request: p,
						response: m,
					};
				})(e, t, n),
				i = gu('resource.fetch', o);
			lu(n.replay, i);
		} catch (e) {
			Id && Pn.error('[Replay] Failed to capture fetch breadcrumb', e);
		}
	}
	function bu(e = []) {
		if (2 === e.length && 'object' == typeof e[1]) return e[1].body;
	}
	function Eu(e, t) {
		const n = {};
		return (
			t.forEach((t) => {
				e.get(t) && (n[t] = e.get(t));
			}),
			n
		);
	}
	function Su(e, t) {
		if (!e) return {};
		const n = e.headers;
		return n ? (n instanceof Headers ? Eu(n, t) : Array.isArray(n) ? {} : _u(n, t)) : {};
	}
	async function xu(e, t, n) {
		try {
			const o = (function (e, t, n) {
					const o = Date.now(),
						{ startTimestamp: i = o, endTimestamp: r = o, input: s, xhr: a } = t,
						{ url: l, method: c, status_code: d = 0, request_body_size: u, response_body_size: p } = e.data;
					if (!l) return null;
					if (!a || !yu(l, n.networkDetailAllowUrls) || yu(l, n.networkDetailDenyUrls)) {
						return {
							startTimestamp: i,
							endTimestamp: r,
							url: l,
							method: c,
							statusCode: d,
							request: hu(u),
							response: hu(p),
						};
					}
					const m = a[Wo],
						g = m ? _u(m.request_headers, n.networkRequestHeaders) : {},
						h = _u(
							(function (e) {
								const t = e.getAllResponseHeaders();
								if (!t) return {};
								return t.split('\r\n').reduce((e, t) => {
									const [n, o] = t.split(': ');
									return (e[n.toLowerCase()] = o), e;
								}, {});
							})(a),
							n.networkResponseHeaders,
						),
						[f, _] = n.networkCaptureBodies ? pu(s) : [void 0],
						[v, y] = n.networkCaptureBodies
							? (function (e) {
									const t = [];
									try {
										return [e.responseText];
									} catch (e) {
										t.push(e);
									}
									try {
										return (function (e, t) {
											try {
												if ('string' == typeof e) return [e];
												if (e instanceof Document) return [e.body.outerHTML];
												if ('json' === t && e && 'object' == typeof e) return [JSON.stringify(e)];
												if (!e) return [void 0];
											} catch (t) {
												return (
													Id && Pn.warn('[Replay] Failed to serialize body', e), [void 0, 'BODY_PARSE_ERROR']
												);
											}
											return (
												Id && Pn.info('[Replay] Skipping network body because of body type', e),
												[void 0, 'UNPARSEABLE_BODY_TYPE']
											);
										})(e.response, e.responseType);
									} catch (e) {
										t.push(e);
									}
									return Id && Pn.warn('[Replay] Failed to get xhr response body', ...t), [void 0];
							  })(a)
							: [void 0],
						w = fu(g, u, f),
						b = fu(h, p, v);
					return {
						startTimestamp: i,
						endTimestamp: r,
						url: l,
						method: c,
						statusCode: d,
						request: _ ? mu(w, _) : w,
						response: y ? mu(b, y) : b,
					};
				})(e, t, n),
				i = gu('resource.xhr', o);
			lu(n.replay, i);
		} catch (e) {
			Id && Pn.error('[Replay] Failed to capture xhr breadcrumb', e);
		}
	}
	function Tu(e, t, n) {
		const { xhr: o, input: i } = t;
		if (!o) return;
		const r = du(i, n.textEncoder),
			s = o.getResponseHeader('content-length')
				? uu(o.getResponseHeader('content-length'))
				: (function (e, t, n) {
						try {
							return du('json' === t && e && 'object' == typeof e ? JSON.stringify(e) : e, n);
						} catch (e) {
							return;
						}
				  })(o.response, o.responseType, n.textEncoder);
		void 0 !== r && (e.data.request_body_size = r), void 0 !== s && (e.data.response_body_size = s);
	}
	function Cu(e) {
		const t = rr();
		try {
			const n = new TextEncoder(),
				{
					networkDetailAllowUrls: o,
					networkDetailDenyUrls: i,
					networkCaptureBodies: r,
					networkRequestHeaders: s,
					networkResponseHeaders: a,
				} = e.getOptions(),
				l = {
					replay: e,
					textEncoder: n,
					networkDetailAllowUrls: o,
					networkDetailDenyUrls: i,
					networkCaptureBodies: r,
					networkRequestHeaders: s,
					networkResponseHeaders: a,
				};
			t && t.on
				? t.on('beforeAddBreadcrumb', (e, t) =>
						(function (e, t, n) {
							if (!t.data) return;
							try {
								(function (e) {
									return 'xhr' === e.category;
								})(t) &&
									(function (e) {
										return e && e.xhr;
									})(n) &&
									(Tu(t, n, e), xu(t, n, e)),
									(function (e) {
										return 'fetch' === e.category;
									})(t) &&
										(function (e) {
											return e && e.response;
										})(n) &&
										(!(function (e, t, n) {
											const { input: o, response: i } = t,
												r = du(o ? bu(o) : void 0, n.textEncoder),
												s = i ? uu(i.headers.get('content-length')) : void 0;
											void 0 !== r && (e.data.request_body_size = r),
												void 0 !== s && (e.data.response_body_size = s);
										})(t, n, e),
										wu(t, n, e));
							} catch (e) {
								Id && Pn.warn('Error when enriching network breadcrumb');
							}
						})(l, e, t),
				  )
				: (Lo(
						(function (e) {
							return (t) => {
								if (!e.isEnabled()) return;
								const n = (function (e) {
									const { startTimestamp: t, endTimestamp: n, fetchData: o, response: i } = e;
									if (!n) return null;
									const { method: r, url: s } = o;
									return {
										type: 'resource.fetch',
										start: t / 1e3,
										end: n / 1e3,
										name: s,
										data: {
											method: r,
											statusCode: i ? i.status : void 0,
										},
									};
								})(t);
								lu(e, n);
							};
						})(e),
				  ),
				  jo(cu(e)));
		} catch (e) {}
	}
	let $u = null;
	const ku = (e) => (t) => {
		if (!e.isEnabled()) return;
		const n = (function (e) {
			const t = e.getLastBreadcrumb && e.getLastBreadcrumb();
			if ($u === t || !t) return null;
			if (
				(($u = t),
				!(function (e) {
					return !!e.category;
				})(t) ||
					['fetch', 'xhr', 'sentry.event', 'sentry.transaction'].includes(t.category) ||
					t.category.startsWith('ui.'))
			)
				return null;
			if ('console' === t.category)
				return (function (e) {
					const t = e.data && e.data.arguments;
					if (!Array.isArray(t) || 0 === t.length) return yd(e);
					let n = !1;
					const o = t.map((e) => {
						if (!e) return e;
						if ('string' == typeof e) return e.length > nl ? ((n = !0), `${e.slice(0, nl)}â¦`) : e;
						if ('object' == typeof e)
							try {
								const t = Zo(e, 7);
								return JSON.stringify(t).length > nl
									? ((n = !0), `${JSON.stringify(t, null, 2).slice(0, nl)}â¦`)
									: t;
							} catch (e) {}
						return e;
					});
					return yd({
						...e,
						data: {
							...e.data,
							arguments: o,
							...(n
								? {
										_meta: {
											warnings: ['CONSOLE_ARG_TRUNCATED'],
										},
								  }
								: {}),
						},
					});
				})(t);
			return yd(t);
		})(t);
		n && ld(e, n);
	};
	function Lu(e) {
		const t = sr(),
			n = rr();
		t.addScopeListener(ku(e)), So(Sd(e)), Ho(au(e)), Cu(e);
		const o = ru(e, !Iu(n));
		n && n.addEventProcessor
			? n.addEventProcessor(o)
			: (function (e) {
					const t = rr();
					t && t.addEventProcessor && t.addEventProcessor(e);
			  })(o),
			Iu(n) &&
				(n.on('beforeSendEvent', iu(e)),
				n.on('afterSendEvent', ou(e)),
				n.on('createDsc', (t) => {
					const n = e.getSessionId();
					if (n && e.isEnabled() && 'session' === e.recordingMode) {
						e.checkAndHandleExpiredSession() && (t.replay_id = n);
					}
				}),
				n.on('startTransaction', (t) => {
					e.lastTransaction = t;
				}),
				n.on('finishTransaction', (t) => {
					e.lastTransaction = t;
				}),
				n.on('beforeSendFeedback', (t, n) => {
					const o = e.getSessionId();
					n &&
						n.includeReplay &&
						e.isEnabled() &&
						o &&
						t.contexts &&
						t.contexts.feedback &&
						(t.contexts.feedback.replay_id = o);
				}));
	}
	function Iu(e) {
		return !(!e || !e.on);
	}
	function Mu(e) {
		const { jsHeapSizeLimit: t, totalJSHeapSize: n, usedJSHeapSize: o } = e,
			i = Date.now() / 1e3;
		return {
			type: 'memory',
			name: 'memory',
			start: i,
			end: i,
			data: {
				memory: {
					jsHeapSizeLimit: t,
					totalJSHeapSize: n,
					usedJSHeapSize: o,
				},
			},
		};
	}
	function Au(e) {
		let t = !1;
		return (n, o) => {
			if (!e.checkAndHandleExpiredSession())
				return void (Id && Pn.warn('[Replay] Received replay event after session expired.'));
			const i = o || !t;
			(t = !0),
				e.clickDetector && vd(e.clickDetector, n),
				e.addUpdate(() => {
					if (('buffer' === e.recordingMode && i && e.setInitialState(), !Xd(e, n, i))) return !0;
					if (!i) return !1;
					if (
						((function (e, t) {
							if (!t || !e.session || 0 !== e.session.segmentId) return;
							Xd(
								e,
								(function (e) {
									const t = e.getOptions();
									return {
										type: hc.Custom,
										timestamp: Date.now(),
										data: {
											tag: 'options',
											payload: {
												shouldRecordCanvas: e.isRecordingCanvas(),
												sessionSampleRate: t.sessionSampleRate,
												errorSampleRate: t.errorSampleRate,
												useCompressionOption: t.useCompression,
												blockAllMedia: t.blockAllMedia,
												maskAllText: t.maskAllText,
												maskAllInputs: t.maskAllInputs,
												useCompression: !!e.eventBuffer && 'worker' === e.eventBuffer.type,
												networkDetailHasUrls: t.networkDetailAllowUrls.length > 0,
												networkCaptureBodies: t.networkCaptureBodies,
												networkRequestHasHeaders: t.networkRequestHeaders.length > 0,
												networkResponseHasHeaders: t.networkResponseHeaders.length > 0,
											},
										},
									};
								})(e),
								!1,
							);
						})(e, i),
						e.session && e.session.previousSessionId)
					)
						return !0;
					if ('buffer' === e.recordingMode && e.session && e.eventBuffer) {
						const t = e.eventBuffer.getEarliestTimestamp();
						t &&
							(Ad(
								`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,
								e.getOptions()._experiments.traceInternals,
							),
							(e.session.started = t),
							e.getOptions().stickySession && qd(e.session));
					}
					return 'session' === e.recordingMode && e.flush(), !0;
				});
		};
	}
	async function Ru({
		recordingData: e,
		replayId: t,
		segmentId: n,
		eventContext: o,
		timestamp: i,
		session: r,
	}) {
		const s = (function ({ recordingData: e, headers: t }) {
				let n;
				const o = `${JSON.stringify(t)}\n`;
				if ('string' == typeof e) n = `${o}${e}`;
				else {
					const t = new TextEncoder().encode(o);
					(n = new Uint8Array(t.length + e.length)), n.set(t), n.set(e, t.length);
				}
				return n;
			})({
				recordingData: e,
				headers: {
					segment_id: n,
				},
			}),
			{ urls: a, errorIds: l, traceIds: c, initialTimestamp: d } = o,
			u = rr(),
			p = sr(),
			m = u && u.getTransport(),
			g = u && u.getDsn();
		if (!(u && m && g && r.sampled)) return;
		const h = {
				type: Qa,
				replay_start_timestamp: d / 1e3,
				timestamp: i / 1e3,
				error_ids: l,
				trace_ids: c,
				urls: a,
				replay_id: t,
				segment_id: n,
				replay_type: r.sampled,
			},
			f = await (async function ({ client: e, scope: t, replayId: n, event: o }) {
				const i = {
					event_id: n,
					integrations:
						'object' != typeof e._integrations || null === e._integrations || Array.isArray(e._integrations)
							? void 0
							: Object.keys(e._integrations),
				};
				e.emit && e.emit('preprocessEvent', o, i);
				const r = await Zi(e.getOptions(), o, i, t, e, Sr());
				if (!r) return null;
				r.platform = r.platform || 'javascript';
				const s = e.getSdkMetadata && e.getSdkMetadata(),
					{ name: a, version: l } = (s && s.sdk) || {};
				return (
					(r.sdk = {
						...r.sdk,
						name: a || 'sentry.javascript.unknown',
						version: l || '0.0.0',
					}),
					r
				);
			})({
				scope: p,
				client: u,
				replayId: t,
				event: h,
			});
		if (!f)
			return (
				u.recordDroppedEvent('event_processor', 'replay', h),
				void Ad('An event processor returned `null`, will not send event.')
			);
		delete f.sdkProcessingMetadata;
		const _ = (function (e, t, n, o) {
			return Si(Ai(e, Mi(e), o, n), [
				[
					{
						type: 'replay_event',
					},
					e,
				],
				[
					{
						type: 'replay_recording',
						length: 'string' == typeof t ? new TextEncoder().encode(t).length : t.length,
					},
					t,
				],
			]);
		})(f, s, g, u.getOptions().tunnel);
		let v;
		try {
			v = await m.send(_);
		} catch (e) {
			const t = new Error(el);
			try {
				t.cause = e;
			} catch (e) {}
			throw t;
		}
		if (!v) return v;
		if ('number' == typeof v.statusCode && (v.statusCode < 200 || v.statusCode >= 300))
			throw new Ou(v.statusCode);
		const y = Ni({}, v);
		if (Oi(y, 'replay')) throw new Nu(y);
		return v;
	}
	class Ou extends Error {
		constructor(e) {
			super(`Transport returned status code ${e}`);
		}
	}
	class Nu extends Error {
		constructor(e) {
			super('Rate limit hit'), (this.rateLimits = e);
		}
	}
	async function Du(
		e,
		t = {
			count: 0,
			interval: 5e3,
		},
	) {
		const { recordingData: n, options: o } = e;
		var i, r;
		if (n.length)
			try {
				return await Ru(e), !0;
			} catch (n) {
				if (n instanceof Ou || n instanceof Nu) throw n;
				if (
					((i = 'Replays'),
					(r = {
						_retryCount: t.count,
					}),
					Er().setContext(i, r),
					Id && o._experiments && o._experiments.captureExceptions && er(n),
					t.count >= 3)
				) {
					const e = new Error(`${el} - max retries exceeded`);
					try {
						e.cause = n;
					} catch (e) {}
					throw e;
				}
				return (
					(t.interval *= ++t.count),
					new Promise((n, o) => {
						setTimeout(async () => {
							try {
								await Du(e, t), n(!0);
							} catch (e) {
								o(e);
							}
						}, t.interval);
					})
				);
			}
	}
	const Pu = '__THROTTLED';
	function zu(e, t, n) {
		const o = new Map();
		let i = !1;
		return (...r) => {
			const s = Math.floor(Date.now() / 1e3);
			if (
				(((e) => {
					const t = e - n;
					o.forEach((e, n) => {
						n < t && o.delete(n);
					});
				})(s),
				[...o.values()].reduce((e, t) => e + t, 0) >= t)
			) {
				const e = i;
				return (i = !0), e ? '__SKIPPED' : Pu;
			}
			i = !1;
			const a = o.get(s) || 0;
			return o.set(s, a + 1), e(...r);
		};
	}
	class Uu {
		constructor({ options: e, recordingOptions: t }) {
			Uu.prototype.__init.call(this),
				Uu.prototype.__init2.call(this),
				Uu.prototype.__init3.call(this),
				Uu.prototype.__init4.call(this),
				Uu.prototype.__init5.call(this),
				Uu.prototype.__init6.call(this),
				(this.eventBuffer = null),
				(this.performanceEntries = []),
				(this.replayPerformanceEntries = []),
				(this.recordingMode = 'session'),
				(this.timeouts = {
					sessionIdlePause: 3e5,
					sessionIdleExpire: 9e5,
				}),
				(this._lastActivity = Date.now()),
				(this._isEnabled = !1),
				(this._isPaused = !1),
				(this._hasInitializedCoreListeners = !1),
				(this._context = {
					errorIds: new Set(),
					traceIds: new Set(),
					urls: [],
					initialTimestamp: Date.now(),
					initialUrl: '',
				}),
				(this._recordingOptions = t),
				(this._options = e),
				(this._debouncedFlush = (function (e, t, n) {
					let o, i, r;
					const s = n && n.maxWait ? Math.max(n.maxWait, t) : 0;
					function a() {
						return l(), (o = e()), o;
					}
					function l() {
						void 0 !== i && clearTimeout(i), void 0 !== r && clearTimeout(r), (i = r = void 0);
					}
					function c() {
						return (
							i && clearTimeout(i), (i = setTimeout(a, t)), s && void 0 === r && (r = setTimeout(a, s)), o
						);
					}
					return (
						(c.cancel = l),
						(c.flush = function () {
							return void 0 !== i || void 0 !== r ? a() : o;
						}),
						c
					);
				})(() => this._flush(), this._options.flushMinDelay, {
					maxWait: this._options.flushMaxDelay,
				})),
				(this._throttledAddEvent = zu(
					(e, t) =>
						(function (e, t, n) {
							return Qd(e, t) ? Jd(e, t, n) : Promise.resolve(null);
						})(this, e, t),
					300,
					5,
				));
			const { slowClickTimeout: n, slowClickIgnoreSelectors: o } = this.getOptions(),
				i = n
					? {
							threshold: Math.min(3e3, n),
							timeout: n,
							scrollTimeout: 300,
							ignoreSelector: o ? o.join(',') : '',
					  }
					: void 0;
			i && (this.clickDetector = new hd(this, i));
		}
		getContext() {
			return this._context;
		}
		isEnabled() {
			return this._isEnabled;
		}
		isPaused() {
			return this._isPaused;
		}
		isRecordingCanvas() {
			return Boolean(this._canvas);
		}
		getOptions() {
			return this._options;
		}
		initializeSampling(e) {
			const { errorSampleRate: t, sessionSampleRate: n } = this._options;
			(t <= 0 && n <= 0) ||
				(this._initializeSessionForSampling(e),
				this.session
					? !1 !== this.session.sampled &&
					  ((this.recordingMode =
							'buffer' === this.session.sampled && 0 === this.session.segmentId ? 'buffer' : 'session'),
					  Rd(
							`[Replay] Starting replay in ${this.recordingMode} mode`,
							this._options._experiments.traceInternals,
					  ),
					  this._initializeRecording())
					: this._handleException(new Error('Unable to initialize and create session')));
		}
		start() {
			if (this._isEnabled && 'session' === this.recordingMode)
				throw new Error('Replay recording is already in progress');
			if (this._isEnabled && 'buffer' === this.recordingMode)
				throw new Error('Replay buffering is in progress, call `flush()` to save the replay');
			Rd('[Replay] Starting replay in session mode', this._options._experiments.traceInternals),
				this._updateUserActivity();
			const e = Zd(
				{
					maxReplayDuration: this._options.maxReplayDuration,
					sessionIdleExpire: this.timeouts.sessionIdleExpire,
					traceInternals: this._options._experiments.traceInternals,
				},
				{
					stickySession: this._options.stickySession,
					sessionSampleRate: 1,
					allowBuffering: !1,
				},
			);
			(this.session = e), this._initializeRecording();
		}
		startBuffering() {
			if (this._isEnabled) throw new Error('Replay recording is already in progress');
			Rd('[Replay] Starting replay in buffer mode', this._options._experiments.traceInternals);
			const e = Zd(
				{
					sessionIdleExpire: this.timeouts.sessionIdleExpire,
					maxReplayDuration: this._options.maxReplayDuration,
					traceInternals: this._options._experiments.traceInternals,
				},
				{
					stickySession: this._options.stickySession,
					sessionSampleRate: 0,
					allowBuffering: !0,
				},
			);
			(this.session = e), (this.recordingMode = 'buffer'), this._initializeRecording();
		}
		startRecording() {
			try {
				const e = this._canvas;
				this._stopRecording = id({
					...this._recordingOptions,
					...('buffer' === this.recordingMode && {
						checkoutEveryNms: 6e4,
					}),
					emit: Au(this),
					onMutation: this._onMutationHandler,
					...(e
						? {
								recordCanvas: e.recordCanvas,
								getCanvasManager: e.getCanvasManager,
								sampling: e.sampling,
								dataURLOptions: e.dataURLOptions,
						  }
						: {}),
				});
			} catch (e) {
				this._handleException(e);
			}
		}
		stopRecording() {
			try {
				return this._stopRecording && (this._stopRecording(), (this._stopRecording = void 0)), !0;
			} catch (e) {
				return this._handleException(e), !1;
			}
		}
		async stop({ forceFlush: e = !1, reason: t } = {}) {
			if (this._isEnabled) {
				this._isEnabled = !1;
				try {
					Ad(
						'[Replay] Stopping Replay' + (t ? ` triggered by ${t}` : ''),
						this._options._experiments.traceInternals,
					),
						this._removeListeners(),
						this.stopRecording(),
						this._debouncedFlush.cancel(),
						e &&
							(await this._flush({
								force: !0,
							})),
						this.eventBuffer && this.eventBuffer.destroy(),
						(this.eventBuffer = null),
						Fd(this);
				} catch (e) {
					this._handleException(e);
				}
			}
		}
		pause() {
			this._isPaused ||
				((this._isPaused = !0),
				this.stopRecording(),
				Ad('[Replay] Pausing replay', this._options._experiments.traceInternals));
		}
		resume() {
			this._isPaused &&
				this._checkSession() &&
				((this._isPaused = !1),
				this.startRecording(),
				Ad('[Replay] Resuming replay', this._options._experiments.traceInternals));
		}
		async sendBufferedReplayOrFlush({ continueRecording: e = !0 } = {}) {
			if ('session' === this.recordingMode) return this.flushImmediate();
			const t = Date.now();
			Ad('[Replay] Converting buffer to session', this._options._experiments.traceInternals),
				await this.flushImmediate();
			const n = this.stopRecording();
			e &&
				n &&
				'session' !== this.recordingMode &&
				((this.recordingMode = 'session'),
				this.session &&
					(this._updateUserActivity(t), this._updateSessionActivity(t), this._maybeSaveSession()),
				this.startRecording());
		}
		addUpdate(e) {
			const t = e();
			'buffer' !== this.recordingMode && !0 !== t && this._debouncedFlush();
		}
		triggerUserActivity() {
			if ((this._updateUserActivity(), this._stopRecording))
				this.checkAndHandleExpiredSession(), this._updateSessionActivity();
			else {
				if (!this._checkSession()) return;
				this.resume();
			}
		}
		updateUserActivity() {
			this._updateUserActivity(), this._updateSessionActivity();
		}
		conditionalFlush() {
			return 'buffer' === this.recordingMode ? Promise.resolve() : this.flushImmediate();
		}
		flush() {
			return this._debouncedFlush();
		}
		flushImmediate() {
			return this._debouncedFlush(), this._debouncedFlush.flush();
		}
		cancelFlush() {
			this._debouncedFlush.cancel();
		}
		getSessionId() {
			return this.session && this.session.id;
		}
		checkAndHandleExpiredSession() {
			if (
				!(
					this._lastActivity &&
					Vd(this._lastActivity, this.timeouts.sessionIdlePause) &&
					this.session &&
					'session' === this.session.sampled
				)
			)
				return !!this._checkSession();
			this.pause();
		}
		setInitialState() {
			const e = `${Xa.location.pathname}${Xa.location.hash}${Xa.location.search}`,
				t = `${Xa.location.origin}${e}`;
			(this.performanceEntries = []),
				(this.replayPerformanceEntries = []),
				this._clearContext(),
				(this._context.initialUrl = t),
				(this._context.initialTimestamp = Date.now()),
				this._context.urls.push(t);
		}
		throttledAddEvent(e, t) {
			const n = this._throttledAddEvent(e, t);
			if (n === Pu) {
				const e = yd({
					category: 'replay.throttled',
				});
				this.addUpdate(
					() =>
						!Xd(this, {
							type: 5,
							timestamp: e.timestamp || 0,
							data: {
								tag: 'breadcrumb',
								payload: e,
								metric: !0,
							},
						}),
				);
			}
			return n;
		}
		getCurrentRoute() {
			const e = this.lastTransaction || sr().getTransaction(),
				t = ((e && Yi(e).data) || {})[Rr];
			if (e && t && ['route', 'custom'].includes(t)) return Yi(e).description;
		}
		_initializeRecording() {
			this.setInitialState(),
				this._updateSessionActivity(),
				(this.eventBuffer = Hd({
					useCompression: this._options.useCompression,
					workerUrl: this._options.workerUrl,
				})),
				this._removeListeners(),
				this._addListeners(),
				(this._isEnabled = !0),
				(this._isPaused = !1),
				this.startRecording();
		}
		_handleException(e) {
			Id && Pn.error('[Replay]', e),
				Id && this._options._experiments && this._options._experiments.captureExceptions && er(e);
		}
		_initializeSessionForSampling(e) {
			const t = this._options.errorSampleRate > 0,
				n = Zd(
					{
						sessionIdleExpire: this.timeouts.sessionIdleExpire,
						maxReplayDuration: this._options.maxReplayDuration,
						traceInternals: this._options._experiments.traceInternals,
						previousSessionId: e,
					},
					{
						stickySession: this._options.stickySession,
						sessionSampleRate: this._options.sessionSampleRate,
						allowBuffering: t,
					},
				);
			this.session = n;
		}
		_checkSession() {
			if (!this.session) return !1;
			const e = this.session;
			return (
				!Kd(e, {
					sessionIdleExpire: this.timeouts.sessionIdleExpire,
					maxReplayDuration: this._options.maxReplayDuration,
				}) || (this._refreshSession(e), !1)
			);
		}
		async _refreshSession(e) {
			this._isEnabled &&
				(await this.stop({
					reason: 'refresh session',
				}),
				this.initializeSampling(e.id));
		}
		_addListeners() {
			try {
				Xa.document.addEventListener('visibilitychange', this._handleVisibilityChange),
					Xa.addEventListener('blur', this._handleWindowBlur),
					Xa.addEventListener('focus', this._handleWindowFocus),
					Xa.addEventListener('keydown', this._handleKeyboardEvent),
					this.clickDetector && this.clickDetector.addListeners(),
					this._hasInitializedCoreListeners || (Lu(this), (this._hasInitializedCoreListeners = !0));
			} catch (e) {
				this._handleException(e);
			}
			this._performanceCleanupCallback = Ld(this);
		}
		_removeListeners() {
			try {
				Xa.document.removeEventListener('visibilitychange', this._handleVisibilityChange),
					Xa.removeEventListener('blur', this._handleWindowBlur),
					Xa.removeEventListener('focus', this._handleWindowFocus),
					Xa.removeEventListener('keydown', this._handleKeyboardEvent),
					this.clickDetector && this.clickDetector.removeListeners(),
					this._performanceCleanupCallback && this._performanceCleanupCallback();
			} catch (e) {
				this._handleException(e);
			}
		}
		__init() {
			this._handleVisibilityChange = () => {
				'visible' === Xa.document.visibilityState
					? this._doChangeToForegroundTasks()
					: this._doChangeToBackgroundTasks();
			};
		}
		__init2() {
			this._handleWindowBlur = () => {
				const e = yd({
					category: 'ui.blur',
				});
				this._doChangeToBackgroundTasks(e);
			};
		}
		__init3() {
			this._handleWindowFocus = () => {
				const e = yd({
					category: 'ui.focus',
				});
				this._doChangeToForegroundTasks(e);
			};
		}
		__init4() {
			this._handleKeyboardEvent = (e) => {
				Td(this, e);
			};
		}
		_doChangeToBackgroundTasks(e) {
			if (!this.session) return;
			Yd(this.session, {
				maxReplayDuration: this._options.maxReplayDuration,
				sessionIdleExpire: this.timeouts.sessionIdleExpire,
			}) || (e && this._createCustomBreadcrumb(e), this.conditionalFlush());
		}
		_doChangeToForegroundTasks(e) {
			if (!this.session) return;
			this.checkAndHandleExpiredSession()
				? e && this._createCustomBreadcrumb(e)
				: Ad('[Replay] Document has become active, but session has expired');
		}
		_updateUserActivity(e = Date.now()) {
			this._lastActivity = e;
		}
		_updateSessionActivity(e = Date.now()) {
			this.session && ((this.session.lastActivity = e), this._maybeSaveSession());
		}
		_createCustomBreadcrumb(e) {
			this.addUpdate(() => {
				this.throttledAddEvent({
					type: hc.Custom,
					timestamp: e.timestamp || 0,
					data: {
						tag: 'breadcrumb',
						payload: e,
					},
				});
			});
		}
		_addPerformanceEntries() {
			const e = ((t = this.performanceEntries), t.map($d).filter(Boolean)).concat(
				this.replayPerformanceEntries,
			);
			var t;
			return (this.performanceEntries = []), (this.replayPerformanceEntries = []), Promise.all(su(this, e));
		}
		_clearContext() {
			this._context.errorIds.clear(), this._context.traceIds.clear(), (this._context.urls = []);
		}
		_updateInitialTimestampFromEventBuffer() {
			const { session: e, eventBuffer: t } = this;
			if (!e || !t) return;
			if (e.segmentId) return;
			const n = t.getEarliestTimestamp();
			n && n < this._context.initialTimestamp && (this._context.initialTimestamp = n);
		}
		_popEventContext() {
			const e = {
				initialTimestamp: this._context.initialTimestamp,
				initialUrl: this._context.initialUrl,
				errorIds: Array.from(this._context.errorIds),
				traceIds: Array.from(this._context.traceIds),
				urls: this._context.urls,
			};
			return this._clearContext(), e;
		}
		async _runFlush() {
			const e = this.getSessionId();
			if (this.session && this.eventBuffer && e) {
				if (
					(await this._addPerformanceEntries(),
					this.eventBuffer &&
						this.eventBuffer.hasEvents &&
						(await (async function (e) {
							try {
								return Promise.all(su(e, [Mu(Xa.performance.memory)]));
							} catch (e) {
								return [];
							}
						})(this),
						this.eventBuffer && e === this.getSessionId()))
				)
					try {
						this._updateInitialTimestampFromEventBuffer();
						const t = Date.now();
						if (t - this._context.initialTimestamp > this._options.maxReplayDuration + 3e4)
							throw new Error('Session is too long, not sending replay');
						const n = this._popEventContext(),
							o = this.session.segmentId++;
						this._maybeSaveSession();
						const i = await this.eventBuffer.finish();
						await Du({
							replayId: e,
							recordingData: i,
							segmentId: o,
							eventContext: n,
							session: this.session,
							options: this.getOptions(),
							timestamp: t,
						});
					} catch (e) {
						this._handleException(e),
							this.stop({
								reason: 'sendReplay',
							});
						const t = rr();
						t && t.recordDroppedEvent('send_error', 'replay');
					}
			} else Id && Pn.error('[Replay] No session or eventBuffer found to flush.');
		}
		__init5() {
			this._flush = async ({ force: e = !1 } = {}) => {
				if (!this._isEnabled && !e) return;
				if (!this.checkAndHandleExpiredSession())
					return void (Id && Pn.error('[Replay] Attempting to finish replay event after session expired.'));
				if (!this.session) return;
				const t = this.session.started,
					n = Date.now() - t;
				this._debouncedFlush.cancel();
				const o = n < this._options.minReplayDuration,
					i = n > this._options.maxReplayDuration + 5e3;
				if (o || i)
					return (
						Ad(
							`[Replay] Session duration (${Math.floor(n / 1e3)}s) is too ${
								o ? 'short' : 'long'
							}, not sending replay.`,
							this._options._experiments.traceInternals,
						),
						void (o && this._debouncedFlush())
					);
				const r = this.eventBuffer;
				if (
					(r &&
						0 === this.session.segmentId &&
						!r.hasCheckout &&
						Ad(
							'[Replay] Flushing initial segment without checkout.',
							this._options._experiments.traceInternals,
						),
					!this._flushLock)
				)
					return (this._flushLock = this._runFlush()), await this._flushLock, void (this._flushLock = void 0);
				try {
					await this._flushLock;
				} catch (e) {
					Id && Pn.error(e);
				} finally {
					this._debouncedFlush();
				}
			};
		}
		_maybeSaveSession() {
			this.session && this._options.stickySession && qd(this.session);
		}
		__init6() {
			this._onMutationHandler = (e) => {
				const t = e.length,
					n = this._options.mutationLimit,
					o = n && t > n;
				if (t > this._options.mutationBreadcrumbLimit || o) {
					const e = yd({
						category: 'replay.mutations',
						data: {
							count: t,
							limit: o,
						},
					});
					this._createCustomBreadcrumb(e);
				}
				return (
					!o ||
					(this.stop({
						reason: 'mutationLimit',
						forceFlush: 'session' === this.recordingMode,
					}),
					!1)
				);
			};
		}
	}
	function Hu(e, t, n, o) {
		const i = [...e, ...('string' == typeof o ? o.split(',') : []), ...t];
		return (
			void 0 !== n &&
				('string' == typeof n && i.push(`.${n}`),
				Dn(() => {
					console.warn(
						'[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.',
					);
				})),
			i.join(',')
		);
	}
	const Bu =
			'img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',
		Fu = ['content-length', 'content-type', 'accept'];
	let Wu = !1;
	class ju {
		static __initStatic() {
			this.id = 'Replay';
		}
		constructor({
			flushMinDelay: e = 5e3,
			flushMaxDelay: t = 5500,
			minReplayDuration: n = 4999,
			maxReplayDuration: o = 36e5,
			stickySession: i = !0,
			useCompression: r = !0,
			workerUrl: s,
			_experiments: a = {},
			sessionSampleRate: l,
			errorSampleRate: c,
			maskAllText: d = !0,
			maskAllInputs: u = !0,
			blockAllMedia: p = !0,
			mutationBreadcrumbLimit: m = 750,
			mutationLimit: g = 1e4,
			slowClickTimeout: h = 7e3,
			slowClickIgnoreSelectors: f = [],
			networkDetailAllowUrls: _ = [],
			networkDetailDenyUrls: v = [],
			networkCaptureBodies: y = !0,
			networkRequestHeaders: w = [],
			networkResponseHeaders: b = [],
			mask: E = [],
			maskAttributes: S = ['title', 'placeholder'],
			unmask: x = [],
			block: T = [],
			unblock: C = [],
			ignore: $ = [],
			maskFn: k,
			beforeAddRecordingEvent: L,
			beforeErrorSampling: I,
			blockClass: M,
			blockSelector: A,
			maskInputOptions: R,
			maskTextClass: O,
			maskTextSelector: N,
			ignoreClass: D,
		} = {}) {
			this.name = ju.id;
			const P = (function ({
				mask: e,
				unmask: t,
				block: n,
				unblock: o,
				ignore: i,
				blockClass: r,
				blockSelector: s,
				maskTextClass: a,
				maskTextSelector: l,
				ignoreClass: c,
			}) {
				const d = {
					maskTextSelector: Hu(e, ['.sentry-mask', '[data-sentry-mask]'], a, l),
					unmaskTextSelector: Hu(t, ['.sentry-unmask', '[data-sentry-unmask]']),
					blockSelector: Hu(n, ['.sentry-block', '[data-sentry-block]', 'base[href="/"]'], r, s),
					unblockSelector: Hu(o, ['.sentry-unblock', '[data-sentry-unblock]']),
					ignoreSelector: Hu(i, ['.sentry-ignore', '[data-sentry-ignore]', 'input[type="file"]'], c),
				};
				return r instanceof RegExp && (d.blockClass = r), a instanceof RegExp && (d.maskTextClass = a), d;
			})({
				mask: E,
				unmask: x,
				block: T,
				unblock: C,
				ignore: $,
				blockClass: M,
				blockSelector: A,
				maskTextClass: O,
				maskTextSelector: N,
				ignoreClass: D,
			});
			if (
				((this._recordingOptions = {
					maskAllInputs: u,
					maskAllText: d,
					maskInputOptions: {
						...(R || {}),
						password: !0,
					},
					maskTextFn: k,
					maskInputFn: k,
					maskAttributeFn: (e, t, n) =>
						(function ({ el: e, key: t, maskAttributes: n, maskAllText: o, privacyOptions: i, value: r }) {
							return o
								? i.unmaskTextSelector && e.matches(i.unmaskTextSelector)
									? r
									: n.includes(t) ||
									  ('value' === t &&
											'INPUT' === e.tagName &&
											['submit', 'button'].includes(e.getAttribute('type') || ''))
									? r.replace(/[\S]/g, '*')
									: r
								: r;
						})({
							maskAttributes: S,
							maskAllText: d,
							privacyOptions: P,
							key: e,
							value: t,
							el: n,
						}),
					...P,
					slimDOMOptions: 'all',
					inlineStylesheet: !0,
					inlineImages: !1,
					collectFonts: !0,
					errorHandler: (e) => {
						try {
							e.__rrweb__ = !0;
						} catch (e) {}
					},
				}),
				(this._initialOptions = {
					flushMinDelay: e,
					flushMaxDelay: t,
					minReplayDuration: Math.min(n, 15e3),
					maxReplayDuration: Math.min(o, il),
					stickySession: i,
					sessionSampleRate: l,
					errorSampleRate: c,
					useCompression: r,
					workerUrl: s,
					blockAllMedia: p,
					maskAllInputs: u,
					maskAllText: d,
					mutationBreadcrumbLimit: m,
					mutationLimit: g,
					slowClickTimeout: h,
					slowClickIgnoreSelectors: f,
					networkDetailAllowUrls: _,
					networkDetailDenyUrls: v,
					networkCaptureBodies: y,
					networkRequestHeaders: qu(w),
					networkResponseHeaders: qu(b),
					beforeAddRecordingEvent: L,
					beforeErrorSampling: I,
					_experiments: a,
				}),
				'number' == typeof l &&
					(console.warn(
						`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${l} })`,
					),
					(this._initialOptions.sessionSampleRate = l)),
				'number' == typeof c &&
					(console.warn(
						`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${c} })`,
					),
					(this._initialOptions.errorSampleRate = c)),
				this._initialOptions.blockAllMedia &&
					(this._recordingOptions.blockSelector = this._recordingOptions.blockSelector
						? `${this._recordingOptions.blockSelector},${Bu}`
						: Bu),
				this._isInitialized && Ko())
			)
				throw new Error('Multiple Sentry Session Replay instances are not supported');
			this._isInitialized = !0;
		}
		get _isInitialized() {
			return Wu;
		}
		set _isInitialized(e) {
			Wu = e;
		}
		setupOnce() {
			Ko() && (this._setup(), setTimeout(() => this._initialize()));
		}
		start() {
			this._replay && this._replay.start();
		}
		startBuffering() {
			this._replay && this._replay.startBuffering();
		}
		stop() {
			return this._replay
				? this._replay.stop({
						forceFlush: 'session' === this._replay.recordingMode,
				  })
				: Promise.resolve();
		}
		flush(e) {
			return this._replay && this._replay.isEnabled()
				? this._replay.sendBufferedReplayOrFlush(e)
				: Promise.resolve();
		}
		getReplayId() {
			if (this._replay && this._replay.isEnabled()) return this._replay.getSessionId();
		}
		_initialize() {
			this._replay && (this._maybeLoadFromReplayCanvasIntegration(), this._replay.initializeSampling());
		}
		_setup() {
			const e = (function (e) {
				const t = rr(),
					n = t && t.getOptions(),
					o = {
						sessionSampleRate: 0,
						errorSampleRate: 0,
						...Zn(e),
					};
				if (!n)
					return (
						Dn(() => {
							console.warn('SDK client is not available.');
						}),
						o
					);
				null == e.sessionSampleRate &&
					null == e.errorSampleRate &&
					null == n.replaysSessionSampleRate &&
					null == n.replaysOnErrorSampleRate &&
					Dn(() => {
						console.warn(
							'Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.',
						);
					});
				'number' == typeof n.replaysSessionSampleRate && (o.sessionSampleRate = n.replaysSessionSampleRate);
				'number' == typeof n.replaysOnErrorSampleRate && (o.errorSampleRate = n.replaysOnErrorSampleRate);
				return o;
			})(this._initialOptions);
			this._replay = new Uu({
				options: e,
				recordingOptions: this._recordingOptions,
			});
		}
		_maybeLoadFromReplayCanvasIntegration() {
			try {
				const e = rr().getIntegrationByName('ReplayCanvas');
				if (!e) return;
				this._replay._canvas = e.getOptions();
			} catch (e) {}
		}
	}
	function qu(e) {
		return [...Fu, ...e.map((e) => e.toLowerCase())];
	}
	var Gu;
	function Vu(e, t, n = 1 / 0, o = 0) {
		return e ? (e.nodeType !== e.ELEMENT_NODE || o > n ? -1 : t(e) ? o : Vu(e.parentNode, t, n, o + 1)) : -1;
	}
	function Yu(e, t) {
		return (n) => {
			const o = n;
			if (null === o) return !1;
			try {
				if (e)
					if ('string' == typeof e) {
						if (o.matches(`.${e}`)) return !0;
					} else if (
						(function (e, t) {
							for (let n = e.classList.length; n--; ) {
								const o = e.classList[n];
								if (t.test(o)) return !0;
							}
							return !1;
						})(o, e)
					)
						return !0;
				return !(!t || !o.matches(t));
			} catch (e) {
				return !1;
			}
		};
	}
	ju.__initStatic(),
		(function (e) {
			(e[(e.Document = 0)] = 'Document'),
				(e[(e.DocumentType = 1)] = 'DocumentType'),
				(e[(e.Element = 2)] = 'Element'),
				(e[(e.Text = 3)] = 'Text'),
				(e[(e.CDATA = 4)] = 'CDATA'),
				(e[(e.Comment = 5)] = 'Comment');
		})(Gu || (Gu = {}));
	const Ku =
		'Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.';
	let Zu = {
		map: {},
		getId: () => (console.error(Ku), -1),
		getNode: () => (console.error(Ku), null),
		removeNodeFromMap() {
			console.error(Ku);
		},
		has: () => (console.error(Ku), !1),
		reset() {
			console.error(Ku);
		},
	};
	function Xu(e, t, n, o, i = window) {
		const r = i.Object.getOwnPropertyDescriptor(e, t);
		return (
			i.Object.defineProperty(
				e,
				t,
				o
					? n
					: {
							set(e) {
								op(() => {
									n.set.call(this, e);
								}, 0),
									r && r.set && r.set.call(this, e);
							},
					  },
			),
			() => Xu(e, t, r || {}, !0)
		);
	}
	function Ju(e, t, n) {
		try {
			if (!(t in e)) return () => {};
			const o = e[t],
				i = n(o);
			return (
				'function' == typeof i &&
					((i.prototype = i.prototype || {}),
					Object.defineProperties(i, {
						__rrweb_original__: {
							enumerable: !1,
							value: o,
						},
					})),
				(e[t] = i),
				() => {
					e[t] = o;
				}
			);
		} catch (e) {
			return () => {};
		}
	}
	function Qu(e, t, n, o, i) {
		if (!e) return !1;
		const r = (function (e) {
			return e ? (e.nodeType === e.ELEMENT_NODE ? e : e.parentElement) : null;
		})(e);
		if (!r) return !1;
		const s = Yu(t, n);
		if (!i) {
			const e = o && r.matches(o);
			return s(r) && !e;
		}
		const a = Vu(r, s);
		let l = -1;
		return !(a < 0) && (o && (l = Vu(r, Yu(null, o))), (a > -1 && l < 0) || a < l);
	}
	'undefined' != typeof window &&
		window.Proxy &&
		window.Reflect &&
		(Zu = new Proxy(Zu, {
			get: (e, t, n) => ('map' === t && console.error(Ku), Reflect.get(e, t, n)),
		})),
		/[1-9][0-9]{12}/.test(Date.now().toString());
	const ep = {};
	function tp(e) {
		const t = ep[e];
		if (t) return t;
		const n = window.document;
		let o = window[e];
		if (n && 'function' == typeof n.createElement)
			try {
				const t = n.createElement('iframe');
				(t.hidden = !0), n.head.appendChild(t);
				const i = t.contentWindow;
				i && i[e] && (o = i[e]), n.head.removeChild(t);
			} catch (e) {}
		return (ep[e] = o.bind(window));
	}
	function np(...e) {
		return tp('requestAnimationFrame')(...e);
	}
	function op(...e) {
		return tp('setTimeout')(...e);
	}
	var ip = ((e) => (
		(e[(e['2D'] = 0)] = '2D'), (e[(e.WebGL = 1)] = 'WebGL'), (e[(e.WebGL2 = 2)] = 'WebGL2'), e
	))(ip || {});
	let rp;
	function sp(e) {
		rp = e;
	}
	const ap = (e) => {
		if (!rp) return e;
		return (...t) => {
			try {
				return e(...t);
			} catch (e) {
				if (rp && !0 === rp(e)) return () => {};
				throw e;
			}
		};
	};
	for (
		var lp = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
			cp = 'undefined' == typeof Uint8Array ? [] : new Uint8Array(256),
			dp = 0;
		dp < 64;
		dp++
	)
		cp[lp.charCodeAt(dp)] = dp;
	const up = new Map();
	const pp = (e, t, n) => {
		if (!e || (!hp(e, t) && 'object' != typeof e)) return;
		const o = (function (e, t) {
			let n = up.get(e);
			return n || ((n = new Map()), up.set(e, n)), n.has(t) || n.set(t, []), n.get(t);
		})(n, e.constructor.name);
		let i = o.indexOf(e);
		return -1 === i && ((i = o.length), o.push(e)), i;
	};
	function mp(e, t, n) {
		if (e instanceof Array) return e.map((e) => mp(e, t, n));
		if (null === e) return e;
		if (
			e instanceof Float32Array ||
			e instanceof Float64Array ||
			e instanceof Int32Array ||
			e instanceof Uint32Array ||
			e instanceof Uint8Array ||
			e instanceof Uint16Array ||
			e instanceof Int16Array ||
			e instanceof Int8Array ||
			e instanceof Uint8ClampedArray
		) {
			return {
				rr_type: e.constructor.name,
				args: [Object.values(e)],
			};
		}
		if (e instanceof ArrayBuffer) {
			const t = e.constructor.name,
				n = (function (e) {
					var t,
						n = new Uint8Array(e),
						o = n.length,
						i = '';
					for (t = 0; t < o; t += 3)
						(i += lp[n[t] >> 2]),
							(i += lp[((3 & n[t]) << 4) | (n[t + 1] >> 4)]),
							(i += lp[((15 & n[t + 1]) << 2) | (n[t + 2] >> 6)]),
							(i += lp[63 & n[t + 2]]);
					return (
						o % 3 == 2
							? (i = i.substring(0, i.length - 1) + '=')
							: o % 3 == 1 && (i = i.substring(0, i.length - 2) + '=='),
						i
					);
				})(e);
			return {
				rr_type: t,
				base64: n,
			};
		}
		if (e instanceof DataView) {
			return {
				rr_type: e.constructor.name,
				args: [mp(e.buffer, t, n), e.byteOffset, e.byteLength],
			};
		}
		if (e instanceof HTMLImageElement) {
			const t = e.constructor.name,
				{ src: n } = e;
			return {
				rr_type: t,
				src: n,
			};
		}
		if (e instanceof HTMLCanvasElement) {
			return {
				rr_type: 'HTMLImageElement',
				src: e.toDataURL(),
			};
		}
		if (e instanceof ImageData) {
			return {
				rr_type: e.constructor.name,
				args: [mp(e.data, t, n), e.width, e.height],
			};
		}
		if (hp(e, t) || 'object' == typeof e) {
			return {
				rr_type: e.constructor.name,
				index: pp(e, t, n),
			};
		}
		return e;
	}
	const gp = (e, t, n) => e.map((e) => mp(e, t, n)),
		hp = (e, t) => {
			const n = [
				'WebGLActiveInfo',
				'WebGLBuffer',
				'WebGLFramebuffer',
				'WebGLProgram',
				'WebGLRenderbuffer',
				'WebGLShader',
				'WebGLShaderPrecisionFormat',
				'WebGLTexture',
				'WebGLUniformLocation',
				'WebGLVertexArrayObject',
				'WebGLVertexArrayObjectOES',
			].filter((e) => 'function' == typeof t[e]);
			return Boolean(n.find((n) => e instanceof t[n]));
		};
	function fp(e, t, n, o, i) {
		const r = [];
		try {
			const s = Ju(e.HTMLCanvasElement.prototype, 'getContext', function (e) {
				return function (r, ...s) {
					if (!Qu(this, t, n, o, !0)) {
						const e = (function (e) {
							return 'experimental-webgl' === e ? 'webgl' : e;
						})(r);
						if (('__context' in this || (this.__context = e), i && ['webgl', 'webgl2'].includes(e)))
							if (s[0] && 'object' == typeof s[0]) {
								const e = s[0];
								e.preserveDrawingBuffer || (e.preserveDrawingBuffer = !0);
							} else
								s.splice(0, 1, {
									preserveDrawingBuffer: !0,
								});
					}
					return e.apply(this, [r, ...s]);
				};
			});
			r.push(s);
		} catch (e) {
			console.error('failed to patch HTMLCanvasElement.prototype.getContext');
		}
		return () => {
			r.forEach((e) => e());
		};
	}
	function _p(e, t, n, o, i, r, s, a) {
		const l = [],
			c = Object.getOwnPropertyNames(e);
		for (const s of c)
			if (!['isContextLost', 'canvas', 'drawingBufferWidth', 'drawingBufferHeight'].includes(s))
				try {
					if ('function' != typeof e[s]) continue;
					const c = Ju(e, s, function (e) {
						return function (...l) {
							const c = e.apply(this, l);
							if ((pp(c, a, this), 'tagName' in this.canvas && !Qu(this.canvas, o, i, r, !0))) {
								const e = gp(l, a, this),
									o = {
										type: t,
										property: s,
										args: e,
									};
								n(this.canvas, o);
							}
							return c;
						};
					});
					l.push(c);
				} catch (o) {
					const i = Xu(e, s, {
						set(e) {
							n(this.canvas, {
								type: t,
								property: s,
								args: [e],
								setter: !0,
							});
						},
					});
					l.push(i);
				}
		return l;
	}
	class vp {
		reset() {
			this.pendingCanvasMutations.clear(), this.resetObservers && this.resetObservers();
		}
		freeze() {
			this.frozen = !0;
		}
		unfreeze() {
			this.frozen = !1;
		}
		lock() {
			this.locked = !0;
		}
		unlock() {
			this.locked = !1;
		}
		constructor(e) {
			(this.pendingCanvasMutations = new Map()),
				(this.rafStamps = {
					latestId: 0,
					invokeId: null,
				}),
				(this.frozen = !1),
				(this.locked = !1),
				(this.processMutation = (e, t) => {
					(!(this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId) &&
						this.rafStamps.invokeId) ||
						(this.rafStamps.invokeId = this.rafStamps.latestId),
						this.pendingCanvasMutations.has(e) || this.pendingCanvasMutations.set(e, []),
						this.pendingCanvasMutations.get(e).push(t);
				});
			const {
				sampling: t = 'all',
				win: n,
				blockClass: o,
				blockSelector: i,
				unblockSelector: r,
				maxCanvasSize: s,
				recordCanvas: a,
				dataURLOptions: l,
				errorHandler: c,
			} = e;
			(this.mutationCb = e.mutationCb),
				(this.mirror = e.mirror),
				(this.options = e),
				c && sp(c),
				e.enableManualSnapshot ||
					ap(() => {
						a && 'all' === t && this.initCanvasMutationObserver(n, o, i, r),
							a &&
								'number' == typeof t &&
								this.initCanvasFPSObserver(t, n, o, i, r, s, {
									dataURLOptions: l,
								});
					})();
		}
		initCanvasFPSObserver(e, t, n, o, i, r, s) {
			const a = fp(t, n, o, i, !0),
				l = this.takeSnapshot(!1, e, t, n, o, i, r, s.dataURLOptions);
			this.resetObservers = () => {
				a(), cancelAnimationFrame(l);
			};
		}
		initCanvasMutationObserver(e, t, n, o) {
			this.startRAFTimestamping(), this.startPendingCanvasMutationFlusher();
			const i = fp(e, t, n, o, !1),
				r = (function (e, t, n, o, i) {
					const r = [],
						s = Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);
					for (const a of s)
						try {
							if ('function' != typeof t.CanvasRenderingContext2D.prototype[a]) continue;
							const s = Ju(t.CanvasRenderingContext2D.prototype, a, function (r) {
								return function (...s) {
									return (
										Qu(this.canvas, n, o, i, !0) ||
											op(() => {
												const n = gp(s, t, this);
												e(this.canvas, {
													type: ip['2D'],
													property: a,
													args: n,
												});
											}, 0),
										r.apply(this, s)
									);
								};
							});
							r.push(s);
						} catch (n) {
							const o = Xu(t.CanvasRenderingContext2D.prototype, a, {
								set(t) {
									e(this.canvas, {
										type: ip['2D'],
										property: a,
										args: [t],
										setter: !0,
									});
								},
							});
							r.push(o);
						}
					return () => {
						r.forEach((e) => e());
					};
				})(this.processMutation.bind(this), e, t, n, o),
				s = (function (e, t, n, o, i, r) {
					const s = [];
					return (
						s.push(..._p(t.WebGLRenderingContext.prototype, ip.WebGL, e, n, o, i, 0, t)),
						void 0 !== t.WebGL2RenderingContext &&
							s.push(..._p(t.WebGL2RenderingContext.prototype, ip.WebGL2, e, n, o, i, 0, t)),
						() => {
							s.forEach((e) => e());
						}
					);
				})(this.processMutation.bind(this), e, t, n, o, this.mirror);
			this.resetObservers = () => {
				i(), r(), s();
			};
		}
		snapshot(e) {
			const { options: t } = this,
				n = this.takeSnapshot(
					!0,
					'all' === t.sampling ? 2 : t.sampling || 2,
					t.win,
					t.blockClass,
					t.blockSelector,
					t.unblockSelector,
					t.maxCanvasSize,
					t.dataURLOptions,
					e,
				);
			this.resetObservers = () => {
				cancelAnimationFrame(n);
			};
		}
		takeSnapshot(e, t, n, o, i, r, s, a, l) {
			const c = new Map(),
				d = new Worker(
					(function () {
						const e = new Blob([
							'for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};',
						]);
						return URL.createObjectURL(e);
					})(),
				);
			d.onmessage = (e) => {
				const t = e.data,
					{ id: n } = t;
				if ((c.set(n, !1), !('base64' in t))) return;
				const { base64: o, type: i, width: r, height: s } = t;
				this.mutationCb({
					id: n,
					type: ip['2D'],
					commands: [
						{
							property: 'clearRect',
							args: [0, 0, r, s],
						},
						{
							property: 'drawImage',
							args: [
								{
									rr_type: 'ImageBitmap',
									args: [
										{
											rr_type: 'Blob',
											data: [
												{
													rr_type: 'ArrayBuffer',
													base64: o,
												},
											],
											type: i,
										},
									],
								},
								0,
								0,
								r,
								s,
							],
						},
					],
				});
			};
			const u = 1e3 / t;
			let p,
				m = 0;
			const g = (t) => {
				(m && t - m < u) ||
					((m = t),
					((e) => {
						if (e) return [e];
						const t = [];
						return (
							n.document.querySelectorAll('canvas').forEach((e) => {
								Qu(e, o, i, r, !0) || t.push(e);
							}),
							t
						);
					})(l).forEach((t) => {
						const n = this.mirror.getId(t);
						if (!c.get(n) && t.width && t.height) {
							if ((c.set(n, !0), !e && ['webgl', 'webgl2'].includes(t.__context))) {
								const e = t.getContext(t.__context);
								!1 ===
									Pi([
										e,
										'optionalAccess',
										(e) => e.getContextAttributes,
										'call',
										(e) => e(),
										'optionalAccess',
										(e) => e.preserveDrawingBuffer,
									]) && e.clear(e.COLOR_BUFFER_BIT);
							}
							createImageBitmap(t)
								.then((e) => {
									d.postMessage(
										{
											id: n,
											bitmap: e,
											width: t.width,
											height: t.height,
											dataURLOptions: a,
											maxCanvasSize: s,
										},
										[e],
									);
								})
								.catch((e) => {
									ap(() => {
										throw e;
									})();
								});
						}
					})),
					(p = np(g));
			};
			return (p = np(g)), p;
		}
		startPendingCanvasMutationFlusher() {
			np(() => this.flushPendingCanvasMutations());
		}
		startRAFTimestamping() {
			const e = (t) => {
				(this.rafStamps.latestId = t), np(e);
			};
			np(e);
		}
		flushPendingCanvasMutations() {
			this.pendingCanvasMutations.forEach((e, t) => {
				const n = this.mirror.getId(t);
				this.flushPendingCanvasMutationFor(t, n);
			}),
				np(() => this.flushPendingCanvasMutations());
		}
		flushPendingCanvasMutationFor(e, t) {
			if (this.frozen || this.locked) return;
			const n = this.pendingCanvasMutations.get(e);
			if (!n || -1 === t) return;
			const o = n.map((e) => {
					const { type: t, ...n } = e;
					return n;
				}),
				{ type: i } = n[0];
			this.mutationCb({
				id: t,
				type: i,
				commands: o,
			}),
				this.pendingCanvasMutations.delete(e);
		}
	}
	const yp = {
			low: {
				sampling: {
					canvas: 1,
				},
				dataURLOptions: {
					type: 'image/webp',
					quality: 0.25,
				},
			},
			medium: {
				sampling: {
					canvas: 2,
				},
				dataURLOptions: {
					type: 'image/webp',
					quality: 0.4,
				},
			},
			high: {
				sampling: {
					canvas: 4,
				},
				dataURLOptions: {
					type: 'image/webp',
					quality: 0.5,
				},
			},
		},
		wp = 'ReplayCanvas',
		bp = 1280,
		Ep = (e = {}) => {
			const [t, n] = e.maxCanvasSize || [],
				o = {
					quality: e.quality || 'medium',
					enableManualSnapshot: e.enableManualSnapshot,
					maxCanvasSize: [t ? Math.min(t, bp) : bp, n ? Math.min(n, bp) : bp],
				};
			let i;
			const r = new Promise((e) => (i = e));
			return {
				name: wp,
				setupOnce() {},
				getOptions() {
					const { quality: e, enableManualSnapshot: t, maxCanvasSize: n } = o;
					return {
						enableManualSnapshot: t,
						recordCanvas: !0,
						getCanvasManager: (e) => {
							const o = new vp({
								...e,
								enableManualSnapshot: t,
								maxCanvasSize: n,
								errorHandler: (e) => {
									try {
										'object' == typeof e && (e.__rrweb__ = !0);
									} catch (e) {}
								},
							});
							return i(o), o;
						},
						...(yp[e || 'medium'] || yp.medium),
					};
				},
				async snapshot(e) {
					(await r).snapshot(e);
				},
			};
		};
	Hr(wp, Ep);
	const Sp = Tn,
		xp = '#ffffff',
		Tp = 'inherit',
		Cp = 'rgba(108, 95, 199, 1)',
		$p = {
			fontFamily: "system-ui, 'Helvetica Neue', Arial, sans-serif",
			fontSize: '14px',
			background: xp,
			backgroundHover: '#f6f6f7',
			foreground: '#2b2233',
			border: '1.5px solid rgba(41, 35, 47, 0.13)',
			borderRadius: '25px',
			boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',
			success: '#268d75',
			error: '#df3338',
			submitBackground: 'rgba(88, 74, 192, 1)',
			submitBackgroundHover: Cp,
			submitBorder: Cp,
			submitOutlineFocus: '#29232f',
			submitForeground: xp,
			submitForegroundHover: xp,
			cancelBackground: 'transparent',
			cancelBackgroundHover: 'var(--background-hover)',
			cancelBorder: 'var(--border)',
			cancelOutlineFocus: 'var(--input-outline-focus)',
			cancelForeground: 'var(--foreground)',
			cancelForegroundHover: 'var(--foreground)',
			inputBackground: Tp,
			inputForeground: Tp,
			inputBorder: 'var(--border)',
			inputOutlineFocus: Cp,
			formBorderRadius: '20px',
			formContentBorderRadius: '6px',
		},
		kp = $p,
		Lp = {
			...$p,
			background: '#29232f',
			backgroundHover: '#352f3b',
			foreground: '#ebe6ef',
			border: '1.5px solid rgba(235, 230, 239, 0.15)',
			success: '#2da98c',
			error: '#f55459',
		},
		Ip = 'widget',
		Mp = 'api';
	async function Ap(
		{ feedback: { message: e, email: t, name: n, source: o, url: i } },
		{ includeReplay: r = !0 } = {},
	) {
		const s = rr(),
			a = s && s.getTransport(),
			l = s && s.getDsn();
		if (!s || !a || !l) return;
		const c = {
			contexts: {
				feedback: {
					contact_email: t,
					name: n,
					message: e,
					url: i,
					source: o,
				},
			},
			type: 'feedback',
		};
		return ir(async (e) => {
			e.clearBreadcrumbs(), [Mp, Ip].includes(String(o)) && e.setLevel('info');
			const t = await (async function ({ client: e, scope: t, event: n }) {
				const o = {};
				e.emit && e.emit('preprocessEvent', n, o);
				const i = await Zi(e.getOptions(), n, o, t, e, Sr());
				return null === i
					? (e.recordDroppedEvent('event_processor', 'feedback', n), null)
					: ((i.platform = i.platform || 'javascript'), i);
			})({
				scope: e,
				client: s,
				event: c,
			});
			if (!t) return;
			s.emit &&
				s.emit('beforeSendFeedback', t, {
					includeReplay: Boolean(r),
				});
			const n = Or(t, l, s.getOptions()._metadata, s.getOptions().tunnel);
			let i;
			try {
				i = await a.send(n);
			} catch (e) {
				const t = new Error('Unable to send Feedback');
				try {
					t.cause = e;
				} catch (e) {}
				throw t;
			}
			if (i) {
				if ('number' == typeof i.statusCode && (i.statusCode < 200 || i.statusCode >= 300))
					throw new Error('Unable to send Feedback');
				return i;
			}
		});
	}
	const Rp = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__;
	function Op(e, t) {
		return {
			...e,
			...t,
			themeDark: {
				...e.themeDark,
				...t.themeDark,
			},
			themeLight: {
				...e.themeLight,
				...t.themeLight,
			},
		};
	}
	function Np(e) {
		return `\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `;
	}
	function Dp({ id: e, colorScheme: t, themeDark: n, themeLight: o }) {
		try {
			const i = Sp.document,
				r = i.createElement('div');
			r.id = e;
			const s = r.attachShadow({
				mode: 'open',
			});
			return (
				s.appendChild(
					(function (e, t, n) {
						const o = e.createElement('style');
						return (
							(o.textContent = `\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${
								n.light.fontFamily
							};\n  --font-size: ${
								n.light.fontSize
							};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Np(
								'dark' === t ? n.dark : n.light,
							)}\n}\n\n${
								'system' === t
									? `\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Np(n.dark)}\n  }\n}`
									: ''
							}\n}`),
							o
						);
					})(i, t, {
						dark: n,
						light: o,
					}),
				),
				s.appendChild(
					(function (e) {
						const t = e.createElement('style');
						return (
							(t.textContent =
								'\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n'),
							t
						);
					})(i),
				),
				{
					shadow: s,
					host: r,
				}
			);
		} catch (e) {
			throw (
				(Pn.warn('[Feedback] Browser does not support shadow DOM API'),
				new Error('Browser does not support shadow DOM API.'))
			);
		}
	}
	async function Pp(e, t, n) {
		if (!e) return;
		e.hideError();
		try {
			const e = await (function ({ name: e, email: t, message: n, source: o = Mp, url: i = An() }, r = {}) {
				if (!n) throw new Error('Unable to submit feedback with empty message');
				return Ap(
					{
						feedback: {
							name: e,
							email: t,
							message: n,
							url: i,
							source: o,
						},
					},
					r,
				);
			})(
				{
					...t,
					source: Ip,
				},
				n,
			);
			return e;
		} catch (t) {
			Rp && Pn.error(t),
				e && e.showError('There was a problem submitting feedback, please wait and try again.');
		}
	}
	function zp(e, t) {
		return (
			Object.entries(t).forEach(([t, n]) => {
				e.setAttributeNS(null, t, n);
			}),
			e
		);
	}
	const Up = 20,
		Hp = 'http://www.w3.org/2000/svg';
	function Bp(e, t, ...n) {
		const o = Sp.document.createElement(e);
		t &&
			Object.entries(t).forEach(([e, t]) => {
				'className' === e && 'string' == typeof t
					? o.setAttribute('class', t)
					: 'boolean' == typeof t && t
					? o.setAttribute(e, '')
					: 'string' == typeof t
					? o.setAttribute(e, t)
					: e.startsWith('on') &&
					  'function' == typeof t &&
					  o.addEventListener(e.substring(2).toLowerCase(), t);
			});
		for (const e of n) Fp(o, e);
		return o;
	}
	function Fp(e, t) {
		const n = Sp.document;
		if (null != t)
			if (Array.isArray(t)) for (const n of t) Fp(e, n);
			else
				!1 === t ||
					('string' == typeof t
						? e.appendChild(n.createTextNode(t))
						: t instanceof Node
						? e.appendChild(t)
						: e.appendChild(n.createTextNode(String(t))));
	}
	function Wp({ buttonLabel: e, onClick: t }) {
		const n = Bp(
			'button',
			{
				type: 'button',
				className: 'widget__actor',
				'aria-label': e,
				'aria-hidden': 'false',
			},
			(function () {
				const e = (e) => Sp.document.createElementNS(Hp, e),
					t = zp(e('svg'), {
						class: 'feedback-icon',
						width: `${Up}`,
						height: `${Up}`,
						viewBox: `0 0 ${Up} ${Up}`,
						fill: 'none',
					}),
					n = zp(e('g'), {
						clipPath: 'url(#clip0_57_80)',
					}),
					o = zp(e('path'), {
						'fill-rule': 'evenodd',
						'clip-rule': 'evenodd',
						d: 'M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z',
					});
				t.appendChild(n).appendChild(o);
				const i = e('defs'),
					r = zp(e('clipPath'), {
						id: 'clip0_57_80',
					}),
					s = zp(e('rect'), {
						width: `${Up}`,
						height: `${Up}`,
						fill: 'white',
					});
				return (
					r.appendChild(s),
					i.appendChild(r),
					t.appendChild(i).appendChild(r).appendChild(s),
					{
						get el() {
							return t;
						},
					}
				);
			})().el,
			e
				? Bp(
						'span',
						{
							className: 'widget__actor__text',
						},
						e,
				  )
				: null,
		);
		return (
			n.addEventListener('click', function (e) {
				t && t(e);
			}),
			{
				get el() {
					return n;
				},
				show: () => {
					n.classList.remove('widget__actor--hidden'), n.setAttribute('aria-hidden', 'false');
				},
				hide: () => {
					n.classList.add('widget__actor--hidden'), n.setAttribute('aria-hidden', 'true');
				},
			}
		);
	}
	function jp(e, t) {
		const n = e.get(t);
		return 'string' == typeof n ? n.trim() : '';
	}
	function qp({
		nameLabel: e,
		namePlaceholder: t,
		emailLabel: n,
		emailPlaceholder: o,
		messageLabel: i,
		messagePlaceholder: r,
		isRequiredLabel: s,
		cancelButtonLabel: a,
		submitButtonLabel: l,
		showName: c,
		showEmail: d,
		isNameRequired: u,
		isEmailRequired: p,
		defaultName: m,
		defaultEmail: g,
		onCancel: h,
		onSubmit: f,
	}) {
		const { el: _ } = (function ({ label: e }) {
			return {
				el: Bp(
					'button',
					{
						type: 'submit',
						className: 'btn btn--primary',
						'aria-label': e,
					},
					e,
				),
			};
		})({
			label: l,
		});
		const v = Bp('div', {
			className: 'form__error-container form__error-container--hidden',
			'aria-hidden': 'true',
		});
		const y = Bp('input', {
				id: 'name',
				type: c ? 'text' : 'hidden',
				'aria-hidden': c ? 'false' : 'true',
				name: 'name',
				required: u,
				className: 'form__input',
				placeholder: t,
				value: m,
			}),
			w = Bp('input', {
				id: 'email',
				type: d ? 'text' : 'hidden',
				'aria-hidden': d ? 'false' : 'true',
				name: 'email',
				required: p,
				className: 'form__input',
				placeholder: o,
				value: g,
			}),
			b = Bp('textarea', {
				id: 'message',
				autoFocus: 'true',
				rows: '5',
				name: 'message',
				required: !0,
				className: 'form__input form__input--textarea',
				placeholder: r,
			}),
			E = Bp(
				'button',
				{
					type: 'button',
					className: 'btn btn--default',
					'aria-label': a,
					onClick: (e) => {
						h && h(e);
					},
				},
				a,
			),
			S = Bp(
				'form',
				{
					className: 'form',
					onSubmit: function (e) {
						if ((e.preventDefault(), e.target instanceof HTMLFormElement))
							try {
								if (f) {
									const t = new FormData(e.target),
										n = {
											name: jp(t, 'name'),
											email: jp(t, 'email'),
											message: jp(t, 'message'),
										};
									f(n);
								}
							} catch (e) {}
					},
				},
				[
					v,
					c &&
						Bp(
							'label',
							{
								htmlFor: 'name',
								className: 'form__label',
							},
							[
								Bp(
									'span',
									{
										className: 'form__label__text',
									},
									e,
									u &&
										Bp(
											'span',
											{
												className: 'form__label__text--required',
											},
											` ${s}`,
										),
								),
								y,
							],
						),
					!c && y,
					d &&
						Bp(
							'label',
							{
								htmlFor: 'email',
								className: 'form__label',
							},
							[
								Bp(
									'span',
									{
										className: 'form__label__text',
									},
									n,
									p &&
										Bp(
											'span',
											{
												className: 'form__label__text--required',
											},
											` ${s}`,
										),
								),
								w,
							],
						),
					!d && w,
					Bp(
						'label',
						{
							htmlFor: 'message',
							className: 'form__label',
						},
						[
							Bp(
								'span',
								{
									className: 'form__label__text',
								},
								i,
								Bp(
									'span',
									{
										className: 'form__label__text--required',
									},
									` ${s}`,
								),
							),
							b,
						],
					),
					Bp(
						'div',
						{
							className: 'btn-group',
						},
						[_, E],
					),
				],
			);
		return {
			get el() {
				return S;
			},
			showError: function (e) {
				(v.textContent = e),
					v.classList.remove('form__error-container--hidden'),
					v.setAttribute('aria-hidden', 'false');
			},
			hideError: function () {
				(v.textContent = ''),
					v.classList.add('form__error-container--hidden'),
					v.setAttribute('aria-hidden', 'true');
			},
		};
	}
	const Gp = 'http://www.w3.org/2000/svg';
	function Vp({
		formTitle: e,
		showBranding: t,
		showName: n,
		showEmail: o,
		isNameRequired: i,
		isEmailRequired: r,
		colorScheme: s,
		defaultName: a,
		defaultEmail: l,
		onClosed: c,
		onCancel: d,
		onSubmit: u,
		...p
	}) {
		let m = null;
		function g() {
			m && (m.open = !1);
		}
		const {
			el: h,
			showError: f,
			hideError: _,
		} = qp({
			showEmail: o,
			showName: n,
			isEmailRequired: r,
			isNameRequired: i,
			defaultName: a,
			defaultEmail: l,
			onSubmit: u,
			onCancel: d,
			...p,
		});
		return (
			(m = Bp(
				'dialog',
				{
					className: 'dialog',
					open: !0,
					onClick: function () {
						g(), c && c();
					},
				},
				Bp(
					'div',
					{
						className: 'dialog__content',
						onClick: (e) => {
							e.stopPropagation();
						},
					},
					Bp(
						'h2',
						{
							className: 'dialog__header',
						},
						e,
						t &&
							Bp(
								'a',
								{
									className: 'brand-link',
									target: '_blank',
									href: 'https://sentry.io/welcome/',
									title: 'Powered by Sentry',
									rel: 'noopener noreferrer',
								},
								(function ({ colorScheme: e }) {
									const t = (e) => Sp.document.createElementNS(Gp, e),
										n = zp(t('svg'), {
											class: 'sentry-logo',
											width: '32',
											height: '30',
											viewBox: '0 0 72 66',
											fill: 'none',
										}),
										o = zp(t('path'), {
											transform: 'translate(11, 11)',
											d: 'M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z',
										});
									n.append(o);
									const i = t('defs'),
										r = t('style');
									return (
										(r.textContent = `\n    path {\n      fill: ${
											'dark' === e ? '#fff' : '#362d59'
										};\n    }`),
										'system' === e &&
											(r.textContent +=
												"\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),
										i.append(r),
										n.append(i),
										{
											get el() {
												return n;
											},
										}
									);
								})({
									colorScheme: s,
								}).el,
							),
					),
					h,
				),
			)),
			{
				get el() {
					return m;
				},
				showError: f,
				hideError: _,
				open: function () {
					m && (m.open = !0);
				},
				close: g,
				checkIsOpen: function () {
					return (m && !0 === m.open) || !1;
				},
			}
		);
	}
	const Yp = 16,
		Kp = 17,
		Zp = 'http://www.w3.org/2000/svg';
	function Xp({ message: e, onRemove: t }) {
		function n() {
			o && (o.remove(), t && t());
		}
		const o = Bp(
			'div',
			{
				className: 'success-message',
				onClick: n,
			},
			(function () {
				const e = (e) => Sp.document.createElementNS(Zp, e),
					t = zp(e('svg'), {
						class: 'success-icon',
						width: `${Yp}`,
						height: `${Kp}`,
						viewBox: `0 0 ${Yp} ${Kp}`,
						fill: 'none',
					}),
					n = zp(e('g'), {
						clipPath: 'url(#clip0_57_156)',
					}),
					o = zp(e('path'), {
						'fill-rule': 'evenodd',
						'clip-rule': 'evenodd',
						d: 'M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z',
					}),
					i = zp(e('path'), {
						d: 'M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z',
					});
				t.appendChild(n).append(i, o);
				const r = e('defs'),
					s = zp(e('clipPath'), {
						id: 'clip0_57_156',
					}),
					a = zp(e('rect'), {
						width: `${Yp}`,
						height: `${Yp}`,
						fill: 'white',
						transform: 'translate(0 0.5)',
					});
				return (
					s.appendChild(a),
					r.appendChild(s),
					t.appendChild(r).appendChild(s).appendChild(a),
					{
						get el() {
							return t;
						},
					}
				);
			})().el,
			e,
		);
		return {
			el: o,
			remove: n,
		};
	}
	function Jp({ shadow: e, options: { shouldCreateActor: t = !0, ...n }, attachTo: o }) {
		let i,
			r,
			s = !1;
		async function a(t) {
			if (!r) return;
			const o = [];
			if (
				(n.isNameRequired && !t.name && o.push(n.nameLabel),
				n.isEmailRequired && !t.email && o.push(n.emailLabel),
				t.message || o.push(n.messageLabel),
				o.length > 0)
			)
				return void r.showError(`Please enter in the following required fields: ${o.join(', ')}`);
			(await Pp(r, t))
				? (m(),
				  (function () {
						if (e)
							try {
								const t = Xp({
									message: n.successMessageText,
									onRemove: () => {
										o && clearTimeout(o), c();
									},
								});
								if (!t.el) throw new Error('Unable to show success message');
								e.appendChild(t.el);
								const o = setTimeout(() => {
									t && t.remove();
								}, 5e3);
							} catch (e) {
								Pn.error(e);
							}
				  })(),
				  n.onSubmitSuccess && n.onSubmitSuccess())
				: n.onSubmitError && n.onSubmitError();
		}
		function l() {
			const e = rr(),
				t = e && e.getIntegrationByName && e.getIntegrationByName('Replay');
			t &&
				t.flush().catch((e) => {
					Rp && Pn.error(e);
				});
		}
		function c() {
			i && i.show();
		}
		function d() {
			i && i.hide();
		}
		function u() {
			try {
				if (r) return r.open(), (s = !0), n.onFormOpen && n.onFormOpen(), void l();
				const t = n.useSentryUser,
					o = sr(),
					i = o && o.getUser();
				if (
					((r = Vp({
						colorScheme: n.colorScheme,
						showBranding: n.showBranding,
						showName: n.showName || n.isNameRequired,
						showEmail: n.showEmail || n.isEmailRequired,
						isNameRequired: n.isNameRequired,
						isEmailRequired: n.isEmailRequired,
						formTitle: n.formTitle,
						cancelButtonLabel: n.cancelButtonLabel,
						submitButtonLabel: n.submitButtonLabel,
						emailLabel: n.emailLabel,
						emailPlaceholder: n.emailPlaceholder,
						messageLabel: n.messageLabel,
						messagePlaceholder: n.messagePlaceholder,
						nameLabel: n.nameLabel,
						namePlaceholder: n.namePlaceholder,
						isRequiredLabel: n.isRequiredLabel,
						defaultName: (t && i && i[t.name]) || '',
						defaultEmail: (t && i && i[t.email]) || '',
						onClosed: () => {
							c(), (s = !1), n.onFormClose && n.onFormClose();
						},
						onCancel: () => {
							p(), c();
						},
						onSubmit: a,
					})),
					!r.el)
				)
					throw new Error('Unable to open Feedback dialog');
				e.appendChild(r.el), d(), n.onFormOpen && n.onFormOpen(), l();
			} catch (e) {
				Pn.error(e);
			}
		}
		function p() {
			r && (r.close(), (s = !1), n.onFormClose && n.onFormClose());
		}
		function m() {
			if (r) {
				p();
				const e = r.el;
				e && e.remove(), (r = void 0);
			}
		}
		function g() {
			s || u(), d();
		}
		return (
			o
				? o.addEventListener('click', g)
				: t &&
				  ((i = Wp({
						buttonLabel: n.buttonLabel,
						onClick: g,
				  })),
				  i.el && e.appendChild(i.el)),
			{
				get actor() {
					return i;
				},
				get dialog() {
					return r;
				},
				showActor: c,
				hideActor: d,
				removeActor: function () {
					i && i.el && i.el.remove();
				},
				openDialog: u,
				closeDialog: p,
				removeDialog: m,
			}
		);
	}
	const Qp = Sp.document;
	class em {
		static __initStatic() {
			this.id = 'Feedback';
		}
		constructor({
			autoInject: e = !0,
			id: t = 'sentry-feedback',
			isEmailRequired: n = !1,
			isNameRequired: o = !1,
			showBranding: i = !0,
			showEmail: r = !0,
			showName: s = !0,
			useSentryUser: a = {
				email: 'email',
				name: 'username',
			},
			themeDark: l,
			themeLight: c,
			colorScheme: d = 'system',
			buttonLabel: u = 'Report a Bug',
			cancelButtonLabel: p = 'Cancel',
			submitButtonLabel: m = 'Send Bug Report',
			formTitle: g = 'Report a Bug',
			emailPlaceholder: h = 'your.email@example.org',
			emailLabel: f = 'Email',
			messagePlaceholder: _ = "What's the bug? What did you expect?",
			messageLabel: v = 'Description',
			namePlaceholder: y = 'Your Name',
			nameLabel: w = 'Name',
			isRequiredLabel: b = '(required)',
			successMessageText: E = 'Thank you for your report!',
			onFormClose: S,
			onFormOpen: x,
			onSubmitError: T,
			onSubmitSuccess: C,
		} = {}) {
			(this.name = em.id),
				(this._host = null),
				(this._shadow = null),
				(this._widget = null),
				(this._widgets = new Set()),
				(this._hasInsertedActorStyles = !1),
				(this.options = {
					autoInject: e,
					showBranding: i,
					id: t,
					isEmailRequired: n,
					isNameRequired: o,
					showEmail: r,
					showName: s,
					useSentryUser: a,
					colorScheme: d,
					themeDark: {
						...Lp,
						...l,
					},
					themeLight: {
						...kp,
						...c,
					},
					buttonLabel: u,
					cancelButtonLabel: p,
					submitButtonLabel: m,
					formTitle: g,
					emailLabel: f,
					emailPlaceholder: h,
					messageLabel: v,
					messagePlaceholder: _,
					nameLabel: w,
					namePlaceholder: y,
					isRequiredLabel: b,
					successMessageText: E,
					onFormClose: S,
					onFormOpen: x,
					onSubmitError: T,
					onSubmitSuccess: C,
				});
		}
		setupOnce() {
			if (Ko())
				try {
					this._cleanupWidgetIfExists();
					const { autoInject: e } = this.options;
					if (!e) return;
					this._createWidget(this.options);
				} catch (e) {
					Rp && Pn.error(e);
				}
		}
		openDialog() {
			this._widget ||
				this._createWidget({
					...this.options,
					shouldCreateActor: !1,
				}),
				this._widget && this._widget.openDialog();
		}
		closeDialog() {
			this._widget && this._widget.closeDialog();
		}
		attachTo(e, t) {
			try {
				const n = Op(this.options, t || {});
				return this._ensureShadowHost(n, ({ shadow: t }) => {
					const o =
						'string' == typeof e ? Qp.querySelector(e) : 'function' == typeof e.addEventListener ? e : null;
					if (!o) return Rp && Pn.error('[Feedback] Unable to attach to target element'), null;
					const i = Jp({
						shadow: t,
						options: n,
						attachTo: o,
					});
					return this._widgets.add(i), this._widget || (this._widget = i), i;
				});
			} catch (e) {
				return Rp && Pn.error(e), null;
			}
		}
		createWidget(e) {
			try {
				return this._createWidget(Op(this.options, e || {}));
			} catch (e) {
				return Rp && Pn.error(e), null;
			}
		}
		removeWidget(e) {
			if (!e) return !1;
			try {
				if (this._widgets.has(e))
					return (
						e.removeActor(),
						e.removeDialog(),
						this._widgets.delete(e),
						this._widget === e && (this._widget = null),
						!0
					);
			} catch (e) {
				Rp && Pn.error(e);
			}
			return !1;
		}
		getWidget() {
			return this._widget;
		}
		remove() {
			this._host && this._host.remove(), this._initialize();
		}
		_initialize() {
			(this._host = null),
				(this._shadow = null),
				(this._widget = null),
				(this._widgets = new Set()),
				(this._hasInsertedActorStyles = !1);
		}
		_cleanupWidgetIfExists() {
			this._host && this.remove();
			const e = Qp.querySelector(`#${this.options.id}`);
			e && e.remove();
		}
		_createWidget(e) {
			return this._ensureShadowHost(e, ({ shadow: t }) => {
				const n = Jp({
					shadow: t,
					options: e,
				});
				return (
					!this._hasInsertedActorStyles &&
						n.actor &&
						(t.appendChild(
							(function (e) {
								const t = e.createElement('style');
								return (
									(t.textContent =
										'\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n'),
									t
								);
							})(Qp),
						),
						(this._hasInsertedActorStyles = !0)),
					this._widgets.add(n),
					this._widget || (this._widget = n),
					n
				);
			});
		}
		_ensureShadowHost(e, t) {
			let n = !1;
			if (!this._shadow || !this._host) {
				const { id: t, colorScheme: o, themeLight: i, themeDark: r } = e,
					{ shadow: s, host: a } = Dp({
						id: t,
						colorScheme: o,
						themeLight: i,
						themeDark: r,
					});
				(this._shadow = s), (this._host = a), (n = !0);
			}
			this._host.dataset.sentryFeedbackColorscheme = e.colorScheme;
			const o = t({
				shadow: this._shadow,
				host: this._host,
			});
			return n && Qp.body.appendChild(this._host), o;
		}
	}
	em.__initStatic();
	const tm = 'CaptureConsole',
		nm = (e = {}) => {
			const t = e.levels || On;
			return {
				name: tm,
				setupOnce() {},
				setup(e) {
					'console' in Tn &&
						lo(({ args: n, level: o }) => {
							rr() === e &&
								t.includes(o) &&
								(function (e, t) {
									const n = {
										level: vi(t),
										extra: {
											arguments: e,
										},
									};
									ir((o) => {
										if (
											(o.addEventProcessor(
												(e) => (
													(e.logger = 'console'),
													ho(e, {
														handled: !1,
														type: 'console',
													}),
													e
												),
											),
											'assert' === t && !1 === e[0])
										) {
											const t = `Assertion failed: ${vn(e.slice(1), ' ') || 'console.assert'}`;
											return o.setExtra('arguments', e.slice(1)), void tr(t, n);
										}
										const i = e.find((e) => e instanceof Error);
										if ('error' === t && i) return void er(i, n);
										tr(vn(e, ' '), n);
									});
								})(n, o);
						});
				},
			};
		};
	Hr(tm, nm);
	const om = 'Debug',
		im = (e = {}) => {
			const t = {
				debugger: !1,
				stringify: !1,
				...e,
			};
			return {
				name: om,
				setupOnce() {},
				setup(e) {
					e.on &&
						e.on('beforeSendEvent', (e, n) => {
							t.debugger,
								Dn(() => {
									t.stringify
										? (console.log(JSON.stringify(e, null, 2)),
										  n && Object.keys(n).length && console.log(JSON.stringify(n, null, 2)))
										: (console.log(e), n && Object.keys(n).length && console.log(n));
								});
						});
				},
			};
		};
	Hr(om, im);
	const rm = 'undefined' == typeof __SENTRY_DEBUG__ || __SENTRY_DEBUG__,
		sm = 'Dedupe';
	function am(e, t) {
		let n = dm(e),
			o = dm(t);
		if (!n && !o) return !0;
		if ((n && !o) || (!n && o)) return !1;
		if (o.length !== n.length) return !1;
		for (let e = 0; e < o.length; e++) {
			const t = o[e],
				i = n[e];
			if (
				t.filename !== i.filename ||
				t.lineno !== i.lineno ||
				t.colno !== i.colno ||
				t.function !== i.function
			)
				return !1;
		}
		return !0;
	}
	function lm(e, t) {
		let n = e.fingerprint,
			o = t.fingerprint;
		if (!n && !o) return !0;
		if ((n && !o) || (!n && o)) return !1;
		try {
			return !(n.join('') !== o.join(''));
		} catch (e) {
			return !1;
		}
	}
	function cm(e) {
		return e.exception && e.exception.values && e.exception.values[0];
	}
	function dm(e) {
		const t = e.exception;
		if (t)
			try {
				return t.values[0].stacktrace.frames;
			} catch (e) {
				return;
			}
	}
	Hr(sm, () => {
		let e;
		return {
			name: sm,
			setupOnce() {},
			processEvent(t) {
				if (t.type) return t;
				try {
					if (
						(function (e, t) {
							if (!t) return !1;
							if (
								(function (e, t) {
									const n = e.message,
										o = t.message;
									if (!n && !o) return !1;
									if ((n && !o) || (!n && o)) return !1;
									if (n !== o) return !1;
									if (!lm(e, t)) return !1;
									if (!am(e, t)) return !1;
									return !0;
								})(e, t)
							)
								return !0;
							if (
								(function (e, t) {
									const n = cm(t),
										o = cm(e);
									if (!n || !o) return !1;
									if (n.type !== o.type || n.value !== o.value) return !1;
									if (!lm(e, t)) return !1;
									if (!am(e, t)) return !1;
									return !0;
								})(e, t)
							)
								return !0;
							return !1;
						})(t, e)
					)
						return (
							rm && Pn.warn('Event dropped due to being a duplicate of previously captured event.'), null
						);
				} catch (e) {}
				return (e = t);
			},
		};
	});
	const um = 'ExtraErrorData';
	function pm(e) {
		throw new Error(
			'Could not dynamically require "' +
				e +
				'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.',
		);
	}
	Hr(um, (e = {}) => {
		const t = e.depth || 3,
			n = e.captureErrorCause || !1;
		return {
			name: um,
			setupOnce() {},
			processEvent: (e, o) =>
				(function (e, t = {}, n, o) {
					if (!t.originalException || !nn(t.originalException)) return e;
					const i = t.originalException.name || t.originalException.constructor.name,
						r = (function (e, t) {
							try {
								const n = [
										'name',
										'message',
										'stack',
										'line',
										'column',
										'fileName',
										'lineNumber',
										'columnNumber',
										'toJSON',
									],
									o = {};
								for (const t of Object.keys(e)) {
									if (-1 !== n.indexOf(t)) continue;
									const i = e[t];
									o[t] = nn(i) ? i.toString() : i;
								}
								if (
									(t && void 0 !== e.cause && (o.cause = nn(e.cause) ? e.cause.toString() : e.cause),
									'function' == typeof e.toJSON)
								) {
									const t = e.toJSON();
									for (const e of Object.keys(t)) {
										const n = t[e];
										o[e] = nn(n) ? n.toString() : n;
									}
								}
								return o;
							} catch (e) {
								rm && Pn.error('Unable to extract extra data from the Error object:', e);
							}
							return null;
						})(t.originalException, o);
					if (r) {
						const t = {
								...e.contexts,
							},
							o = Zo(r, n);
						return (
							dn(o) && (jn(o, '__sentry_skip_normalization__', !0), (t[i] = o)),
							{
								...e,
								contexts: t,
							}
						);
					}
					return e;
				})(e, o, t, n),
		};
	});
	var mm = {
		exports: {},
	};
	/*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  */
	!(function (e, t) {
		e.exports = (function e(t, n, o) {
			function i(s, a) {
				if (!n[s]) {
					if (!t[s]) {
						if (!a && pm) return pm(s);
						if (r) return r(s, !0);
						var l = new Error("Cannot find module '" + s + "'");
						throw ((l.code = 'MODULE_NOT_FOUND'), l);
					}
					var c = (n[s] = {
						exports: {},
					});
					t[s][0].call(
						c.exports,
						function (e) {
							var n = t[s][1][e];
							return i(n || e);
						},
						c,
						c.exports,
						e,
						t,
						n,
						o,
					);
				}
				return n[s].exports;
			}
			for (var r = pm, s = 0; s < o.length; s++) i(o[s]);
			return i;
		})(
			{
				1: [
					function (e, t, n) {
						(function (e) {
							var n,
								o,
								i = e.MutationObserver || e.WebKitMutationObserver;
							if (i) {
								var r = 0,
									s = new i(d),
									a = e.document.createTextNode('');
								s.observe(a, {
									characterData: !0,
								}),
									(n = function () {
										a.data = r = ++r % 2;
									});
							} else if (e.setImmediate || void 0 === e.MessageChannel)
								n =
									'document' in e && 'onreadystatechange' in e.document.createElement('script')
										? function () {
												var t = e.document.createElement('script');
												(t.onreadystatechange = function () {
													d(), (t.onreadystatechange = null), t.parentNode.removeChild(t), (t = null);
												}),
													e.document.documentElement.appendChild(t);
										  }
										: function () {
												setTimeout(d, 0);
										  };
							else {
								var l = new e.MessageChannel();
								(l.port1.onmessage = d),
									(n = function () {
										l.port2.postMessage(0);
									});
							}
							var c = [];
							function d() {
								var e, t;
								o = !0;
								for (var n = c.length; n; ) {
									for (t = c, c = [], e = -1; ++e < n; ) t[e]();
									n = c.length;
								}
								o = !1;
							}
							function u(e) {
								1 !== c.push(e) || o || n();
							}
							t.exports = u;
						}).call(
							this,
							void 0 !== it
								? it
								: 'undefined' != typeof self
								? self
								: 'undefined' != typeof window
								? window
								: {},
						);
					},
					{},
				],
				2: [
					function (e, t, n) {
						var o = e(1);
						function i() {}
						var r = {},
							s = ['REJECTED'],
							a = ['FULFILLED'],
							l = ['PENDING'];
						function c(e) {
							if ('function' != typeof e) throw new TypeError('resolver must be a function');
							(this.state = l), (this.queue = []), (this.outcome = void 0), e !== i && m(this, e);
						}
						function d(e, t, n) {
							(this.promise = e),
								'function' == typeof t &&
									((this.onFulfilled = t), (this.callFulfilled = this.otherCallFulfilled)),
								'function' == typeof n &&
									((this.onRejected = n), (this.callRejected = this.otherCallRejected));
						}
						function u(e, t, n) {
							o(function () {
								var o;
								try {
									o = t(n);
								} catch (t) {
									return r.reject(e, t);
								}
								o === e ? r.reject(e, new TypeError('Cannot resolve promise with itself')) : r.resolve(e, o);
							});
						}
						function p(e) {
							var t = e && e.then;
							if (e && ('object' == typeof e || 'function' == typeof e) && 'function' == typeof t)
								return function () {
									t.apply(e, arguments);
								};
						}
						function m(e, t) {
							var n = !1;
							function o(t) {
								n || ((n = !0), r.reject(e, t));
							}
							function i(t) {
								n || ((n = !0), r.resolve(e, t));
							}
							function s() {
								t(i, o);
							}
							var a = g(s);
							'error' === a.status && o(a.value);
						}
						function g(e, t) {
							var n = {};
							try {
								(n.value = e(t)), (n.status = 'success');
							} catch (e) {
								(n.status = 'error'), (n.value = e);
							}
							return n;
						}
						function h(e) {
							return e instanceof this ? e : r.resolve(new this(i), e);
						}
						function f(e) {
							var t = new this(i);
							return r.reject(t, e);
						}
						function _(e) {
							var t = this;
							if ('[object Array]' !== Object.prototype.toString.call(e))
								return this.reject(new TypeError('must be an array'));
							var n = e.length,
								o = !1;
							if (!n) return this.resolve([]);
							for (var s = new Array(n), a = 0, l = -1, c = new this(i); ++l < n; ) d(e[l], l);
							return c;
							function d(e, i) {
								function l(e) {
									(s[i] = e), ++a !== n || o || ((o = !0), r.resolve(c, s));
								}
								t.resolve(e).then(l, function (e) {
									o || ((o = !0), r.reject(c, e));
								});
							}
						}
						function v(e) {
							var t = this;
							if ('[object Array]' !== Object.prototype.toString.call(e))
								return this.reject(new TypeError('must be an array'));
							var n = e.length,
								o = !1;
							if (!n) return this.resolve([]);
							for (var s = -1, a = new this(i); ++s < n; ) l(e[s]);
							return a;
							function l(e) {
								t.resolve(e).then(
									function (e) {
										o || ((o = !0), r.resolve(a, e));
									},
									function (e) {
										o || ((o = !0), r.reject(a, e));
									},
								);
							}
						}
						(t.exports = c),
							(c.prototype.catch = function (e) {
								return this.then(null, e);
							}),
							(c.prototype.then = function (e, t) {
								if (
									('function' != typeof e && this.state === a) ||
									('function' != typeof t && this.state === s)
								)
									return this;
								var n = new this.constructor(i);
								return (
									this.state !== l
										? u(n, this.state === a ? e : t, this.outcome)
										: this.queue.push(new d(n, e, t)),
									n
								);
							}),
							(d.prototype.callFulfilled = function (e) {
								r.resolve(this.promise, e);
							}),
							(d.prototype.otherCallFulfilled = function (e) {
								u(this.promise, this.onFulfilled, e);
							}),
							(d.prototype.callRejected = function (e) {
								r.reject(this.promise, e);
							}),
							(d.prototype.otherCallRejected = function (e) {
								u(this.promise, this.onRejected, e);
							}),
							(r.resolve = function (e, t) {
								var n = g(p, t);
								if ('error' === n.status) return r.reject(e, n.value);
								var o = n.value;
								if (o) m(e, o);
								else {
									(e.state = a), (e.outcome = t);
									for (var i = -1, s = e.queue.length; ++i < s; ) e.queue[i].callFulfilled(t);
								}
								return e;
							}),
							(r.reject = function (e, t) {
								(e.state = s), (e.outcome = t);
								for (var n = -1, o = e.queue.length; ++n < o; ) e.queue[n].callRejected(t);
								return e;
							}),
							(c.resolve = h),
							(c.reject = f),
							(c.all = _),
							(c.race = v);
					},
					{
						1: 1,
					},
				],
				3: [
					function (e, t, n) {
						(function (t) {
							'function' != typeof t.Promise && (t.Promise = e(2));
						}).call(
							this,
							void 0 !== it
								? it
								: 'undefined' != typeof self
								? self
								: 'undefined' != typeof window
								? window
								: {},
						);
					},
					{
						2: 2,
					},
				],
				4: [
					function (e, t, n) {
						var o =
							'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
								? function (e) {
										return typeof e;
								  }
								: function (e) {
										return e &&
											'function' == typeof Symbol &&
											e.constructor === Symbol &&
											e !== Symbol.prototype
											? 'symbol'
											: typeof e;
								  };
						function i(e, t) {
							if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function');
						}
						function r() {
							try {
								if ('undefined' != typeof indexedDB) return indexedDB;
								if ('undefined' != typeof webkitIndexedDB) return webkitIndexedDB;
								if ('undefined' != typeof mozIndexedDB) return mozIndexedDB;
								if ('undefined' != typeof OIndexedDB) return OIndexedDB;
								if ('undefined' != typeof msIndexedDB) return msIndexedDB;
							} catch (e) {
								return;
							}
						}
						var s = r();
						function a() {
							try {
								if (!s || !s.open) return !1;
								var e =
										'undefined' != typeof openDatabase &&
										/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) &&
										!/Chrome/.test(navigator.userAgent) &&
										!/BlackBerry/.test(navigator.platform),
									t = 'function' == typeof fetch && -1 !== fetch.toString().indexOf('[native code');
								return (!e || t) && 'undefined' != typeof indexedDB && 'undefined' != typeof IDBKeyRange;
							} catch (e) {
								return !1;
							}
						}
						function l(e, t) {
							(e = e || []), (t = t || {});
							try {
								return new Blob(e, t);
							} catch (i) {
								if ('TypeError' !== i.name) throw i;
								for (
									var n = new (
											'undefined' != typeof BlobBuilder
												? BlobBuilder
												: 'undefined' != typeof MSBlobBuilder
												? MSBlobBuilder
												: 'undefined' != typeof MozBlobBuilder
												? MozBlobBuilder
												: WebKitBlobBuilder
										)(),
										o = 0;
									o < e.length;
									o += 1
								)
									n.append(e[o]);
								return n.getBlob(t.type);
							}
						}
						'undefined' == typeof Promise && e(3);
						var c = Promise;
						function d(e, t) {
							t &&
								e.then(
									function (e) {
										t(null, e);
									},
									function (e) {
										t(e);
									},
								);
						}
						function u(e, t, n) {
							'function' == typeof t && e.then(t), 'function' == typeof n && e.catch(n);
						}
						function p(e) {
							return (
								'string' != typeof e &&
									(console.warn(e + ' used as a key, but it is not a string.'), (e = String(e))),
								e
							);
						}
						function m() {
							if (arguments.length && 'function' == typeof arguments[arguments.length - 1])
								return arguments[arguments.length - 1];
						}
						var g = 'local-forage-detect-blob-support',
							h = void 0,
							f = {},
							_ = Object.prototype.toString,
							v = 'readonly',
							y = 'readwrite';
						function w(e) {
							for (var t = e.length, n = new ArrayBuffer(t), o = new Uint8Array(n), i = 0; i < t; i++)
								o[i] = e.charCodeAt(i);
							return n;
						}
						function b(e) {
							return new c(function (t) {
								var n = e.transaction(g, y),
									o = l(['']);
								n.objectStore(g).put(o, 'key'),
									(n.onabort = function (e) {
										e.preventDefault(), e.stopPropagation(), t(!1);
									}),
									(n.oncomplete = function () {
										var e = navigator.userAgent.match(/Chrome\/(\d+)/),
											n = navigator.userAgent.match(/Edge\//);
										t(n || !e || parseInt(e[1], 10) >= 43);
									});
							}).catch(function () {
								return !1;
							});
						}
						function E(e) {
							return 'boolean' == typeof h
								? c.resolve(h)
								: b(e).then(function (e) {
										return (h = e);
								  });
						}
						function S(e) {
							var t = f[e.name],
								n = {};
							(n.promise = new c(function (e, t) {
								(n.resolve = e), (n.reject = t);
							})),
								t.deferredOperations.push(n),
								t.dbReady
									? (t.dbReady = t.dbReady.then(function () {
											return n.promise;
									  }))
									: (t.dbReady = n.promise);
						}
						function x(e) {
							var t = f[e.name].deferredOperations.pop();
							if (t) return t.resolve(), t.promise;
						}
						function T(e, t) {
							var n = f[e.name].deferredOperations.pop();
							if (n) return n.reject(t), n.promise;
						}
						function C(e, t) {
							return new c(function (n, o) {
								if (((f[e.name] = f[e.name] || D()), e.db)) {
									if (!t) return n(e.db);
									S(e), e.db.close();
								}
								var i = [e.name];
								t && i.push(e.version);
								var r = s.open.apply(s, i);
								t &&
									(r.onupgradeneeded = function (t) {
										var n = r.result;
										try {
											n.createObjectStore(e.storeName), t.oldVersion <= 1 && n.createObjectStore(g);
										} catch (n) {
											if ('ConstraintError' !== n.name) throw n;
											console.warn(
												'The database "' +
													e.name +
													'" has been upgraded from version ' +
													t.oldVersion +
													' to version ' +
													t.newVersion +
													', but the storage "' +
													e.storeName +
													'" already exists.',
											);
										}
									}),
									(r.onerror = function (e) {
										e.preventDefault(), o(r.error);
									}),
									(r.onsuccess = function () {
										var t = r.result;
										(t.onversionchange = function (e) {
											e.target.close();
										}),
											n(t),
											x(e);
									});
							});
						}
						function $(e) {
							return C(e, !1);
						}
						function k(e) {
							return C(e, !0);
						}
						function L(e, t) {
							if (!e.db) return !0;
							var n = !e.db.objectStoreNames.contains(e.storeName),
								o = e.version < e.db.version,
								i = e.version > e.db.version;
							if (
								(o &&
									(e.version !== t &&
										console.warn(
											'The database "' +
												e.name +
												'" can\'t be downgraded from version ' +
												e.db.version +
												' to version ' +
												e.version +
												'.',
										),
									(e.version = e.db.version)),
								i || n)
							) {
								if (n) {
									var r = e.db.version + 1;
									r > e.version && (e.version = r);
								}
								return !0;
							}
							return !1;
						}
						function I(e) {
							return new c(function (t, n) {
								var o = new FileReader();
								(o.onerror = n),
									(o.onloadend = function (n) {
										var o = btoa(n.target.result || '');
										t({
											__local_forage_encoded_blob: !0,
											data: o,
											type: e.type,
										});
									}),
									o.readAsBinaryString(e);
							});
						}
						function M(e) {
							return l([w(atob(e.data))], {
								type: e.type,
							});
						}
						function A(e) {
							return e && e.__local_forage_encoded_blob;
						}
						function R(e) {
							var t = this,
								n = t._initReady().then(function () {
									var e = f[t._dbInfo.name];
									if (e && e.dbReady) return e.dbReady;
								});
							return u(n, e, e), n;
						}
						function O(e) {
							S(e);
							for (var t = f[e.name], n = t.forages, o = 0; o < n.length; o++) {
								var i = n[o];
								i._dbInfo.db && (i._dbInfo.db.close(), (i._dbInfo.db = null));
							}
							return (
								(e.db = null),
								$(e)
									.then(function (t) {
										return (e.db = t), L(e) ? k(e) : t;
									})
									.then(function (o) {
										e.db = t.db = o;
										for (var i = 0; i < n.length; i++) n[i]._dbInfo.db = o;
									})
									.catch(function (t) {
										throw (T(e, t), t);
									})
							);
						}
						function N(e, t, n, o) {
							void 0 === o && (o = 1);
							try {
								var i = e.db.transaction(e.storeName, t);
								n(null, i);
							} catch (i) {
								if (o > 0 && (!e.db || 'InvalidStateError' === i.name || 'NotFoundError' === i.name))
									return c
										.resolve()
										.then(function () {
											if (
												!e.db ||
												('NotFoundError' === i.name &&
													!e.db.objectStoreNames.contains(e.storeName) &&
													e.version <= e.db.version)
											)
												return e.db && (e.version = e.db.version + 1), k(e);
										})
										.then(function () {
											return O(e).then(function () {
												N(e, t, n, o - 1);
											});
										})
										.catch(n);
								n(i);
							}
						}
						function D() {
							return {
								forages: [],
								db: null,
								dbReady: null,
								deferredOperations: [],
							};
						}
						function P(e) {
							var t = this,
								n = {
									db: null,
								};
							if (e) for (var o in e) n[o] = e[o];
							var i = f[n.name];
							i || ((i = D()), (f[n.name] = i)),
								i.forages.push(t),
								t._initReady || ((t._initReady = t.ready), (t.ready = R));
							var r = [];
							function s() {
								return c.resolve();
							}
							for (var a = 0; a < i.forages.length; a++) {
								var l = i.forages[a];
								l !== t && r.push(l._initReady().catch(s));
							}
							var d = i.forages.slice(0);
							return c
								.all(r)
								.then(function () {
									return (n.db = i.db), $(n);
								})
								.then(function (e) {
									return (n.db = e), L(n, t._defaultConfig.version) ? k(n) : e;
								})
								.then(function (e) {
									(n.db = i.db = e), (t._dbInfo = n);
									for (var o = 0; o < d.length; o++) {
										var r = d[o];
										r !== t && ((r._dbInfo.db = n.db), (r._dbInfo.version = n.version));
									}
								});
						}
						function z(e, t) {
							var n = this;
							e = p(e);
							var o = new c(function (t, o) {
								n.ready()
									.then(function () {
										N(n._dbInfo, v, function (i, r) {
											if (i) return o(i);
											try {
												var s = r.objectStore(n._dbInfo.storeName).get(e);
												(s.onsuccess = function () {
													var e = s.result;
													void 0 === e && (e = null), A(e) && (e = M(e)), t(e);
												}),
													(s.onerror = function () {
														o(s.error);
													});
											} catch (e) {
												o(e);
											}
										});
									})
									.catch(o);
							});
							return d(o, t), o;
						}
						function U(e, t) {
							var n = this,
								o = new c(function (t, o) {
									n.ready()
										.then(function () {
											N(n._dbInfo, v, function (i, r) {
												if (i) return o(i);
												try {
													var s = r.objectStore(n._dbInfo.storeName).openCursor(),
														a = 1;
													(s.onsuccess = function () {
														var n = s.result;
														if (n) {
															var o = n.value;
															A(o) && (o = M(o));
															var i = e(o, n.key, a++);
															void 0 !== i ? t(i) : n.continue();
														} else t();
													}),
														(s.onerror = function () {
															o(s.error);
														});
												} catch (e) {
													o(e);
												}
											});
										})
										.catch(o);
								});
							return d(o, t), o;
						}
						function H(e, t, n) {
							var o = this;
							e = p(e);
							var i = new c(function (n, i) {
								var r;
								o.ready()
									.then(function () {
										return (
											(r = o._dbInfo),
											'[object Blob]' === _.call(t)
												? E(r.db).then(function (e) {
														return e ? t : I(t);
												  })
												: t
										);
									})
									.then(function (t) {
										N(o._dbInfo, y, function (r, s) {
											if (r) return i(r);
											try {
												var a = s.objectStore(o._dbInfo.storeName);
												null === t && (t = void 0);
												var l = a.put(t, e);
												(s.oncomplete = function () {
													void 0 === t && (t = null), n(t);
												}),
													(s.onabort = s.onerror =
														function () {
															var e = l.error ? l.error : l.transaction.error;
															i(e);
														});
											} catch (e) {
												i(e);
											}
										});
									})
									.catch(i);
							});
							return d(i, n), i;
						}
						function B(e, t) {
							var n = this;
							e = p(e);
							var o = new c(function (t, o) {
								n.ready()
									.then(function () {
										N(n._dbInfo, y, function (i, r) {
											if (i) return o(i);
											try {
												var s = r.objectStore(n._dbInfo.storeName).delete(e);
												(r.oncomplete = function () {
													t();
												}),
													(r.onerror = function () {
														o(s.error);
													}),
													(r.onabort = function () {
														var e = s.error ? s.error : s.transaction.error;
														o(e);
													});
											} catch (e) {
												o(e);
											}
										});
									})
									.catch(o);
							});
							return d(o, t), o;
						}
						function F(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											N(t._dbInfo, y, function (o, i) {
												if (o) return n(o);
												try {
													var r = i.objectStore(t._dbInfo.storeName).clear();
													(i.oncomplete = function () {
														e();
													}),
														(i.onabort = i.onerror =
															function () {
																var e = r.error ? r.error : r.transaction.error;
																n(e);
															});
												} catch (e) {
													n(e);
												}
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function W(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											N(t._dbInfo, v, function (o, i) {
												if (o) return n(o);
												try {
													var r = i.objectStore(t._dbInfo.storeName).count();
													(r.onsuccess = function () {
														e(r.result);
													}),
														(r.onerror = function () {
															n(r.error);
														});
												} catch (e) {
													n(e);
												}
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function j(e, t) {
							var n = this,
								o = new c(function (t, o) {
									e < 0
										? t(null)
										: n
												.ready()
												.then(function () {
													N(n._dbInfo, v, function (i, r) {
														if (i) return o(i);
														try {
															var s = r.objectStore(n._dbInfo.storeName),
																a = !1,
																l = s.openKeyCursor();
															(l.onsuccess = function () {
																var n = l.result;
																n ? (0 === e || a ? t(n.key) : ((a = !0), n.advance(e))) : t(null);
															}),
																(l.onerror = function () {
																	o(l.error);
																});
														} catch (e) {
															o(e);
														}
													});
												})
												.catch(o);
								});
							return d(o, t), o;
						}
						function q(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											N(t._dbInfo, v, function (o, i) {
												if (o) return n(o);
												try {
													var r = i.objectStore(t._dbInfo.storeName).openKeyCursor(),
														s = [];
													(r.onsuccess = function () {
														var t = r.result;
														t ? (s.push(t.key), t.continue()) : e(s);
													}),
														(r.onerror = function () {
															n(r.error);
														});
												} catch (e) {
													n(e);
												}
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function G(e, t) {
							t = m.apply(this, arguments);
							var n = this.config();
							(e = ('function' != typeof e && e) || {}).name ||
								((e.name = e.name || n.name), (e.storeName = e.storeName || n.storeName));
							var o,
								i = this;
							if (e.name) {
								var r =
									e.name === n.name && i._dbInfo.db
										? c.resolve(i._dbInfo.db)
										: $(e).then(function (t) {
												var n = f[e.name],
													o = n.forages;
												n.db = t;
												for (var i = 0; i < o.length; i++) o[i]._dbInfo.db = t;
												return t;
										  });
								o = e.storeName
									? r.then(function (t) {
											if (t.objectStoreNames.contains(e.storeName)) {
												var n = t.version + 1;
												S(e);
												var o = f[e.name],
													i = o.forages;
												t.close();
												for (var r = 0; r < i.length; r++) {
													var a = i[r];
													(a._dbInfo.db = null), (a._dbInfo.version = n);
												}
												var l = new c(function (t, o) {
													var i = s.open(e.name, n);
													(i.onerror = function (e) {
														i.result.close(), o(e);
													}),
														(i.onupgradeneeded = function () {
															i.result.deleteObjectStore(e.storeName);
														}),
														(i.onsuccess = function () {
															var e = i.result;
															e.close(), t(e);
														});
												});
												return l
													.then(function (e) {
														o.db = e;
														for (var t = 0; t < i.length; t++) {
															var n = i[t];
															(n._dbInfo.db = e), x(n._dbInfo);
														}
													})
													.catch(function (t) {
														throw ((T(e, t) || c.resolve()).catch(function () {}), t);
													});
											}
									  })
									: r.then(function (t) {
											S(e);
											var n = f[e.name],
												o = n.forages;
											t.close();
											for (var i = 0; i < o.length; i++) o[i]._dbInfo.db = null;
											var r = new c(function (t, n) {
												var o = s.deleteDatabase(e.name);
												(o.onerror = function () {
													var e = o.result;
													e && e.close(), n(o.error);
												}),
													(o.onblocked = function () {
														console.warn(
															'dropInstance blocked for database "' +
																e.name +
																'" until all open connections are closed',
														);
													}),
													(o.onsuccess = function () {
														var e = o.result;
														e && e.close(), t(e);
													});
											});
											return r
												.then(function (e) {
													n.db = e;
													for (var t = 0; t < o.length; t++) x(o[t]._dbInfo);
												})
												.catch(function (t) {
													throw ((T(e, t) || c.resolve()).catch(function () {}), t);
												});
									  });
							} else o = c.reject('Invalid arguments');
							return d(o, t), o;
						}
						var V = {
							_driver: 'asyncStorage',
							_initStorage: P,
							_support: a(),
							iterate: U,
							getItem: z,
							setItem: H,
							removeItem: B,
							clear: F,
							length: W,
							key: j,
							keys: q,
							dropInstance: G,
						};
						function Y() {
							return 'function' == typeof openDatabase;
						}
						var K = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',
							Z = '~~local_forage_type~',
							X = /^~~local_forage_type~([^~]+)~/,
							J = '__lfsc__:',
							Q = J.length,
							ee = 'arbf',
							te = 'blob',
							ne = 'si08',
							oe = 'ui08',
							ie = 'uic8',
							re = 'si16',
							se = 'si32',
							ae = 'ur16',
							le = 'ui32',
							ce = 'fl32',
							de = 'fl64',
							ue = Q + ee.length,
							pe = Object.prototype.toString;
						function me(e) {
							var t,
								n,
								o,
								i,
								r,
								s = 0.75 * e.length,
								a = e.length,
								l = 0;
							'=' === e[e.length - 1] && (s--, '=' === e[e.length - 2] && s--);
							var c = new ArrayBuffer(s),
								d = new Uint8Array(c);
							for (t = 0; t < a; t += 4)
								(n = K.indexOf(e[t])),
									(o = K.indexOf(e[t + 1])),
									(i = K.indexOf(e[t + 2])),
									(r = K.indexOf(e[t + 3])),
									(d[l++] = (n << 2) | (o >> 4)),
									(d[l++] = ((15 & o) << 4) | (i >> 2)),
									(d[l++] = ((3 & i) << 6) | (63 & r));
							return c;
						}
						function ge(e) {
							var t,
								n = new Uint8Array(e),
								o = '';
							for (t = 0; t < n.length; t += 3)
								(o += K[n[t] >> 2]),
									(o += K[((3 & n[t]) << 4) | (n[t + 1] >> 4)]),
									(o += K[((15 & n[t + 1]) << 2) | (n[t + 2] >> 6)]),
									(o += K[63 & n[t + 2]]);
							return (
								n.length % 3 == 2
									? (o = o.substring(0, o.length - 1) + '=')
									: n.length % 3 == 1 && (o = o.substring(0, o.length - 2) + '=='),
								o
							);
						}
						function he(e, t) {
							var n = '';
							if (
								(e && (n = pe.call(e)),
								e &&
									('[object ArrayBuffer]' === n ||
										(e.buffer && '[object ArrayBuffer]' === pe.call(e.buffer))))
							) {
								var o,
									i = J;
								e instanceof ArrayBuffer
									? ((o = e), (i += ee))
									: ((o = e.buffer),
									  '[object Int8Array]' === n
											? (i += ne)
											: '[object Uint8Array]' === n
											? (i += oe)
											: '[object Uint8ClampedArray]' === n
											? (i += ie)
											: '[object Int16Array]' === n
											? (i += re)
											: '[object Uint16Array]' === n
											? (i += ae)
											: '[object Int32Array]' === n
											? (i += se)
											: '[object Uint32Array]' === n
											? (i += le)
											: '[object Float32Array]' === n
											? (i += ce)
											: '[object Float64Array]' === n
											? (i += de)
											: t(new Error('Failed to get type for BinaryArray'))),
									t(i + ge(o));
							} else if ('[object Blob]' === n) {
								var r = new FileReader();
								(r.onload = function () {
									var n = Z + e.type + '~' + ge(this.result);
									t(J + te + n);
								}),
									r.readAsArrayBuffer(e);
							} else
								try {
									t(JSON.stringify(e));
								} catch (n) {
									console.error("Couldn't convert value into a JSON string: ", e), t(null, n);
								}
						}
						function fe(e) {
							if (e.substring(0, Q) !== J) return JSON.parse(e);
							var t,
								n = e.substring(ue),
								o = e.substring(Q, ue);
							if (o === te && X.test(n)) {
								var i = n.match(X);
								(t = i[1]), (n = n.substring(i[0].length));
							}
							var r = me(n);
							switch (o) {
								case ee:
									return r;
								case te:
									return l([r], {
										type: t,
									});
								case ne:
									return new Int8Array(r);
								case oe:
									return new Uint8Array(r);
								case ie:
									return new Uint8ClampedArray(r);
								case re:
									return new Int16Array(r);
								case ae:
									return new Uint16Array(r);
								case se:
									return new Int32Array(r);
								case le:
									return new Uint32Array(r);
								case ce:
									return new Float32Array(r);
								case de:
									return new Float64Array(r);
								default:
									throw new Error('Unkown type: ' + o);
							}
						}
						var _e = {
							serialize: he,
							deserialize: fe,
							stringToBuffer: me,
							bufferToString: ge,
						};
						function ve(e, t, n, o) {
							e.executeSql(
								'CREATE TABLE IF NOT EXISTS ' + t.storeName + ' (id INTEGER PRIMARY KEY, key unique, value)',
								[],
								n,
								o,
							);
						}
						function ye(e) {
							var t = this,
								n = {
									db: null,
								};
							if (e) for (var o in e) n[o] = 'string' != typeof e[o] ? e[o].toString() : e[o];
							var i = new c(function (e, o) {
								try {
									n.db = openDatabase(n.name, String(n.version), n.description, n.size);
								} catch (e) {
									return o(e);
								}
								n.db.transaction(function (i) {
									ve(
										i,
										n,
										function () {
											(t._dbInfo = n), e();
										},
										function (e, t) {
											o(t);
										},
									);
								}, o);
							});
							return (n.serializer = _e), i;
						}
						function we(e, t, n, o, i, r) {
							e.executeSql(
								n,
								o,
								i,
								function (e, s) {
									s.code === s.SYNTAX_ERR
										? e.executeSql(
												"SELECT name FROM sqlite_master WHERE type='table' AND name = ?",
												[t.storeName],
												function (e, a) {
													a.rows.length
														? r(e, s)
														: ve(
																e,
																t,
																function () {
																	e.executeSql(n, o, i, r);
																},
																r,
														  );
												},
												r,
										  )
										: r(e, s);
								},
								r,
							);
						}
						function be(e, t) {
							var n = this;
							e = p(e);
							var o = new c(function (t, o) {
								n.ready()
									.then(function () {
										var i = n._dbInfo;
										i.db.transaction(function (n) {
											we(
												n,
												i,
												'SELECT * FROM ' + i.storeName + ' WHERE key = ? LIMIT 1',
												[e],
												function (e, n) {
													var o = n.rows.length ? n.rows.item(0).value : null;
													o && (o = i.serializer.deserialize(o)), t(o);
												},
												function (e, t) {
													o(t);
												},
											);
										});
									})
									.catch(o);
							});
							return d(o, t), o;
						}
						function Ee(e, t) {
							var n = this,
								o = new c(function (t, o) {
									n.ready()
										.then(function () {
											var i = n._dbInfo;
											i.db.transaction(function (n) {
												we(
													n,
													i,
													'SELECT * FROM ' + i.storeName,
													[],
													function (n, o) {
														for (var r = o.rows, s = r.length, a = 0; a < s; a++) {
															var l = r.item(a),
																c = l.value;
															if (
																(c && (c = i.serializer.deserialize(c)), void 0 !== (c = e(c, l.key, a + 1)))
															)
																return void t(c);
														}
														t();
													},
													function (e, t) {
														o(t);
													},
												);
											});
										})
										.catch(o);
								});
							return d(o, t), o;
						}
						function Se(e, t, n, o) {
							var i = this;
							e = p(e);
							var r = new c(function (r, s) {
								i.ready()
									.then(function () {
										void 0 === t && (t = null);
										var a = t,
											l = i._dbInfo;
										l.serializer.serialize(t, function (t, c) {
											c
												? s(c)
												: l.db.transaction(
														function (n) {
															we(
																n,
																l,
																'INSERT OR REPLACE INTO ' + l.storeName + ' (key, value) VALUES (?, ?)',
																[e, t],
																function () {
																	r(a);
																},
																function (e, t) {
																	s(t);
																},
															);
														},
														function (t) {
															if (t.code === t.QUOTA_ERR) {
																if (o > 0) return void r(Se.apply(i, [e, a, n, o - 1]));
																s(t);
															}
														},
												  );
										});
									})
									.catch(s);
							});
							return d(r, n), r;
						}
						function xe(e, t, n) {
							return Se.apply(this, [e, t, n, 1]);
						}
						function Te(e, t) {
							var n = this;
							e = p(e);
							var o = new c(function (t, o) {
								n.ready()
									.then(function () {
										var i = n._dbInfo;
										i.db.transaction(function (n) {
											we(
												n,
												i,
												'DELETE FROM ' + i.storeName + ' WHERE key = ?',
												[e],
												function () {
													t();
												},
												function (e, t) {
													o(t);
												},
											);
										});
									})
									.catch(o);
							});
							return d(o, t), o;
						}
						function Ce(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											var o = t._dbInfo;
											o.db.transaction(function (t) {
												we(
													t,
													o,
													'DELETE FROM ' + o.storeName,
													[],
													function () {
														e();
													},
													function (e, t) {
														n(t);
													},
												);
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function $e(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											var o = t._dbInfo;
											o.db.transaction(function (t) {
												we(
													t,
													o,
													'SELECT COUNT(key) as c FROM ' + o.storeName,
													[],
													function (t, n) {
														var o = n.rows.item(0).c;
														e(o);
													},
													function (e, t) {
														n(t);
													},
												);
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function ke(e, t) {
							var n = this,
								o = new c(function (t, o) {
									n.ready()
										.then(function () {
											var i = n._dbInfo;
											i.db.transaction(function (n) {
												we(
													n,
													i,
													'SELECT key FROM ' + i.storeName + ' WHERE id = ? LIMIT 1',
													[e + 1],
													function (e, n) {
														var o = n.rows.length ? n.rows.item(0).key : null;
														t(o);
													},
													function (e, t) {
														o(t);
													},
												);
											});
										})
										.catch(o);
								});
							return d(o, t), o;
						}
						function Le(e) {
							var t = this,
								n = new c(function (e, n) {
									t.ready()
										.then(function () {
											var o = t._dbInfo;
											o.db.transaction(function (t) {
												we(
													t,
													o,
													'SELECT key FROM ' + o.storeName,
													[],
													function (t, n) {
														for (var o = [], i = 0; i < n.rows.length; i++) o.push(n.rows.item(i).key);
														e(o);
													},
													function (e, t) {
														n(t);
													},
												);
											});
										})
										.catch(n);
								});
							return d(n, e), n;
						}
						function Ie(e) {
							return new c(function (t, n) {
								e.transaction(
									function (o) {
										o.executeSql(
											"SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",
											[],
											function (n, o) {
												for (var i = [], r = 0; r < o.rows.length; r++) i.push(o.rows.item(r).name);
												t({
													db: e,
													storeNames: i,
												});
											},
											function (e, t) {
												n(t);
											},
										);
									},
									function (e) {
										n(e);
									},
								);
							});
						}
						function Me(e, t) {
							t = m.apply(this, arguments);
							var n = this.config();
							(e = ('function' != typeof e && e) || {}).name ||
								((e.name = e.name || n.name), (e.storeName = e.storeName || n.storeName));
							var o,
								i = this;
							return (
								(o = e.name
									? new c(function (t) {
											var o;
											(o = e.name === n.name ? i._dbInfo.db : openDatabase(e.name, '', '', 0)),
												e.storeName
													? t({
															db: o,
															storeNames: [e.storeName],
													  })
													: t(Ie(o));
									  }).then(function (e) {
											return new c(function (t, n) {
												e.db.transaction(
													function (o) {
														function i(e) {
															return new c(function (t, n) {
																o.executeSql(
																	'DROP TABLE IF EXISTS ' + e,
																	[],
																	function () {
																		t();
																	},
																	function (e, t) {
																		n(t);
																	},
																);
															});
														}
														for (var r = [], s = 0, a = e.storeNames.length; s < a; s++)
															r.push(i(e.storeNames[s]));
														c.all(r)
															.then(function () {
																t();
															})
															.catch(function (e) {
																n(e);
															});
													},
													function (e) {
														n(e);
													},
												);
											});
									  })
									: c.reject('Invalid arguments')),
								d(o, t),
								o
							);
						}
						var Ae = {
							_driver: 'webSQLStorage',
							_initStorage: ye,
							_support: Y(),
							iterate: Ee,
							getItem: be,
							setItem: xe,
							removeItem: Te,
							clear: Ce,
							length: $e,
							key: ke,
							keys: Le,
							dropInstance: Me,
						};
						function Re() {
							try {
								return (
									'undefined' != typeof localStorage && 'setItem' in localStorage && !!localStorage.setItem
								);
							} catch (e) {
								return !1;
							}
						}
						function Oe(e, t) {
							var n = e.name + '/';
							return e.storeName !== t.storeName && (n += e.storeName + '/'), n;
						}
						function Ne() {
							var e = '_localforage_support_test';
							try {
								return localStorage.setItem(e, !0), localStorage.removeItem(e), !1;
							} catch (e) {
								return !0;
							}
						}
						function De() {
							return !Ne() || localStorage.length > 0;
						}
						function Pe(e) {
							var t = this,
								n = {};
							if (e) for (var o in e) n[o] = e[o];
							return (
								(n.keyPrefix = Oe(e, t._defaultConfig)),
								De() ? ((t._dbInfo = n), (n.serializer = _e), c.resolve()) : c.reject()
							);
						}
						function ze(e) {
							var t = this,
								n = t.ready().then(function () {
									for (var e = t._dbInfo.keyPrefix, n = localStorage.length - 1; n >= 0; n--) {
										var o = localStorage.key(n);
										0 === o.indexOf(e) && localStorage.removeItem(o);
									}
								});
							return d(n, e), n;
						}
						function Ue(e, t) {
							var n = this;
							e = p(e);
							var o = n.ready().then(function () {
								var t = n._dbInfo,
									o = localStorage.getItem(t.keyPrefix + e);
								return o && (o = t.serializer.deserialize(o)), o;
							});
							return d(o, t), o;
						}
						function He(e, t) {
							var n = this,
								o = n.ready().then(function () {
									for (
										var t = n._dbInfo, o = t.keyPrefix, i = o.length, r = localStorage.length, s = 1, a = 0;
										a < r;
										a++
									) {
										var l = localStorage.key(a);
										if (0 === l.indexOf(o)) {
											var c = localStorage.getItem(l);
											if (
												(c && (c = t.serializer.deserialize(c)), void 0 !== (c = e(c, l.substring(i), s++)))
											)
												return c;
										}
									}
								});
							return d(o, t), o;
						}
						function Be(e, t) {
							var n = this,
								o = n.ready().then(function () {
									var t,
										o = n._dbInfo;
									try {
										t = localStorage.key(e);
									} catch (e) {
										t = null;
									}
									return t && (t = t.substring(o.keyPrefix.length)), t;
								});
							return d(o, t), o;
						}
						function Fe(e) {
							var t = this,
								n = t.ready().then(function () {
									for (var e = t._dbInfo, n = localStorage.length, o = [], i = 0; i < n; i++) {
										var r = localStorage.key(i);
										0 === r.indexOf(e.keyPrefix) && o.push(r.substring(e.keyPrefix.length));
									}
									return o;
								});
							return d(n, e), n;
						}
						function We(e) {
							var t = this.keys().then(function (e) {
								return e.length;
							});
							return d(t, e), t;
						}
						function je(e, t) {
							var n = this;
							e = p(e);
							var o = n.ready().then(function () {
								var t = n._dbInfo;
								localStorage.removeItem(t.keyPrefix + e);
							});
							return d(o, t), o;
						}
						function qe(e, t, n) {
							var o = this;
							e = p(e);
							var i = o.ready().then(function () {
								void 0 === t && (t = null);
								var n = t;
								return new c(function (i, r) {
									var s = o._dbInfo;
									s.serializer.serialize(t, function (t, o) {
										if (o) r(o);
										else
											try {
												localStorage.setItem(s.keyPrefix + e, t), i(n);
											} catch (e) {
												('QuotaExceededError' !== e.name && 'NS_ERROR_DOM_QUOTA_REACHED' !== e.name) || r(e),
													r(e);
											}
									});
								});
							});
							return d(i, n), i;
						}
						function Ge(e, t) {
							if (((t = m.apply(this, arguments)), !(e = ('function' != typeof e && e) || {}).name)) {
								var n = this.config();
								(e.name = e.name || n.name), (e.storeName = e.storeName || n.storeName);
							}
							var o,
								i = this;
							return (
								(o = e.name
									? new c(function (t) {
											e.storeName ? t(Oe(e, i._defaultConfig)) : t(e.name + '/');
									  }).then(function (e) {
											for (var t = localStorage.length - 1; t >= 0; t--) {
												var n = localStorage.key(t);
												0 === n.indexOf(e) && localStorage.removeItem(n);
											}
									  })
									: c.reject('Invalid arguments')),
								d(o, t),
								o
							);
						}
						var Ve = {
								_driver: 'localStorageWrapper',
								_initStorage: Pe,
								_support: Re(),
								iterate: He,
								getItem: Ue,
								setItem: qe,
								removeItem: je,
								clear: ze,
								length: We,
								key: Be,
								keys: Fe,
								dropInstance: Ge,
							},
							Ye = function (e, t) {
								return e === t || ('number' == typeof e && 'number' == typeof t && isNaN(e) && isNaN(t));
							},
							Ke = function (e, t) {
								for (var n = e.length, o = 0; o < n; ) {
									if (Ye(e[o], t)) return !0;
									o++;
								}
								return !1;
							},
							Ze =
								Array.isArray ||
								function (e) {
									return '[object Array]' === Object.prototype.toString.call(e);
								},
							Xe = {},
							Je = {},
							Qe = {
								INDEXEDDB: V,
								WEBSQL: Ae,
								LOCALSTORAGE: Ve,
							},
							et = [Qe.INDEXEDDB._driver, Qe.WEBSQL._driver, Qe.LOCALSTORAGE._driver],
							tt = ['dropInstance'],
							nt = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(
								tt,
							),
							ot = {
								description: '',
								driver: et.slice(),
								name: 'localforage',
								size: 4980736,
								storeName: 'keyvaluepairs',
								version: 1,
							};
						function it(e, t) {
							e[t] = function () {
								var n = arguments;
								return e.ready().then(function () {
									return e[t].apply(e, n);
								});
							};
						}
						function rt() {
							for (var e = 1; e < arguments.length; e++) {
								var t = arguments[e];
								if (t)
									for (var n in t)
										t.hasOwnProperty(n) &&
											(Ze(t[n]) ? (arguments[0][n] = t[n].slice()) : (arguments[0][n] = t[n]));
							}
							return arguments[0];
						}
						var st = (function () {
								function e(t) {
									for (var n in (i(this, e), Qe))
										if (Qe.hasOwnProperty(n)) {
											var o = Qe[n],
												r = o._driver;
											(this[n] = r), Xe[r] || this.defineDriver(o);
										}
									(this._defaultConfig = rt({}, ot)),
										(this._config = rt({}, this._defaultConfig, t)),
										(this._driverSet = null),
										(this._initDriver = null),
										(this._ready = !1),
										(this._dbInfo = null),
										this._wrapLibraryMethodsWithReady(),
										this.setDriver(this._config.driver).catch(function () {});
								}
								return (
									(e.prototype.config = function (e) {
										if ('object' === (void 0 === e ? 'undefined' : o(e))) {
											if (this._ready)
												return new Error("Can't call config() after localforage has been used.");
											for (var t in e) {
												if (
													('storeName' === t && (e[t] = e[t].replace(/\W/g, '_')),
													'version' === t && 'number' != typeof e[t])
												)
													return new Error('Database version must be a number.');
												this._config[t] = e[t];
											}
											return !('driver' in e) || !e.driver || this.setDriver(this._config.driver);
										}
										return 'string' == typeof e ? this._config[e] : this._config;
									}),
									(e.prototype.defineDriver = function (e, t, n) {
										var o = new c(function (t, n) {
											try {
												var o = e._driver,
													i = new Error(
														'Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver',
													);
												if (!e._driver) return void n(i);
												for (var r = nt.concat('_initStorage'), s = 0, a = r.length; s < a; s++) {
													var l = r[s];
													if ((!Ke(tt, l) || e[l]) && 'function' != typeof e[l]) return void n(i);
												}
												var u = function () {
													for (
														var t = function (e) {
																return function () {
																	var t = new Error(
																			'Method ' + e + ' is not implemented by the current driver',
																		),
																		n = c.reject(t);
																	return d(n, arguments[arguments.length - 1]), n;
																};
															},
															n = 0,
															o = tt.length;
														n < o;
														n++
													) {
														var i = tt[n];
														e[i] || (e[i] = t(i));
													}
												};
												u();
												var p = function (n) {
													Xe[o] && console.info('Redefining LocalForage driver: ' + o),
														(Xe[o] = e),
														(Je[o] = n),
														t();
												};
												'_support' in e
													? e._support && 'function' == typeof e._support
														? e._support().then(p, n)
														: p(!!e._support)
													: p(!0);
											} catch (e) {
												n(e);
											}
										});
										return u(o, t, n), o;
									}),
									(e.prototype.driver = function () {
										return this._driver || null;
									}),
									(e.prototype.getDriver = function (e, t, n) {
										var o = Xe[e] ? c.resolve(Xe[e]) : c.reject(new Error('Driver not found.'));
										return u(o, t, n), o;
									}),
									(e.prototype.getSerializer = function (e) {
										var t = c.resolve(_e);
										return u(t, e), t;
									}),
									(e.prototype.ready = function (e) {
										var t = this,
											n = t._driverSet.then(function () {
												return null === t._ready && (t._ready = t._initDriver()), t._ready;
											});
										return u(n, e, e), n;
									}),
									(e.prototype.setDriver = function (e, t, n) {
										var o = this;
										Ze(e) || (e = [e]);
										var i = this._getSupportedDrivers(e);
										function r() {
											o._config.driver = o.driver();
										}
										function s(e) {
											return o._extend(e), r(), (o._ready = o._initStorage(o._config)), o._ready;
										}
										function a(e) {
											return function () {
												var t = 0;
												function n() {
													for (; t < e.length; ) {
														var i = e[t];
														return (
															t++, (o._dbInfo = null), (o._ready = null), o.getDriver(i).then(s).catch(n)
														);
													}
													r();
													var a = new Error('No available storage method found.');
													return (o._driverSet = c.reject(a)), o._driverSet;
												}
												return n();
											};
										}
										var l =
											null !== this._driverSet
												? this._driverSet.catch(function () {
														return c.resolve();
												  })
												: c.resolve();
										return (
											(this._driverSet = l
												.then(function () {
													var e = i[0];
													return (
														(o._dbInfo = null),
														(o._ready = null),
														o.getDriver(e).then(function (e) {
															(o._driver = e._driver),
																r(),
																o._wrapLibraryMethodsWithReady(),
																(o._initDriver = a(i));
														})
													);
												})
												.catch(function () {
													r();
													var e = new Error('No available storage method found.');
													return (o._driverSet = c.reject(e)), o._driverSet;
												})),
											u(this._driverSet, t, n),
											this._driverSet
										);
									}),
									(e.prototype.supports = function (e) {
										return !!Je[e];
									}),
									(e.prototype._extend = function (e) {
										rt(this, e);
									}),
									(e.prototype._getSupportedDrivers = function (e) {
										for (var t = [], n = 0, o = e.length; n < o; n++) {
											var i = e[n];
											this.supports(i) && t.push(i);
										}
										return t;
									}),
									(e.prototype._wrapLibraryMethodsWithReady = function () {
										for (var e = 0, t = nt.length; e < t; e++) it(this, nt[e]);
									}),
									(e.prototype.createInstance = function (t) {
										return new e(t);
									}),
									e
								);
							})(),
							at = new st();
						t.exports = at;
					},
					{
						3: 3,
					},
				],
			},
			{},
			[4],
		)(4);
	})(mm);
	const gm = Tn;
	class hm {
		static __initStatic() {
			this.id = 'Offline';
		}
		constructor(e = {}) {
			(this.name = hm.id),
				(this.maxStoredEvents = e.maxStoredEvents || 30),
				(this.offlineEventStore = mm.exports.createInstance({
					name: 'sentry/offlineEventStore',
				}));
		}
		setupOnce(e, t) {
			(this.hub = t()),
				'addEventListener' in gm &&
					gm.addEventListener('online', () => {
						this._sendEvents().catch(() => {
							rm && Pn.warn('could not send cached events');
						});
					});
			const n = (e) =>
				this.hub &&
				this.hub.getIntegration(hm) &&
				'navigator' in gm &&
				'onLine' in gm.navigator &&
				!gm.navigator.onLine
					? (rm && Pn.log('Event dropped due to being a offline - caching instead'),
					  this._cacheEvent(e)
							.then((e) => this._enforceMaxEvents())
							.catch((e) => {
								rm && Pn.warn('could not cache event while offline');
							}),
					  null)
					: e;
			(n.id = this.name),
				e(n),
				'navigator' in gm &&
					'onLine' in gm.navigator &&
					gm.navigator.onLine &&
					this._sendEvents().catch(() => {
						rm && Pn.warn('could not send cached events');
					});
		}
		async _cacheEvent(e) {
			return this.offlineEventStore.setItem(uo(), Zo(e));
		}
		async _enforceMaxEvents() {
			const e = [];
			return this.offlineEventStore
				.iterate((t, n, o) => {
					e.push({
						cacheKey: n,
						event: t,
					});
				})
				.then(() =>
					this._purgeEvents(
						e
							.sort((e, t) => (t.event.timestamp || 0) - (e.event.timestamp || 0))
							.slice(this.maxStoredEvents < e.length ? this.maxStoredEvents : e.length)
							.map((e) => e.cacheKey),
					),
				)
				.catch((e) => {
					rm && Pn.warn('could not enforce max events');
				});
		}
		async _purgeEvent(e) {
			return this.offlineEventStore.removeItem(e);
		}
		async _purgeEvents(e) {
			return Promise.all(e.map((e) => this._purgeEvent(e))).then();
		}
		async _sendEvents() {
			return this.offlineEventStore.iterate((e, t, n) => {
				this.hub
					? (this.hub.captureEvent(e),
					  this._purgeEvent(t).catch((e) => {
							rm && Pn.warn('could not purge event from cache');
					  }))
					: rm && Pn.warn('no hub found - could not send cached event');
			});
		}
	}
	hm.__initStatic();
	const fm = Tn,
		_m = 'ReportingObserver',
		vm = new WeakMap(),
		ym = (e = {}) => {
			const t = e.types || ['crash', 'deprecation', 'intervention'];
			function n(e) {
				if (vm.has(rr()))
					for (const t of e)
						ir((e) => {
							e.setExtra('url', t.url);
							const n = `ReportingObserver [${t.type}]`;
							let o = 'No details available';
							if (t.body) {
								const n = {};
								for (const e in t.body) n[e] = t.body[e];
								if ((e.setExtra('body', n), 'crash' === t.type)) {
									const e = t.body;
									o = [e.crashId || '', e.reason || ''].join(' ').trim() || o;
								} else {
									o = t.body.message || o;
								}
							}
							tr(`${n}: ${o}`);
						});
			}
			return {
				name: _m,
				setupOnce() {
					if (!('ReportingObserver' in Co)) return;
					new fm.ReportingObserver(n, {
						buffered: !0,
						types: t,
					}).observe();
				},
				setup(e) {
					vm.set(e, !0);
				},
			};
		};
	Hr(_m, ym);
	const wm = 'RewriteFrames',
		bm = (e = {}) => {
			const t = e.root,
				n = e.prefix || 'app:///',
				o =
					e.iteratee ||
					((e) => {
						if (!e.filename) return e;
						const o =
								/^[a-zA-Z]:\\/.test(e.filename) || (e.filename.includes('\\') && !e.filename.includes('/')),
							i = /^\//.test(e.filename);
						if (o || i) {
							const i = o ? e.filename.replace(/^[a-zA-Z]:/, '').replace(/\\/g, '/') : e.filename,
								r = t
									? (function (e, t) {
											(e = ei(e).slice(1)), (t = ei(t).slice(1));
											const n = ti(e.split('/')),
												o = ti(t.split('/')),
												i = Math.min(n.length, o.length);
											let r = i;
											for (let e = 0; e < i; e++)
												if (n[e] !== o[e]) {
													r = e;
													break;
												}
											let s = [];
											for (let e = r; e < n.length; e++) s.push('..');
											return (s = s.concat(o.slice(r))), s.join('/');
									  })(t, i)
									: ni(i);
							e.filename = `${n}${r}`;
						}
						return e;
					});
			return {
				name: wm,
				setupOnce() {},
				processEvent(e) {
					let t = e;
					return (
						e.exception &&
							Array.isArray(e.exception.values) &&
							(t = (function (e) {
								try {
									return {
										...e,
										exception: {
											...e.exception,
											values: e.exception.values.map((e) => {
												return {
													...e,
													...(e.stacktrace && {
														stacktrace:
															((t = e.stacktrace),
															{
																...t,
																frames: t && t.frames && t.frames.map((e) => o(e)),
															}),
													}),
												};
												var t;
											}),
										},
									};
								} catch (t) {
									return e;
								}
							})(t)),
						t
					);
				},
			};
		};
	Hr(wm, bm);
	const Em = 'SessionTiming',
		Sm = () => {
			const e = Date.now();
			return {
				name: Em,
				setupOnce() {},
				processEvent(t) {
					const n = Date.now();
					return {
						...t,
						extra: {
							...t.extra,
							'session:start': e,
							'session:duration': n - e,
							'session:end': n,
						},
					};
				},
			};
		};
	Hr(Em, Sm);
	const xm = 'Transaction';
	function Tm(e) {
		return e.module || e.function ? `${e.module || '?'}/${e.function || '?'}` : '<unknown>';
	}
	Hr(xm, () => ({
		name: xm,
		setupOnce() {},
		processEvent(e) {
			const t = (function (e) {
				const t = e.exception && e.exception.values && e.exception.values[0];
				return (t && t.stacktrace && t.stacktrace.frames) || [];
			})(e);
			for (let n = t.length - 1; n >= 0; n--) {
				const o = t[n];
				if (!0 === o.in_app) {
					e.transaction = Tm(o);
					break;
				}
			}
			return e;
		},
	}));
	const Cm = 'HttpClient',
		$m = (e = {}) => {
			const t = {
				failedRequestStatusCodes: [[500, 599]],
				failedRequestTargets: [/.*/],
				...e,
			};
			return {
				name: Cm,
				setupOnce() {},
				setup(e) {
					!(function (e, t) {
						if (!ko()) return;
						Lo((n) => {
							if (rr() !== e) return;
							const { response: o, args: i } = n,
								[r, s] = i;
							o &&
								(function (e, t, n, o) {
									if (Im(e, n.status, n.url)) {
										const e = (function (e, t) {
											if (!t && e instanceof Request) return e;
											if (e instanceof Request && e.bodyUsed) return e;
											return new Request(e, t);
										})(t, o);
										let i, r, s, a;
										Am() &&
											([{ headers: i, cookies: s }, { headers: r, cookies: a }] = [
												{
													cookieHeader: 'Cookie',
													obj: e,
												},
												{
													cookieHeader: 'Set-Cookie',
													obj: n,
												},
											].map(({ cookieHeader: e, obj: t }) => {
												const n = (function (e) {
													const t = {};
													return (
														e.forEach((e, n) => {
															t[n] = e;
														}),
														t
													);
												})(t.headers);
												let o;
												try {
													const t = n[e] || n[e.toLowerCase()] || void 0;
													t && (o = Lm(t));
												} catch (t) {
													rm && Pn.log(`Could not extract cookies from header ${e}`);
												}
												return {
													headers: n,
													cookies: o,
												};
											}));
										nr(
											Mm({
												url: e.url,
												method: e.method,
												status: n.status,
												requestHeaders: i,
												responseHeaders: r,
												requestCookies: s,
												responseCookies: a,
											}),
										);
									}
								})(t, r, o, s);
						});
					})(e, t),
						(function (e, t) {
							if (!('XMLHttpRequest' in Tn)) return;
							jo((n) => {
								if (rr() !== e) return;
								const o = n.xhr,
									i = o[Wo];
								if (!i) return;
								const { method: r, request_headers: s } = i;
								try {
									!(function (e, t, n, o) {
										if (Im(e, t.status, t.responseURL)) {
											let e, i, r;
											if (Am()) {
												try {
													const e =
														t.getResponseHeader('Set-Cookie') || t.getResponseHeader('set-cookie') || void 0;
													e && (i = Lm(e));
												} catch (e) {
													rm && Pn.log('Could not extract cookies from response headers');
												}
												try {
													r = (function (e) {
														const t = e.getAllResponseHeaders();
														if (!t) return {};
														return t.split('\r\n').reduce((e, t) => {
															const [n, o] = t.split(': ');
															return (e[n] = o), e;
														}, {});
													})(t);
												} catch (e) {
													rm && Pn.log('Could not extract headers from response');
												}
												e = o;
											}
											nr(
												Mm({
													url: t.responseURL,
													method: n,
													status: t.status,
													requestHeaders: e,
													responseHeaders: r,
													responseCookies: i,
												}),
											);
										}
									})(t, o, r, s);
								} catch (e) {
									rm && Pn.warn('Error while extracting response event form XHR response', e);
								}
							});
						})(e, t);
				},
			};
		};
	function km(e) {
		if (e) {
			const t = e['Content-Length'] || e['content-length'];
			if (t) return parseInt(t, 10);
		}
	}
	function Lm(e) {
		return e.split('; ').reduce((e, t) => {
			const [n, o] = t.split('=');
			return (e[n] = o), e;
		}, {});
	}
	function Im(e, t, n) {
		return (
			(function (e, t) {
				return e.some((e) => ('number' == typeof e ? e === t : t >= e[0] && t <= e[1]));
			})(e.failedRequestStatusCodes, t) &&
			((o = e.failedRequestTargets),
			(i = n),
			o.some((e) => ('string' == typeof e ? i.includes(e) : e.test(i)))) &&
			!Jr(n, rr())
		);
		var o, i;
	}
	function Mm(e) {
		const t = `HTTP Client Error with status code: ${e.status}`,
			n = {
				message: t,
				exception: {
					values: [
						{
							type: 'Error',
							value: t,
						},
					],
				},
				request: {
					url: e.url,
					method: e.method,
					headers: e.requestHeaders,
					cookies: e.requestCookies,
				},
				contexts: {
					response: {
						status_code: e.status,
						headers: e.responseHeaders,
						cookies: e.responseCookies,
						body_size: km(e.responseHeaders),
					},
				},
			};
		return (
			ho(n, {
				type: 'http.client',
				handled: !1,
			}),
			n
		);
	}
	function Am() {
		const e = rr();
		return !!e && Boolean(e.getOptions().sendDefaultPii);
	}
	Hr(Cm, $m);
	const Rm = Tn,
		Om = 'ContextLines',
		Nm = (e = {}) => {
			const t = null != e.frameContextLines ? e.frameContextLines : 7;
			return {
				name: Om,
				setupOnce() {},
				processEvent: (e) =>
					(function (e, t) {
						const n = Rm.document,
							o = Rm.location && ci(Rm.location.href);
						if (!n || !o) return e;
						const i = e.exception && e.exception.values;
						if (!i || !i.length) return e;
						const r = n.documentElement.innerHTML;
						if (!r) return e;
						const s = ['<!DOCTYPE html>', '<html>', ...r.split('\n'), '</html>'];
						return (
							i.forEach((e) => {
								const n = e.stacktrace;
								n &&
									n.frames &&
									(n.frames = n.frames.map((e) =>
										(function (e, t, n, o) {
											if (e.filename !== n || !e.lineno || !t.length) return e;
											return (
												(function (e, t, n = 5) {
													if (void 0 === t.lineno) return;
													const o = e.length,
														i = Math.max(Math.min(o - 1, t.lineno - 1), 0);
													(t.pre_context = e.slice(Math.max(0, i - n), i).map((e) => _n(e, 0))),
														(t.context_line = _n(e[Math.min(o - 1, i)], t.colno || 0)),
														(t.post_context = e.slice(Math.min(i + 1, o), i + 1 + n).map((e) => _n(e, 0)));
												})(t, e, o),
												e
											);
										})(e, s, o, t),
									));
							}),
							e
						);
					})(e, t),
			};
		};
	Hr(Om, Nm);
	const Dm = 1e6,
		Pm = String(0),
		zm = 'main';
	let Um = '',
		Hm = '',
		Bm = '',
		Fm = (ea.navigator && ea.navigator.userAgent) || '',
		Wm = '';
	const jm =
		(ea.navigator && ea.navigator.language) ||
		(ea.navigator && ea.navigator.languages && ea.navigator.languages[0]) ||
		'';
	const qm = ea.navigator && ea.navigator.userAgentData;
	var Gm;
	function Vm(e) {
		return (function (e) {
			return !('thread_metadata' in e);
		})(e)
			? (function (e) {
					let t,
						n = 0;
					const o = {
						samples: [],
						stacks: [],
						frames: [],
						thread_metadata: {
							[Pm]: {
								name: zm,
							},
						},
					};
					if (!e.samples.length) return o;
					const i = e.samples[0].timestamp,
						r = 'number' == typeof performance.timeOrigin ? performance.timeOrigin : Ei || 0,
						s = r - (Ei || r);
					for (let r = 0; r < e.samples.length; r++) {
						const a = e.samples[r];
						if (void 0 === a.stackId) {
							void 0 === t && ((t = n), (o.stacks[t] = []), n++),
								(o.samples[r] = {
									elapsed_since_start_ns: ((a.timestamp + s - i) * Dm).toFixed(0),
									stack_id: t,
									thread_id: Pm,
								});
							continue;
						}
						let l = e.stacks[a.stackId];
						const c = [];
						for (; l; ) {
							c.push(l.frameId);
							const t = e.frames[l.frameId];
							void 0 === o.frames[l.frameId] &&
								(o.frames[l.frameId] = {
									function: t.name,
									abs_path: 'number' == typeof t.resourceId ? e.resources[t.resourceId] : void 0,
									lineno: t.line,
									colno: t.column,
								}),
								(l = void 0 === l.parentId ? void 0 : e.stacks[l.parentId]);
						}
						const d = {
							elapsed_since_start_ns: ((a.timestamp + s - i) * Dm).toFixed(0),
							stack_id: n,
							thread_id: Pm,
						};
						(o.stacks[n] = c), (o.samples[r] = d), n++;
					}
					return o;
			  })(e)
			: e;
	}
	function Ym(e, t, n, o) {
		if ('transaction' !== o.type)
			throw new TypeError('Profiling events may only be attached to transactions, this should never occur.');
		if (null == n)
			throw new TypeError(
				`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`,
			);
		const i = (function (e) {
				const t = e && e.contexts && e.contexts.trace && e.contexts.trace.trace_id;
				return (
					'string' == typeof t &&
						32 !== t.length &&
						ia &&
						Pn.log(`[Profiling] Invalid traceId: ${t} on profiled event`),
					'string' != typeof t ? '' : t
				);
			})(o),
			r = Vm(n),
			s = t || ('number' == typeof o.start_timestamp ? 1e3 * o.start_timestamp : Date.now()),
			a = 'number' == typeof o.timestamp ? 1e3 * o.timestamp : Date.now();
		return {
			event_id: e,
			timestamp: new Date(s).toISOString(),
			platform: 'javascript',
			version: '1',
			release: o.release || '',
			environment: o.environment || Ui,
			runtime: {
				name: 'javascript',
				version: ea.navigator.userAgent,
			},
			os: {
				name: Um,
				version: Hm,
				build_number: Fm,
			},
			device: {
				locale: jm,
				model: Wm,
				manufacturer: Fm,
				architecture: Bm,
				is_emulator: !1,
			},
			debug_meta: {
				images: Xm(n.resources),
			},
			profile: r,
			transactions: [
				{
					name: o.transaction || '',
					id: o.event_id || uo(),
					trace_id: i,
					active_thread_id: Pm,
					relative_start_ns: '0',
					relative_end_ns: (1e6 * (a - s)).toFixed(0),
				},
			],
		};
	}
	function Km(e) {
		return 'pageload' === e.op;
	}
	'object' == typeof (Gm = qm) &&
		null !== Gm &&
		'getHighEntropyValues' in Gm &&
		qm
			.getHighEntropyValues(['architecture', 'model', 'platform', 'platformVersion', 'fullVersionList'])
			.then((e) => {
				if (
					((Um = e.platform || ''),
					(Bm = e.architecture || ''),
					(Wm = e.model || ''),
					(Hm = e.platformVersion || ''),
					e.fullVersionList && e.fullVersionList.length > 0)
				) {
					const t = e.fullVersionList[e.fullVersionList.length - 1];
					Fm = `${t.brand} ${t.version}`;
				}
			})
			.catch((e) => {});
	const Zm = new WeakMap();
	function Xm(e) {
		const t = Tn._sentryDebugIds;
		if (!t) return [];
		const n = rr(),
			o = n && n.getOptions(),
			i = o && o.stackParser;
		if (!i) return [];
		let r;
		const s = Zm.get(i);
		s ? (r = s) : ((r = new Map()), Zm.set(i, r));
		const a = Object.keys(t).reduce((e, n) => {
				let o;
				const s = r.get(n);
				s ? (o = s) : ((o = i(n)), r.set(n, o));
				for (let i = o.length - 1; i >= 0; i--) {
					const r = o[i],
						s = r && r.filename;
					if (r && s) {
						e[s] = t[n];
						break;
					}
				}
				return e;
			}, {}),
			l = [];
		for (const t of e)
			t &&
				a[t] &&
				l.push({
					type: 'sourcemap',
					code_file: t,
					debug_id: a[t],
				});
		return l;
	}
	let Jm = !1;
	const Qm = 3e4;
	function eg(e) {
		if (Jm)
			return (
				ia && Pn.log('[Profiling] Profiling has been disabled for the duration of the current user session.'),
				!1
			);
		if (!e.isRecording())
			return ia && Pn.log('[Profiling] Discarding profile because transaction was not sampled.'), !1;
		const t = rr(),
			n = t && t.getOptions();
		if (!n) return ia && Pn.log('[Profiling] Profiling disabled, no options found.'), !1;
		const o = n.profilesSampleRate;
		if (
			!(('number' != typeof (i = o) && 'boolean' != typeof i) || ('number' == typeof i && isNaN(i))
				? (ia &&
						Pn.warn(
							`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(
								i,
							)} of type ${JSON.stringify(typeof i)}.`,
						),
				  0)
				: !0 === i ||
				  !1 === i ||
				  !(i < 0 || i > 1) ||
				  (ia && Pn.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${i}.`),
				  0))
		)
			return ia && Pn.warn('[Profiling] Discarding profile because of invalid sample rate.'), !1;
		var i;
		if (!o)
			return (
				ia &&
					Pn.log(
						'[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0',
					),
				!1
			);
		return (
			!!(!0 === o || Math.random() < o) ||
			(ia &&
				Pn.log(
					`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(
						o,
					)})`,
				),
			!1)
		);
	}
	function tg(e, t, n, o) {
		return (function (e) {
			return e.samples.length < 2
				? (ia && Pn.log('[Profiling] Discarding profile because it contains less than 2 samples'), !1)
				: !!e.frames.length ||
						(ia && Pn.log('[Profiling] Discarding profile because it contains no frames'), !1);
		})(n)
			? Ym(e, t, n, o)
			: null;
	}
	const ng = new Map();
	function og(e) {
		const t = ng.get(e);
		return t && ng.delete(e), t;
	}
	function ig(e) {
		let t;
		Km(e) && (t = 1e3 * bi());
		const n = (function () {
			const e = ea.Profiler;
			if ('function' != typeof e)
				return void (
					ia &&
					Pn.log(
						'[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.',
					)
				);
			const t = Math.floor(Qm / 10);
			try {
				return new e({
					sampleInterval: 10,
					maxBufferSize: t,
				});
			} catch (e) {
				ia &&
					(Pn.log(
						"[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header.",
					),
					Pn.log('[Profiling] Disabling profiling for current user session.')),
					(Jm = !0);
			}
		})();
		if (!n) return e;
		ia && Pn.log(`[Profiling] started profiling transaction: ${Yi(e).description}`);
		const o = uo();
		async function i() {
			return e && n
				? n
						.stop()
						.then(
							(t) => (
								r && (ea.clearTimeout(r), (r = void 0)),
								ia && Pn.log(`[Profiling] stopped profiling of transaction: ${Yi(e).description}`),
								t
									? ((function (e, t) {
											if ((ng.set(e, t), ng.size > 30)) {
												const e = ng.keys().next().value;
												ng.delete(e);
											}
									  })(o, t),
									  null)
									: (ia &&
											Pn.log(
												`[Profiling] profiler returned null profile for: ${Yi(e).description}`,
												'this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started',
											),
									  null)
							),
						)
						.catch((e) => (ia && Pn.log('[Profiling] error while stopping profiler:', e), null))
				: null;
		}
		let r = ea.setTimeout(() => {
			ia && Pn.log('[Profiling] max profile duration elapsed, stopping profiling for:', Yi(e).description),
				i();
		}, Qm);
		const s = e.end.bind(e);
		return (
			(e.end = function () {
				return e
					? (i().then(
							() => {
								e.setContext('profile', {
									profile_id: o,
									start_timestamp: t,
								}),
									s();
							},
							() => {
								s();
							},
					  ),
					  e)
					: s();
			}),
			e
		);
	}
	const rg = 'BrowserProfiling',
		sg = () => ({
			name: rg,
			setupOnce() {},
			setup(e) {
				const t = sr().getTransaction();
				t && Km(t) && eg(t) && ig(t),
					'function' == typeof e.on
						? (e.on('startTransaction', (e) => {
								eg(e) && ig(e);
						  }),
						  e.on('beforeEnvelope', (e) => {
								if (!ng.size) return;
								const t = (function (e) {
									const t = [];
									return (
										Ti(e, (e, n) => {
											if ('transaction' === n)
												for (let n = 1; n < e.length; n++) {
													const o = e[n];
													o &&
														o.contexts &&
														o.contexts.profile &&
														o.contexts.profile.profile_id &&
														t.push(e[n]);
												}
										}),
										t
									);
								})(e);
								if (!t.length) return;
								const n = [];
								for (const e of t) {
									const t = e && e.contexts,
										o = t && t.profile && t.profile.profile_id,
										i = t && t.profile && t.profile.start_timestamp;
									if ('string' != typeof o) {
										ia &&
											Pn.log('[Profiling] cannot find profile for a transaction without a profile context');
										continue;
									}
									if (!o) {
										ia &&
											Pn.log('[Profiling] cannot find profile for a transaction without a profile context');
										continue;
									}
									t && t.profile && delete t.profile;
									const r = og(o);
									if (!r) {
										ia && Pn.log(`[Profiling] Could not retrieve profile for transaction: ${o}`);
										continue;
									}
									const s = tg(o, i, r, e);
									s && n.push(s);
								}
								!(function (e, t) {
									if (!t.length) return e;
									for (const n of t)
										e[1].push([
											{
												type: 'profile',
											},
											n,
										]);
								})(e, n);
						  }))
						: Pn.warn('[Profiling] Client does not support hooks, profiling will be disabled');
			},
		});
	Hr(rg, sg);
	let ag = {};
	function lg() {}
	ea.Sentry && ea.Sentry.Integrations && (ag = ea.Sentry.Integrations);
	const cg = (e) => e;
	function dg(e) {
		return e();
	}
	function ug() {
		return Object.create(null);
	}
	function pg(e) {
		e.forEach(dg);
	}
	function mg(e) {
		return 'function' == typeof e;
	}
	function gg(e, t) {
		return e != e ? t == t : e !== t || (e && 'object' == typeof e) || 'function' == typeof e;
	}
	function hg(e, ...t) {
		if (null == e) {
			for (const e of t) e(void 0);
			return lg;
		}
		const n = e.subscribe(...t);
		return n.unsubscribe ? () => n.unsubscribe() : n;
	}
	function fg(e, t, n) {
		e.$$.on_destroy.push(hg(t, n));
	}
	function _g(e, t, n, o) {
		if (e) {
			const i = vg(e, t, n, o);
			return e[0](i);
		}
	}
	function vg(e, t, n, o) {
		return e[1] && o
			? (function (e, t) {
					for (const n in t) e[n] = t[n];
					return e;
			  })(n.ctx.slice(), e[1](o(t)))
			: n.ctx;
	}
	function yg(e, t, n, o) {
		if (e[2] && o) {
			const i = e[2](o(n));
			if (void 0 === t.dirty) return i;
			if ('object' == typeof i) {
				const e = [],
					n = Math.max(t.dirty.length, i.length);
				for (let o = 0; o < n; o += 1) e[o] = t.dirty[o] | i[o];
				return e;
			}
			return t.dirty | i;
		}
		return t.dirty;
	}
	function wg(e, t, n, o, i, r) {
		if (i) {
			const s = vg(t, n, o, r);
			e.p(s, i);
		}
	}
	function bg(e) {
		if (e.ctx.length > 32) {
			const t = [],
				n = e.ctx.length / 32;
			for (let e = 0; e < n; e++) t[e] = -1;
			return t;
		}
		return -1;
	}
	function Eg(e) {
		return null == e ? '' : e;
	}
	function Sg(e, t, n) {
		return e.set(n), t;
	}
	function xg(e) {
		return e && mg(e.destroy) ? e.destroy : lg;
	}
	function Tg(e) {
		const t = 'string' == typeof e && e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);
		return t ? [parseFloat(t[1]), t[2] || 'px'] : [e, 'px'];
	}
	const Cg = 'undefined' != typeof window;
	let $g = Cg ? () => window.performance.now() : () => Date.now(),
		kg = Cg ? (e) => requestAnimationFrame(e) : lg;
	const Lg = new Set();
	function Ig(e) {
		Lg.forEach((t) => {
			t.c(e) || (Lg.delete(t), t.f());
		}),
			0 !== Lg.size && kg(Ig);
	}
	function Mg(e) {
		let t;
		return (
			0 === Lg.size && kg(Ig),
			{
				promise: new Promise((n) => {
					Lg.add(
						(t = {
							c: e,
							f: n,
						}),
					);
				}),
				abort() {
					Lg.delete(t);
				},
			}
		);
	}
	function Ag(e, t) {
		e.appendChild(t);
	}
	function Rg(e) {
		if (!e) return document;
		const t = e.getRootNode ? e.getRootNode() : e.ownerDocument;
		return t && t.host ? t : e.ownerDocument;
	}
	function Og(e) {
		const t = zg('style');
		return (
			(t.textContent = '/* empty */'),
			(function (e, t) {
				Ag(e.head || e, t), t.sheet;
			})(Rg(e), t),
			t.sheet
		);
	}
	function Ng(e, t, n) {
		e.insertBefore(t, n || null);
	}
	function Dg(e) {
		e.parentNode && e.parentNode.removeChild(e);
	}
	function Pg(e, t) {
		for (let n = 0; n < e.length; n += 1) e[n] && e[n].d(t);
	}
	function zg(e) {
		return document.createElement(e);
	}
	function Ug(e) {
		return document.createElementNS('http://www.w3.org/2000/svg', e);
	}
	function Hg(e) {
		return document.createTextNode(e);
	}
	function Bg() {
		return Hg(' ');
	}
	function Fg() {
		return Hg('');
	}
	function Wg(e, t, n, o) {
		return e.addEventListener(t, n, o), () => e.removeEventListener(t, n, o);
	}
	function jg(e) {
		return function (t) {
			return t.preventDefault(), e.call(this, t);
		};
	}
	function qg(e) {
		return function (t) {
			return t.stopPropagation(), e.call(this, t);
		};
	}
	function Gg(e, t, n) {
		null == n ? e.removeAttribute(t) : e.getAttribute(t) !== n && e.setAttribute(t, n);
	}
	function Vg(e, t) {
		(t = '' + t), e.data !== t && (e.data = t);
	}
	function Yg(e, t) {
		e.value = null == t ? '' : t;
	}
	function Kg(e, t, n, o) {
		null == n ? e.style.removeProperty(t) : e.style.setProperty(t, n, o ? 'important' : '');
	}
	function Zg(e, t, n) {
		for (let n = 0; n < e.options.length; n += 1) {
			const o = e.options[n];
			if (o.__value === t) return void (o.selected = !0);
		}
		(n && void 0 === t) || (e.selectedIndex = -1);
	}
	let Xg;
	function Jg() {
		if (void 0 === Xg) {
			Xg = !1;
			try {
				'undefined' != typeof window && window.parent && window.parent.document;
			} catch (e) {
				Xg = !0;
			}
		}
		return Xg;
	}
	function Qg(e, t, n) {
		e.classList.toggle(t, !!n);
	}
	function eh(e, t, { bubbles: n = !1, cancelable: o = !1 } = {}) {
		return new CustomEvent(e, {
			detail: t,
			bubbles: n,
			cancelable: o,
		});
	}
	class th {
		is_svg = !1;
		e = void 0;
		n = void 0;
		t = void 0;
		a = void 0;
		constructor(e = !1) {
			(this.is_svg = e), (this.e = this.n = null);
		}
		c(e) {
			this.h(e);
		}
		m(e, t, n = null) {
			this.e ||
				(this.is_svg ? (this.e = Ug(t.nodeName)) : (this.e = zg(11 === t.nodeType ? 'TEMPLATE' : t.nodeName)),
				(this.t = 'TEMPLATE' !== t.tagName ? t : t.content),
				this.c(e)),
				this.i(n);
		}
		h(e) {
			(this.e.innerHTML = e),
				(this.n = Array.from('TEMPLATE' === this.e.nodeName ? this.e.content.childNodes : this.e.childNodes));
		}
		i(e) {
			for (let t = 0; t < this.n.length; t += 1) Ng(this.t, this.n[t], e);
		}
		p(e) {
			this.d(), this.h(e), this.i(this.a);
		}
		d() {
			this.n.forEach(Dg);
		}
	}
	function nh(e, t) {
		return new e(t);
	}
	const oh = new Map();
	let ih,
		rh = 0;
	function sh(e, t, n, o, i, r, s, a = 0) {
		const l = 16.666 / o;
		let c = '{\n';
		for (let e = 0; e <= 1; e += l) {
			const o = t + (n - t) * r(e);
			c += 100 * e + `%{${s(o, 1 - o)}}\n`;
		}
		const d = c + `100% {${s(n, 1 - n)}}\n}`,
			u = `__svelte_${(function (e) {
				(lett = 5381), (n = e.length);
				for (; n--; ) t = ((t << 5) - t) ^ e.charCodeAt(n);
				return t >>> 0;
			})(d)}_${a}`,
			p = Rg(e),
			{ stylesheet: m, rules: g } =
				oh.get(p) ||
				(function (e, t) {
					const n = {
						stylesheet: Og(t),
						rules: {},
					};
					return oh.set(e, n), n;
				})(p, e);
		g[u] || ((g[u] = !0), m.insertRule(`@keyframes ${u} ${d}`, m.cssRules.length));
		const h = e.style.animation || '';
		return (e.style.animation = `${h ? `${h}, ` : ''}${u} ${o}ms linear ${i}ms 1 both`), (rh += 1), u;
	}
	function ah(e, t) {
		const n = (e.style.animation || '').split(', '),
			o = n.filter(t ? (e) => e.indexOf(t) < 0 : (e) => -1 === e.indexOf('__svelte')),
			i = n.length - o.length;
		i &&
			((e.style.animation = o.join(', ')),
			(rh -= i),
			rh ||
				kg(() => {
					rh ||
						(oh.forEach((e) => {
							const { ownerNode: t } = e.stylesheet;
							t && Dg(t);
						}),
						oh.clear());
				}));
	}
	function lh(e) {
		ih = e;
	}
	function ch() {
		if (!ih) throw new Error('Function called outside component initialization');
		return ih;
	}
	function dh(e) {
		ch().$$.on_mount.push(e);
	}
	function uh(e) {
		ch().$$.on_destroy.push(e);
	}
	function ph() {
		const e = ch();
		return (t, n, { cancelable: o = !1 } = {}) => {
			const i = e.$$.callbacks[t];
			if (i) {
				const r = eh(t, n, {
					cancelable: o,
				});
				return (
					i.slice().forEach((t) => {
						t.call(e, r);
					}),
					!r.defaultPrevented
				);
			}
			return !0;
		};
	}
	function mh(e, t) {
		return ch().$$.context.set(e, t), t;
	}
	function gh(e) {
		return ch().$$.context.get(e);
	}
	function hh(e, t) {
		const n = e.$$.callbacks[t.type];
		n && n.slice().forEach((e) => e.call(this, t));
	}
	const fh = [],
		_h = [];
	let vh = [];
	const yh = [],
		wh = Promise.resolve();
	let bh = !1;
	function Eh() {
		bh || ((bh = !0), wh.then(kh));
	}
	function Sh(e) {
		vh.push(e);
	}
	function xh(e) {
		yh.push(e);
	}
	const Th = new Set();
	let Ch,
		$h = 0;
	function kh() {
		if (0 !== $h) return;
		const e = ih;
		do {
			try {
				for (; $h < fh.length; ) {
					const e = fh[$h];
					$h++, lh(e), Lh(e.$$);
				}
			} catch (e) {
				throw ((fh.length = 0), ($h = 0), e);
			}
			for (lh(null), fh.length = 0, $h = 0; _h.length; ) _h.pop()();
			for (let e = 0; e < vh.length; e += 1) {
				const t = vh[e];
				Th.has(t) || (Th.add(t), t());
			}
			vh.length = 0;
		} while (fh.length);
		for (; yh.length; ) yh.pop()();
		(bh = !1), Th.clear(), lh(e);
	}
	function Lh(e) {
		if (null !== e.fragment) {
			e.update(), pg(e.before_update);
			const t = e.dirty;
			(e.dirty = [-1]), e.fragment && e.fragment.p(e.ctx, t), e.after_update.forEach(Sh);
		}
	}
	function Ih() {
		return (
			Ch ||
				((Ch = Promise.resolve()),
				Ch.then(() => {
					Ch = null;
				})),
			Ch
		);
	}
	function Mh(e, t, n) {
		e.dispatchEvent(eh(`${t ? 'intro' : 'outro'}${n}`));
	}
	const Ah = new Set();
	let Rh;
	function Oh() {
		Rh = {
			r: 0,
			c: [],
			p: Rh,
		};
	}
	function Nh() {
		Rh.r || pg(Rh.c), (Rh = Rh.p);
	}
	function Dh(e, t) {
		e && e.i && (Ah.delete(e), e.i(t));
	}
	function Ph(e, t, n, o) {
		if (e && e.o) {
			if (Ah.has(e)) return;
			Ah.add(e),
				Rh.c.push(() => {
					Ah.delete(e), o && (n && e.d(1), o());
				}),
				e.o(t);
		} else o && o();
	}
	const zh = {
		duration: 0,
	};
	function Uh(e, t, n) {
		const o = {
			direction: 'in',
		};
		let i,
			r,
			s = t(e, n, o),
			a = !1,
			l = 0;
		function c() {
			i && ah(e, i);
		}
		function d() {
			const { delay: t = 0, duration: n = 300, easing: o = cg, tick: d = lg, css: u } = s || zh;
			u && (i = sh(e, 0, 1, n, t, o, u, l++)), d(0, 1);
			const p = $g() + t,
				m = p + n;
			r && r.abort(),
				(a = !0),
				Sh(() => Mh(e, !0, 'start')),
				(r = Mg((t) => {
					if (a) {
						if (t >= m) return d(1, 0), Mh(e, !0, 'end'), c(), (a = !1);
						if (t >= p) {
							const e = o((t - p) / n);
							d(e, 1 - e);
						}
					}
					return a;
				}));
		}
		let u = !1;
		return {
			start() {
				u || ((u = !0), ah(e), mg(s) ? ((s = s(o)), Ih().then(d)) : d());
			},
			invalidate() {
				u = !1;
			},
			end() {
				a && (c(), (a = !1));
			},
		};
	}
	function Hh(e, t, n) {
		const o = {
			direction: 'out',
		};
		let i,
			r = t(e, n, o),
			s = !0;
		const a = Rh;
		let l;
		function c() {
			const { delay: t = 0, duration: n = 300, easing: o = cg, tick: c = lg, css: d } = r || zh;
			d && (i = sh(e, 1, 0, n, t, o, d));
			const u = $g() + t,
				p = u + n;
			Sh(() => Mh(e, !1, 'start')),
				'inert' in e && ((l = e.inert), (e.inert = !0)),
				Mg((t) => {
					if (s) {
						if (t >= p) return c(0, 1), Mh(e, !1, 'end'), --a.r || pg(a.c), !1;
						if (t >= u) {
							const e = o((t - u) / n);
							c(1 - e, e);
						}
					}
					return s;
				});
		}
		return (
			(a.r += 1),
			mg(r)
				? Ih().then(() => {
						(r = r(o)), c();
				  })
				: c(),
			{
				end(t) {
					t && 'inert' in e && (e.inert = l), t && r.tick && r.tick(1, 0), s && (i && ah(e, i), (s = !1));
				},
			}
		);
	}
	function Bh(e, t, n, o) {
		let i,
			r = t(e, n, {
				direction: 'both',
			}),
			s = o ? 0 : 1,
			a = null,
			l = null,
			c = null;
		function d() {
			c && ah(e, c);
		}
		function u(e, t) {
			const n = e.b - s;
			return (
				(t *= Math.abs(n)),
				{
					a: s,
					b: e.b,
					d: n,
					duration: t,
					start: e.start,
					end: e.start + t,
					group: e.group,
				}
			);
		}
		function p(t) {
			const { delay: n = 0, duration: o = 300, easing: p = cg, tick: m = lg, css: g } = r || zh,
				h = {
					start: $g() + n,
					b: t,
				};
			t || ((h.group = Rh), (Rh.r += 1)),
				'inert' in e && (t ? void 0 !== i && (e.inert = i) : ((i = e.inert), (e.inert = !0))),
				a || l
					? (l = h)
					: (g && (d(), (c = sh(e, s, t, o, n, p, g))),
					  t && m(0, 1),
					  (a = u(h, o)),
					  Sh(() => Mh(e, t, 'start')),
					  Mg((t) => {
							if (
								(l &&
									t > l.start &&
									((a = u(l, o)),
									(l = null),
									Mh(e, a.b, 'start'),
									g && (d(), (c = sh(e, s, a.b, a.duration, 0, p, r.css)))),
								a)
							)
								if (t >= a.end)
									m((s = a.b), 1 - s),
										Mh(e, a.b, 'end'),
										l || (a.b ? d() : --a.group.r || pg(a.group.c)),
										(a = null);
								else if (t >= a.start) {
									const e = t - a.start;
									(s = a.a + a.d * p(e / a.duration)), m(s, 1 - s);
								}
							return !(!a && !l);
					  }));
		}
		return {
			run(e) {
				mg(r)
					? Ih().then(() => {
							(r = r({
								direction: e ? 'in' : 'out',
							})),
								p(e);
					  })
					: p(e);
			},
			end() {
				d(), (a = l = null);
			},
		};
	}
	function Fh(e) {
		return void 0 !== e?.length ? e : Array.from(e);
	}
	function Wh(e, t, n) {
		const o = e.$$.props[t];
		void 0 !== o && ((e.$$.bound[o] = n), n(e.$$.ctx[o]));
	}
	function jh(e) {
		e && e.c();
	}
	function qh(e, t, n) {
		const { fragment: o, after_update: i } = e.$$;
		o && o.m(t, n),
			Sh(() => {
				const t = e.$$.on_mount.map(dg).filter(mg);
				e.$$.on_destroy ? e.$$.on_destroy.push(...t) : pg(t), (e.$$.on_mount = []);
			}),
			i.forEach(Sh);
	}
	function Gh(e, t) {
		const n = e.$$;
		null !== n.fragment &&
			(!(function (e) {
				const t = [],
					n = [];
				vh.forEach((o) => (-1 === e.indexOf(o) ? t.push(o) : n.push(o))), n.forEach((e) => e()), (vh = t);
			})(n.after_update),
			pg(n.on_destroy),
			n.fragment && n.fragment.d(t),
			(n.on_destroy = n.fragment = null),
			(n.ctx = []));
	}
	function Vh(e, t, n, o, i, r, s = null, a = [-1]) {
		const l = ih;
		lh(e);
		const c = (e.$$ = {
			fragment: null,
			ctx: [],
			props: r,
			update: lg,
			not_equal: i,
			bound: ug(),
			on_mount: [],
			on_destroy: [],
			on_disconnect: [],
			before_update: [],
			after_update: [],
			context: new Map(t.context || (l ? l.$$.context : [])),
			callbacks: ug(),
			dirty: a,
			skip_bound: !1,
			root: t.target || l.$$.root,
		});
		s && s(c.root);
		let d = !1;
		if (
			((c.ctx = n
				? n(e, t.props || {}, (t, n, ...o) => {
						const r = o.length ? o[0] : n;
						return (
							c.ctx &&
								i(c.ctx[t], (c.ctx[t] = r)) &&
								(!c.skip_bound && c.bound[t] && c.bound[t](r),
								d &&
									(function (e, t) {
										-1 === e.$$.dirty[0] && (fh.push(e), Eh(), e.$$.dirty.fill(0)),
											(e.$$.dirty[(t / 31) | 0] |= 1 << t % 31);
									})(e, t)),
							n
						);
				  })
				: []),
			c.update(),
			(d = !0),
			pg(c.before_update),
			(c.fragment = !!o && o(c.ctx)),
			t.target)
		) {
			if (t.hydrate) {
				const e = (function (e) {
					return Array.from(e.childNodes);
				})(t.target);
				c.fragment && c.fragment.l(e), e.forEach(Dg);
			} else c.fragment && c.fragment.c();
			t.intro && Dh(e.$$.fragment), qh(e, t.target, t.anchor), kh();
		}
		lh(l);
	}
	class Yh {
		$$ = void 0;
		$$set = void 0;
		$destroy() {
			Gh(this, 1), (this.$destroy = lg);
		}
		$on(e, t) {
			if (!mg(t)) return lg;
			const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
			return (
				n.push(t),
				() => {
					const e = n.indexOf(t);
					-1 !== e && n.splice(e, 1);
				}
			);
		}
		$set(e) {
			var t;
			this.$$set &&
				((t = e), 0 !== Object.keys(t).length) &&
				((this.$$.skip_bound = !0), this.$$set(e), (this.$$.skip_bound = !1));
		}
	}
	const Kh = [];
	function Zh(e, t = lg) {
		let n;
		const o = new Set();
		function i(t) {
			if (gg(e, t) && ((e = t), n)) {
				const t = !Kh.length;
				for (const t of o) t[1](), Kh.push(t, e);
				if (t) {
					for (let e = 0; e < Kh.length; e += 2) Kh[e][0](Kh[e + 1]);
					Kh.length = 0;
				}
			}
		}
		function r(t) {
			i(t(e));
		}
		return {
			set: i,
			update: r,
			subscribe: function (s, a = lg) {
				const l = [s, a];
				return (
					o.add(l),
					1 === o.size && (n = t(i, r) || lg),
					s(e),
					() => {
						o.delete(l), 0 === o.size && n && (n(), (n = null));
					}
				);
			},
		};
	}
	const Xh = (function () {
			const { subscribe: e, set: t, update: n } = Zh({});
			return (
				chrome.storage.sync.get(null, (e) => {
					t(e),
						chrome.storage.local.get(
							[
								'isLoggedIn',
								'isProUser',
								'translatorServiceType',
								'writeServiceType',
								'apiServiceType',
								'docTranslatorServiceType',
								'browserInstanceId',
								'featureSet',
								'hasTermbaseService',
							],
							(e) => {
								n((t) => ({
									...t,
									...e,
								}));
							},
						);
				}),
				chrome.storage.onChanged.addListener((e) => {
					const t = ['a_t', 'r_t', 'i_t', 'accountId'];
					let o = {};
					for (const [n, i] of Object.entries(e)) !1 === t.includes(n) && (o[n] = i.newValue);
					if (Qt()) {
						const e = 'background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600';
						console.log(`%c${new Date().toISOString()} UPDATE USER SETTINGS`, e, o);
					}
					n((e) => ({
						...e,
						...o,
					}));
				}),
				{
					subscribe: e,
					set: (e) => chrome.storage.sync.set(e),
				}
			);
		})(),
		Jh = (function () {
			const { subscribe: e, update: t } = Zh({});
			return (
				chrome.runtime.onMessage.addListener(function (e, n) {
					switch (e.action) {
						case 'newWebsiteState':
							e.payload &&
								t((t) => ({
									...t,
									[n.tab.id]: {
										...t[n.tab.id],
										...e.payload,
										error: e.payload.error ? e.payload.error : void 0,
									},
								}));
							break;
						case 'resetWebsiteState':
							e.payload &&
								t((t) => ({
									...t,
									[n.tab.id]: {
										...e.payload,
									},
								}));
					}
				}),
				{
					subscribe: e,
					fetchCurrentWebsiteSettings: () => {
						chrome.tabs &&
							chrome.tabs.query(
								{
									active: !0,
									currentWindow: !0,
								},
								function (e) {
									chrome.tabs.sendMessage(
										e[0].id,
										{
											action: 'dlGetWebsiteData',
										},
										function (n) {
											t((t) => ({
												...t,
												[e[0].id]: {
													...t[e[0].id],
													...n,
												},
											}));
										},
									);
								},
							);
					},
				}
			);
		})();
	!(function (e, t, n) {
		const o = !Array.isArray(e),
			i = o ? [e] : e;
		if (!i.every(Boolean)) throw new Error('derived() expects stores as input, got a falsy value');
		const r = t.length < 2;
		return (
			(s = (e, n) => {
				let s = !1;
				const a = [];
				let l = 0,
					c = lg;
				const d = () => {
						if (l) return;
						c();
						const i = t(o ? a[0] : a, e, n);
						r ? e(i) : (c = mg(i) ? i : lg);
					},
					u = i.map((e, t) =>
						hg(
							e,
							(e) => {
								(a[t] = e), (l &= ~(1 << t)), s && d();
							},
							() => {
								l |= 1 << t;
							},
						),
					);
				return (
					(s = !0),
					d(),
					function () {
						pg(u), c(), (s = !1);
					}
				);
			}),
			{
				subscribe: Zh(n, s).subscribe,
			}
		);
		var s;
	})(Jh, async (e, t) => {
		if (!chrome.tabs) return;
		t(
			e[
				(
					await chrome.tabs.query({
						active: !0,
						currentWindow: !0,
					})
				)[0].id
			],
		);
	}),
		(function () {
			const { subscribe: e, set: n } = Zh([]);
			t({
				action: 'dlGetExperiments',
				payload: {
					forceFetch: !1,
				},
			}).then((e) => n(e)),
				chrome.runtime.onMessage.addListener(function (e) {
					if ('dlExperimentsUpdated' === e.action) e.payload && n(e.payload.experiments);
				});
		})();
	const Qh = (e) =>
			!![
				/Receiving end does not exist/,
				/message channel closed before a response was received/,
				/Extension context invalidated/,
			].some((t) => t.test(e)),
		ef = {
			dsn: 'https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12',
			release: 'deepl-browser-extension@1.26.1',
			environment: Jt(),
			tracesSampleRate: en() ? 0.1 : 1,
			sampleRate: en() ? 0.1 : 1,
			ignoreErrors: [
				/Receiving end does not exist/,
				/message channel closed before a response was received/,
				/Extension context invalidated/,
			],
			beforeSend(e) {
				const t = e.message || (e.exception && e.exception.values && e.exception.values[0].value) || '';
				return Qh(t) ? null : e;
			},
		};
	function tf(e, t) {
		t.captureException(e);
	}
	const nf = 'PROTOCOL_ERROR',
		of = 'NETWORK_ERROR',
		rf = 'FULL_PAGE_SERVER_ERROR',
		sf = '-32003',
		af = '429',
		lf = '403',
		cf = '1045601',
		df = '1042902',
		uf = 'ENTRY_NOT_FOUND',
		pf = 'SERVER_ERROR',
		mf = 'TRANSLATED_INPUT_NOT_SET',
		gf = 'HTML_NODE_CHAR_LENGTH_TOO_LONG',
		hf = 'TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED',
		ff = 'TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED',
		_f = 'TRANSLATOR_FREE_ANON_WITH_WRITE_PRO',
		vf = 'WRITE_ANON_OR_FREE_LIMIT_EXCEEDED',
		yf = 'WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED';
	class wf extends Error {
		constructor(e, t) {
			super(t), (this.name = hf), (this.limit = e), (this.message = t);
		}
	}
	class bf extends Error {
		constructor(e, t) {
			super(t), (this.name = ff), (this.limit = e), (this.message = t);
		}
	}
	class Ef extends Error {
		constructor(e, t) {
			super(t), (this.name = vf), (this.limit = e), (this.message = t);
		}
	}
	class Sf extends Error {
		constructor(e, t) {
			super(t), (this.name = yf), (this.limit = e), (this.message = t);
		}
	}
	function xf(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dl-zendesk-icon svelte-1tytp0d');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	'undefined' != typeof window &&
		(
			window.__svelte ||
			(window.__svelte = {
				v: new Set(),
			})
		).v.add('4');
	function Tf(e, t, n) {
		let o, i, r, s;
		fg(e, Xh, (e) => n(1, (o = e))), mh('text_direction', Ot());
		const a = () => {
				const e = window.location.pathname,
					t = hb(e);
				let n = !1;
				if ((s !== t && ((n = !0), (s = t)), t)) {
					const e = fb();
					if (!e) return;
					const o = _b(e) || vb(e, t);
					o && o.processRefreshUI(n);
				}
			},
			l = async (e) => {
				if ('dlChangeActiveTabStatus' === e.action)
					if (e.payload.isActive) c();
					else {
						if (!document.hidden) return;
						d();
					}
			},
			c = () => {
				i && clearInterval(i), (i = setInterval(a, 800));
			},
			d = () => {
				clearInterval(i);
			};
		dh(() => {
			const e = o.zendeskSuccessfulTranslations >= fe;
			n(0, (r = o?.featureSet?.customizations?.includes('zendesk'))),
				e && !r && Sg(Xh, (o.isZendeskEnabled = !1), o),
				u();
		});
		const u = () => {
			c(), chrome.runtime.onMessage.addListener(l);
		};
		return (
			uh(() => {
				i && d(), chrome.runtime.onMessage.removeListener(l), wb();
			}),
			(e.$$.update = () => {
				2 & e.$$.dirty &&
					!o?.featureSet?.customizations?.includes('zendesk') &&
					o.zendeskSuccessfulTranslations >= fe &&
					(Sg(Xh, (o.isZendeskEnabled = !1), o), bb()),
					3 & e.$$.dirty &&
						!1 === r &&
						o?.featureSet?.customizations?.includes('zendesk') &&
						(n(0, (r = !0)), Sg(Xh, (o.isZendeskEnabled = !0), o), c()),
					2 & e.$$.dirty && (o.isZendeskEnabled ? c() : bb());
			}),
			[r, o]
		);
	}
	class Cf extends Yh {
		constructor(e) {
			super(), Vh(this, e, Tf, xf, gg, {});
		}
	}
	class $f {
		static HTML_TAG_NAME = 'deepl-zendesk-controller';
		static createElement = (e = document) => {
			const t = e.createElement($f.HTML_TAG_NAME),
				n = new $f(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.showOnboarding = n.showOnboarding),
				(t.getActiveTermbases = n.getActiveTermbases),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = () => {
			this.domElement.mainComponent = new Cf({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: this,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
		showOnboarding = () => {
			this.domElement.mainComponent.showOnboarding();
		};
		getActiveTermbases = () => this.domElement.mainComponent.getActiveTermbases();
	}
	function kf(e) {
		const t = e - 1;
		return t * t * t + 1;
	}
	function Lf(e, { delay: t = 0, duration: n = 400, easing: o = cg } = {}) {
		const i = +getComputedStyle(e).opacity;
		return {
			delay: t,
			duration: n,
			easing: o,
			css: (e) => 'opacity: ' + e * i,
		};
	}
	function If(
		e,
		{ delay: t = 0, duration: n = 400, easing: o = kf, x: i = 0, y: r = 0, opacity: s = 0 } = {},
	) {
		const a = getComputedStyle(e),
			l = +a.opacity,
			c = 'none' === a.transform ? '' : a.transform,
			d = l * (1 - s),
			[u, p] = Tg(i),
			[m, g] = Tg(r);
		return {
			delay: t,
			duration: n,
			easing: o,
			css: (e, t) =>
				`\n\t\t\ttransform: ${c} translate(${(1 - e) * u}${p}, ${(1 - e) * m}${g});\n\t\t\topacity: ${
					l - d * t
				}`,
		};
	}
	function Mf(e, { delay: t = 0, duration: n = 400, easing: o = kf, axis: i = 'y' } = {}) {
		const r = getComputedStyle(e),
			s = +r.opacity,
			a = 'y' === i ? 'height' : 'width',
			l = parseFloat(r[a]),
			c = 'y' === i ? ['top', 'bottom'] : ['left', 'right'],
			d = c.map((e) => `${e[0].toUpperCase()}${e.slice(1)}`),
			u = parseFloat(r[`padding${d[0]}`]),
			p = parseFloat(r[`padding${d[1]}`]),
			m = parseFloat(r[`margin${d[0]}`]),
			g = parseFloat(r[`margin${d[1]}`]),
			h = parseFloat(r[`border${d[0]}Width`]),
			f = parseFloat(r[`border${d[1]}Width`]);
		return {
			delay: t,
			duration: n,
			easing: o,
			css: (e) =>
				`overflow: hidden;opacity: ${Math.min(20 * e, 1) * s};${a}: ${e * l}px;padding-${c[0]}: ${
					e * u
				}px;padding-${c[1]}: ${e * p}px;margin-${c[0]}: ${e * m}px;margin-${c[1]}: ${e * g}px;border-${
					c[0]
				}-width: ${e * h}px;border-${c[1]}-width: ${e * f}px;`,
		};
	}
	function Af(e, t) {
		if (!e || !t) return !1;
		const n = /[\n\r\s]+/gm,
			o = e.replace(n, ''),
			i = t.replace(n, '');
		return o.includes(i);
	}
	function Rf(e, t, n) {
		let o = {
			block: 'end',
			position: e.length,
		};
		return (
			t.forEach((t) => {
				const i = e.indexOf(`<${t}>`, n);
				i > -1 &&
					i < o.position &&
					(o = {
						block: t,
						position: i,
					});
			}),
			[o.block, o.position]
		);
	}
	function Of(e, t = []) {
		const n = [];
		let o = 0,
			i = !1;
		for (; !i; ) {
			const [r, s] = Rf(e, t, o);
			if (
				('end' === r && (i = !0),
				o < s &&
					n.push({
						block: 'main',
						text: e.substring(o, s),
					}),
				i)
			)
				break;
			const a = e.indexOf(`</${r}>`, s);
			-1 === a
				? (n.push({
						block: r,
						text: e.substring(s + `<${r}>`.length),
				  }),
				  (i = !0))
				: (n.push({
						block: r,
						text: e.substring(s + `<${r}>`.length, a),
				  }),
				  (o = a + `</${r}>`.length));
		}
		return n;
	}
	function Nf(e) {
		return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g) || [];
	}
	function Df(e, t) {
		const n = Nf(e),
			o = Nf(t),
			i = (function (e, t, n) {
				const o = n || ((e, t) => e === t),
					i = (() => {
						let n = 0;
						for (; o(e[n], t[n]) && n < e.length; ) ++n;
						return n;
					})();
				if (i === e.length && e.length === t.length) return [i];
				const r = (() => {
						let n = e.length - 1,
							r = t.length - 1;
						for (; o(e[n], t[r]) && n > i && r > i; ) --n, --r;
						return e.length - n - 1;
					})(),
					s = e.length - i - r + 1,
					a = t.length - i - r + 1,
					l = s + a,
					c = new Map(),
					d = new Map();
				c.set(1, 0), d.set(1, null);
				for (let n = 0; n <= l; ++n)
					for (let l = -n; l <= n; l += 2) {
						let u, p, m;
						for (
							l == -n || (l != n && c.get(l - 1) < c.get(l + 1))
								? ((u = c.get(l + 1)), (m = [d.get(l + 1), void 0, void 0]))
								: ((u = c.get(l - 1) + 1), (m = [d.get(l - 1), void 0, void 0])),
								p = u - l;
							u < s && p < a && o(e[u + i], t[p + i]);

						)
							++u, ++p;
						if (u >= s && p >= a) {
							(m[1] = s + r - 1), (m[2] = a + r - 1);
							let e = -1,
								t = -1;
							const n = [];
							for (; m; ) n.push([m[1], m[2]]), (m = m[0]);
							let o = [],
								l = null;
							for (; n.length; ) {
								const i = n.pop(),
									r = i[0],
									s = i[1],
									a = r - e,
									c = s - t,
									d = Math.min(a, c);
								a > d && (l ? (l[0] += a - d) : ((l = [a - d, 0]), o.push(l))),
									c > d && (l ? (l[1] += c - d) : ((l = [0, c - d]), o.push(l))),
									d > 0 && (o.push(d), (l = null)),
									(e = r),
									(t = s);
							}
							return (o[0] = o[0] - 1 + i), o;
						}
						c.set(l, u), (m[1] = u), (m[2] = p), d.set(l, m);
					}
				throw new Error('[diff]', 'should not happen?');
			})(n, o),
			r = [];
		let s = 0,
			a = 0,
			l = 0;
		for (; s < i.length; ) {
			const e = i[s];
			let t = 0;
			for (let o = a + e - 1; o >= a; o -= 1) t += n[o]?.match(/^\s/) ? 2 : 1;
			(a += e), (l += e);
			let c = 0,
				d = 0;
			if (
				(a < n.length &&
					l < o.length &&
					n[a]?.match(/^\s/) &&
					o[l]?.match(/^\s/) &&
					((c -= 1), (d -= 1), (t += 1)),
				r.push(t),
				(s += 1),
				s < i.length)
			) {
				const [e, t] = i[s];
				for (let t = a + e - 1; t >= a; t -= 1) c += n[t]?.match(/^\s/) ? 2 : 1;
				for (let e = l + t - 1; e >= l; e -= 1) d += o[e]?.match(/^\s/) ? 2 : 1;
				r.push([Math.max(c, 0), Math.max(d, 0)]), (s += 1), (a += e), (l += t);
			}
		}
		return [r, n, o, i];
	}
	function Pf(e, t) {
		let n = 0;
		const o = (function (e, t) {
				const n = Df(t, e),
					o = [];
				let i = 0,
					r = 0,
					s = 0,
					a = 0;
				return (
					n[3].forEach((e) => {
						if (Array.isArray(e) && 'number' == typeof e[0] && 'number' == typeof e[1]) {
							if (0 !== e[1]) {
								const t = n[2].slice(r, r + e[1]).join(''),
									l = n[1].slice(i, i + e[0]).join(''),
									c = {
										original: l,
										replace: t,
									};
								(c.changeLength = t.length),
									(c.changeOffset = s),
									(c.originalLength = l.length),
									(c.originalOffset = a),
									(s += t.length),
									(a += l.length),
									o.push(c);
							}
							(i += e[0]), (r += e[1]);
						} else {
							let t = 0;
							n[2].slice(r, r + e).forEach((e) => (t += e.length)), (s += t);
							let o = 0;
							n[1].slice(i, i + e).forEach((e) => (o += e.length)), (a += o), (i += e), (r += e);
						}
					}),
					o
				);
			})(e, t),
			i = [];
		for (let t of o) {
			t.changeOffset > n &&
				i.push({
					isHighlighted: !1,
					text: e.substring(n, t.changeOffset),
				});
			const o = t.changeOffset + t.changeLength;
			i.push({
				isHighlighted: !0,
				text: e.substring(t.changeOffset, o),
			}),
				(n = o);
		}
		return (
			n < e.length &&
				i.push({
					isHighlighted: !1,
					text: e.substring(n, e.length),
				}),
			i
		);
	}
	const zf = (e) => {
		let t = '';
		for (const n of e.childNodes)
			n.nodeType === Node.TEXT_NODE
				? (t += n.textContent)
				: n.nodeType === Node.ELEMENT_NODE && 'none' !== n.style.display && (t += zf(n));
		return t;
	};
	function Uf(e) {
		return 'IFRAME' === e.nodeName.toUpperCase()
			? Ff(e)
			: e.ownerDocument === document
			? window
			: e.ownerDocument;
	}
	function Hf(e) {
		return e.ownerDocument === document ? document : e.ownerDocument;
	}
	function Bf(e) {
		return 'IFRAME' !== e.nodeName.toUpperCase() ? e : Ff(e).body;
	}
	function Ff(e) {
		return e.contentDocument || e.contentWindow.document;
	}
	function Wf(e) {
		if ('IFRAME' === e.nodeName.toUpperCase()) return window;
		if (e.ownerDocument !== document) {
			const t = e?.ownerDocument?.defaultView?.frameElement?.contentWindow;
			if (t) return t;
		}
		return window;
	}
	function jf(e) {
		return 'IFRAME' === e.nodeName.toUpperCase()
			? Ff(e)
			: e.ownerDocument === document
			? document
			: e.ownerDocument;
	}
	function qf(e) {
		return new Promise((t, n) => {
			requestAnimationFrame(() => {
				const n = Hf(e).createRange();
				n.selectNodeContents(Bf(e));
				const o = Uf(e).getSelection();
				o.removeAllRanges(), o.addRange(n), t(o);
			});
		});
	}
	const Gf = async (e, t) => {
			await Zt(10);
			const n = new ClipboardEvent('paste');
			n.clipboardData.setData('text/html', t.html),
				n.clipboardData.setData('text/plain', t.text),
				e.dispatchEvent(n),
				await Zt(10);
		},
		Vf = async (e, t) => {
			await Zt(10);
			const n = new ClipboardEvent('paste', {
				dataType: 'text/html',
				data: t.html,
			});
			e.dispatchEvent(n), await Zt(10);
		},
		Yf = async (e, t) => {
			await Zt(10);
			const n = new ClipboardEvent('paste', {
				dataType: 'text/plain',
				data: t.text,
			});
			e.dispatchEvent(n), await Zt(10);
		},
		Kf = async (e, t) => {
			await Zt(10), document.execCommand('insertText', !1, t.text), await Zt(10);
		},
		Zf = async (e, t) => {
			await Zt(10), document.execCommand('insertHTML', !1, t.html), await Zt(10);
		},
		Xf = async (e, t) => {
			const n = Wf(e);
			await Zt(10);
			const o = new DataTransfer();
			o.setData('text/html', t.html),
				o.setData('text/plain', t.text),
				e.dispatchEvent(
					new n.ClipboardEvent('paste', {
						clipboardData: o,
						bubbles: !0,
						cancelable: !0,
					}),
				),
				o.clearData(),
				await Zt(10);
		},
		Jf = async (e, t) => {
			const n = jf(e),
				o = Wf(e),
				i = n.createEvent('TextEvent');
			i.initTextEvent('textInput', !0, !0, o, t.text), e.dispatchEvent(i), await Zt(10);
		},
		Qf = async (e, t) => {
			const n = jf(e);
			e.value && e.select(),
				n.execCommand('insertHTML', !1, t.html),
				await Zt(20),
				(e.value || '' === e.value) && (e.value = t.text);
		},
		e_ = async (e, n, o) => {
			const i = nt();
			o || e.focus();
			const r = Bf(e).innerText,
				s = Bf(e).value,
				a = [
					...(i
						? [
								{
									method: Gf,
									isSuccessful: () => t_(r, e.innerText, n.text),
								},
								{
									method: Vf,
									isSuccessful: () => t_(r, e.innerText, n.text),
								},
								{
									method: Yf,
									isSuccessful: () => t_(r, e.innerText, n.text),
								},
								{
									method: Kf,
									isSuccessful: () => t_(r, e.innerText, n.text),
								},
								{
									method: Zf,
									isSuccessful: () => t_(r, e.innerText, n.text) || t_(s, e.value, n.text),
								},
						  ]
						: []),
					{
						method: Xf,
						isSuccessful: () => t_(r, Bf(e).innerText, n.text),
					},
					{
						method: Jf,
						isSuccessful: () => t_(r, Bf(e).innerText, n.text),
					},
					{
						method: Qf,
						isSuccessful: () => t_(r, Bf(e).innerText, n.text) || t_(s, Bf(e).value, n.text),
					},
				];
			for (const t of a)
				if (
					(i && Qt() && console.log(`trying paste event: ${t.method.name}`),
					await t.method(e, n),
					t.isSuccessful())
				)
					return void (i && Qt() && console.log('attempt was successful: ', t.method.name));
			throw (
				(await Zt(1e3),
				t({
					action: 'dlTranslatedInputTextNotSet',
					payload: window.location.hostname,
				}),
				new Error({
					error: mf,
				}))
			);
		},
		t_ = (e, t, n) => {
			let o = !0;
			return ((e && !t) || (!Af(e, n) && e === t) || !Af(t, n)) && (o = !1), o;
		},
		n_ = (e, t) => {
			const n = new (Wf(t).KeyboardEvent)(e, {
				bubbles: !0,
				cancelable: !0,
				keyCode: 8,
				which: 8,
				location: 0,
				key: 'Backspace',
			});
			return t.dispatchEvent(n);
		},
		o_ = (e, t) => {
			const n = new MouseEvent(e, {
				bubbles: !0,
				cancelable: !1,
			});
			return t.dispatchEvent(n);
		},
		i_ = (e) => {
			const t = Wf(e),
				n = Hf(e);
			if (n_('keydown', e)) {
				const o = new t.InputEvent('beforeinput', {
					bubbles: !0,
					cancelable: !0,
					inputType: 'deleteContent',
				});
				e.dispatchEvent(o) && n.execCommand('delete', !1);
			}
			n_('keyup', e);
		};
	function r_(e, { isShadow: t = !1, exceptions: n = [] } = {}) {
		const o = (o) => {
			const i = t ? o.composedPath()[0] : o.target;
			!e ||
				e.contains(i) ||
				o.defaultPrevented ||
				(function (e, t) {
					for (let n of t) if (e.closest(n)) return !0;
					return !1;
				})(i, n) ||
				e.dispatchEvent(new CustomEvent('click_outside', e));
		};
		return (
			document.addEventListener('click', o, !0),
			{
				destroy() {
					document.removeEventListener('click', o, !0);
				},
			}
		);
	}
	function s_(e) {
		document.addEventListener('deepl-reset-event', e);
	}
	function a_(e) {
		let t, n;
		const o = e[12].default,
			i = _g(o, e, e[11], null);
		return {
			c() {
				(t = zg('div')), i && i.c();
			},
			m(e, o) {
				Ng(e, t, o), i && i.m(t, null), (n = !0);
			},
			p(e, t) {
				i && i.p && (!n || 2048 & t) && wg(i, o, e, e[11], n ? yg(o, e[11], t, null) : bg(e[11]), null);
			},
			i(e) {
				n || (Dh(i, e), (n = !0));
			},
			o(e) {
				Ph(i, e), (n = !1);
			},
			d(e) {
				e && Dg(t), i && i.d(e);
			},
		};
	}
	function l_(e) {
		let t, n, o;
		const i = e[12].default,
			r = _g(i, e, e[11], null);
		return {
			c() {
				(t = zg('div')),
					r && r.c(),
					Gg(t, 'data-tooltip', e[0]),
					Gg(t, 'style', (n = `z-index: ${e[2]}; ${e[6]}`)),
					Gg(t, 'class', 'svelte-1a71ske'),
					Qg(t, 'multiline', e[1]),
					Qg(t, 'isFlexItem', e[4]),
					Qg(t, 'isRTL', e[7]),
					Qg(t, 'showProShield', e[5]);
			},
			m(e, n) {
				Ng(e, t, n), r && r.m(t, null), (o = !0);
			},
			p(e, s) {
				r && r.p && (!o || 2048 & s) && wg(r, i, e, e[11], o ? yg(i, e[11], s, null) : bg(e[11]), null),
					(!o || 1 & s) && Gg(t, 'data-tooltip', e[0]),
					(!o || (68 & s && n !== (n = `z-index: ${e[2]}; ${e[6]}`))) && Gg(t, 'style', n),
					(!o || 2 & s) && Qg(t, 'multiline', e[1]),
					(!o || 16 & s) && Qg(t, 'isFlexItem', e[4]),
					(!o || 128 & s) && Qg(t, 'isRTL', e[7]),
					(!o || 32 & s) && Qg(t, 'showProShield', e[5]);
			},
			i(e) {
				o || (Dh(r, e), (o = !0));
			},
			o(e) {
				Ph(r, e), (o = !1);
			},
			d(e) {
				e && Dg(t), r && r.d(e);
			},
		};
	}
	function c_(e) {
		let t, n, o, i;
		const r = [l_, a_],
			s = [];
		function a(e, t) {
			return e[3] ? 0 : 1;
		}
		return (
			(t = a(e)),
			(n = s[t] = r[t](e)),
			{
				c() {
					n.c(), (o = Fg());
				},
				m(e, n) {
					s[t].m(e, n), Ng(e, o, n), (i = !0);
				},
				p(e, [i]) {
					let l = t;
					(t = a(e)),
						t === l
							? s[t].p(e, i)
							: (Oh(),
							  Ph(s[l], 1, 1, () => {
									s[l] = null;
							  }),
							  Nh(),
							  (n = s[t]),
							  n ? n.p(e, i) : ((n = s[t] = r[t](e)), n.c()),
							  Dh(n, 1),
							  n.m(o.parentNode, o));
				},
				i(e) {
					i || (Dh(n), (i = !0));
				},
				o(e) {
					Ph(n), (i = !1);
				},
				d(e) {
					e && Dg(o), s[t].d(e);
				},
			}
		);
	}
	function d_(e, t, n) {
		let o,
			i,
			{ $$slots: r = {}, $$scope: s } = t;
		const { deepl_inline_ui: a } = O;
		let { tooltip: l = !1 } = t,
			{ multiline: c = !1 } = t,
			{ zIndex: d = a.z_index } = t,
			{ isEnabled: u = !0 } = t,
			{ isFlexItem: p = !1 } = t,
			{ width: m = null } = t,
			{ parentIsRTL: g = !1 } = t,
			{ ignoreTextDirection: h = !1 } = t,
			{ showProShield: f = !1 } = t;
		return (
			(e.$$set = (e) => {
				'tooltip' in e && n(0, (l = e.tooltip)),
					'multiline' in e && n(1, (c = e.multiline)),
					'zIndex' in e && n(2, (d = e.zIndex)),
					'isEnabled' in e && n(3, (u = e.isEnabled)),
					'isFlexItem' in e && n(4, (p = e.isFlexItem)),
					'width' in e && n(8, (m = e.width)),
					'parentIsRTL' in e && n(9, (g = e.parentIsRTL)),
					'ignoreTextDirection' in e && n(10, (h = e.ignoreTextDirection)),
					'showProShield' in e && n(5, (f = e.showProShield)),
					'$$scope' in e && n(11, (s = e.$$scope));
			}),
			(e.$$.update = () => {
				1536 & e.$$.dirty && n(7, (o = g || (!h && 'rtl' === Ot()))),
					256 & e.$$.dirty && n(6, (i = m ? `width: ${m}px` : ''));
			}),
			[l, c, d, u, p, f, i, o, m, g, h, s, r]
		);
	}
	class u_ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, d_, c_, gg, {
					tooltip: 0,
					multiline: 1,
					zIndex: 2,
					isEnabled: 3,
					isFlexItem: 4,
					width: 8,
					parentIsRTL: 9,
					ignoreTextDirection: 10,
					showProShield: 5,
				});
		}
	}
	const p_ = (e, t) => {
		const n = new ResizeObserver(() => {
			const n = {
				clientHeight: e.clientHeight,
				clientWidth: e.clientWidth,
				offsetHeight: e.offsetHeight,
				offsetWidth: e.offsetWidth,
			};
			t(n);
		});
		return (
			n.observe(e),
			() => {
				n.disconnect();
			}
		);
	};
	function m_(e, t, n) {
		const o = e.slice();
		return (o[46] = t[n]), (o[48] = n), o;
	}
	function g_(e) {
		let t,
			n,
			o,
			i = Fh(e[3]),
			r = [];
		for (let t = 0; t < i.length; t += 1) r[t] = __(m_(e, i, t));
		return {
			c() {
				t = zg('ul');
				for (let e = 0; e < r.length; e += 1) r[e].c();
				Gg(t, 'id', 'dropdown_list'),
					Gg(t, 'class', 'dropdown__list svelte-1u7ovqn'),
					Gg(t, 'role', 'listbox'),
					Gg(t, 'aria-labelledby', 'dropdown_option'),
					Gg(t, 'tabindex', '-1'),
					Gg(
						t,
						'style',
						(n = 'up' === e[12] ? 'bottom: 30px' : `height: ${e[16].height}; top: ${e[16].top};`),
					),
					Gg(t, 'data-qa', e[6]),
					Qg(t, 'alternate-dropdown-list', 'sm' === e[8]),
					Qg(t, 'align-right', e[9]);
			},
			m(n, o) {
				Ng(n, t, o);
				for (let e = 0; e < r.length; e += 1) r[e] && r[e].m(t, null);
				e[37](t);
			},
			p(e, o) {
				if (4726795 & o[0]) {
					let n;
					for (i = Fh(e[3]), n = 0; n < i.length; n += 1) {
						const s = m_(e, i, n);
						r[n] ? r[n].p(s, o) : ((r[n] = __(s)), r[n].c(), r[n].m(t, null));
					}
					for (; n < r.length; n += 1) r[n].d(1);
					r.length = i.length;
				}
				69632 & o[0] &&
					n !== (n = 'up' === e[12] ? 'bottom: 30px' : `height: ${e[16].height}; top: ${e[16].top};`) &&
					Gg(t, 'style', n),
					64 & o[0] && Gg(t, 'data-qa', e[6]),
					256 & o[0] && Qg(t, 'alternate-dropdown-list', 'sm' === e[8]),
					512 & o[0] && Qg(t, 'align-right', e[9]);
			},
			i(e) {
				o ||
					Sh(() => {
						(o = Uh(t, If, {
							y: -5,
							duration: 500,
						})),
							o.start();
					});
			},
			o: lg,
			d(n) {
				n && Dg(t), Pg(r, n), e[37](null);
			},
		};
	}
	function h_(e) {
		let t,
			n = e[46].label + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				8 & o[0] && n !== (n = e[46].label + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function f_(e) {
		let t,
			n,
			o = st(e[46].label) + '';
		return {
			c() {
				(t = new th(!1)), (n = Fg()), (t.a = n);
			},
			m(e, i) {
				t.m(o, e, i), Ng(e, n, i);
			},
			p(e, n) {
				8 & n[0] && o !== (o = st(e[46].label) + '') && t.p(o);
			},
			d(e) {
				e && (Dg(n), t.d());
			},
		};
	}
	function __(e) {
		let t, n, o, i, r, s, a;
		function l(e, t) {
			return e[13] ? f_ : h_;
		}
		let c = l(e),
			d = c(e);
		function u() {
			return e[36](e[46]);
		}
		return {
			c() {
				(t = zg('li')),
					d.c(),
					(n = Bg()),
					Gg(t, 'role', 'option'),
					Gg(t, 'data-option-value', (o = e[46].value)),
					Gg(t, 'data-option-regionalvariant', (i = e[46].regionalVariant)),
					Gg(t, 'aria-selected', (r = e[0] === e[46])),
					Gg(t, 'class', 'svelte-1u7ovqn'),
					Qg(t, 'selected', e[0] === e[46]),
					Qg(t, 'keyboardSelected', e[48] === e[19]);
			},
			m(o, i) {
				Ng(o, t, i),
					d.m(t, null),
					Ag(t, n),
					s || ((a = [Wg(t, 'click', u), Wg(t, 'mousedown', qg(jg(e[33])))]), (s = !0));
			},
			p(s, a) {
				c === (c = l((e = s))) && d ? d.p(e, a) : (d.d(1), (d = c(e)), d && (d.c(), d.m(t, n))),
					8 & a[0] && o !== (o = e[46].value) && Gg(t, 'data-option-value', o),
					8 & a[0] && i !== (i = e[46].regionalVariant) && Gg(t, 'data-option-regionalvariant', i),
					9 & a[0] && r !== (r = e[0] === e[46]) && Gg(t, 'aria-selected', r),
					9 & a[0] && Qg(t, 'selected', e[0] === e[46]),
					524288 & a[0] && Qg(t, 'keyboardSelected', e[48] === e[19]);
			},
			d(e) {
				e && Dg(t), d.d(), (s = !1), pg(a);
			},
		};
	}
	function v_(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = e[1] && g_(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(o = Hg(e[17])),
					(i = Bg()),
					l && l.c(),
					Gg(n, 'aria-haspopup', 'listbox'),
					Gg(n, 'id', 'dropdown_button'),
					Gg(n, 'aria-labelledby', 'dropdown_option dropdown_button'),
					Gg(n, 'aria-expanded', e[1]),
					Gg(n, 'data-qa', e[5]),
					Gg(n, 'class', 'svelte-1u7ovqn'),
					Qg(n, 'dropdown-label', 'original' === e[7]),
					Qg(n, 'dropdown-label-alternate', 'alternate' === e[7]),
					Qg(n, 'dropdown-label-zendesk', 'zendesk' === e[7]),
					Qg(n, 'dropdown-label-input-selection-result', 'input-selection-result' === e[7]),
					Qg(n, 'dropdown-label-full-width', e[10]),
					Qg(n, 'dropdown-label-borderless', e[11]),
					Qg(n, 'dropup', 'up' === e[12]),
					Qg(n, 'extra-padding', e[14]),
					Gg(t, 'class', (r = Eg(`dropdown__wrapper ${e[4]}`) + ' svelte-1u7ovqn')),
					Gg(t, 'style', e[21]),
					Qg(t, 'disabled', e[2]);
			},
			m(r, c) {
				Ng(r, t, c),
					Ag(t, n),
					Ag(n, o),
					e[35](n),
					Ag(t, i),
					l && l.m(t, null),
					e[39](t),
					s ||
						((a = [
							Wg(n, 'click', e[23]),
							Wg(n, 'mousedown', qg(jg(e[34]))),
							Wg(n, 'keydown', e[24]),
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
							Wg(t, 'click_outside', e[38]),
						]),
						(s = !0));
			},
			p(e, i) {
				131072 & i[0] && Vg(o, e[17]),
					2 & i[0] && Gg(n, 'aria-expanded', e[1]),
					32 & i[0] && Gg(n, 'data-qa', e[5]),
					128 & i[0] && Qg(n, 'dropdown-label', 'original' === e[7]),
					128 & i[0] && Qg(n, 'dropdown-label-alternate', 'alternate' === e[7]),
					128 & i[0] && Qg(n, 'dropdown-label-zendesk', 'zendesk' === e[7]),
					128 & i[0] && Qg(n, 'dropdown-label-input-selection-result', 'input-selection-result' === e[7]),
					1024 & i[0] && Qg(n, 'dropdown-label-full-width', e[10]),
					2048 & i[0] && Qg(n, 'dropdown-label-borderless', e[11]),
					4096 & i[0] && Qg(n, 'dropup', 'up' === e[12]),
					16384 & i[0] && Qg(n, 'extra-padding', e[14]),
					e[1]
						? l
							? (l.p(e, i), 2 & i[0] && Dh(l, 1))
							: ((l = g_(e)), l.c(), Dh(l, 1), l.m(t, null))
						: l && (l.d(1), (l = null)),
					16 & i[0] && r !== (r = Eg(`dropdown__wrapper ${e[4]}`) + ' svelte-1u7ovqn') && Gg(t, 'class', r),
					2097152 & i[0] && Gg(t, 'style', e[21]),
					20 & i[0] && Qg(t, 'disabled', e[2]);
			},
			i(e) {
				Dh(l);
			},
			o: lg,
			d(n) {
				n && Dg(t), e[35](null), l && l.d(), e[39](null), (s = !1), pg(a);
			},
		};
	}
	function y_(e, t, n) {
		let { isOpen: o = !1 } = t,
			{ disabled: i = !1 } = t,
			{ items: r = [] } = t,
			{ placeholder: s = '' } = t,
			{ customClass: a = '' } = t,
			{ selectedOption: l } = t,
			{ defaultOption: c } = t,
			{ dataQaButton: d = 'dl-dropdown-button' } = t,
			{ dataQaList: u = 'dl-dropdown-list' } = t,
			{ variant: p = 'original' } = t,
			{ fontSize: m = 'default' } = t,
			{ alignRight: g = !0 } = t,
			{ extraText: h = '' } = t,
			{ isFullWidth: f = !1 } = t,
			{ isBorderless: _ = !1 } = t,
			{ direction: v = 'down' } = t,
			{ allowLabelHtml: y = !1 } = t,
			{ showSortCode: w = !1 } = t,
			{ extraPadding: b = !1 } = t,
			{ dropdownMaxHeight: E = 300 } = t,
			{ autoHeight: S = !1 } = t;
		const x = gh('deepl_settings');
		let T,
			C,
			$,
			k,
			L,
			I = 0,
			M = {},
			A = {},
			R = {},
			O = -1,
			N = 'visibility: hidden; opacity:0; height:0;';
		const D = ph();
		function P() {
			(M.spaceAbove = Math.abs(T.getBoundingClientRect().top)),
				(M.spaceBelow = Math.abs(window.innerHeight - T.getBoundingClientRect().bottom));
		}
		c && (l = c),
			dh(() => {
				setTimeout(() => {
					n(21, (N = ''));
				}, 100),
					(k = p_($, ({ clientWidth: e }) => {
						n(31, (I = e));
					}));
			}),
			uh(() => {
				k && k();
			});
		return (
			(e.$$set = (e) => {
				'isOpen' in e && n(1, (o = e.isOpen)),
					'disabled' in e && n(2, (i = e.disabled)),
					'items' in e && n(3, (r = e.items)),
					'placeholder' in e && n(25, (s = e.placeholder)),
					'customClass' in e && n(4, (a = e.customClass)),
					'selectedOption' in e && n(0, (l = e.selectedOption)),
					'defaultOption' in e && n(26, (c = e.defaultOption)),
					'dataQaButton' in e && n(5, (d = e.dataQaButton)),
					'dataQaList' in e && n(6, (u = e.dataQaList)),
					'variant' in e && n(7, (p = e.variant)),
					'fontSize' in e && n(8, (m = e.fontSize)),
					'alignRight' in e && n(9, (g = e.alignRight)),
					'extraText' in e && n(27, (h = e.extraText)),
					'isFullWidth' in e && n(10, (f = e.isFullWidth)),
					'isBorderless' in e && n(11, (_ = e.isBorderless)),
					'direction' in e && n(12, (v = e.direction)),
					'allowLabelHtml' in e && n(13, (y = e.allowLabelHtml)),
					'showSortCode' in e && n(28, (w = e.showSortCode)),
					'extraPadding' in e && n(14, (b = e.extraPadding)),
					'dropdownMaxHeight' in e && n(29, (E = e.dropdownMaxHeight)),
					'autoHeight' in e && n(30, (S = e.autoHeight));
			}),
			(e.$$.update = () => {
				(1 & e.$$.dirty[0]) | (3 & e.$$.dirty[1]) &&
					(l &&
						((R?.value === l?.value && R?.regionalVariant === l?.regionalVariant) ||
							(n(32, (R = l)),
							D('valueselected', {
								selectedOption: l,
							}))),
					I && P()),
					436207617 & e.$$.dirty[0] &&
						n(
							17,
							(C = l
								? `${w ? l.value : l.selectedOptionLabel}${h ? ` ${h}` : ''}`
								: `${s}${h ? ` ${h}` : ''}`),
						);
			}),
			[
				l,
				o,
				i,
				r,
				a,
				d,
				u,
				p,
				m,
				g,
				f,
				_,
				v,
				y,
				b,
				T,
				A,
				C,
				$,
				O,
				L,
				N,
				x,
				function () {
					'down' === v &&
						(function () {
							if (S) return;
							if (
								(P(),
								n(16, (A.top = 'auto'), A),
								n(16, (A.height = `${E}px`), A),
								M.spaceBelow > M.spaceAbove)
							)
								M.spaceBelow <= E && n(16, (A.height = Math.ceil(0.8 * M.spaceBelow) + 'px'), A);
							else {
								let e = E;
								M.spaceAbove <= E && (e = Math.ceil(0.8 * M.spaceAbove)),
									n(16, (A.height = `${e}px`), A),
									n(16, (A.top = '-' + (e + 2) + 'px'), A);
							}
						})(),
						n(1, (o = !o)),
						(function () {
							let e = T.getRootNode().querySelector('ul li[aria-selected=true]');
							setTimeout(() => {
								e?.scrollIntoView({
									block: 'nearest',
								});
							}, 0);
						})();
				},
				function (e) {
					if (!o) return;
					if ('ArrowUp' === e.key && O > 0) n(19, (O -= 1));
					else if ('ArrowDown' === e.key && O < r.length - 1) n(19, (O += 1));
					else if ('Enter' === e.key && -1 !== O) {
						const t = r[O];
						n(1, (o = !1)),
							n(0, (l = t)),
							n(19, (O = -1)),
							x.set({
								regionalVariant: t.regionalVariant || '',
							}),
							e.preventDefault(),
							e.stopPropagation();
					} else {
						if ('Escape' !== e.key) return;
						n(1, (o = !1)), n(19, (O = -1));
					}
					const t = r[O];
					var i = L.querySelector(`[data-option-value="${t.value}"]`).offsetTop - L.offsetTop;
					L.scrollTo({
						top: i,
						behavior: 'smooth',
					});
				},
				s,
				c,
				h,
				w,
				E,
				S,
				I,
				R,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(T = e), n(15, T);
					});
				},
				(e) => {
					n(1, (o = !1)),
						n(0, (l = e)),
						n(19, (O = -1)),
						x.set({
							regionalVariant: e.regionalVariant || '',
						});
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(L = e), n(20, L);
					});
				},
				() => {
					n(1, (o = !1));
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						($ = e), n(18, $);
					});
				},
			]
		);
	}
	class w_ extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					y_,
					v_,
					gg,
					{
						isOpen: 1,
						disabled: 2,
						items: 3,
						placeholder: 25,
						customClass: 4,
						selectedOption: 0,
						defaultOption: 26,
						dataQaButton: 5,
						dataQaList: 6,
						variant: 7,
						fontSize: 8,
						alignRight: 9,
						extraText: 27,
						isFullWidth: 10,
						isBorderless: 11,
						direction: 12,
						allowLabelHtml: 13,
						showSortCode: 28,
						extraPadding: 14,
						dropdownMaxHeight: 29,
						autoHeight: 30,
					},
					null,
					[-1, -1],
				);
		}
	}
	function b_(e) {
		let t, n, o, i, r;
		return (
			(n = new w_({
				props: {
					items: e[1],
					selectedOption: e[2],
					alignRight: !1,
					dataQaButton: 'deepl-formality-selection-button',
					dataQaList: 'deepl-formality-selection-list',
					variant: 'zendesk',
					isFullWidth: e[0],
					direction: 'up',
				},
			})),
			n.$on('valueselected', e[3]),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(s, a) {
					Ng(s, t, a), qh(n, t, null), (o = !0), i || ((r = Wg(t, 'mousedown', qg(jg(e[5])))), (i = !0));
				},
				p(e, [t]) {
					const o = {};
					2 & t && (o.items = e[1]),
						4 & t && (o.selectedOption = e[2]),
						1 & t && (o.isFullWidth = e[0]),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), r();
				},
			}
		);
	}
	function E_(e, t, n) {
		let o, i;
		const r = ph();
		let { value: s } = t,
			{ isFullWidth: a = !1 } = t;
		return (
			(e.$$set = (e) => {
				'value' in e && n(4, (s = e.value)), 'isFullWidth' in e && n(0, (a = e.isFullWidth));
			}),
			(e.$$.update = () => {
				18 & e.$$.dirty && n(2, (i = s ? o.find((e) => e.value === s) : o.find((e) => 'auto' === e.value)));
			}),
			n(
				1,
				(o = [
					{
						value: 'auto',
						label: chrome.i18n.getMessage('ui_formality_automatic'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_automatic'),
					},
					{
						value: 'formal',
						label: chrome.i18n.getMessage('ui_formality_formal'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_formal'),
					},
					{
						value: 'informal',
						label: chrome.i18n.getMessage('ui_formality_informal'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_informal'),
					},
				]),
			),
			[
				a,
				o,
				i,
				function (e) {
					e.detail.selectedOption.value !== s && r('selection', e.detail);
				},
				s,
				function (t) {
					hh.call(this, e, t);
				},
			]
		);
	}
	class S_ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, E_, b_, gg, {
					value: 4,
					isFullWidth: 0,
				});
		}
	}
	const x_ = 'ACCESS_DENIED',
		T_ = 'INVALID_REQUEST',
		C_ = 'INVALID_GRANT',
		$_ = 'INVALID_NONCE',
		k_ = 'PROTOCOL_ERROR',
		L_ = 'NETWORK_ERROR',
		I_ = 'FULL_PAGE_SERVER_ERROR',
		M_ = '-32003',
		A_ = '429',
		R_ = '403',
		O_ = '1045601',
		N_ = '1042902';
	function D_() {
		return !!chrome && !!chrome.tabs;
	}
	const P_ = Zh(!1);
	function z_(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML =
						'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					Gg(t, 'class', 'dl-close-icon svelte-nsrzuc');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = Wg(t, 'click', function () {
							mg(e[0]) && e[0].apply(this, arguments);
						})),
						(n = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function U_(e) {
		let t, n, o, i, r, s;
		const a = e[2].default,
			l = _g(a, e, e[1], null);
		let c = e[0] && z_(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.innerHTML =
						'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					(o = Bg()),
					(i = zg('div')),
					l && l.c(),
					(r = Bg()),
					c && c.c(),
					Gg(n, 'class', 'icon-container svelte-nsrzuc'),
					Gg(i, 'class', 'message svelte-nsrzuc'),
					Gg(t, 'class', 'error-msg svelte-nsrzuc');
			},
			m(e, a) {
				Ng(e, t, a), Ag(t, n), Ag(t, o), Ag(t, i), l && l.m(i, null), Ag(t, r), c && c.m(t, null), (s = !0);
			},
			p(e, [n]) {
				l && l.p && (!s || 2 & n) && wg(l, a, e, e[1], s ? yg(a, e[1], n, null) : bg(e[1]), null),
					e[0] ? (c ? c.p(e, n) : ((c = z_(e)), c.c(), c.m(t, null))) : c && (c.d(1), (c = null));
			},
			i(e) {
				s || (Dh(l, e), (s = !0));
			},
			o(e) {
				Ph(l, e), (s = !1);
			},
			d(e) {
				e && Dg(t), l && l.d(e), c && c.d();
			},
		};
	}
	function H_(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t,
			{ close: r } = t;
		return (
			(e.$$set = (e) => {
				'close' in e && n(0, (r = e.close)), '$$scope' in e && n(1, (i = e.$$scope));
			}),
			[r, i, o]
		);
	}
	class B_ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, H_, U_, gg, {
					close: 0,
				});
		}
	}
	function F_(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML =
						'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					Gg(t, 'class', 'dl-close-icon svelte-kyufep');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = Wg(t, 'click', function () {
							mg(e[0]) && e[0].apply(this, arguments);
						})),
						(n = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function W_(e) {
		let t, n, o, i, r, s;
		const a = e[2].default,
			l = _g(a, e, e[1], null);
		let c = e[0] && F_(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.innerHTML =
						'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					(o = Bg()),
					(i = zg('div')),
					l && l.c(),
					(r = Bg()),
					c && c.c(),
					Gg(n, 'class', 'icon-container svelte-kyufep'),
					Gg(i, 'class', 'message svelte-kyufep'),
					Gg(t, 'class', 'warn-msg svelte-kyufep');
			},
			m(e, a) {
				Ng(e, t, a), Ag(t, n), Ag(t, o), Ag(t, i), l && l.m(i, null), Ag(t, r), c && c.m(t, null), (s = !0);
			},
			p(e, [n]) {
				l && l.p && (!s || 2 & n) && wg(l, a, e, e[1], s ? yg(a, e[1], n, null) : bg(e[1]), null),
					e[0] ? (c ? c.p(e, n) : ((c = F_(e)), c.c(), c.m(t, null))) : c && (c.d(1), (c = null));
			},
			i(e) {
				s || (Dh(l, e), (s = !0));
			},
			o(e) {
				Ph(l, e), (s = !1);
			},
			d(e) {
				e && Dg(t), l && l.d(e), c && c.d();
			},
		};
	}
	function j_(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t,
			{ close: r } = t;
		return (
			(e.$$set = (e) => {
				'close' in e && n(0, (r = e.close)), '$$scope' in e && n(1, (i = e.$$scope));
			}),
			[r, i, o]
		);
	}
	class q_ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, j_, W_, gg, {
					close: 0,
				});
		}
	}
	function G_(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('error_message_generic_error')}`),
					Gg(t, 'data-qa', 'error-message-generic');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class V_ extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, G_, gg, {});
		}
	}
	function Y_(e) {
		let t;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${chrome.i18n.getMessage('error_message_internet_connection')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class K_ extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Y_, gg, {});
		}
	}
	function Z_(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('full_page_translation_error_service_not_available')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class X_ extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Z_, gg, {});
		}
	}
	const J_ = 'DOCS_GOOGLE_COM_FEEDBACK_FORM',
		Q_ = 'NEW_FEEDBACK_FORM',
		ev = 'DEEPL_COM_PRO',
		tv = 'DEEPL_COM_PRO_WRITE',
		nv = 'DEEPL_COM_TRANSLATOR',
		ov = 'DEEPL_COM_HOMEPAGE',
		iv = 'DEEPL_COM_WRITE',
		rv = 'SHORTCUT_SETTINGS',
		sv = 'CHROME_WRITE_A_REVIEW',
		av = 'EDGE_WRITE_A_REVIEW',
		lv = 'GMAIL_FEEDBACK_SURVEY',
		cv = 'GSLIDES_FEEDBACK_SURVEY',
		dv = 'FIREFOX_WRITE_A_REVIEW',
		uv = 'DEEPL_SUPPORT',
		pv = 'FIREFOX_FEEDBACK_SURVEY',
		mv = 'CUSTOMER_SEGMENTATION_SURVEY_FREE',
		gv = 'CUSTOMER_SEGMENTATION_SURVEY_PRO',
		hv = 'ARABIC_SURVEY',
		fv = 'ADDINS_ADS';
	function _v(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('warning_message_different_subscription_needed')}`),
					(o = Bg()),
					(i = zg('div')),
					(i.textContent = `${chrome.i18n.getMessage('link_get_pro_license')}`),
					Gg(i, 'class', 'link svelte-1mpkjv7'),
					Gg(t, 'class', 'container svelte-1mpkjv7');
			},
			m(a, l) {
				Ng(a, t, l), Ag(t, n), Ag(t, o), Ag(t, i), r || ((s = Wg(i, 'click', e[0])), (r = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (r = !1), s();
			},
		};
	}
	function vv(e) {
		return [
			function () {
				t({
					action: 'dlExternalURLRedirect',
					payload: {
						destination: ev,
						utmContent: 'warning_user_unauthorised',
					},
				});
			},
		];
	}
	class yv extends Yh {
		constructor(e) {
			super(), Vh(this, e, vv, _v, gg, {});
		}
	}
	function wv(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('warning_message_free_usage_limit_reached')}`),
					(o = Bg()),
					(i = zg('div')),
					(i.textContent = `${chrome.i18n.getMessage('link_try_deepl')}`),
					Gg(i, 'class', 'link svelte-1mpkjv7'),
					Gg(t, 'class', 'container svelte-1mpkjv7');
			},
			m(a, l) {
				Ng(a, t, l), Ag(t, n), Ag(t, o), Ag(t, i), r || ((s = Wg(i, 'click', e[0])), (r = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (r = !1), s();
			},
		};
	}
	function bv(e) {
		return [
			function () {
				t({
					action: 'dlExternalURLRedirect',
					payload: {
						destination: ev,
						utmContent: 'warning_user_blocked',
					},
				});
			},
		];
	}
	class Ev extends Yh {
		constructor(e) {
			super(), Vh(this, e, bv, wv, gg, {});
		}
	}
	function Sv(e) {
		let t;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${chrome.i18n.getMessage('error_message_please_login')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class xv extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Sv, gg, {});
		}
	}
	function Tv(e, t, n) {
		const o = e.slice();
		return (o[1] = t[n]), o;
	}
	function Cv(e) {
		let t,
			n = e[1].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function $v(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${e[1].text} `), Gg(t, 'class', 'link svelte-1mpkjv7');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[0])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function kv(e) {
		let t;
		let n = (function (e, t) {
				return 'deeplSupportLink' === e[1].block ? $v : Cv;
			})(e),
			o = n(e);
		return {
			c() {
				o.c(), (t = Fg());
			},
			m(e, n) {
				o.m(e, n), Ng(e, t, n);
			},
			p(e, t) {
				o.p(e, t);
			},
			d(e) {
				e && Dg(t), o.d(e);
			},
		};
	}
	function Lv(e) {
		let t,
			n = Fh(Of(chrome.i18n.getMessage('warning_message_account_limit_reached'), ['deeplSupportLink'])),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = kv(Tv(e, n, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < o.length; e += 1) o[e].c();
				Gg(t, 'class', 'container svelte-1mpkjv7');
			},
			m(e, n) {
				Ng(e, t, n);
				for (let e = 0; e < o.length; e += 1) o[e] && o[e].m(t, null);
			},
			p(e, [i]) {
				if (1 & i) {
					let r;
					for (
						n = Fh(Of(chrome.i18n.getMessage('warning_message_account_limit_reached'), ['deeplSupportLink'])),
							r = 0;
						r < n.length;
						r += 1
					) {
						const s = Tv(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = kv(s)), o[r].c(), o[r].m(t, null));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function Iv(e) {
		return [
			function () {
				t({
					action: 'dlExternalURLRedirect',
					payload: {
						destination: uv,
					},
				});
			},
		];
	}
	class Mv extends Yh {
		constructor(e) {
			super(), Vh(this, e, Iv, Lv, gg, {});
		}
	}
	function Av(e) {
		let t;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${chrome.i18n.getMessage('error_message_technical_issue')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class Rv extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Av, gg, {});
		}
	}
	function Ov(e) {
		let t;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${chrome.i18n.getMessage('error_message_session_expired')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class Nv extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Ov, gg, {});
		}
	}
	function Dv(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('full_page_translation_error_exceeds_char_limit')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class Pv extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Dv, gg, {});
		}
	}
	function zv(e, t, n) {
		const o = e.slice();
		return (o[5] = t[n]), o;
	}
	function Uv(e) {
		let t,
			n = e[5].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				4 & o && n !== (n = e[5].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Hv(e) {
		let t,
			n,
			o = e[5].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o));
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				4 & t && o !== (o = e[5].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Bv(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[5].block ? Hv : Uv;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function Fv(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M4 12L12 4M4 4L12 12'),
					Gg(n, 'stroke', 'white'),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '16'),
					Gg(t, 'viewBox', '0 0 16 16'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'class', 'svelte-1mvy8b2');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function Wv(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g = Fh(
				Of(chrome.i18n.getMessage('notification_anonymous_user_limit_exceeded_description', e[2]), [
					'strong',
				]),
			),
			h = [];
		for (let t = 0; t < g.length; t += 1) h[t] = Bv(zv(e, g, t));
		let f = e[1] && Fv(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('h1')),
					(o.textContent = `${chrome.i18n.getMessage(
						'notification_anonymous_user_limit_exceeded_headline',
					)}`),
					(i = Bg()),
					(r = zg('p'));
				for (let e = 0; e < h.length; e += 1) h[e].c();
				(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage(
						'notification_anonymous_user_limit_exceeded_login_button',
					)}`),
					(c = Bg()),
					(d = zg('button')),
					(d.textContent = `${chrome.i18n.getMessage(
						'notification_anonymous_user_limit_exceeded_signup_button',
					)}`),
					(u = Bg()),
					f && f.c(),
					Gg(o, 'class', 'svelte-1mvy8b2'),
					Gg(r, 'class', 'description svelte-1mvy8b2'),
					Gg(n, 'class', 'messages svelte-1mvy8b2'),
					Qg(n, 'small', e[0].small),
					Gg(l, 'class', 'log-in svelte-1mvy8b2'),
					Gg(d, 'class', 'sign-up svelte-1mvy8b2'),
					Gg(a, 'class', 'actions svelte-1mvy8b2'),
					Qg(a, 'small', e[0].small),
					Gg(t, 'class', 'container svelte-1mvy8b2'),
					Gg(t, 'data-testid', 'error-message-anonymous-limit-exceeded'),
					Qg(t, 'small', e[0].small);
			},
			m(g, _) {
				Ng(g, t, _), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
				for (let e = 0; e < h.length; e += 1) h[e] && h[e].m(r, null);
				Ag(t, s),
					Ag(t, a),
					Ag(a, l),
					Ag(a, c),
					Ag(a, d),
					Ag(t, u),
					f && f.m(t, null),
					p || ((m = [Wg(l, 'click', e[3]), Wg(d, 'click', e[4])]), (p = !0));
			},
			p(e, [o]) {
				if (4 & o) {
					let t;
					for (
						g = Fh(
							Of(chrome.i18n.getMessage('notification_anonymous_user_limit_exceeded_description', e[2]), [
								'strong',
							]),
						),
							t = 0;
						t < g.length;
						t += 1
					) {
						const n = zv(e, g, t);
						h[t] ? h[t].p(n, o) : ((h[t] = Bv(n)), h[t].c(), h[t].m(r, null));
					}
					for (; t < h.length; t += 1) h[t].d(1);
					h.length = g.length;
				}
				1 & o && Qg(n, 'small', e[0].small),
					1 & o && Qg(a, 'small', e[0].small),
					e[1] ? (f ? f.p(e, o) : ((f = Fv(e)), f.c(), f.m(t, null))) : f && (f.d(1), (f = null)),
					1 & o && Qg(t, 'small', e[0].small);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(h, e), f && f.d(), (p = !1), pg(m);
			},
		};
	}
	function jv(e, n, o) {
		let { config: i } = n,
			{ close: r } = n,
			s = '';
		return (
			dh(() => {
				t({
					action: 'dlGetUsersCharacterLimit',
				}).then((e) => o(2, (s = e.toString()))),
					t({
						action: 'dlTrackUpgradeNotificationIsDisplayed',
						payload: {
							type: Oe,
						},
					});
			}),
			uh(() => {
				t({
					action: 'dlTrackUpgradeNotificationClosed',
					payload: {
						type: Oe,
					},
				});
			}),
			(e.$$set = (e) => {
				'config' in e && o(0, (i = e.config)), 'close' in e && o(1, (r = e.close));
			}),
			[
				i,
				r,
				s,
				function () {
					t({
						action: 'dlRequestLogin',
					})
						.then(() => {})
						.catch((e) => {
							console.log(e);
						}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: Oe,
								cta: Ue,
							},
						});
				},
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'notification_anonymous_user_limit_exceeded',
						},
					}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: Oe,
								cta: He,
							},
						});
				},
			]
		);
	}
	class qv extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, jv, Wv, gg, {
					config: 0,
					close: 1,
				});
		}
	}
	function Gv(e, t, n) {
		const o = e.slice();
		return (o[4] = t[n]), o;
	}
	function Vv(e) {
		let t,
			n = e[4].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				4 & o && n !== (n = e[4].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Yv(e) {
		let t,
			n,
			o = e[4].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o));
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				4 & t && o !== (o = e[4].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Kv(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[4].block ? Yv : Vv;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function Zv(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M4 12L12 4M4 4L12 12'),
					Gg(n, 'stroke', 'white'),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '16'),
					Gg(t, 'viewBox', '0 0 16 16'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'class', 'svelte-1i5r4eu');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function Xv(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = Fh(
				Of(chrome.i18n.getMessage('notification_free_account_limit_exceeded_description', e[2]), ['strong']),
			),
			m = [];
		for (let t = 0; t < p.length; t += 1) m[t] = Kv(Gv(e, p, t));
		let g = e[1] && Zv(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('h1')),
					(o.textContent = `${chrome.i18n.getMessage('notification_free_account_limit_exceeded_headline')}`),
					(i = Bg()),
					(r = zg('p'));
				for (let e = 0; e < m.length; e += 1) m[e].c();
				(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage(
						'notification_free_account_limit_exceeded_signup_button',
					)}`),
					(c = Bg()),
					g && g.c(),
					Gg(o, 'class', 'svelte-1i5r4eu'),
					Gg(r, 'class', 'description svelte-1i5r4eu'),
					Gg(n, 'class', 'messages svelte-1i5r4eu'),
					Qg(n, 'small', e[0].small),
					Gg(l, 'class', 'sign-up svelte-1i5r4eu'),
					Gg(a, 'class', 'actions svelte-1i5r4eu'),
					Qg(a, 'small', e[0].small),
					Gg(t, 'class', 'container svelte-1i5r4eu'),
					Gg(t, 'data-testid', 'error-message-limit-exceeded-free-account'),
					Qg(t, 'small', e[0].small);
			},
			m(p, h) {
				Ng(p, t, h), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
				for (let e = 0; e < m.length; e += 1) m[e] && m[e].m(r, null);
				Ag(t, s),
					Ag(t, a),
					Ag(a, l),
					Ag(t, c),
					g && g.m(t, null),
					d || ((u = Wg(l, 'click', e[3])), (d = !0));
			},
			p(e, [o]) {
				if (4 & o) {
					let t;
					for (
						p = Fh(
							Of(chrome.i18n.getMessage('notification_free_account_limit_exceeded_description', e[2]), [
								'strong',
							]),
						),
							t = 0;
						t < p.length;
						t += 1
					) {
						const n = Gv(e, p, t);
						m[t] ? m[t].p(n, o) : ((m[t] = Kv(n)), m[t].c(), m[t].m(r, null));
					}
					for (; t < m.length; t += 1) m[t].d(1);
					m.length = p.length;
				}
				1 & o && Qg(n, 'small', e[0].small),
					1 & o && Qg(a, 'small', e[0].small),
					e[1] ? (g ? g.p(e, o) : ((g = Zv(e)), g.c(), g.m(t, null))) : g && (g.d(1), (g = null)),
					1 & o && Qg(t, 'small', e[0].small);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(m, e), g && g.d(), (d = !1), u();
			},
		};
	}
	function Jv(e, n, o) {
		let { config: i } = n,
			{ close: r } = n,
			s = '';
		return (
			dh(() => {
				t({
					action: 'dlGetUsersCharacterLimit',
				}).then((e) => o(2, (s = e.toString()))),
					t({
						action: 'dlTrackUpgradeNotificationIsDisplayed',
						payload: {
							type: Ne,
						},
					});
			}),
			uh(() => {
				t({
					action: 'dlTrackUpgradeNotificationClosed',
					payload: {
						type: Ne,
					},
				});
			}),
			(e.$$set = (e) => {
				'config' in e && o(0, (i = e.config)), 'close' in e && o(1, (r = e.close));
			}),
			[
				i,
				r,
				s,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'notification_free_account_limit_exceeded',
						},
					}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: Ne,
								cta: ze,
							},
						});
				},
			]
		);
	}
	class Qv extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Jv, Xv, gg, {
					config: 0,
					close: 1,
				});
		}
	}
	function ey(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M4 12L12 4M4 4L12 12'),
					Gg(n, 'stroke', 'white'),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '16'),
					Gg(t, 'viewBox', '0 0 16 16'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'class', 'svelte-1uko7yn');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function ty(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = chrome.i18n.getMessage('limit_popup_translator_subscribe_to_paid_body') + '',
			m = e[1] && ey(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('h1')),
					(o.textContent = `${chrome.i18n.getMessage('limit_popup_translator_free_title')}`),
					(i = Bg()),
					(r = zg('p')),
					(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('limit_popup_upgrade_translator_cta')}`),
					(c = Bg()),
					m && m.c(),
					Gg(o, 'class', 'svelte-1uko7yn'),
					Gg(r, 'class', 'description svelte-1uko7yn'),
					Gg(n, 'class', 'messages small svelte-1uko7yn'),
					Qg(n, 'small', e[0].small),
					Gg(l, 'class', 'sign-up svelte-1uko7yn'),
					Gg(a, 'class', 'actions svelte-1uko7yn'),
					Qg(a, 'small', e[0].small),
					Gg(t, 'class', 'container svelte-1uko7yn'),
					Gg(t, 'data-testid', 'error-message-limit-exceeded-translator-free-write-pro'),
					Qg(t, 'small', e[0].small);
			},
			m(g, h) {
				Ng(g, t, h),
					Ag(t, n),
					Ag(n, o),
					Ag(n, i),
					Ag(n, r),
					(r.innerHTML = p),
					Ag(t, s),
					Ag(t, a),
					Ag(a, l),
					Ag(t, c),
					m && m.m(t, null),
					d || ((u = Wg(l, 'click', e[2])), (d = !0));
			},
			p(e, [o]) {
				1 & o && Qg(n, 'small', e[0].small),
					1 & o && Qg(a, 'small', e[0].small),
					e[1] ? (m ? m.p(e, o) : ((m = ey(e)), m.c(), m.m(t, null))) : m && (m.d(1), (m = null)),
					1 & o && Qg(t, 'small', e[0].small);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), m && m.d(), (d = !1), u();
			},
		};
	}
	function ny(e, n, o) {
		let { config: i } = n,
			{ close: r } = n;
		return (
			dh(() => {
				t({
					action: 'dlTrackUpgradeNotificationIsDisplayed',
					payload: {
						type: Ne,
					},
				});
			}),
			uh(() => {
				t({
					action: 'dlTrackUpgradeNotificationClosed',
					payload: {
						type: Ne,
					},
				});
			}),
			(e.$$set = (e) => {
				'config' in e && o(0, (i = e.config)), 'close' in e && o(1, (r = e.close));
			}),
			[
				i,
				r,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'notification_translator_limit_exceeded_with_write_pro',
						},
					}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: Ne,
								cta: ze,
							},
						});
				},
			]
		);
	}
	class oy extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, ny, ty, gg, {
					config: 0,
					close: 1,
				});
		}
	}
	function iy(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage(
						'notification_anonymous_user_limit_exceeded_login_button',
					)}`),
					Gg(t, 'class', 'log-in svelte-1tmoo4x');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[4])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function ry(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M4 12L12 4M4 4L12 12'),
					Gg(n, 'stroke', 'white'),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '16'),
					Gg(t, 'viewBox', '0 0 16 16'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'class', 'svelte-1tmoo4x');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function sy(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m = chrome.i18n.getMessage('limit_popup_write_anon_free_body') + '',
			g = !e[2] && iy(e),
			h = e[1] && ry(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('h1')),
					(o.textContent = `${chrome.i18n.getMessage('limit_popup_write_title')}`),
					(i = Bg()),
					(r = zg('p')),
					(s = Bg()),
					(a = zg('div')),
					g && g.c(),
					(l = Bg()),
					(c = zg('button')),
					(c.textContent = `${chrome.i18n.getMessage('limit_popup_try_for_free_cta')}`),
					(d = Bg()),
					h && h.c(),
					Gg(o, 'class', 'svelte-1tmoo4x'),
					Gg(r, 'class', 'description svelte-1tmoo4x'),
					Gg(n, 'class', 'messages svelte-1tmoo4x'),
					Qg(n, 'small', e[0].small),
					Gg(c, 'class', 'sign-up svelte-1tmoo4x'),
					Gg(a, 'class', 'actions svelte-1tmoo4x'),
					Qg(a, 'small', e[0].small),
					Gg(t, 'class', 'container svelte-1tmoo4x'),
					Gg(t, 'data-testid', 'error-message-limit-exceeded-translator-free-write-anon-or-free'),
					Qg(t, 'small', e[0].small);
			},
			m(f, _) {
				Ng(f, t, _),
					Ag(t, n),
					Ag(n, o),
					Ag(n, i),
					Ag(n, r),
					(r.innerHTML = m),
					Ag(t, s),
					Ag(t, a),
					g && g.m(a, null),
					Ag(a, l),
					Ag(a, c),
					Ag(t, d),
					h && h.m(t, null),
					u || ((p = Wg(c, 'click', e[3])), (u = !0));
			},
			p(e, [o]) {
				1 & o && Qg(n, 'small', e[0].small),
					e[2] ? g && (g.d(1), (g = null)) : g ? g.p(e, o) : ((g = iy(e)), g.c(), g.m(a, l)),
					1 & o && Qg(a, 'small', e[0].small),
					e[1] ? (h ? h.p(e, o) : ((h = ry(e)), h.c(), h.m(t, null))) : h && (h.d(1), (h = null)),
					1 & o && Qg(t, 'small', e[0].small);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), g && g.d(), h && h.d(), (u = !1), p();
			},
		};
	}
	function ay(e, n, o) {
		let i, r;
		fg(e, Xh, (e) => o(5, (r = e)));
		let { config: s } = n,
			{ close: a } = n;
		return (
			dh(() => {
				t({
					action: 'dlTrackUpgradeNotificationIsDisplayed',
					payload: {
						type: i ? Pe : De,
					},
				});
			}),
			uh(() => {
				t({
					action: 'dlTrackUpgradeNotificationClosed',
					payload: {
						type: i ? Pe : De,
					},
				});
			}),
			(e.$$set = (e) => {
				'config' in e && o(0, (s = e.config)), 'close' in e && o(1, (a = e.close));
			}),
			(e.$$.update = () => {
				32 & e.$$.dirty && o(2, (i = Ze(r)));
			}),
			[
				s,
				a,
				i,
				function () {
					let e = 'notification_free_account_limit_exceeded_write';
					if (s && s.nicheIntegration)
						switch (s.nicheIntegration) {
							case ne.gmail:
								e = 'gmail_customization_write';
								break;
							case ne.gslides:
								e = 'gslides_customization_write';
						}
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: tv,
							utmContent: e,
						},
					}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: i ? Pe : De,
								cta: ze,
							},
						});
				},
				function () {
					t({
						action: 'dlRequestLogin',
					})
						.then(() => {})
						.catch((e) => {
							console.log(e);
						}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: i ? Pe : De,
								cta: Ue,
							},
						});
				},
				r,
			]
		);
	}
	class ly extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, ay, sy, gg, {
					config: 0,
					close: 1,
				});
		}
	}
	function cy(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M4 12L12 4M4 4L12 12'),
					Gg(n, 'stroke', 'white'),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '16'),
					Gg(t, 'viewBox', '0 0 16 16'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'class', 'svelte-1i5r4eu');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function dy(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = chrome.i18n.getMessage('limit_popup_write_anon_free_body') + '',
			m = e[1] && cy(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('h1')),
					(o.textContent = `${chrome.i18n.getMessage('limit_popup_write_title')}`),
					(i = Bg()),
					(r = zg('p')),
					(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('limit_popup_upgrade_write_cta')}`),
					(c = Bg()),
					m && m.c(),
					Gg(o, 'class', 'svelte-1i5r4eu'),
					Gg(r, 'class', 'description svelte-1i5r4eu'),
					Gg(n, 'class', 'messages svelte-1i5r4eu'),
					Qg(n, 'small', e[0].small),
					Gg(l, 'class', 'sign-up svelte-1i5r4eu'),
					Gg(a, 'class', 'actions svelte-1i5r4eu'),
					Qg(a, 'small', e[0].small),
					Gg(t, 'class', 'container svelte-1i5r4eu'),
					Gg(t, 'data-testid', 'error-message-limit-exceeded-translator-pro-write-anon-or-free'),
					Qg(t, 'small', e[0].small);
			},
			m(g, h) {
				Ng(g, t, h),
					Ag(t, n),
					Ag(n, o),
					Ag(n, i),
					Ag(n, r),
					(r.innerHTML = p),
					Ag(t, s),
					Ag(t, a),
					Ag(a, l),
					Ag(t, c),
					m && m.m(t, null),
					d || ((u = Wg(l, 'click', e[2])), (d = !0));
			},
			p(e, [o]) {
				1 & o && Qg(n, 'small', e[0].small),
					1 & o && Qg(a, 'small', e[0].small),
					e[1] ? (m ? m.p(e, o) : ((m = cy(e)), m.c(), m.m(t, null))) : m && (m.d(1), (m = null)),
					1 & o && Qg(t, 'small', e[0].small);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), m && m.d(), (d = !1), u();
			},
		};
	}
	function uy(e, n, o) {
		let i, r;
		fg(e, Xh, (e) => o(3, (r = e)));
		let { config: s } = n,
			{ close: a } = n;
		return (
			dh(() => {
				t({
					action: 'dlTrackUpgradeNotificationIsDisplayed',
					payload: {
						type: i ? Pe : De,
					},
				});
			}),
			uh(() => {
				t({
					action: 'dlTrackUpgradeNotificationClosed',
					payload: {
						type: i ? Pe : De,
					},
				});
			}),
			(e.$$set = (e) => {
				'config' in e && o(0, (s = e.config)), 'close' in e && o(1, (a = e.close));
			}),
			(e.$$.update = () => {
				8 & e.$$.dirty && (i = Ze(r));
			}),
			[
				s,
				a,
				function () {
					let e = 'notification_write_limit_exceeded_with_translator_pro';
					if (s && s.nicheIntegration)
						switch (s.nicheIntegration) {
							case ne.gmail:
								e = 'gmail_customization_write';
								break;
							case ne.gslides:
								e = 'gslides_customization_write';
						}
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: tv,
							utmContent: e,
						},
					}),
						t({
							action: 'dlTrackUpgradeNotificationAction',
							payload: {
								type: i ? Pe : De,
								cta: ze,
							},
						});
				},
				r,
			]
		);
	}
	class py extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, uy, dy, gg, {
					config: 0,
					close: 1,
				});
		}
	}
	function my(e) {
		let t, n, o;
		var i = e[2];
		function r(e, t) {
			return {
				props: {
					config: e[1],
					close: e[0],
				},
			};
		}
		return (
			i && (t = nh(i, r(e))),
			{
				c() {
					t && jh(t.$$.fragment), (n = Fg());
				},
				m(e, i) {
					t && qh(t, e, i), Ng(e, n, i), (o = !0);
				},
				p(e, o) {
					if (4 & o && i !== (i = e[2])) {
						if (t) {
							Oh();
							const e = t;
							Ph(e.$$.fragment, 1, 0, () => {
								Gh(e, 1);
							}),
								Nh();
						}
						i
							? ((t = nh(i, r(e))), jh(t.$$.fragment), Dh(t.$$.fragment, 1), qh(t, n.parentNode, n))
							: (t = null);
					} else if (i) {
						const n = {};
						2 & o && (n.config = e[1]), 1 & o && (n.close = e[0]), t.$set(n);
					}
				},
				i(e) {
					o || (t && Dh(t.$$.fragment, e), (o = !0));
				},
				o(e) {
					t && Ph(t.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(n), t && Gh(t, e);
				},
			}
		);
	}
	function gy(e) {
		let t, n;
		return (
			(t = new q_({
				props: {
					close: e[0],
					config: e[1],
					$$slots: {
						default: [fy],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n && (o.close = e[0]),
						2 & n && (o.config = e[1]),
						262 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function hy(e) {
		let t, n;
		return (
			(t = new B_({
				props: {
					close: e[0],
					config: e[1],
					$$slots: {
						default: [_y],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n && (o.close = e[0]),
						2 & n && (o.config = e[1]),
						262 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function fy(e) {
		let t, n, o;
		var i = e[2];
		function r(e, t) {
			return {
				props: {
					config: e[1],
				},
			};
		}
		return (
			i && (t = nh(i, r(e))),
			{
				c() {
					t && jh(t.$$.fragment), (n = Fg());
				},
				m(e, i) {
					t && qh(t, e, i), Ng(e, n, i), (o = !0);
				},
				p(e, o) {
					if (4 & o && i !== (i = e[2])) {
						if (t) {
							Oh();
							const e = t;
							Ph(e.$$.fragment, 1, 0, () => {
								Gh(e, 1);
							}),
								Nh();
						}
						i
							? ((t = nh(i, r(e))), jh(t.$$.fragment), Dh(t.$$.fragment, 1), qh(t, n.parentNode, n))
							: (t = null);
					} else if (i) {
						const n = {};
						2 & o && (n.config = e[1]), t.$set(n);
					}
				},
				i(e) {
					o || (t && Dh(t.$$.fragment, e), (o = !0));
				},
				o(e) {
					t && Ph(t.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(n), t && Gh(t, e);
				},
			}
		);
	}
	function _y(e) {
		let t, n, o;
		var i = e[2];
		function r(e, t) {
			return {
				props: {
					config: e[1],
				},
			};
		}
		return (
			i && (t = nh(i, r(e))),
			{
				c() {
					t && jh(t.$$.fragment), (n = Fg());
				},
				m(e, i) {
					t && qh(t, e, i), Ng(e, n, i), (o = !0);
				},
				p(e, o) {
					if (4 & o && i !== (i = e[2])) {
						if (t) {
							Oh();
							const e = t;
							Ph(e.$$.fragment, 1, 0, () => {
								Gh(e, 1);
							}),
								Nh();
						}
						i
							? ((t = nh(i, r(e))), jh(t.$$.fragment), Dh(t.$$.fragment, 1), qh(t, n.parentNode, n))
							: (t = null);
					} else if (i) {
						const n = {};
						2 & o && (n.config = e[1]), t.$set(n);
					}
				},
				i(e) {
					o || (t && Dh(t.$$.fragment, e), (o = !0));
				},
				o(e) {
					t && Ph(t.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(n), t && Gh(t, e);
				},
			}
		);
	}
	function vy(e) {
		let t, n, o, i;
		const r = [hy, gy, my],
			s = [];
		function a(e, t) {
			return e[3] === e[4].SERIOUS || e[3] === e[4].UNKNOWN
				? 0
				: e[3] === e[4].WARNING
				? 1
				: e[3] === e[4].CUSTOM
				? 2
				: -1;
		}
		return (
			~(t = a(e)) && (n = s[t] = r[t](e)),
			{
				c() {
					n && n.c(), (o = Fg());
				},
				m(e, n) {
					~t && s[t].m(e, n), Ng(e, o, n), (i = !0);
				},
				p(e, [i]) {
					let l = t;
					(t = a(e)),
						t === l
							? ~t && s[t].p(e, i)
							: (n &&
									(Oh(),
									Ph(s[l], 1, 1, () => {
										s[l] = null;
									}),
									Nh()),
							  ~t
									? ((n = s[t]),
									  n ? n.p(e, i) : ((n = s[t] = r[t](e)), n.c()),
									  Dh(n, 1),
									  n.m(o.parentNode, o))
									: (n = null));
				},
				i(e) {
					i || (Dh(n), (i = !0));
				},
				o(e) {
					Ph(n), (i = !1);
				},
				d(e) {
					e && Dg(o), ~t && s[t].d(e);
				},
			}
		);
	}
	function yy(e, t, n) {
		let i,
			r,
			{ error: s } = t,
			{ close: a } = t,
			{ config: l = {} } = t;
		const c = {
				UNKNOWN: 1,
				WARNING: 2,
				SERIOUS: 3,
				CUSTOM: 4,
			},
			d = {
				[nf]: V_,
				[of]: K_,
				[rf]: X_,
				[lf]: xv,
				[x_]: Nv,
				[C_]: Nv,
				[T_]: Nv,
				[$_]: Nv,
				[af]: Ev,
				[df]: Ev,
				[gf]: Pv,
				[sf]: yv,
				[cf]: Mv,
				[mf]: Rv,
				[hf]: Qv,
				[ff]: qv,
				[_f]: oy,
				[vf]: ly,
				[yf]: py,
				[k_]: V_,
				[L_]: K_,
				[I_]: X_,
				[R_]: xv,
				[A_]: Ev,
				[N_]: Ev,
				[M_]: yv,
				[O_]: Mv,
			};
		return (
			dh(() => {
				D_()
					? o({
							action: 'dlErrorVisibility',
							payload: {
								state: !0,
							},
					  })
					: P_.set(!0);
			}),
			uh(() => {
				D_()
					? o({
							action: 'dlErrorVisibility',
							payload: {
								state: !1,
							},
					  })
					: P_.set(!1);
			}),
			(e.$$set = (e) => {
				'error' in e && n(5, (s = e.error)),
					'close' in e && n(0, (a = e.close)),
					'config' in e && n(1, (l = e.config));
			}),
			(e.$$.update = () => {
				32 & e.$$.dirty &&
					n(
						3,
						(i = (function (e) {
							switch (e) {
								case nf:
								case of:
								case rf:
								case lf:
								case k_:
								case L_:
								case I_:
								case R_:
								case x_:
								case C_:
								case T_:
								case $_:
								case mf:
									return c.SERIOUS;
								case af:
								case df:
								case A_:
								case N_:
								case gf:
								case sf:
								case cf:
								case M_:
								case O_:
									return c.WARNING;
								case hf:
								case ff:
								case vf:
								case yf:
								case _f:
									return c.CUSTOM;
								default:
									return c.UNKNOWN;
							}
						})(s ? s.error : '')),
					),
					32 & e.$$.dirty && n(2, (r = (s && d[s.error]) || V_));
			}),
			[a, l, r, i, c, s]
		);
	}
	class wy extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, yy, vy, gg, {
					error: 5,
					close: 0,
					config: 1,
				});
		}
	}
	function by(e) {
		let t, n, o, i, r, s, a, l, c;
		return (
			(i = new wy({
				props: {
					error: e[3],
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('button')),
						(o = Bg()),
						jh(i.$$.fragment),
						Gg(n, 'class', 'close-button svelte-6y44uj'),
						Gg(t, 'class', 'dl-zendesk-error-message svelte-6y44uj'),
						Gg(t, 'dir', Ot());
				},
				m(r, s) {
					Ng(r, t, s),
						Ag(t, n),
						Ag(t, o),
						qh(i, t, null),
						(a = !0),
						l ||
							((c = [
								Wg(n, 'click', e[8]),
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[8]),
							]),
							(l = !0));
				},
				p(e, t) {
					const n = {};
					8 & t[0] && (n.error = e[3]), i.$set(n);
				},
				i(e) {
					a ||
						(Dh(i.$$.fragment, e),
						Sh(() => {
							a &&
								(s && s.end(1),
								(r = Uh(t, If, {
									y: -5,
									duration: 300,
								})),
								r.start());
						}),
						(a = !0));
				},
				o(e) {
					Ph(i.$$.fragment, e),
						r && r.invalidate(),
						(s = Hh(t, If, {
							y: -5,
							duration: 300,
						})),
						(a = !1);
				},
				d(e) {
					e && Dg(t), Gh(i), e && s && s.end(), (l = !1), pg(c);
				},
			}
		);
	}
	function Ey(e) {
		let t, n;
		return (
			(t = new S_({
				props: {
					value: e[6].zendeskFormality,
				},
			})),
			t.$on('selection', e[9]),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					64 & n[0] && (o.value = e[6].zendeskFormality), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function Sy(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML = '<span class="svelte-6y44uj"></span>'),
					Gg(t, 'class', 'dl-zendesk-input-icon svelte-6y44uj'),
					Qg(t, 'is-active', e[1]),
					Qg(t, 'is-loading', e[2]),
					Qg(t, 'is-language-mismatching', e[0]);
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[7])), (n = !0));
			},
			p(e, n) {
				2 & n[0] && Qg(t, 'is-active', e[1]),
					4 & n[0] && Qg(t, 'is-loading', e[2]),
					1 & n[0] && Qg(t, 'is-language-mismatching', e[0]);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function xy(e) {
		let t,
			n,
			o,
			i,
			r,
			s = e[3] && by(e),
			a = e[4] && Ey(e);
		return (
			(i = new u_({
				props: {
					tooltip: e[5],
					zIndex: '0',
					$$slots: {
						default: [Sy],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					s && s.c(),
						(t = Bg()),
						(n = zg('div')),
						a && a.c(),
						(o = Bg()),
						jh(i.$$.fragment),
						Gg(n, 'class', 'dl-icons-holder svelte-6y44uj'),
						Gg(n, 'dir', Ot()),
						Qg(n, 'has-formality', e[4]);
				},
				m(e, l) {
					s && s.m(e, l), Ng(e, t, l), Ng(e, n, l), a && a.m(n, null), Ag(n, o), qh(i, n, null), (r = !0);
				},
				p(e, l) {
					e[3]
						? s
							? (s.p(e, l), 8 & l[0] && Dh(s, 1))
							: ((s = by(e)), s.c(), Dh(s, 1), s.m(t.parentNode, t))
						: s &&
						  (Oh(),
						  Ph(s, 1, 1, () => {
								s = null;
						  }),
						  Nh()),
						e[4]
							? a
								? (a.p(e, l), 16 & l[0] && Dh(a, 1))
								: ((a = Ey(e)), a.c(), Dh(a, 1), a.m(n, o))
							: a &&
							  (Oh(),
							  Ph(a, 1, 1, () => {
									a = null;
							  }),
							  Nh());
					const c = {};
					32 & l[0] && (c.tooltip = e[5]),
						(7 & l[0]) | (4 & l[1]) &&
							(c.$$scope = {
								dirty: l,
								ctx: e,
							}),
						i.$set(c),
						(!r || 16 & l[0]) && Qg(n, 'has-formality', e[4]);
				},
				i(e) {
					r || (Dh(s), Dh(a), Dh(i.$$.fragment, e), (r = !0));
				},
				o(e) {
					Ph(s), Ph(a), Ph(i.$$.fragment, e), (r = !1);
				},
				d(e) {
					e && (Dg(t), Dg(n)), s && s.d(e), a && a.d(), Gh(i);
				},
			}
		);
	}
	function Ty(e, n, o) {
		let r, s, a;
		fg(e, Xh, (e) => o(6, (a = e))), mh('text_direction', Ot());
		let l,
			c,
			d,
			u,
			{ controller: p } = n,
			{ editable: m } = n,
			g = !1,
			h = !1,
			f = !1,
			_ = !1,
			v = '',
			y = '',
			w = !1;
		const b = () => {
				o(1, (g = !0));
			},
			E = () => {
				o(1, (g = !1));
			};
		async function S(e, n, o) {
			if ('dlTriggerTranslationShortcut' === e.action) {
				if (document.activeElement !== m) return;
				try {
					t({
						action: 'dlTrackUseOfShortcut',
						payload: {
							shortcutType: z,
							location: P.inputTranslationTriggerIcon,
						},
					});
				} catch (e) {
					console.error(e);
				}
				await x(), o();
			}
		}
		const x = async () => {
				if (_) return;
				const e = nt(),
					t = () => {
						if (e) {
							const e = window.getSelection().toString();
							navigator.clipboard
								.writeText(e)
								.then(() => {
									T(e);
								})
								.catch((e) => {
									console.error('Unable to copy text to clipboard', e);
								});
						} else {
							const e = new ClipboardEvent('copy', {
								bubbles: !0,
								clipboardData: new DataTransfer(),
							});
							(h = !0), m.dispatchEvent(e);
						}
					},
					n = window.getSelection();
				let o;
				(o = e
					? n &&
					  n.anchorNode &&
					  '#text' == n.anchorNode.nodeName &&
					  'Range' == n.type &&
					  m.contains(n.anchorNode)
					: n && n.baseNode && '#text' == n.baseNode.nodeName && 'Range' == n.type && m.contains(n.baseNode)),
					0 !== m.innerText.trim().length && (o ? t() : (await qf(m), setTimeout(t, 300)));
			},
			T = async (e) => {
				(h = !1), o(2, (_ = !0)), o(0, (w = !1));
				const t = p.getTicketLanguageInformation()?.language,
					n = p.getInputWorkingArea();
				n.innerHTML = st(e);
				const [i, s] = await TN({
					element: n,
					targetLang: t,
					...(r &&
						['formal', 'informal'].includes(a.zendeskFormality) && {
							formality: a.zendeskFormality,
						}),
				});
				s
					? (console.error({
							e: s,
					  }),
					  o(3, (d = s)),
					  PN({
							eventType: me,
							controller: p,
							error: s.error || s.message,
					  }))
					: i && k(i, e),
					o(2, (_ = !1));
			},
			C = async (e) => {
				if (!h) return;
				(h = !1), o(2, (_ = !0)), o(0, (w = !1));
				const t = p.getTicketLanguageInformation()?.language,
					n = e.clipboardData.getData('text/html'),
					i = p.getInputWorkingArea();
				i.innerHTML = st(n);
				const [s, l] = await TN({
					element: i,
					targetLang: t,
					...(r &&
						['formal', 'informal'].includes(a.zendeskFormality) && {
							formality: a.zendeskFormality,
						}),
				});
				l
					? (console.error({
							e: l,
					  }),
					  o(3, (d = l)),
					  PN({
							eventType: me,
							controller: p,
							error: l.error || l.message,
					  }))
					: s && k(s, n),
					o(2, (_ = !1));
			},
			$ = () => {
				if (!f) return;
				f = !1;
				window.getSelection().collapse(null);
			},
			k = (e, t) => {
				if (nt()) document.execCommand('insertText', !1, e), (f = !0);
				else {
					const t = new DataTransfer();
					t.setData('text/html', e);
					const n = new ClipboardEvent('paste', {
						bubbles: !0,
						clipboardData: t,
					});
					(f = !0), m.dispatchEvent(n);
				}
				PN({
					eventType: pe,
					controller: p,
					sourceTextLength: t.length,
					targetTextLength: e.length,
				});
			},
			L = () => {
				const e = m.innerText;
				e !== y && ((y = e), u && (clearTimeout(u), (u = void 0)), (u = setTimeout(I, 400)));
			},
			I = async () => {
				const e = p.getTicketLanguageInformation();
				if (!e || !e.isSupported || !e.isDetected) return;
				const t = m.innerText;
				if (t.trim()) {
					console.log('There has content: ', `${t.trim()}`);
					let n = await kt(t),
						i = e.language;
					(n = It(n)), (i = It(i));
					let r = !1;
					n && i && n !== i && (r = !0), w !== r && o(0, (w = r));
				} else console.log('There is no content'), o(0, (w = !1)), M();
			},
			M = () => {
				l && l.resetTooltip();
			};
		return (
			dh(() => {
				chrome.runtime.onMessage.addListener(S),
					t({
						action: 'dlCheckCommandShortcuts',
					}).then((e) => {
						o(14, (v = e ? e.filter((e) => e.name == z)[0].shortcut : ''));
					}),
					m.addEventListener('focus', b),
					m.addEventListener('blur', E),
					m.addEventListener('copy', C),
					m.addEventListener('paste', $),
					m.addEventListener('keydown', L),
					(l = Wb(p)),
					document.activeElement === m && b();
			}),
			uh(() => {
				chrome.runtime.onMessage.removeListener(S),
					m &&
						(m.removeEventListener('focus', b),
						m.removeEventListener('blur', E),
						m.removeEventListener('copy', C),
						m.removeEventListener('paste', $),
						m.removeEventListener('keydown', L),
						l && (l.cleanupDOM(), l.remove()));
			}),
			(e.$$set = (e) => {
				'controller' in e && o(10, (p = e.controller)), 'editable' in e && o(11, (m = e.editable));
			}),
			(e.$$.update = () => {
				32768 & e.$$.dirty[0] && o(4, (r = Rt(c))),
					49152 & e.$$.dirty[0] &&
						o(
							5,
							(s = i.find((e) => e.langCode === c)
								? chrome.i18n.getMessage('ui_zendesk_input_tooltip') + (v ? ` (${v})` : '')
								: ''),
						),
					1 & e.$$.dirty[0] && l && l.setIsLanguageMismatching(w);
			}),
			[
				w,
				g,
				_,
				d,
				r,
				s,
				a,
				x,
				() => {
					o(3, (d = void 0));
				},
				(e) => {
					const t = e.detail.selectedOption.value;
					Sg(Xh, (a.zendeskFormality = t), a);
				},
				p,
				m,
				(e) => {
					o(15, (c = e));
				},
				() => {
					const e = window.getSelection();
					return (
						e && e.baseNode && '#text' == e.baseNode.nodeName && 'Range' == e.type && m.contains(e.baseNode)
					);
				},
				v,
				c,
			]
		);
	}
	class Cy extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					Ty,
					xy,
					gg,
					{
						controller: 10,
						editable: 11,
						updateTargetLanguage: 12,
						getInputHasSelection: 13,
					},
					null,
					[-1, -1],
				);
		}
		get updateTargetLanguage() {
			return this.$$.ctx[12];
		}
		get getInputHasSelection() {
			return this.$$.ctx[13];
		}
	}
	class $y {
		static HTML_TAG_NAME = 'deepl-zendesk-input-icon';
		static createElement = (e = document) => {
			const t = e.createElement($y.HTML_TAG_NAME),
				n = new $y(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.getInputHasSelection = n.getInputHasSelection),
				(t.updateTargetLanguage = n.updateTargetLanguage),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ controller: e, editable: t }) => {
			this.domElement.mainComponent = new Cy({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: e,
					editable: t,
				},
			});
		};
		getInputHasSelection = () => this.domElement.mainComponent.getInputHasSelection();
		updateTargetLanguage = (e) => {
			this.domElement.mainComponent?.updateTargetLanguage(e);
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function ky(e, t, n) {
		const o = e.slice();
		return (o[16] = t[n]), (o[18] = n), o;
	}
	function Ly(e) {
		let t,
			n,
			o = !e[0] && My(e),
			i = Fh(e[3]),
			r = [];
		for (let t = 0; t < i.length; t += 1) r[t] = Oy(ky(e, i, t));
		return {
			c() {
				(t = zg('div')), o && o.c(), (n = Bg());
				for (let e = 0; e < r.length; e += 1) r[e].c();
				Gg(t, 'class', 'dl-zendesk-translation-placeholder svelte-1xx4hw'),
					Gg(t, 'dir', Ot()),
					Qg(t, 'loading-skeleton', e[0]);
			},
			m(e, i) {
				Ng(e, t, i), o && o.m(t, null), Ag(t, n);
				for (let e = 0; e < r.length; e += 1) r[e] && r[e].m(t, null);
			},
			p(e, s) {
				if ((e[0] ? o && (o.d(1), (o = null)) : o ? o.p(e, s) : ((o = My(e)), o.c(), o.m(t, n)), 8 & s)) {
					let n;
					for (i = Fh(e[3]), n = 0; n < i.length; n += 1) {
						const o = ky(e, i, n);
						r[n] ? r[n].p(o, s) : ((r[n] = Oy(o)), r[n].c(), r[n].m(t, null));
					}
					for (; n < r.length; n += 1) r[n].d(1);
					r.length = i.length;
				}
				1 & s && Qg(t, 'loading-skeleton', e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), o && o.d(), Pg(r, e);
			},
		};
	}
	function Iy(e) {
		let t, n, o;
		return (
			(n = new wy({
				props: {
					error: e[2],
					close: e[6],
				},
			})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', 'dl-zendesk-translation-placeholder has-error svelte-1xx4hw');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					4 & t && (o.error = e[2]), n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function My(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')), Gg(t, 'class', 'close-button svelte-1xx4hw');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[5])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function Ay(e) {
		let t,
			n = st(e[16]) + '';
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-1xx4hw');
			},
			m(e, o) {
				Ng(e, t, o), (t.innerHTML = n);
			},
			p(e, o) {
				8 & o && n !== (n = st(e[16]) + '') && (t.innerHTML = n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Ry(e) {
		let t;
		return {
			c() {
				t = zg('br');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Oy(e) {
		let t,
			n,
			o = e[16] && Ay(e),
			i = e[18] < e[3].length - 1 && Ry();
		return {
			c() {
				o && o.c(), (t = Bg()), i && i.c(), (n = Fg());
			},
			m(e, r) {
				o && o.m(e, r), Ng(e, t, r), i && i.m(e, r), Ng(e, n, r);
			},
			p(e, r) {
				e[16] ? (o ? o.p(e, r) : ((o = Ay(e)), o.c(), o.m(t.parentNode, t))) : o && (o.d(1), (o = null)),
					e[18] < e[3].length - 1
						? i || ((i = Ry()), i.c(), i.m(n.parentNode, n))
						: i && (i.d(1), (i = null));
			},
			d(e) {
				e && (Dg(t), Dg(n)), o && o.d(e), i && i.d(e);
			},
		};
	}
	function Ny(e) {
		let t, n, o, i, r, s, a, l, c;
		const d = [Iy, Ly],
			u = [];
		function p(e, t) {
			return e[2] ? 0 : e[1] || e[0] ? 1 : -1;
		}
		return (
			~(i = p(e)) && (r = u[i] = d[i](e)),
			{
				c() {
					(t = zg('div')),
						(n = zg('button')),
						(n.textContent = `${chrome.i18n.getMessage('ui_zendesk_message_translate')}`),
						(o = Bg()),
						r && r.c(),
						(s = Fg()),
						Gg(n, 'class', 'dl-zendesk-translate-this-ticket svelte-1xx4hw'),
						Gg(t, 'dir', Ot());
				},
				m(r, d) {
					Ng(r, t, d),
						Ag(t, n),
						Ng(r, o, d),
						~i && u[i].m(r, d),
						Ng(r, s, d),
						(a = !0),
						l || ((c = Wg(n, 'click', e[4])), (l = !0));
				},
				p(e, [t]) {
					let n = i;
					(i = p(e)),
						i === n
							? ~i && u[i].p(e, t)
							: (r &&
									(Oh(),
									Ph(u[n], 1, 1, () => {
										u[n] = null;
									}),
									Nh()),
							  ~i
									? ((r = u[i]),
									  r ? r.p(e, t) : ((r = u[i] = d[i](e)), r.c()),
									  Dh(r, 1),
									  r.m(s.parentNode, s))
									: (r = null));
				},
				i(e) {
					a || (Dh(r), (a = !0));
				},
				o(e) {
					Ph(r), (a = !1);
				},
				d(e) {
					e && (Dg(t), Dg(o), Dg(s)), ~i && u[i].d(e), (l = !1), c();
				},
			}
		);
	}
	function Dy(e, t, n) {
		let o, i;
		fg(e, Xh, (e) => n(14, (i = e))), mh('text_direction', Ot());
		let r,
			{ controller: s } = t,
			{ message: a } = t,
			l = !1,
			c = !1,
			d = !1,
			u = '',
			p = !1;
		const m = async ({ trigger: e }) => {
			n(1, (d = !1)), n(0, (l = !0)), n(2, (r = void 0));
			let t = Ib(a).innerText;
			n(11, (u = t));
			const [o, c] = await CN({
				targetLang: i.selectedTargetLanguage,
				sourceLang: s.getTicketLanguageInformation()?.language,
				text: t,
				trigger: e,
			});
			if (c)
				n(11, (u = '')),
					n(1, (d = !1)),
					n(2, (r = c)),
					(p = !0),
					PN({
						eventType: me,
						controller: s,
						error: c.error || c.message,
					});
			else if (o) {
				n(11, (u = o)),
					n(1, (d = !0)),
					PN({
						eventType: ue,
						controller: s,
						sourceTextLength: t.length,
						targetTextLength: u.length,
					});
			} else n(1, (d = !0));
			n(0, (l = !1));
		};
		return (
			(e.$$set = (e) => {
				'controller' in e && n(7, (s = e.controller)), 'message' in e && n(8, (a = e.message));
			}),
			(e.$$.update = () => {
				2048 & e.$$.dirty && n(3, (o = u.split('\n')));
			}),
			[
				l,
				d,
				r,
				o,
				() => {
					l ||
						m({
							trigger: h,
						});
				},
				() => {
					n(1, (d = !1)), n(0, (l = !1)), n(11, (u = '')), s.getIsAutoTranslatedEnabled() && (c = !0);
				},
				() => {
					n(2, (r = void 0));
				},
				s,
				a,
				() => {
					!s.getIsAutoTranslatedEnabled() ||
						d ||
						l ||
						c ||
						p ||
						m({
							trigger: g,
						});
				},
				() => {
					!d ||
						l ||
						c ||
						m({
							trigger: h,
						});
				},
				u,
			]
		);
	}
	class Py extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Dy, Ny, gg, {
					controller: 7,
					message: 8,
					processRefreshUI: 9,
					triggerTranslateAgain: 10,
				});
		}
		get processRefreshUI() {
			return this.$$.ctx[9];
		}
		get triggerTranslateAgain() {
			return this.$$.ctx[10];
		}
	}
	class zy {
		static HTML_TAG_NAME = 'deepl-zendesk-message-controller';
		static createElement = (e = document) => {
			const t = e.createElement(zy.HTML_TAG_NAME),
				n = new zy(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.processRefreshUI = n.processRefreshUI),
				(t.triggerTranslateAgain = n.triggerTranslateAgain),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ controller: e, message: t }) => {
			this.domElement.mainComponent = new Py({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: e,
					message: t,
				},
			});
		};
		processRefreshUI = () => {
			this.domElement.mainComponent.processRefreshUI();
		};
		triggerTranslateAgain = () => {
			this.domElement.mainComponent.triggerTranslateAgain();
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function Uy(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d = chrome.i18n.getMessage('ui_zendesk_input_language_mismatch') + '';
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(o = Bg()),
					(i = Hg(d)),
					Gg(n, 'class', 'dismiss-tooltip svelte-p7jbvt'),
					Gg(t, 'class', 'dl-zendesk-submit-button-tooltip svelte-p7jbvt'),
					Kg(t, 'max-width', (e[1].width || 0) + 'px'),
					Kg(t, 'bottom', e[0].height + 12 + 'px'),
					Gg(t, 'dir', Ot());
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), Ag(t, o), Ag(t, i), (a = !0), l || ((c = Wg(n, 'click', e[4])), (l = !0));
			},
			p(e, n) {
				(!a || 2 & n) && Kg(t, 'max-width', (e[1].width || 0) + 'px'),
					(!a || 1 & n) && Kg(t, 'bottom', e[0].height + 12 + 'px');
			},
			i(e) {
				a ||
					(Sh(() => {
						a &&
							(s && s.end(1),
							(r = Uh(t, If, {
								y: -5,
								duration: 500,
							})),
							r.start());
					}),
					(a = !0));
			},
			o(e) {
				r && r.invalidate(),
					(s = Hh(t, If, {
						y: -5,
						duration: 500,
					})),
					(a = !1);
			},
			d(e) {
				e && Dg(t), e && s && s.end(), (l = !1), c();
			},
		};
	}
	function Hy(e) {
		let t,
			n,
			o = e[2] && !e[3] && Uy(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[2] && !e[3]
					? o
						? (o.p(e, n), 12 & n && Dh(o, 1))
						: ((o = Uy(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function By(e, t, n) {
		mh('text_direction', Ot());
		let { coords: o } = t,
			{ containerCoords: i } = t,
			r = !1,
			s = !1;
		return (
			(e.$$set = (e) => {
				'coords' in e && n(0, (o = e.coords)), 'containerCoords' in e && n(1, (i = e.containerCoords));
			}),
			[
				o,
				i,
				r,
				s,
				() => {
					n(3, (s = !0));
				},
				(e) => {
					n(2, (r = e));
				},
				() => {
					console.log('Resetting tooltip...'), n(2, (r = !1)), n(3, (s = !1));
				},
			]
		);
	}
	class Fy extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, By, Hy, gg, {
					coords: 0,
					containerCoords: 1,
					setIsLanguageMismatching: 5,
					resetTooltip: 6,
				});
		}
		get setIsLanguageMismatching() {
			return this.$$.ctx[5];
		}
		get resetTooltip() {
			return this.$$.ctx[6];
		}
	}
	class Wy {
		static HTML_TAG_NAME = 'deepl-zendesk-submit-button-tooltip';
		static createElement = (e = document) => {
			const t = e.createElement(Wy.HTML_TAG_NAME),
				n = new Wy(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.setIsLanguageMismatching = n.setIsLanguageMismatching),
				(t.resetTooltip = n.resetTooltip),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ coords: e, containerCoords: t }) => {
			this.domElement.mainComponent = new Fy({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					coords: e,
					containerCoords: t,
				},
			});
		};
		setIsLanguageMismatching = (e) => {
			this.domElement.mainComponent?.setIsLanguageMismatching(e);
		};
		resetTooltip = () => {
			this.domElement.mainComponent?.resetTooltip();
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function jy(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					(n = Bg()),
					(o = zg('div')),
					Gg(t, 'class', 'dl-zendesk-icon svelte-i3vxpb'),
					Gg(o, 'class', 'dl-zendesk-working-area svelte-i3vxpb');
			},
			m(e, i) {
				Ng(e, t, i), Ng(e, n, i), Ng(e, o, i);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o));
			},
		};
	}
	function qy(e, t, n) {
		let o;
		fg(e, Xh, (e) => n(17, (o = e))), mh('text_direction', Ot());
		let r,
			{ pane: s } = t,
			{ ticketId: a } = t,
			{ controller: l } = t,
			c = {
				language: '',
				isDetected: !1,
				isSupported: !1,
				hasAttemptedLanguageDetection: !1,
			},
			d = !1;
		const u = {
				inputIconLanguageUpdate: void 0,
				topIconLanguageUpdate: void 0,
				toolbarLanguageUpdate: void 0,
				toolbarAutoTranslateStatus: void 0,
				ticketTypeDetection: void 0,
			},
			p = (e, t) => {
				u[e] = t;
			},
			m = () => {
				for (const e of Object.keys(u))
					if (u[e]) {
						u[e]() && (u[e] = void 0);
					}
			},
			g = async () => {
				if (!r) return;
				let e;
				try {
					switch (r) {
						case ge:
							e = await Mb(s);
							break;
						case he:
							e = await Ab(s);
					}
				} catch (e) {
					Qt() &&
						console.error({
							e: e,
						});
				}
				e &&
					((e = It(e)),
					n(13, (c.hasAttemptedLanguageDetection = !0), c),
					n(13, (c.language = e), c),
					n(13, (c.isDetected = !0), c),
					n(13, (c.isSupported = !!i.find((t) => t.langCode === e)), c),
					PN({
						eventType: ae,
						controller: l,
					}),
					jb(s));
			};
		return (
			dh(() => {
				PN({
					eventType: se,
					controller: l,
				}),
					p('ticketTypeDetection', () => {
						const e = Cb(s);
						return !!e && ((r = e), g(), !0);
					});
			}),
			(e.$$set = (e) => {
				'pane' in e && n(0, (s = e.pane)),
					'ticketId' in e && n(1, (a = e.ticketId)),
					'controller' in e && n(2, (l = e.controller));
			}),
			(e.$$.update = () => {
				8193 & e.$$.dirty &&
					p('toolbarLanguageUpdate', () =>
						Rb(s, {
							language: c.language,
							isDetected: c.isDetected,
							isSupported: c.isSupported,
						}),
					),
					8193 & e.$$.dirty &&
						(p('inputIconLanguageUpdate', () => Db(s, c.language)), p('topIconLanguageUpdate', () => Nb(s))),
					16385 & e.$$.dirty &&
						p('toolbarAutoTranslateStatus', () => {
							Ob(s, {
								isEnabled: d,
							});
						});
			}),
			[
				s,
				a,
				l,
				() => s,
				() => a,
				() => c,
				() => d,
				(e) => {
					n(13, (c.language = e.language), c),
						n(13, (c.isDetected = e.isDetected), c),
						n(13, (c.isSupported = e.isSupported), c);
				},
				(e) => {
					n(14, (d = e));
				},
				() => r,
				(e) => {
					r = e;
				},
				async (e = !1) => {
					if (
						(e &&
							n(
								13,
								(c = {
									language: '',
									isDetected: !1,
									isSupported: !1,
									hasAttemptedLanguageDetection: !1,
								}),
							),
						c.hasAttemptedLanguageDetection || (await g()),
						yb(l, o.isZendeskEnabled),
						c.isSupported && o.isZendeskEnabled)
					) {
						Pb(l);
						for (const e of $b(s)) {
							const t = zb(e);
							t && t.processRefreshUI();
						}
					}
					Bb(s), m();
				},
				() => {
					Fb(s);
				},
				c,
				d,
			]
		);
	}
	class Gy extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, qy, jy, gg, {
					pane: 0,
					ticketId: 1,
					controller: 2,
					getPane: 3,
					getTicketId: 4,
					getTicketLanguageInformation: 5,
					getIsAutoTranslatedEnabled: 6,
					setLanguageInformation: 7,
					setIsAutoTranslateEnabled: 8,
					getTicketType: 9,
					setTicketType: 10,
					processRefreshUI: 11,
					getInputHasSelection: 12,
				});
		}
		get getPane() {
			return this.$$.ctx[3];
		}
		get getTicketId() {
			return this.$$.ctx[4];
		}
		get getTicketLanguageInformation() {
			return this.$$.ctx[5];
		}
		get getIsAutoTranslatedEnabled() {
			return this.$$.ctx[6];
		}
		get setLanguageInformation() {
			return this.$$.ctx[7];
		}
		get setIsAutoTranslateEnabled() {
			return this.$$.ctx[8];
		}
		get getTicketType() {
			return this.$$.ctx[9];
		}
		get setTicketType() {
			return this.$$.ctx[10];
		}
		get processRefreshUI() {
			return this.$$.ctx[11];
		}
		get getInputHasSelection() {
			return this.$$.ctx[12];
		}
	}
	class Vy {
		static HTML_TAG_NAME = 'deepl-zendesk-ticket-controller';
		static createElement = (e = document) => {
			const t = e.createElement(Vy.HTML_TAG_NAME),
				n = new Vy(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.getTicketId = n.getTicketId),
				(t.getPane = n.getPane),
				(t.getTicketLanguageInformation = n.getTicketLanguageInformation),
				(t.getIsAutoTranslatedEnabled = n.getIsAutoTranslatedEnabled),
				(t.setIsAutoTranslateEnabled = n.setIsAutoTranslateEnabled),
				(t.getInputWorkingArea = n.getInputWorkingArea),
				(t.setLanguageInformation = n.setLanguageInformation),
				(t.getTicketType = n.getTicketType),
				(t.setTicketType = n.setTicketType),
				(t.processRefreshUI = n.processRefreshUI),
				(t.getInputHasSelection = n.getInputHasSelection),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ ticketId: e, pane: t }) => {
			this.domElement.mainComponent = new Gy({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: this.domElement,
					ticketId: e,
					pane: t,
				},
			});
		};
		getTicketId = () => this.domElement.mainComponent?.getTicketId();
		getPane = () => this.domElement.mainComponent?.getPane();
		getTicketLanguageInformation = () => this.domElement.mainComponent?.getTicketLanguageInformation();
		getIsAutoTranslatedEnabled = () => this.domElement.mainComponent?.getIsAutoTranslatedEnabled();
		setIsAutoTranslateEnabled = (e) => {
			this.domElement.mainComponent?.setIsAutoTranslateEnabled(e);
		};
		getInputWorkingArea = () => this.domElement.shadowContainer.querySelector('.dl-zendesk-working-area');
		setLanguageInformation = (e) => {
			this.domElement.mainComponent?.setLanguageInformation(e);
		};
		getTicketType = () => this.domElement.mainComponent?.getTicketType();
		setTicketType = (e) => {
			this.domElement.mainComponent?.setTicketType(e);
		};
		processRefreshUI = (e = !1) => {
			this.domElement.mainComponent.processRefreshUI(e);
		};
		getInputHasSelection = () => this.domElement.mainComponent?.getInputHasSelection();
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function Yy(e) {
		let t, n, o, i, r;
		return (
			(n = new w_({
				props: {
					items: e[3],
					selectedOption: e[2],
					alignRight: !1,
					dataQaButton: 'deepl-language-selection-button',
					dataQaList: 'deepl-language-selection-list',
					variant: 'zendesk',
					isFullWidth: e[1],
					extraText: e[0] ? chrome.i18n.getMessage('ui_zendesk_language_detected') : '',
				},
			})),
			n.$on('valueselected', e[4]),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(s, a) {
					Ng(s, t, a), qh(n, t, null), (o = !0), i || ((r = Wg(t, 'mousedown', qg(jg(e[7])))), (i = !0));
				},
				p(e, [t]) {
					const o = {};
					8 & t && (o.items = e[3]),
						4 & t && (o.selectedOption = e[2]),
						2 & t && (o.isFullWidth = e[1]),
						1 & t && (o.extraText = e[0] ? chrome.i18n.getMessage('ui_zendesk_language_detected') : ''),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), r();
				},
			}
		);
	}
	function Ky(e, t, n) {
		let o, i;
		const r = ph(),
			s = Lt();
		let { value: a } = t,
			{ isDetected: l = !1 } = t,
			{ isSupported: c = !0 } = t,
			{ isFullWidth: d = !1 } = t;
		const u = {
			label: chrome.i18n.getMessage('writing_config_tab_language_selector_empty'),
			selectedOptionLabel: chrome.i18n.getMessage('writing_config_tab_language_selector_empty'),
			value: 'NOT_SUPPORTED',
		};
		return (
			(e.$$set = (e) => {
				'value' in e && n(5, (a = e.value)),
					'isDetected' in e && n(0, (l = e.isDetected)),
					'isSupported' in e && n(6, (c = e.isSupported)),
					'isFullWidth' in e && n(1, (d = e.isFullWidth));
			}),
			(e.$$.update = () => {
				64 & e.$$.dirty && n(3, (o = [...(c ? [] : [u]), ...s])),
					96 & e.$$.dirty && n(2, (i = c ? (a ? s.find((e) => e.value === a) : void 0) : u));
			}),
			[
				l,
				d,
				i,
				o,
				function (e) {
					e.detail.selectedOption.value !== a && r('selection', e.detail);
				},
				a,
				c,
				function (t) {
					hh.call(this, e, t);
				},
			]
		);
	}
	class Zy extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Ky, Yy, gg, {
					value: 5,
					isDetected: 0,
					isSupported: 6,
					isFullWidth: 1,
				});
		}
	}
	function Xy(e) {
		let t, n, o, i;
		function r(e, t) {
			return e[1] ? ew : Qy;
		}
		let s = r(e),
			a = s(e);
		return {
			c() {
				(t = zg('button')),
					a.c(),
					Gg(t, 'class', 'translate-all svelte-147seig'),
					(t.disabled = n = !e[0].isSupported);
			},
			m(n, r) {
				Ng(n, t, r), a.m(t, null), o || ((i = Wg(t, 'click', e[6])), (o = !0));
			},
			p(e, o) {
				s === (s = r(e)) && a ? a.p(e, o) : (a.d(1), (a = s(e)), a && (a.c(), a.m(t, null))),
					1 & o && n !== (n = !e[0].isSupported) && (t.disabled = n);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), a.d(), (o = !1), i();
			},
		};
	}
	function Jy(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: chrome.i18n.getMessage(
						e[1] ? 'ui_zendesk_autotranslate_stop' : 'ui_zendesk_autotranslate_start',
					),
					$$slots: {
						default: [tw],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					2 & n &&
						(o.tooltip = chrome.i18n.getMessage(
							e[1] ? 'ui_zendesk_autotranslate_stop' : 'ui_zendesk_autotranslate_start',
						)),
						131073 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function Qy(e) {
		let t,
			n = chrome.i18n.getMessage('ui_zendesk_autotranslate_start') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function ew(e) {
		let t,
			n = chrome.i18n.getMessage('ui_zendesk_autotranslate_stop') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function tw(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					Gg(t, 'class', 'translate-all btn-icon svelte-147seig'),
					(t.disabled = n = !e[0].isSupported);
			},
			m(n, r) {
				Ng(n, t, r), o || ((i = Wg(t, 'click', e[6])), (o = !0));
			},
			p(e, o) {
				1 & o && n !== (n = !e[0].isSupported) && (t.disabled = n);
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function nw(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
		(c = new Zy({
			props: {
				value: e[0].language,
				isDetected: e[0].isDetected,
				isSupported: e[0].isSupported,
				isFullWidth: 'lg' !== e[4],
			},
		})),
			c.$on('selection', e[5]);
		const _ = [Jy, Xy],
			v = [];
		function y(e, t) {
			return 'sm' === e[4] ? 0 : 1;
		}
		return (
			(p = y(e)),
			(m = v[p] = _[p](e)),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('button')),
						(i = Bg()),
						(r = zg('div')),
						(s = zg('div')),
						(s.textContent = `${chrome.i18n.getMessage('ui_zendesk_senders_language')}`),
						(a = Bg()),
						(l = zg('div')),
						jh(c.$$.fragment),
						(d = Bg()),
						(u = zg('div')),
						m.c(),
						Gg(o, 'class', 'senders-language-toggle svelte-147seig'),
						Gg(s, 'class', 'label svelte-147seig'),
						Gg(l, 'class', 'dropdown-container svelte-147seig'),
						Gg(r, 'class', 'container svelte-147seig'),
						Qg(r, 'show', e[3]),
						Gg(n, 'class', 'senders-language svelte-147seig'),
						Gg(u, 'class', 'translate-all-container'),
						Gg(t, 'class', 'dl-zendesk-toolbar svelte-147seig'),
						Gg(t, 'dir', Ot()),
						Qg(t, 'toolbar-sm', 'sm' === e[4]),
						Qg(t, 'toolbar-md', 'md' === e[4]),
						Qg(t, 'toolbar-lg', 'lg' === e[4]);
				},
				m(m, _) {
					Ng(m, t, _),
						Ag(t, n),
						Ag(n, o),
						Ag(n, i),
						Ag(n, r),
						Ag(r, s),
						Ag(r, a),
						Ag(r, l),
						qh(c, l, null),
						Ag(t, d),
						Ag(t, u),
						v[p].m(u, null),
						e[13](t),
						(g = !0),
						h ||
							((f = [
								Wg(o, 'click', e[7]),
								xg(
									r_.call(null, n, {
										isShadow: !0,
									}),
								),
								Wg(n, 'click_outside', e[12]),
							]),
							(h = !0));
				},
				p(e, [n]) {
					const o = {};
					1 & n && (o.value = e[0].language),
						1 & n && (o.isDetected = e[0].isDetected),
						1 & n && (o.isSupported = e[0].isSupported),
						16 & n && (o.isFullWidth = 'lg' !== e[4]),
						c.$set(o),
						(!g || 8 & n) && Qg(r, 'show', e[3]);
					let i = p;
					(p = y(e)),
						p === i
							? v[p].p(e, n)
							: (Oh(),
							  Ph(v[i], 1, 1, () => {
									v[i] = null;
							  }),
							  Nh(),
							  (m = v[p]),
							  m ? m.p(e, n) : ((m = v[p] = _[p](e)), m.c()),
							  Dh(m, 1),
							  m.m(u, null)),
						(!g || 16 & n) && Qg(t, 'toolbar-sm', 'sm' === e[4]),
						(!g || 16 & n) && Qg(t, 'toolbar-md', 'md' === e[4]),
						(!g || 16 & n) && Qg(t, 'toolbar-lg', 'lg' === e[4]);
				},
				i(e) {
					g || (Dh(c.$$.fragment, e), Dh(m), (g = !0));
				},
				o(e) {
					Ph(c.$$.fragment, e), Ph(m), (g = !1);
				},
				d(n) {
					n && Dg(t), Gh(c), v[p].d(), e[13](null), (h = !1), pg(f);
				},
			}
		);
	}
	function ow(e, t, n) {
		let o;
		mh('text_direction', Ot());
		const i = [
			{
				key: 'sm',
				max: 300,
			},
			{
				key: 'md',
				min: 301,
				max: 650,
			},
			{
				key: 'lg',
				min: 651,
				isDefault: !0,
			},
		];
		let { controller: r } = t;
		const s = {
			language: '',
			isDetected: !1,
			isSupported: !1,
		};
		let a,
			l,
			c,
			d = !1,
			u = !1;
		dh(() => {
			c = p_(a, (e) => {
				n(11, (l = e.clientWidth));
			});
		}),
			uh(() => {
				c && c();
			});
		return (
			(e.$$set = (e) => {
				'controller' in e && n(8, (r = e.controller));
			}),
			(e.$$.update = () => {
				2048 & e.$$.dirty &&
					n(
						4,
						(o = ((e) => {
							const t = i.find((e) => e.isDefault);
							for (const t of i) if (!((t.min && t.min > e) || (t.max && t.max < e))) return t.key;
							return t.key;
						})(l)),
					);
			}),
			[
				s,
				d,
				a,
				u,
				o,
				(e) => {
					const t = e.detail.selectedOption.value;
					r.setLanguageInformation({
						language: t,
						isDetected: !1,
						isSupported: !0,
					}),
						PN({
							eventType: le,
							controller: r,
							metaDataOverride: {
								ticketLanguage: t,
								isTicketLanguageAutodetected: !1,
							},
						});
				},
				() => {
					const e = !d;
					r.setIsAutoTranslateEnabled(e),
						PN({
							eventType: e ? ce : de,
							controller: r,
							metaDataOverride: {
								isAutoTranslateEnabled: e,
							},
						});
				},
				() => {
					n(3, (u = !u));
				},
				r,
				({ language: e, isDetected: t, isSupported: o }) => {
					n(0, (s.language = e), s), n(0, (s.isDetected = t), s), n(0, (s.isSupported = o), s);
				},
				(e) => {
					n(1, (d = e));
				},
				l,
				() => n(3, (u = !1)),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(a = e), n(2, a);
					});
				},
			]
		);
	}
	class iw extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, ow, nw, gg, {
					controller: 8,
					updateLanguageInformation: 9,
					updateAutoTranslateStatus: 10,
				});
		}
		get updateLanguageInformation() {
			return this.$$.ctx[9];
		}
		get updateAutoTranslateStatus() {
			return this.$$.ctx[10];
		}
	}
	class rw {
		static HTML_TAG_NAME = 'deepl-zendesk-toolbar';
		static createElement = (e = document) => {
			const t = e.createElement(rw.HTML_TAG_NAME),
				n = new rw(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.updateLanguageInformation = n.updateLanguageInformation),
				(t.updateAutoTranslateStatus = n.updateAutoTranslateStatus),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ controller: e }) => {
			this.domElement.mainComponent = new iw({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: e,
				},
			});
		};
		updateLanguageInformation = (e) => {
			this.domElement.mainComponent.updateLanguageInformation(e);
		};
		updateAutoTranslateStatus = (e) => {
			this.domElement.mainComponent.updateAutoTranslateStatus(e);
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function sw(e) {
		let t, n, o, i, r;
		return (
			(n = new wy({
				props: {
					error: e[1],
					close: e[2],
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'container svelte-1wstx56'), Gg(t, 'dir', Ot());
				},
				m(e, o) {
					Ng(e, t, o), qh(n, t, null), (r = !0);
				},
				p(e, t) {
					const o = {};
					2 & t && (o.error = e[1]), 4 & t && (o.close = e[2]), n.$set(o);
				},
				i(e) {
					r ||
						(Dh(n.$$.fragment, e),
						Sh(() => {
							r &&
								(i && i.end(1),
								(o = Uh(t, If, {
									x: 100,
									duration: 1e3,
								})),
								o.start());
						}),
						(r = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e),
						o && o.invalidate(),
						(i = Hh(t, If, {
							x: 100,
							duration: 1e3,
						})),
						(r = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), e && i && i.end();
				},
			}
		);
	}
	function aw(e) {
		let t,
			n,
			o = e[3] && !1 === e[0] && sw(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[3] && !1 === e[0]
					? o
						? (o.p(e, n), 9 & n && Dh(o, 1))
						: ((o = sw(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function lw(e, t, n) {
		let o;
		fg(e, P_, (e) => n(4, (o = e))), mh('text_direction', Ot());
		let { error: i } = t,
			{ close: r } = t,
			{ errorAlreadyShown: s } = t,
			a = !1;
		return (
			dh(() => {
				setTimeout(() => {
					n(3, (a = !0)), n(0, (s = o));
				}, 100);
			}),
			(e.$$set = (e) => {
				'error' in e && n(1, (i = e.error)),
					'close' in e && n(2, (r = e.close)),
					'errorAlreadyShown' in e && n(0, (s = e.errorAlreadyShown));
			}),
			[s, i, r, a]
		);
	}
	class cw extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, lw, aw, gg, {
					error: 1,
					close: 2,
					errorAlreadyShown: 0,
				});
		}
	}
	class dw {
		static HTML_TAG_NAME = 'deepl-alert';
		static createElement = (e = document) => {
			const t = e.createElement(dw.HTML_TAG_NAME),
				n = new dw(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.mainComponent = void 0);
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e) => {
			const t = 'rtl' === Ot() ? 'left' : 'right';
			(this.domElement.shadowContainer.style.cssText = `position: fixed; top: 20px; ${t}: 20px; z-index: ${O.deepl_inline_ui.z_index}`),
				(this.domElement.mainComponent = new cw({
					target: this.domElement.shadowContainer,
					props: {
						error: e,
						close: this.cleanupDOM,
					},
				}));
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
				this.domElement.remove();
		};
	}
	function uw(e) {
		try {
			const t = dw.createElement();
			document.documentElement.appendChild(t), t.createDOM(e), s_(() => t.cleanupDOM);
		} catch (e) {
			Qt() && console.log(e);
		}
	}
	const pw = (function () {
		let e = {
			isDarkMode: Je(),
		};
		const { subscribe: t, update: n } = Zh(e);
		return (
			window.matchMedia &&
				window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
					n((e) => ({
						...e,
						isDarkMode: Je(),
					}));
				}),
			{
				subscribe: t,
				update: (e) => {
					if (Qt()) {
						const t = 'background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600';
						console.log(`%c${new Date().toISOString()} UPDATE WEBSITE STATE`, t, e);
					}
					n(
						(t) => (
							e && e.error ? uw(e.error) : P_.set(!1),
							{
								...t,
								...e,
								error: e.error ? e.error : void 0,
							}
						),
					);
				},
			}
		);
	})();
	e.websiteData = void 0;
	const mw = pw.subscribe((n) => {
		(e.websiteData = {
			...n,
		}),
			n &&
				Object.keys(n).length > 0 &&
				t({
					action: 'newWebsiteState',
					payload: {
						...n,
					},
				});
	});
	function gw(e, t, n) {
		const o = e.slice();
		return (o[24] = t[n]), o;
	}
	function hw(e, t, n) {
		const o = e.slice();
		return (o[24] = t[n]), o;
	}
	function fw(e) {
		let t, n, o, i, r;
		return (
			(n = new w_({
				props: {
					disabled: e[0],
					items: e[14],
					defaultOption: e[18],
					placeholder: e[16],
					dataQaButton: 'deepl-language-selection-button',
					dataQaList: 'deepl-language-selection-list',
					customClass: e[3],
					variant: e[5],
					fontSize: e[6],
					alignRight: e[7],
					isBorderless: e[8],
					showSortCode: e[9],
					extraPadding: e[10],
					dropdownMaxHeight: e[11],
					autoHeight: e[12],
				},
			})),
			n.$on('valueselected', e[17]),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(s, a) {
					Ng(s, t, a), qh(n, t, null), (o = !0), i || ((r = Wg(t, 'mousedown', qg(jg(e[22])))), (i = !0));
				},
				p(e, t) {
					const o = {};
					1 & t && (o.disabled = e[0]),
						16384 & t && (o.items = e[14]),
						8 & t && (o.customClass = e[3]),
						32 & t && (o.variant = e[5]),
						64 & t && (o.fontSize = e[6]),
						128 & t && (o.alignRight = e[7]),
						256 & t && (o.isBorderless = e[8]),
						512 & t && (o.showSortCode = e[9]),
						1024 & t && (o.extraPadding = e[10]),
						2048 & t && (o.dropdownMaxHeight = e[11]),
						4096 & t && (o.autoHeight = e[12]),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), r();
				},
			}
		);
	}
	function _w(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[2] && yw(),
			l = Fh(e[14]),
			c = [];
		for (let t = 0; t < l.length; t += 1) c[t] = ww(gw(e, l, t));
		return {
			c() {
				(t = zg('div')), (n = zg('select')), a && a.c(), (o = Fg());
				for (let e = 0; e < c.length; e += 1) c[e].c();
				Gg(n, 'data-qa', 'deepl-language-selection'),
					Gg(n, 'aria-label', 'Select Language'),
					Gg(n, 'class', 'svelte-1ww98o'),
					Gg(
						t,
						'class',
						(i =
							Eg('alternate' === e[5] ? 'language-selector-alternate' : 'language-selector') +
							' svelte-1ww98o'),
					);
			},
			m(i, l) {
				Ng(i, t, l), Ag(t, n), a && a.m(n, null), Ag(n, o);
				for (let e = 0; e < c.length; e += 1) c[e] && c[e].m(n, null);
				Zg(n, e[1]), r || ((s = Wg(n, 'change', jg(e[23]))), (r = !0));
			},
			p(e, r) {
				if (
					(e[2] ? (a ? a.p(e, r) : ((a = yw()), a.c(), a.m(n, o))) : a && (a.d(1), (a = null)), 16384 & r)
				) {
					let t;
					for (l = Fh(e[14]), t = 0; t < l.length; t += 1) {
						const o = gw(e, l, t);
						c[t] ? c[t].p(o, r) : ((c[t] = ww(o)), c[t].c(), c[t].m(n, null));
					}
					for (; t < c.length; t += 1) c[t].d(1);
					c.length = l.length;
				}
				16386 & r && Zg(n, e[1]),
					32 & r &&
						i !==
							(i =
								Eg('alternate' === e[5] ? 'language-selector-alternate' : 'language-selector') +
								' svelte-1ww98o') &&
						Gg(t, 'class', i);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), a && a.d(), Pg(c, e), (r = !1), s();
			},
		};
	}
	function vw(e) {
		let t,
			n,
			o,
			i,
			r = Fh(e[14]),
			s = [];
		for (let t = 0; t < r.length; t += 1) s[t] = bw(hw(e, r, t));
		return {
			c() {
				(t = zg('div')), (n = zg('select'));
				for (let e = 0; e < s.length; e += 1) s[e].c();
				(n.disabled = !0),
					Gg(n, 'data-qa', 'deepl-language-selection-readonly'),
					Gg(n, 'aria-label', 'Select Language - dropdown disabled'),
					Gg(n, 'class', 'svelte-1ww98o'),
					Gg(t, 'class', 'language-selector read-only svelte-1ww98o');
			},
			m(r, a) {
				Ng(r, t, a), Ag(t, n);
				for (let e = 0; e < s.length; e += 1) s[e] && s[e].m(n, null);
				Zg(n, e[1]), o || ((i = Wg(n, 'change', jg(Sw))), (o = !0));
			},
			p(e, t) {
				if (16384 & t) {
					let o;
					for (r = Fh(e[14]), o = 0; o < r.length; o += 1) {
						const i = hw(e, r, o);
						s[o] ? s[o].p(i, t) : ((s[o] = bw(i)), s[o].c(), s[o].m(n, null));
					}
					for (; o < s.length; o += 1) s[o].d(1);
					s.length = r.length;
				}
				16386 & t && Zg(n, e[1]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(s, e), (o = !1), i();
			},
		};
	}
	function yw(e) {
		let t,
			n,
			o,
			i = chrome.i18n.getMessage('supported_languages_undefined') + '';
		return {
			c() {
				(t = zg('option')),
					(n = Hg(i)),
					(o = Bg()),
					(t.__value = void 0),
					Yg(t, t.__value),
					Gg(t, 'data-option-regionalvariant', void 0);
			},
			m(e, i) {
				Ng(e, t, i), Ag(t, n), Ag(t, o);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function ww(e) {
		let t,
			n,
			o,
			i,
			r,
			s = e[24].label + '';
		return {
			c() {
				(t = zg('option')),
					(n = Hg(s)),
					(o = Bg()),
					(t.__value = i = e[24].value),
					Yg(t, t.__value),
					Gg(t, 'data-option-regionalvariant', (r = e[24].regionalVariant));
			},
			m(e, i) {
				Ng(e, t, i), Ag(t, n), Ag(t, o);
			},
			p(e, o) {
				16384 & o && s !== (s = e[24].label + '') && Vg(n, s),
					16384 & o && i !== (i = e[24].value) && ((t.__value = i), Yg(t, t.__value)),
					16384 & o && r !== (r = e[24].regionalVariant) && Gg(t, 'data-option-regionalvariant', r);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function bw(e) {
		let t,
			n,
			o,
			i,
			r,
			s = e[24].label + '';
		return {
			c() {
				(t = zg('option')),
					(n = Hg(s)),
					(o = Bg()),
					(t.__value = i = e[24].value),
					Yg(t, t.__value),
					Gg(t, 'data-option-regionalvariant', (r = e[24].regionalVariant));
			},
			m(e, i) {
				Ng(e, t, i), Ag(t, n), Ag(t, o);
			},
			p(e, o) {
				16384 & o && s !== (s = e[24].label + '') && Vg(n, s),
					16384 & o && i !== (i = e[24].value) && ((t.__value = i), Yg(t, t.__value)),
					16384 & o && r !== (r = e[24].regionalVariant) && Gg(t, 'data-option-regionalvariant', r);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Ew(e) {
		let t, n, o, i, r;
		const s = [vw, _w, fw],
			a = [];
		function l(e, n) {
			return e[13] ? 0 : (null == t && (t = !!D_()), t ? 1 : 2);
		}
		return (
			(n = l(e)),
			(o = a[n] = s[n](e)),
			{
				c() {
					o.c(), (i = Fg());
				},
				m(e, t) {
					a[n].m(e, t), Ng(e, i, t), (r = !0);
				},
				p(e, [t]) {
					let r = n;
					(n = l(e)),
						n === r
							? a[n].p(e, t)
							: (Oh(),
							  Ph(a[r], 1, 1, () => {
									a[r] = null;
							  }),
							  Nh(),
							  (o = a[n]),
							  o ? o.p(e, t) : ((o = a[n] = s[n](e)), o.c()),
							  Dh(o, 1),
							  o.m(i.parentNode, i));
				},
				i(e) {
					r || (Dh(o), (r = !0));
				},
				o(e) {
					Ph(o), (r = !1);
				},
				d(e) {
					e && Dg(i), a[n].d(e);
				},
			}
		);
	}
	const Sw = () => {};
	function xw(e, t, n) {
		let o,
			r = lg,
			s = () => (r(), (r = hg(p, (e) => n(21, (o = e)))), p);
		e.$$.on_destroy.push(() => r());
		const a = ph();
		let { value: l } = t,
			{ showChooseLanguageOption: c = !1 } = t,
			{ customClass: u = '' } = t,
			{ websiteSettings: p } = t;
		s();
		let m,
			{ disabled: g = !1 } = t,
			{ variant: h = 'original' } = t,
			{ fontSize: f = 'default' } = t,
			{ alignRight: _ = !1 } = t,
			{ isBorderless: v = !1 } = t,
			{ showSortCode: y = !1 } = t,
			{ extraPadding: w = !1 } = t,
			{ showRegionalVariants: b = !0 } = t,
			{ dropdownMaxHeight: E = 300 } = t,
			{ onlyShowWriteEnabledLanguages: S = !1 } = t,
			{ autoHeight: x } = t,
			{ readOnly: T = !1 } = t,
			C = c ? chrome.i18n.getMessage('supported_languages_undefined') : void 0;
		(m = b
			? Lt()
			: i
					.filter((e) => !['PT-BR', 'EN-US', 'ZH-HANT'].includes(e.langCode))
					.map((e) =>
						'EN-GB' === e.langCode
							? {
									...e,
									langCode: 'EN',
							  }
							: 'PT-PT' === e.langCode
							? {
									...e,
									langCode: 'PT',
							  }
							: e,
					)
					.map((e) => ({
						value: e.langCode,
						label: chrome.i18n.getMessage(`supported_languages_${e.langCode}`),
						selectedOptionLabel: chrome.i18n.getMessage(`supported_languages_${e.langCode}`),
					}))
					.sort((e, t) => e.label.localeCompare(t.label, chrome.i18n.getUILanguage()))),
			S && (m = m.filter((e) => At(e.value)));
		let $ = l ? m.find((e) => e.value === l) : void 0;
		return (
			(e.$$set = (e) => {
				'value' in e && n(1, (l = e.value)),
					'showChooseLanguageOption' in e && n(2, (c = e.showChooseLanguageOption)),
					'customClass' in e && n(3, (u = e.customClass)),
					'websiteSettings' in e && s(n(4, (p = e.websiteSettings))),
					'disabled' in e && n(0, (g = e.disabled)),
					'variant' in e && n(5, (h = e.variant)),
					'fontSize' in e && n(6, (f = e.fontSize)),
					'alignRight' in e && n(7, (_ = e.alignRight)),
					'isBorderless' in e && n(8, (v = e.isBorderless)),
					'showSortCode' in e && n(9, (y = e.showSortCode)),
					'extraPadding' in e && n(10, (w = e.extraPadding)),
					'showRegionalVariants' in e && n(19, (b = e.showRegionalVariants)),
					'dropdownMaxHeight' in e && n(11, (E = e.dropdownMaxHeight)),
					'onlyShowWriteEnabledLanguages' in e && n(20, (S = e.onlyShowWriteEnabledLanguages)),
					'autoHeight' in e && n(12, (x = e.autoHeight)),
					'readOnly' in e && n(13, (T = e.readOnly));
			}),
			(e.$$.update = () => {
				2097152 & e.$$.dirty &&
					(o && o.translationState === d.ongoingTranslation
						? n(0, (g = !0))
						: o && [d.none, d.isTranslationComplete].includes(o.translationState) && n(0, (g = !1)));
			}),
			[
				g,
				l,
				c,
				u,
				p,
				h,
				f,
				_,
				v,
				y,
				w,
				E,
				x,
				T,
				m,
				a,
				C,
				function (e) {
					g || a('selection', e.detail);
				},
				$,
				b,
				S,
				o,
				function (t) {
					hh.call(this, e, t);
				},
				(e) => {
					if (g) return;
					const t =
						e.target.options[e.target.selectedIndex].getAttribute('data-option-regionalVariant') || void 0;
					a('selection', {
						selectedOption: {
							value: e.target.value,
							regionalVariant: t,
						},
					});
				},
			]
		);
	}
	class Tw extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, xw, Ew, gg, {
					value: 1,
					showChooseLanguageOption: 2,
					customClass: 3,
					websiteSettings: 4,
					disabled: 0,
					variant: 5,
					fontSize: 6,
					alignRight: 7,
					isBorderless: 8,
					showSortCode: 9,
					extraPadding: 10,
					showRegionalVariants: 19,
					dropdownMaxHeight: 11,
					onlyShowWriteEnabledLanguages: 20,
					autoHeight: 12,
					readOnly: 13,
				});
		}
	}
	function Cw(e) {
		let t, n, o, i;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'd', 'M1 7L5 11L15 1'),
					Gg(n, 'stroke', (o = e[0] ? e[3] : e[4])),
					Gg(n, 'stroke-width', '2'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(n, 'class', 'svelte-mrm8jk'),
					Gg(t, 'width', e[2]),
					Gg(t, 'height', e[1]),
					Gg(t, 'class', 'checkmark svelte-mrm8jk'),
					Gg(t, 'viewBox', '0 0 16 12'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(t, 'style', (i = `padding: ${e[6]};`)),
					Qg(t, 'enableHover', e[5]);
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, [r]) {
				25 & r && o !== (o = e[0] ? e[3] : e[4]) && Gg(n, 'stroke', o),
					4 & r && Gg(t, 'width', e[2]),
					2 & r && Gg(t, 'height', e[1]),
					64 & r && i !== (i = `padding: ${e[6]};`) && Gg(t, 'style', i),
					32 & r && Qg(t, 'enableHover', e[5]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function $w(e, t, n) {
		let { disabled: o = !1 } = t,
			{ height: i = '16px' } = t,
			{ width: r = '16px' } = t,
			{ disabledColor: s = '#727A83' } = t,
			{ enabledColor: a = '#007E5E' } = t,
			{ enableHover: l = !1 } = t,
			{ padding: c } = t;
		return (
			(e.$$set = (e) => {
				'disabled' in e && n(0, (o = e.disabled)),
					'height' in e && n(1, (i = e.height)),
					'width' in e && n(2, (r = e.width)),
					'disabledColor' in e && n(3, (s = e.disabledColor)),
					'enabledColor' in e && n(4, (a = e.enabledColor)),
					'enableHover' in e && n(5, (l = e.enableHover)),
					'padding' in e && n(6, (c = e.padding));
			}),
			[o, i, r, s, a, l, c]
		);
	}
	class kw extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, $w, Cw, gg, {
					disabled: 0,
					height: 1,
					width: 2,
					disabledColor: 3,
					enabledColor: 4,
					enableHover: 5,
					padding: 6,
				});
		}
	}
	function Lw(e, t, n) {
		const o = e.slice();
		return (o[19] = t[n]), (o[21] = n), o;
	}
	function Iw(e, t, n) {
		const o = e.slice();
		return (o[22] = t[n]), o;
	}
	function Mw(e, t, n) {
		const o = e.slice();
		return (o[25] = t[n]), o;
	}
	function Aw(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = e[5].name + '',
			p = Fh(e[5].termDictionaries),
			m = [];
		for (let t = 0; t < p.length; t += 1) m[t] = Rw(Mw(e, p, t));
		let g = e[5].hasAdditionalPairs && Ow(e);
		return {
			c() {
				(t = zg('div')), (n = zg('div')), (o = zg('div')), (i = Hg(u)), (r = Bg());
				for (let e = 0; e < m.length; e += 1) m[e].c();
				(s = Bg()),
					g && g.c(),
					(a = Bg()),
					(l = zg('div')),
					(l.textContent = 'Remove'),
					Gg(o, 'class', 'title'),
					Gg(l, 'class', 'remove-button svelte-1ium3jp'),
					Gg(n, 'class', 'glossary-menu-active-glossary-display svelte-1ium3jp'),
					Gg(t, 'class', 'glossary-menu-active-glossary-display-container svelte-1ium3jp');
			},
			m(u, p) {
				Ng(u, t, p), Ag(t, n), Ag(n, o), Ag(o, i), Ag(n, r);
				for (let e = 0; e < m.length; e += 1) m[e] && m[e].m(n, null);
				Ag(n, s), g && g.m(n, null), Ag(n, a), Ag(n, l), c || ((d = Wg(l, 'click', e[9])), (c = !0));
			},
			p(e, t) {
				if ((32 & t && u !== (u = e[5].name + '') && Vg(i, u), 2080 & t)) {
					let o;
					for (p = Fh(e[5].termDictionaries), o = 0; o < p.length; o += 1) {
						const i = Mw(e, p, o);
						m[o] ? m[o].p(i, t) : ((m[o] = Rw(i)), m[o].c(), m[o].m(n, s));
					}
					for (; o < m.length; o += 1) m[o].d(1);
					m.length = p.length;
				}
				e[5].hasAdditionalPairs
					? g
						? g.p(e, t)
						: ((g = Ow(e)), g.c(), g.m(n, a))
					: g && (g.d(1), (g = null));
			},
			d(e) {
				e && Dg(t), Pg(m, e), g && g.d(), (c = !1), d();
			},
		};
	}
	function Rw(e) {
		let t,
			n = e[11](e[25].languagePair) + '';
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'lang-pair svelte-1ium3jp');
			},
			m(e, o) {
				Ng(e, t, o), (t.innerHTML = n);
			},
			p(e, o) {
				32 & o && n !== (n = e[11](e[25].languagePair) + '') && (t.innerHTML = n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Ow(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('glossary_settings_show_more_lang_pairs')}...`),
					Gg(t, 'class', 'show-more svelte-1ium3jp');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[13])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function Nw(e) {
		let t;
		function n(e, t) {
			return e[0] ? (e[3] || 0 !== e[1].length ? Dw : Pw) : zw;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function Dw(e) {
		let t,
			n = Fh(e[6]),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = Fw(Lw(e, n, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < o.length; e += 1) o[e].c();
				Gg(t, 'class', 'glossary-list svelte-1ium3jp');
			},
			m(e, n) {
				Ng(e, t, n);
				for (let e = 0; e < o.length; e += 1) o[e] && o[e].m(t, null);
			},
			p(e, i) {
				if (3270 & i) {
					let r;
					for (n = Fh(e[6]), r = 0; r < n.length; r += 1) {
						const s = Lw(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = Fw(s)), o[r].c(), o[r].m(t, null));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function Pw(e) {
		let t, n, o, i, r;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(o.innerHTML = '<div class="icon svelte-1ium3jp"></div>'),
					(i = Bg()),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('zendesk_no_glossaries_found')}`),
					Gg(o, 'class', 'icon-container svelte-1ium3jp'),
					Gg(r, 'class', 'content svelte-1ium3jp'),
					Gg(n, 'class', 'container svelte-1ium3jp'),
					Gg(t, 'class', 'glossary-not-found svelte-1ium3jp');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function zw(e) {
		let t, n, o, i, r;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(o.innerHTML = '<div class="icon svelte-1ium3jp"></div>'),
					(i = Bg()),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('zendesk_not_pro_user_body')}`),
					Gg(o, 'class', 'icon-container svelte-1ium3jp'),
					Gg(r, 'class', 'content svelte-1ium3jp'),
					Gg(n, 'class', 'container svelte-1ium3jp'),
					Gg(t, 'class', 'glossary-not-found svelte-1ium3jp');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Uw(e) {
		let t,
			n,
			o = e[11](e[22].languagePair) + '';
		return {
			c() {
				(t = zg('div')), (n = Hg(o)), Gg(t, 'class', 'lang-pair svelte-1ium3jp');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				64 & t && o !== (o = e[11](e[22].languagePair) + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Hw(e) {
		let t, n, o;
		function i() {
			return e[14](e[19]);
		}
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('glossary_settings_show_more_lang_pairs')}...`),
					Gg(t, 'class', 'show-more svelte-1ium3jp');
			},
			m(e, r) {
				Ng(e, t, r), n || ((o = Wg(t, 'click', i)), (n = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function Bw(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'divider svelte-1ium3jp');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Fw(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h = e[19].name + '',
			f = Fh(e[19].termDictionaries),
			_ = [];
		for (let t = 0; t < f.length; t += 1) _[t] = Uw(Iw(e, f, t));
		let v = e[19].hasAdditionalPairs && Hw(e);
		function y() {
			return e[15](e[19]);
		}
		let w = e[21] < e[1].length - 1 && Bw();
		return {
			c() {
				(t = zg('div')), (n = zg('div')), (o = zg('div')), (i = Hg(h)), (r = Bg());
				for (let e = 0; e < _.length; e += 1) _[e].c();
				(s = Bg()),
					v && v.c(),
					(a = Bg()),
					(l = zg('div')),
					(c = zg('input')),
					(u = Bg()),
					w && w.c(),
					(p = Fg()),
					Gg(o, 'class', 'name'),
					Gg(n, 'class', 'info svelte-1ium3jp'),
					Gg(c, 'type', 'radio'),
					(c.checked = d = e[2]?.zendeskActiveTermbase?.id === e[19].id),
					Gg(c, 'class', 'svelte-1ium3jp'),
					Gg(l, 'class', 'radio-container svelte-1ium3jp'),
					Gg(t, 'class', 'glossary-item svelte-1ium3jp');
			},
			m(e, d) {
				Ng(e, t, d), Ag(t, n), Ag(n, o), Ag(o, i), Ag(n, r);
				for (let e = 0; e < _.length; e += 1) _[e] && _[e].m(n, null);
				Ag(n, s),
					v && v.m(n, null),
					Ag(t, a),
					Ag(t, l),
					Ag(l, c),
					Ng(e, u, d),
					w && w.m(e, d),
					Ng(e, p, d),
					m || ((g = Wg(c, 'click', y)), (m = !0));
			},
			p(t, o) {
				if (((e = t), 64 & o && h !== (h = e[19].name + '') && Vg(i, h), 2112 & o)) {
					let t;
					for (f = Fh(e[19].termDictionaries), t = 0; t < f.length; t += 1) {
						const i = Iw(e, f, t);
						_[t] ? _[t].p(i, o) : ((_[t] = Uw(i)), _[t].c(), _[t].m(n, s));
					}
					for (; t < _.length; t += 1) _[t].d(1);
					_.length = f.length;
				}
				e[19].hasAdditionalPairs
					? v
						? v.p(e, o)
						: ((v = Hw(e)), v.c(), v.m(n, null))
					: v && (v.d(1), (v = null)),
					68 & o && d !== (d = e[2]?.zendeskActiveTermbase?.id === e[19].id) && (c.checked = d),
					e[21] < e[1].length - 1
						? w || ((w = Bw()), w.c(), w.m(p.parentNode, p))
						: w && (w.d(1), (w = null));
			},
			d(e) {
				e && (Dg(t), Dg(u), Dg(p)), Pg(_, e), v && v.d(), w && w.d(e), (m = !1), g();
			},
		};
	}
	function Ww(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = e[5] && Aw(e),
			m = e[4] && Nw(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = zg('div')),
					(i.textContent = 'Glossary'),
					(r = Bg()),
					(s = zg('div')),
					(a = Bg()),
					p && p.c(),
					(l = Bg()),
					m && m.c(),
					(c = Fg()),
					Gg(i, 'class', 'glossary-menu-text'),
					Gg(s, 'class', 'glossary-menu-toggle svelte-1ium3jp'),
					Qg(s, 'isGlossaryListExpanded', e[4]),
					Gg(o, 'class', 'glossary-menu-toggle-container svelte-1ium3jp'),
					Gg(n, 'class', 'glossary-menu'),
					Gg(t, 'class', 'glossary-menu-container svelte-1ium3jp'),
					Qg(t, 'isGlossaryListExpanded', e[4]);
			},
			m(g, h) {
				Ng(g, t, h),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(o, r),
					Ag(o, s),
					Ag(n, a),
					p && p.m(n, null),
					Ng(g, l, h),
					m && m.m(g, h),
					Ng(g, c, h),
					d || ((u = Wg(o, 'click', e[8])), (d = !0));
			},
			p(e, [o]) {
				16 & o && Qg(s, 'isGlossaryListExpanded', e[4]),
					e[5] ? (p ? p.p(e, o) : ((p = Aw(e)), p.c(), p.m(n, null))) : p && (p.d(1), (p = null)),
					16 & o && Qg(t, 'isGlossaryListExpanded', e[4]),
					e[4] ? (m ? m.p(e, o) : ((m = Nw(e)), m.c(), m.m(c.parentNode, c))) : m && (m.d(1), (m = null));
			},
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(l), Dg(c)), p && p.d(), m && m.d(e), (d = !1), u();
			},
		};
	}
	function jw(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(2, (i = e)));
		let { userHasZendeskPermissions: r } = n,
			s = [],
			a = !0,
			l = !1,
			c = [],
			d = null,
			u = [];
		const p = (e) => {
				o(12, (c = [...c, e]));
			},
			m = (e) => {
				const n = s.find((t) => t.id === e);
				n &&
					(Sg(Xh, (i.zendeskActiveTermbase = n), i),
					t({
						action: 'dlTrackGlossaryEnabled',
						payload: {
							nicheIntegration: ne.zendesk,
						},
					}));
			},
			g = async () => {
				o(3, (a = !0));
				try {
					const [e] = await $N();
					o(1, (s = e));
				} catch (e) {
					Qt() && console.error(e);
				} finally {
					(() => {
						if (!i.zendeskActiveTermbase) return;
						if (!s || 0 === s.length) return void Sg(Xh, (i.zendeskActiveTermbase = null), i);
						const e = s.map((e) => e.id);
						if (i.zendeskActiveTermbase && e.includes(i.zendeskActiveTermbase.id)) {
							const e = s.find((e) => e.id === i.zendeskActiveTermbase.id);
							Sg(Xh, (i.zendeskActiveTermbase = e), i);
						} else Sg(Xh, (i.zendeskActiveTermbase = null), i);
					})(),
						o(3, (a = !1));
				}
			},
			h = async (e) => {
				if ('dlChangeActiveTabStatus' === e.action) e.payload.isActive && g();
			};
		dh(() => {
			g(), chrome.runtime.onMessage.addListener(h);
		}),
			uh(() => {
				chrome.runtime.onMessage.removeListener(h);
			});
		return (
			(e.$$set = (e) => {
				'userHasZendeskPermissions' in e && o(0, (r = e.userHasZendeskPermissions));
			}),
			(e.$$.update = () => {
				4098 & e.$$.dirty &&
					o(
						6,
						(u = s.map((e) =>
							c.includes(e.id) || e.termDictionaries.length <= 3
								? e
								: {
										...e,
										termDictionaries: e.termDictionaries.slice(0, 3),
										hasAdditionalPairs: !0,
								  },
						)),
					),
					4 & e.$$.dirty && (i.zendeskActiveTermbase || o(5, (d = null))),
					4100 & e.$$.dirty &&
						i.zendeskActiveTermbase &&
						(c.includes(i.zendeskActiveTermbase.id) || i.zendeskActiveTermbase.termDictionaries.length <= 3
							? o(5, (d = i.zendeskActiveTermbase))
							: o(
									5,
									(d = {
										...i.zendeskActiveTermbase,
										termDictionaries: i.zendeskActiveTermbase.termDictionaries.slice(0, 3),
										hasAdditionalPairs: !0,
									}),
							  ));
			}),
			[
				r,
				s,
				i,
				a,
				l,
				d,
				u,
				p,
				() => {
					o(4, (l = !l)),
						l &&
							(r ||
								t({
									action: 'dlTrackZendeskGlossaryOpened',
									payload: {
										glossaryConfigOpenedWithoutGlossaryPermissions: !0,
									},
								}),
							r &&
								!a &&
								0 == s.length &&
								t({
									action: 'dlTrackZendeskGlossaryOpened',
									payload: {
										glossaryConfigOpenedWithNoGlossariesFound: !0,
									},
								}));
				},
				() => {
					Sg(Xh, (i.zendeskActiveTermbase = null), i),
						t({
							action: 'dlTrackGlossaryDisabled',
							payload: {
								nicheIntegration: ne.zendesk,
							},
						});
				},
				m,
				(e) => {
					if (!e || !e.includes('>')) return chrome.i18n.getMessage('supported_languages_undefined');
					const [t, n] = e.split('>');
					return `${chrome.i18n.getMessage(
						`supported_languages_${t.toUpperCase()}`,
					)} â ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`;
				},
				c,
				() => {
					p(d.id);
				},
				(e) => {
					p(e.id);
				},
				(e) => m(e.id),
			]
		);
	}
	class qw extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, jw, Ww, gg, {
					userHasZendeskPermissions: 0,
				});
		}
	}
	function Gw(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Vw(e) {
		let t, n, o, i, r, s;
		const a = [Xw, Zw, Kw, Yw],
			l = [];
		function c(e, t) {
			return 'onboarding' === e[4]
				? 0
				: 'user_has_reached_limit' === e[4]
				? 1
				: 'language_not_supported' === e[4]
				? 2
				: 3;
		}
		(n = c(e)), (o = l[n] = a[n](e));
		let d = !e[1] && 'onboarding' !== e[4] && Qw(e),
			u = (!e[2].isZendeskEnabled || 'default' === e[4] || 'onboarding' === e[4]) && !e[5] && ib(e);
		return {
			c() {
				(t = zg('div')),
					o.c(),
					(i = Bg()),
					d && d.c(),
					(r = Bg()),
					u && u.c(),
					Gg(t, 'class', 'dl-zendesk-modal svelte-csh6q0'),
					Qg(t, 'onboarding', 'onboarding' === e[4]);
			},
			m(e, o) {
				Ng(e, t, o), l[n].m(t, null), Ag(t, i), d && d.m(t, null), Ag(t, r), u && u.m(t, null), (s = !0);
			},
			p(e, p) {
				let m = n;
				(n = c(e)),
					n === m
						? l[n].p(e, p)
						: (Oh(),
						  Ph(l[m], 1, 1, () => {
								l[m] = null;
						  }),
						  Nh(),
						  (o = l[n]),
						  o ? o.p(e, p) : ((o = l[n] = a[n](e)), o.c()),
						  Dh(o, 1),
						  o.m(t, i)),
					e[1] || 'onboarding' === e[4]
						? d && (d.d(1), (d = null))
						: d
						? d.p(e, p)
						: ((d = Qw(e)), d.c(), d.m(t, r)),
					(e[2].isZendeskEnabled && 'default' !== e[4] && 'onboarding' !== e[4]) || e[5]
						? u && (u.d(1), (u = null))
						: u
						? u.p(e, p)
						: ((u = ib(e)), u.c(), u.m(t, null)),
					(!s || 16 & p) && Qg(t, 'onboarding', 'onboarding' === e[4]);
			},
			i(e) {
				s || (Dh(o), (s = !0));
			},
			o(e) {
				Ph(o), (s = !1);
			},
			d(e) {
				e && Dg(t), l[n].d(), d && d.d(), u && u.d();
			},
		};
	}
	function Yw(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y = chrome.i18n.getMessage('ui_zendesk_modal_deepl_translate_into') + '',
			w = chrome.i18n.getMessage('ui_zendesk_modal_ok') + '';
		n = new qw({
			props: {
				userHasZendeskPermissions: e[1],
			},
		});
		let b = !e[1] && Jw(e);
		return (
			(d = new Tw({
				props: {
					value: e[2].selectedTargetLanguage,
					websiteSettings: pw,
					disabled: !e[2].isZendeskEnabled,
					customClass: 'dropdown__zendesk-top-icon',
					fontSize: 'md',
					dropdownMaxHeight: 150,
				},
			})),
			d.$on('selection', e[13]),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						(o = Bg()),
						b && b.c(),
						(i = Bg()),
						(r = zg('div')),
						(s = Hg(y)),
						(a = Bg()),
						(l = zg('div')),
						(c = zg('div')),
						jh(d.$$.fragment),
						(u = Bg()),
						(p = zg('div')),
						(m = zg('button')),
						(g = Hg(w)),
						Gg(t, 'class', 'modal-section glossary svelte-csh6q0'),
						Gg(c, 'class', 'dropdown svelte-csh6q0'),
						Gg(m, 'class', 'btn-primary svelte-csh6q0'),
						(m.disabled = h = !e[2].isZendeskEnabled),
						Gg(p, 'class', 'right svelte-csh6q0'),
						Gg(l, 'class', 'dropdown-container svelte-csh6q0'),
						Gg(r, 'class', 'modal-section language-selector svelte-csh6q0');
				},
				m(h, y) {
					Ng(h, t, y),
						qh(n, t, null),
						Ng(h, o, y),
						b && b.m(h, y),
						Ng(h, i, y),
						Ng(h, r, y),
						Ag(r, s),
						Ag(r, a),
						Ag(r, l),
						Ag(l, c),
						qh(d, c, null),
						Ag(l, u),
						Ag(l, p),
						Ag(p, m),
						Ag(m, g),
						(f = !0),
						_ || ((v = Wg(m, 'click', e[14])), (_ = !0));
				},
				p(e, t) {
					const o = {};
					2 & t && (o.userHasZendeskPermissions = e[1]),
						n.$set(o),
						e[1] ? b && (b.d(1), (b = null)) : b ? b.p(e, t) : ((b = Jw(e)), b.c(), b.m(i.parentNode, i));
					const r = {};
					4 & t && (r.value = e[2].selectedTargetLanguage),
						4 & t && (r.disabled = !e[2].isZendeskEnabled),
						d.$set(r),
						(!f || (4 & t && h !== (h = !e[2].isZendeskEnabled))) && (m.disabled = h);
				},
				i(e) {
					f || (Dh(n.$$.fragment, e), Dh(d.$$.fragment, e), (f = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), Ph(d.$$.fragment, e), (f = !1);
				},
				d(e) {
					e && (Dg(t), Dg(o), Dg(i), Dg(r)), Gh(n), b && b.d(e), Gh(d), (_ = !1), v();
				},
			}
		);
	}
	function Kw(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('ui_zendesk_modal_language_not_supported_line_1')}`),
					(n = Bg()),
					(o = zg('div')),
					(o.textContent = `${chrome.i18n.getMessage('ui_zendesk_modal_language_not_supported_line_2')}`),
					Gg(t, 'class', 'modal-section language-not-supported svelte-csh6q0'),
					Gg(o, 'class', 'modal-section secondary-text svelte-csh6q0');
			},
			m(e, i) {
				Ng(e, t, i), Ng(e, n, i), Ng(e, o, i);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o));
			},
		};
	}
	function Zw(e) {
		let t, n, o, i, r;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = Bg()),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('zendesk_limit_reached_infobox')}`),
					Gg(o, 'class', 'icon svelte-csh6q0'),
					Gg(r, 'class', 'text svelte-csh6q0'),
					Gg(n, 'class', 'upgrade-infobox svelte-csh6q0'),
					Gg(t, 'class', 'modal-section reached-limit svelte-csh6q0');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Xw(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w = chrome.i18n.getMessage('zendesk_onboarding_content_one', [fe]) + '',
			b = chrome.i18n.getMessage('zendesk_onboarding_content_two') + '',
			E = chrome.i18n.getMessage('zendesk_onboarding_content_three') + '';
		return (
			(s = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			(u = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			(f = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(n.textContent = `${chrome.i18n.getMessage('ui_zendesk_modal_welcome')}`),
						(o = Bg()),
						(i = zg('div')),
						(r = zg('div')),
						jh(s.$$.fragment),
						(a = Bg()),
						(l = zg('div')),
						(c = Bg()),
						(d = zg('div')),
						jh(u.$$.fragment),
						(p = Bg()),
						(m = zg('div')),
						(g = Bg()),
						(h = zg('div')),
						jh(f.$$.fragment),
						(_ = Bg()),
						(v = zg('div')),
						Gg(n, 'class', 'welcome svelte-csh6q0'),
						Gg(l, 'class', 'copy-text svelte-csh6q0'),
						Gg(r, 'class', 'copy svelte-csh6q0'),
						Gg(m, 'class', 'copy-text svelte-csh6q0'),
						Gg(d, 'class', 'copy svelte-csh6q0'),
						Gg(v, 'class', 'copy-text svelte-csh6q0'),
						Gg(h, 'class', 'copy svelte-csh6q0'),
						Gg(i, 'class', 'body svelte-csh6q0'),
						Gg(t, 'class', 'modal-section onboarding svelte-csh6q0');
				},
				m(e, S) {
					Ng(e, t, S),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						Ag(i, r),
						qh(s, r, null),
						Ag(r, a),
						Ag(r, l),
						(l.innerHTML = w),
						Ag(i, c),
						Ag(i, d),
						qh(u, d, null),
						Ag(d, p),
						Ag(d, m),
						(m.innerHTML = b),
						Ag(i, g),
						Ag(i, h),
						qh(f, h, null),
						Ag(h, _),
						Ag(h, v),
						(v.innerHTML = E),
						(y = !0);
				},
				p: lg,
				i(e) {
					y || (Dh(s.$$.fragment, e), Dh(u.$$.fragment, e), Dh(f.$$.fragment, e), (y = !0));
				},
				o(e) {
					Ph(s.$$.fragment, e), Ph(u.$$.fragment, e), Ph(f.$$.fragment, e), (y = !1);
				},
				d(e) {
					e && Dg(t), Gh(s), Gh(u), Gh(f);
				},
			}
		);
	}
	function Jw(e) {
		let t,
			n,
			o,
			i,
			r,
			s = chrome.i18n.getMessage('zendesk_popup_char_limit_label', [e[6]]) + '',
			a = chrome.i18n.getMessage('zendesk_popup_char_limit_content') + '';
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = Hg(s)),
					(i = Bg()),
					(r = Hg(a)),
					Gg(n, 'class', 'translation-count svelte-csh6q0'),
					Gg(t, 'class', 'modal-section svelte-csh6q0');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(n, o), Ag(t, i), Ag(t, r);
			},
			p(e, t) {
				64 & t &&
					s !== (s = chrome.i18n.getMessage('zendesk_popup_char_limit_label', [e[6]]) + '') &&
					Vg(o, s);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Qw(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = e[5] && eb(),
			c = Fh(Of(chrome.i18n.getMessage('zendesk_try_pro_log_in_link'), ['loginLink'])),
			d = [];
		for (let t = 0; t < c.length; t += 1) d[t] = ob(Gw(e, c, t));
		return {
			c() {
				(t = zg('div')),
					l && l.c(),
					(n = Bg()),
					(o = zg('button')),
					(o.textContent = `${chrome.i18n.getMessage('zendesk_try_pro_advanced_button')}`),
					(i = Bg()),
					(r = zg('div'));
				for (let e = 0; e < d.length; e += 1) d[e].c();
				Gg(o, 'class', 'upgrade-button svelte-csh6q0'),
					Gg(r, 'class', 'login-text svelte-csh6q0'),
					Gg(t, 'class', 'modal-section upgrade-button-container svelte-csh6q0');
			},
			m(c, u) {
				Ng(c, t, u), l && l.m(t, null), Ag(t, n), Ag(t, o), Ag(t, i), Ag(t, r);
				for (let e = 0; e < d.length; e += 1) d[e] && d[e].m(r, null);
				s || ((a = Wg(o, 'click', e[10])), (s = !0));
			},
			p(e, o) {
				if ((e[5] ? (l ? l.p(e, o) : ((l = eb()), l.c(), l.m(t, n))) : l && (l.d(1), (l = null)), 512 & o)) {
					let t;
					for (
						c = Fh(Of(chrome.i18n.getMessage('zendesk_try_pro_log_in_link'), ['loginLink'])), t = 0;
						t < c.length;
						t += 1
					) {
						const n = Gw(e, c, t);
						d[t] ? d[t].p(n, o) : ((d[t] = ob(n)), d[t].c(), d[t].m(r, null));
					}
					for (; t < d.length; t += 1) d[t].d(1);
					d.length = c.length;
				}
			},
			d(e) {
				e && Dg(t), l && l.d(), Pg(d, e), (s = !1), a();
			},
		};
	}
	function eb(e) {
		let t,
			n = chrome.i18n.getMessage('zendesk_limit_reached_content') + '';
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-csh6q0');
			},
			m(e, o) {
				Ng(e, t, o), (t.innerHTML = n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function tb(e) {
		let t,
			n,
			o = e[17].text + '';
		return {
			c() {
				(t = new th(!1)), (n = Fg()), (t.a = n);
			},
			m(e, i) {
				t.m(o, e, i), Ng(e, n, i);
			},
			p: lg,
			d(e) {
				e && (Dg(n), t.d());
			},
		};
	}
	function nb(e) {
		let t,
			n,
			o,
			i = e[17].text + '';
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'upgrade-link svelte-csh6q0');
			},
			m(r, s) {
				Ng(r, t, s), (t.innerHTML = i), n || ((o = Wg(t, 'click', e[9])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function ob(e) {
		let t;
		let n = (function (e, t) {
				return 'loginLink' === e[17].block ? nb : tb;
			})(e),
			o = n(e);
		return {
			c() {
				o.c(), (t = Fg());
			},
			m(e, n) {
				o.m(e, n), Ng(e, t, n);
			},
			p(e, t) {
				o.p(e, t);
			},
			d(e) {
				e && Dg(t), o.d(e);
			},
		};
	}
	function ib(e) {
		let t, n, o, i, r, s, a;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('zendesk_popup_on_off_label')}`),
					(o = Bg()),
					(i = zg('div')),
					(r = zg('span')),
					(r.innerHTML = '<span class="svelte-csh6q0"></span>'),
					Gg(n, 'class', 'text svelte-csh6q0'),
					Gg(r, 'class', 'on-off-switch svelte-csh6q0'),
					Qg(r, 'on', e[2].isZendeskEnabled),
					Gg(i, 'class', 'switch'),
					Gg(t, 'class', 'modal-section switch-container svelte-csh6q0');
			},
			m(l, c) {
				Ng(l, t, c), Ag(t, n), Ag(t, o), Ag(t, i), Ag(i, r), s || ((a = Wg(r, 'click', e[8])), (s = !0));
			},
			p(e, t) {
				4 & t && Qg(r, 'on', e[2].isZendeskEnabled);
			},
			d(e) {
				e && Dg(t), (s = !1), a();
			},
		};
	}
	function rb(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[3] && Vw(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(o = Bg()),
					a && a.c(),
					Gg(n, 'class', 'dl-zendesk-top-icon svelte-csh6q0'),
					Gg(t, 'dir', Ot());
			},
			m(l, c) {
				Ng(l, t, c),
					Ag(t, n),
					Ag(t, o),
					a && a.m(t, null),
					(i = !0),
					r ||
						((s = [
							Wg(n, 'click', e[12]),
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
							Wg(t, 'click_outside', e[7]),
						]),
						(r = !0));
			},
			p(e, [n]) {
				e[3]
					? a
						? (a.p(e, n), 8 & n && Dh(a, 1))
						: ((a = Vw(e)), a.c(), Dh(a, 1), a.m(t, null))
					: a &&
					  (Oh(),
					  Ph(a, 1, 1, () => {
							a = null;
					  }),
					  Nh());
			},
			i(e) {
				i || (Dh(a), (i = !0));
			},
			o(e) {
				Ph(a), (i = !1);
			},
			d(e) {
				e && Dg(t), a && a.d(), (r = !1), pg(s);
			},
		};
	}
	function sb(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(2, (i = e))), mh('text_direction', Ot());
		let r,
			{ controller: s } = n,
			a = !1,
			l = 'default',
			c = !1,
			d = !1;
		const u = () => {
				c
					? o(4, (l = 'user_has_reached_limit'))
					: i.isZendeskOnboarded
					? (o(3, (a = !1)), o(4, (l = 'default')))
					: (o(4, (l = 'onboarding')),
					  Sg(Xh, (i.isZendeskOnboarded = !0), i),
					  t({
							action: 'dlTrackOnboardingModalShown',
							payload: {
								nicheIntegration: ne.zendesk,
							},
					  }),
					  o(3, (a = !0)));
			},
			p = () => {
				'onboarding' === l && (Sg(Xh, (i.isZendeskOnboarded = !0), i), o(4, (l = 'default'))),
					'welcome' === l && o(4, (l = 'default')),
					o(3, (a = !1));
			};
		dh(() => {
			u(),
				i.isZendeskEnabled &&
					i.zendeskActiveTermbase &&
					(async () => {
						if (!i.zendeskActiveTermbase) return;
						let e = [];
						try {
							const [t] = await $N();
							e = t;
						} catch (e) {
							Qt() && console.error(e);
						}
						if (!e || 0 === e.length) return void Sg(Xh, (i.zendeskActiveTermbase = null), i);
						const t = e.map((e) => e.id);
						if (i.zendeskActiveTermbase && t.includes(i.zendeskActiveTermbase.id)) {
							const t = e.find((e) => e.id === i.zendeskActiveTermbase.id);
							Sg(Xh, (i.zendeskActiveTermbase = t), i);
						} else Sg(Xh, (i.zendeskActiveTermbase = null), i);
					})();
		});
		return (
			(e.$$set = (e) => {
				'controller' in e && o(0, (s = e.controller));
			}),
			(e.$$.update = () => {
				4 & e.$$.dirty && o(1, (d = i?.featureSet?.customizations?.includes('zendesk'))),
					4 & e.$$.dirty && o(6, (r = fe - i.zendeskSuccessfulTranslations)),
					6 & e.$$.dirty && i.zendeskSuccessfulTranslations >= fe && !d && (o(5, (c = !0)), u()),
					2 & e.$$.dirty && d && (o(5, (c = !1)), o(4, (l = 'default')));
			}),
			[
				s,
				d,
				i,
				a,
				l,
				c,
				r,
				p,
				() => {
					Sg(Xh, (i.isZendeskEnabled = !i.isZendeskEnabled), i);
				},
				() => {
					t({
						action: 'dlRequestLogin',
					});
				},
				function () {
					t({
						action: 'dlTrackUILocationClicked',
						payload: P.zendeskTryProLink,
					}),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: ev,
								utmContent: 'zendesk_customization',
							},
						});
				},
				u,
				() => {
					a ? p() : o(3, (a = !0));
				},
				(e) => {
					Sg(Xh, (i.selectedTargetLanguage = e.detail.selectedOption.value), i), Hb(s);
				},
				() => {
					i.isZendeskEnabled && p();
				},
			]
		);
	}
	class ab extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, sb, rb, gg, {
					controller: 0,
					updateIconSettings: 11,
				});
		}
		get updateIconSettings() {
			return this.$$.ctx[11];
		}
	}
	class lb {
		static HTML_TAG_NAME = 'deepl-zendesk-top-icon';
		static createElement = (e = document) => {
			const t = e.createElement(lb.HTML_TAG_NAME),
				n = new lb(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.triggerUpdateIconSettings = n.triggerUpdateIconSettings),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = ({ controller: e }) => {
			this.domElement.mainComponent = new ab({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
					controller: e,
				},
			});
		};
		triggerUpdateIconSettings = () => {
			this.domElement.mainComponent.updateIconSettings();
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	const cb = [...Za].filter(
			(e) => !['BrowserApiErrors', 'TryCatch', 'Breadcrumbs', 'GlobalHandlers'].includes(e.name),
		),
		db = () => {
			const e = new ma({
					...ef,
					transport: ha,
					stackParser: Sa,
					integrations: cb,
				}),
				t = new gr();
			return (
				t.setClient(e),
				t.setContext('appContext', {
					location: 'content',
				}),
				((e) => {
					chrome.storage.sync.get(
						['installationId', 'session', 'isLoggedIn', 'translatorServiceType', 'writeServiceType'],
						function (t) {
							e.setTag('internal_session_id', t.session.id),
								e.setTag('is_translator_pro', Ye(t, _e.TRANSLATOR)),
								e.setTag('is_write_pro', Ye(t, _e.WRITE)),
								e.setTag('is_logged_in', t.isLoggedIn);
						},
					),
						chrome.storage.local.get('browserInstanceId', function (t) {
							e.setTag('browser_instance_id', t.browserInstanceId);
						}),
						chrome.storage.onChanged.addListener((t) => {
							t?.session?.newValue && e.setTag('internal_session_id', t.session.newValue.id),
								t?.installationId &&
									e.setUser({
										id: t.installationId,
									}),
								t?.browser_instance_id && e.setTag('browser_instance_id', Xh.browserInstanceId.newValue),
								(!0 !== t.isLoggedIn?.newValue && !1 !== t.isLoggedIn?.newValue) ||
									e.setTag('is_logged_in', t.isLoggedIn.newValue),
								t.translatorServiceType &&
									chrome.storage.sync.get(
										['isLoggedIn'],
										e.setTag(
											'is_translator_pro',
											Ye(
												{
													...Xh,
													translatorServiceType: t.translatorServiceType.newValue,
												},
												_e.TRANSLATOR,
											),
										),
									),
								t.writeServiceType &&
									chrome.storage.sync.get(
										['isLoggedIn'],
										e.setTag(
											'is_write_pro',
											Ye(
												{
													...Xh,
													writeServiceType: t.writeServiceType.newValue,
												},
												_e.WRITE,
											),
										),
									);
						});
				})(t),
				{
					client: e,
					scope: t,
				}
			);
		},
		{ scope: ub } = db(),
		pb = () => {
			const e = window.location.hostname.split('.');
			if (e.length < 2) return !1;
			return 'zendesk.com' === `${e[e.length - 2]}.${e[e.length - 1]}`;
		},
		mb = () => document.querySelector('deepl-zendesk-controller'),
		gb = () => $f.createElement(),
		hb = (e) => {
			const t = e.match(/^\/agent\/tickets\/(\d+)$/);
			if (t) return t[1];
		},
		fb = () => {
			const e = document.querySelector('#main_panes');
			if (e)
				return Array.from(e.children).find(
					(e) =>
						'hidden' !== window.getComputedStyle(e).visibility &&
						'none' !== window.getComputedStyle(e).display,
				);
		},
		_b = (e) => e.querySelector('deepl-zendesk-ticket-controller'),
		vb = (e, t) => {
			const n = Vy.createElement();
			return (
				e.appendChild(n),
				n.createDOM({
					pane: e,
					ticketId: t,
				}),
				n
			);
		},
		yb = (e, t) => {
			try {
				const n = e.getPane();
				if ((n.querySelector('deepl-zendesk-top-icon') || Sb(n, e), !t)) return;
				e.getTicketLanguageInformation().isSupported
					? (n.querySelector('deepl-zendesk-toolbar') || xb(n, e),
					  n.querySelector('deepl-zendesk-input-icon') || Tb(n, e))
					: n.querySelector('deepl-zendesk-toolbar') || xb(n, e);
			} catch (e) {
				Qt() && console.error(e), tf(e, ub);
			}
		},
		wb = () => {
			Eb([
				'deepl-zendesk-ticket-controller',
				'deepl-zendesk-top-icon',
				'deepl-zendesk-toolbar',
				'deepl-zendesk-input-icon',
				'deepl-zendesk-message-controller',
				'deepl-zendesk-submit-button-tooltip',
				'deepl-zendesk-onboarding-modal',
			]);
		},
		bb = () => {
			Eb([
				'deepl-zendesk-toolbar',
				'deepl-zendesk-input-icon',
				'deepl-zendesk-message-controller',
				'deepl-zendesk-onboarding-modal',
			]);
			const e = Array.from(document.getElementsByTagName('deepl-zendesk-ticket-controller'));
			for (const t of e) t.setIsAutoTranslateEnabled(!1);
		},
		Eb = (e) => {
			try {
				for (const t of e)
					if (t) {
						const e = Array.from(document.getElementsByTagName(t));
						for (const t of e) t.cleanupDOM(), t.remove();
					}
			} catch (e) {
				Qt() && console.error(e), tf(e, ub);
			}
		},
		Sb = (e, t) => {
			const n = lb.createElement(),
				o = e.querySelector(
					'[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]',
				);
			if (!o) return;
			const i = o.parentElement;
			return i
				? (i.prepend(n),
				  n.createDOM({
						controller: t,
				  }),
				  n)
				: void 0;
		},
		xb = (e, t) => {
			const n = rw.createElement(),
				o = e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');
			if (o)
				return (
					o.after(n),
					n.createDOM({
						controller: t,
					}),
					n.updateLanguageInformation(t.getTicketLanguageInformation()),
					n
				);
		},
		Tb = (e, t) => {
			const n = $y.createElement(),
				o = e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul'),
				i = e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');
			if (i && o && o)
				return (
					o.append(n),
					n.createDOM({
						controller: t,
						editable: i,
					}),
					n
				);
		},
		Cb = (e) => {
			const t = e.querySelector(
					'div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]',
				),
				n = e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');
			return t ? ge : n ? he : void 0;
		},
		$b = (e) => Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),
		kb = (e) => {
			const t = $b(e);
			if (!(t.length < 1))
				return (
					t.sort((e, t) => {
						const n = e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute('datetime'),
							o = t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute('datetime');
						return n === o ? 0 : new Date(n) < Date(o) ? -1 : 1;
					}),
					t[0]
				);
		},
		Lb = (e, t) => {
			const n = $b(e);
			if (n.length < 1) return;
			n.sort((e, t) => {
				const n = e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute('datetime'),
					o = t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute('datetime');
				return n === o ? 0 : new Date(n) < Date(o) ? -1 : 1;
			});
			const o = [];
			for (let e = 0; e < t; e++) n[e] && o.push(n[e]);
			return o;
		},
		Ib = (e) => e.querySelector('[data-test-id="omni-log-item-message"]'),
		Mb = async (e) => {
			const t = kb(e);
			if (t) {
				const e = t ? Ib(t).innerText : '';
				return await kt(e);
			}
		},
		Ab = async (e) => {
			const t = Lb(e, 12),
				n = [];
			for (const e in t)
				try {
					const o = t[e],
						i = o ? Ib(o).innerText : '',
						r = o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute('href'),
						s = o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;
					if (0 == i.length) continue;
					let a = n.find((e) => e.id === r);
					const l = i.includes(`: ${s}`) && i.indexOf(`: ${s}`) + `: ${s}`.length === i.length,
						c = 0 === Number(e);
					a ||
						((a = {
							id: r,
							name: s,
							messages: [],
							isLikelyCustomer: !1,
							isFirstMessage: !1,
						}),
						n.push(a)),
						l && (a.isLikelyCustomer = !0),
						c && (a.isFirstMessage = !0),
						a.messages.push({
							message: i,
							shouldBeSkipped: l || i.length <= 3,
						});
				} catch (e) {
					Qt() && console.log('Dev debug: unable to read message content in detectTicketLanguageInLiveChat');
				}
			const o = (
				1 === n.filter((e) => e.isLikelyCustomer).length
					? n.find((e) => e.isLikelyCustomer)
					: n.find((e) => !e.isFirstMessage)
			).messages
				.filter((e) => !e.shouldBeSkipped)
				.map((e) => e.message);
			o.sort((e, t) => (e.length > t.length ? -1 : e.length < t.length ? 1 : 0));
			const i = o[0];
			if (i) return await kt(i);
		},
		Rb = (e, t) => {
			const n = e.querySelector('deepl-zendesk-toolbar');
			return !!n && (n.updateLanguageInformation(t), !0);
		},
		Ob = (e, { isEnabled: t }) => {
			const n = e.querySelector('deepl-zendesk-toolbar');
			return !!n && (n.updateAutoTranslateStatus(t), !0);
		},
		Nb = (e) => {
			const t = e.querySelector('deepl-zendesk-top-icon');
			return !!t && (t.triggerUpdateIconSettings(), !0);
		},
		Db = (e, t) => {
			const n = e.querySelector('deepl-zendesk-input-icon');
			return !!n && (n.updateTargetLanguage(t), !0);
		},
		Pb = (e) => {
			try {
				const t = e.getPane(),
					n = $b(t);
				for (const t of n) zb(t) || Ub(t, e);
			} catch (e) {
				Qt() && console.error(e), tf(e, ub);
			}
		},
		zb = (e) => e.querySelector('deepl-zendesk-message-controller'),
		Ub = (e, t) => {
			const n = zy.createElement(),
				o = Ib(e);
			if (o && o.parentNode)
				return (
					o.parentNode.after(n),
					n.createDOM({
						controller: t,
						message: e,
					}),
					n
				);
		},
		Hb = (e) => {
			const t = Array.from(e.getPane().querySelectorAll('deepl-zendesk-message-controller'));
			for (const e of t) e.triggerTranslateAgain();
		},
		Bb = (e) => {
			const t = Array.from(e.querySelectorAll('iframe'));
			for (const e of t) e.contentWindow.postMessage('dl-zendesk-welcome-screen', '*');
		},
		Fb = (e) => {
			const t = e.querySelector('deepl-zendesk-input-icon');
			return !!t && t.getInputHasSelection();
		},
		Wb = (e) => {
			const t = e.getPane().querySelector('[data-test-id="submit_button-button"]'),
				n = t.closest('[data-garden-id="buttons.button_group_view"]'),
				o = t.getBoundingClientRect(),
				i = n.getBoundingClientRect(),
				r = Wy.createElement();
			return (
				r.createDOM({
					controller: e,
					coords: o,
					containerCoords: i,
				}),
				n.prepend(r),
				r
			);
		},
		jb = (e) => {
			const t = e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');
			t && t.remove();
		},
		qb = () => {
			const e = new URL(window.location.href);
			return 'https:' === e.protocol && 'mail.google.com' === e.hostname;
		},
		Gb = (e) =>
			e instanceof HTMLTextAreaElement ||
			(e instanceof HTMLInputElement && ['text', 'search'].includes(e.type)),
		Vb = (e) => e.selectionStart < e.selectionEnd,
		Yb = async (e, t, n) => {
			if (!Gb(e))
				return (
					n ||
						((e) => {
							o_('mousedown', e);
							const t = window.getSelection();
							t.removeAllRanges();
							const n = new Range();
							n.setStart(e, 0), n.collapse(!1), t.addRange(n), o_('mouseup', e);
						})(e),
					await e_(e, t, !0)
				);
			if (
				(Vb(e) ||
					((e, { start: t, end: n }) => {
						(e.selectionStart = t), (e.selectionEnd = n);
					})(e, {
						start: 0,
						end: e.value.length,
					}),
				!document.execCommand('insertText', !1, t.text))
			) {
				const n = e.value.substring(0, e.selectionStart) + t.text + e.value.substring(e.selectionEnd);
				e.value = n;
			}
		};
	function Kb(e, t) {
		if (!t) return !1;
		const n = t.getBoundingClientRect();
		if (Gb(e))
			return (function (e, t) {
				const n = (function (e) {
					const t = document.createElement('div');
					document.body.appendChild(t);
					var n = window.getComputedStyle(e);
					(t.style.whiteSpace = 'pre-wrap'),
						(t.style.wordWrap = 'break-word'),
						(t.style.position = 'fixed'),
						(t.style.overflow = 'hidden'),
						[
							'direction',
							'boxSizing',
							'width',
							'height',
							'overflowX',
							'overflowY',
							'borderTopWidth',
							'borderRightWidth',
							'borderBottomWidth',
							'borderLeftWidth',
							'borderStyle',
							'paddingTop',
							'paddingRight',
							'paddingBottom',
							'paddingLeft',
							'fontStyle',
							'fontVariant',
							'fontWeight',
							'fontStretch',
							'fontSize',
							'fontSizeAdjust',
							'lineHeight',
							'fontFamily',
							'textAlign',
							'textTransform',
							'textIndent',
							'textDecoration',
							'letterSpacing',
							'wordSpacing',
							'tabSize',
							'MozTabSize',
						].forEach(function (e) {
							t.style[e] = n[e];
						});
					const o = e.getBoundingClientRect();
					return (
						(t.style.top = Math.round(o.top) + 'px'),
						(t.style.left = Math.round(o.left) + 'px'),
						(t.innerText = e.value),
						t
					);
				})(e);
				let o = !1;
				try {
					o = Zb(n, t);
				} catch (e) {}
				return n.remove(), o;
			})(e, n);
		{
			const t = Uf(e).getSelection(),
				o = (function (e) {
					return 'IFRAME' === e.nodeName.toUpperCase()
						? e.getBoundingClientRect()
						: {
								top: 0,
								left: 0,
						  };
				})(e);
			if (t.rangeCount) return Zb(Bf(e), n, o);
		}
		return !1;
	}
	function Zb(
		e,
		t,
		n = {
			top: 0,
			left: 0,
		},
	) {
		const o = Uf(e).getSelection();
		for (const s of e.childNodes)
			if ('#text' === s.nodeName.toLowerCase()) {
				const e = o.getRangeAt(0).cloneRange();
				e.setStart(s, 0), e.setEnd(s, s.textContent.length);
				const a = e.getClientRects();
				if (!a.length) continue;
				for (const e of a) {
					const o = {
						left: e.left + n.left,
						right: e.right + n.left,
						top: e.top + n.top,
						bottom: e.bottom + n.top,
					};
					if (
						((r = t), (i = o).left <= r.right && i.right >= r.left && i.top <= r.bottom && i.bottom >= r.top)
					)
						return !0;
				}
			} else if (e.childNodes.length && Zb(s, t, n)) return !0;
		var i, r;
		return !1;
	}
	function Xb(e, t) {
		const n = t.filter((t) => new RegExp(t).exec(e));
		return n && n.length > 0;
	}
	function Jb(e, t) {
		return Xb(e, M) || Xb(t, A);
	}
	function Qb(e) {
		let t;
		try {
			t = new URL(e);
		} catch (e) {
			return !1;
		}
		return 'http:' === t.protocol || 'https:' === t.protocol;
	}
	function eE(e, t) {
		if (e && t && 'string' == typeof e && Array.isArray(t)) {
			if (0 === t.length) return e;
			for (const n of t) e.substr(0, n.length) === n && (e = e.substr(n.length));
			return e;
		}
	}
	function tE(e) {
		try {
			return new URL(e), !0;
		} catch (e) {
			return !1;
		}
	}
	const nE = (e) => {
		const t = {
			'&': '.',
			'<': '.',
			'>': '.',
			'"': '.',
			"'": '.',
			'#': '.',
			';': '.',
			'%': '.',
			'\\': '.',
			'/': '.',
		};
		return e.replace(/[&<>"'#;%\\/]/g, function (e) {
			return t[e];
		});
	};
	function oE(e) {
		const t = e || window.getSelection().getRangeAt(0),
			n = t.getBoundingClientRect(),
			o = document.body.parentNode.getBoundingClientRect(),
			{ top: i, left: r, right: s, bottom: a, height: l, width: c } = n,
			d = {
				x: r - o.left,
				y: a - o.top,
				selectedTop: i,
				selectedBottom: a,
				selectedRight: o.width - s,
				selectedLeft: r + window.pageXOffset,
				selectedWidth: c,
				height: l,
			};
		if (t.collapsed) {
			const e = t.commonAncestorContainer;
			(d.x = e.getBoundingClientRect().left), (d.y = e.getBoundingClientRect().top + e.offsetHeight);
		}
		return d;
	}
	const iE = (e, t) => {
			let n = {
				left: Math.max(e.left, t.left),
				right: Math.min(e.right, t.right),
				top: Math.max(e.top, t.top),
				bottom: Math.min(e.bottom, t.bottom),
			};
			return n.left >= n.right || n.top >= n.bottom ? null : n;
		},
		rE = (e) => {
			const t = window.getComputedStyle(e),
				n = t.getPropertyValue('overflow-y'),
				o = t.getPropertyValue('overflow-x'),
				i = ['hidden', 'scroll', 'auto'];
			return i.includes(n) || i.includes(o);
		};
	function sE(e) {
		const t = ((e) => {
				let t = e.getBoundingClientRect(),
					n = {
						left: t.left,
						right: t.right,
						bottom: t.bottom,
						top: t.top,
					};
				const o = {
						top: 0,
						left: 0,
						right: 0,
						bottom: 0,
						width: 0,
						height: 0,
					},
					i = {
						top: 0,
						left: 0,
						right: window.innerWidth,
						bottom: window.innerHeight,
					};
				for (let t = e.parentElement; null !== t && t !== e.ownerDocument.body; t = t.parentElement) {
					let e = t.getBoundingClientRect();
					const i = iE(n, e);
					if (i) n = i;
					else if (rE(t)) return o;
				}
				return (
					(n = iE(n, i)),
					n
						? {
								top: n.top,
								bottom: n.bottom,
								left: n.left,
								right: n.right,
								width: n.right - n.left,
								height: n.bottom - n.top,
						  }
						: o
				);
			})(e),
			n = e.selectionStart,
			o = e.selectionEnd,
			i = document.createElement('div');
		(i.id = 'mirror'), document.body.appendChild(i);
		const r = window.getComputedStyle(e);
		(i.style.fontFamily = r.fontFamily),
			(i.style.fontSize = r.fontSize),
			(i.style.padding = r.padding),
			(i.style.border = r.border),
			(i.style.lineHeight = r.lineHeight),
			(i.style.whiteSpace = 'pre-wrap'),
			(i.style.wordWrap = 'break-word'),
			(i.style.visibility = 'hidden'),
			(i.style.top = `${t.top + window.scrollY}px`),
			(i.style.bottom = `${t.bottom + window.scrollY}px`),
			(i.style.left = `${t.left}px`),
			(i.style.height = r.height),
			(i.style.width = `${t.width}px`),
			(i.style.position = 'absolute');
		const s = nE(e.value.substring(0, n)),
			a = nE(e.value.substring(n, o)),
			l = nE(e.value.substring(o)),
			c = st(
				s +
					'<span id="marker-start" style="position: absolute;">|</span>' +
					a +
					'<span id="marker-end" style="position: absolute;">|</span>' +
					l,
			);
		i.innerHTML = c;
		const d = document.getElementById('marker-start'),
			u = document.getElementById('marker-end'),
			p = d.getBoundingClientRect(),
			m = u.getBoundingClientRect(),
			g = document.body.parentNode.getBoundingClientRect(),
			h = e.getBoundingClientRect(),
			f = {
				x: p.left - g.left,
				y: h.top > 0 ? m.bottom - g.top : m.bottom - g.top + h.top,
				selectedTop: p.top,
				selectedBottom: m.bottom,
				selectedRight: g.width - m.right,
				selectedLeft: p.left + window.pageXOffset,
				selectedWidth: m.right - p.right,
				height: m.bottom - p.top,
			};
		return document.body.removeChild(i), f;
	}
	function aE(e) {
		let t = e.childNodes[0];
		for (let n of Array.from(e.childNodes))
			if (
				(t.getBoundingClientRect || (t = n),
				n.getBoundingClientRect &&
					(n.getBoundingClientRect().right > t.getBoundingClientRect().right && (t = n), n.hasChildNodes()))
			) {
				const e = aE(n);
				if (e && e.getBoundingClientRect) {
					const o = n.getBoundingClientRect(),
						i = e.getBoundingClientRect();
					o.right < i.right && (t = e);
				}
			}
		return t;
	}
	const lE = (e) => {
		const t = [],
			n = [];
		return (
			uE({
				domElements: t,
				strings: n,
				element: e,
			}),
			{
				domElements: t,
				strings: n,
			}
		);
	};
	function cE(e) {
		for (var t = 0; t < e.childNodes.length; ++t) {
			const n = e.childNodes[t];
			if ('#text' != n.nodeName && '#comment' != n.nodeName) {
				if ('block' == window.getComputedStyle(n).display) return !0;
				if (cE(n)) return !0;
			}
		}
		return !1;
	}
	const dE = ({ strings: e, domElements: t }) => {
			for (const n in t)
				Array.isArray(e[n]) ? (t[n].innerHTML = st(e[n].join(''))) : (t[n].innerHTML = st(e[n]));
		},
		uE = ({ domElements: e, strings: t, element: n }) => {
			if ('#text' != n.nodeName && '#comment' != n.nodeName)
				if (hE(n)) e.push(n), t.push(st(n.innerHTML));
				else
					for (const o of n.childNodes)
						uE({
							domElements: e,
							strings: t,
							element: o,
						});
		},
		pE = ({ domElements: e, strings: t, element: n, tmpElementMap: o }) => {
			if ('#text' != n.nodeName && '#comment' != n.nodeName && 'FORM' != n.nodeName)
				if (hE(n))
					void 0 !== o &&
						mE({
							topElement: n,
							element: n,
							tmpElementMap: o,
						}),
						e.push(n),
						t.push(st(n.innerHTML));
				else
					for (const i of n.childNodes)
						pE({
							domElements: e,
							strings: t,
							element: i,
							tmpElementMap: o,
						});
		},
		mE = ({ topElement: e, element: t, tmpElementMap: n }) => {
			Array.from(t.children).forEach((t) => {
				mE({
					topElement: e,
					element: t,
					tmpElementMap: n,
				});
			}),
				t !== e && gE(t, n);
		},
		gE = (e, t) => {
			const n = Object.keys(t).length + 1,
				o = e.tagName,
				i = {};
			Array.from(e.attributes).forEach((e) => {
				i[e.name] = e.value;
			});
			const r = `a${n}`,
				s = document.createElement(r);
			(s.innerHTML = st(e.innerHTML)),
				e.replaceWith(s),
				(t[r] = {
					originalTagName: o,
					originalAttributes: i,
				});
		};
	function hE(e) {
		if (fE(e) || vE(e)) return !1;
		for (const t of e.childNodes)
			if (('#text' == t.nodeName && '' != t.wholeText.trim()) || 'font' == t.nodeName) return !0;
		for (const t of e.childNodes)
			if (!fE(t) && (!_E(t) || vE(t) || 'inline' != window.getComputedStyle(t).display || cE(e))) return !1;
		if (void 0 === e.innerText || '' == e.innerText.trim()) return !1;
		if (1 === e.childNodes.length) {
			const t = e.childNodes[0];
			return fE(t);
		}
		return !0;
	}
	const fE = (e) => '#text' == e.nodeName || '#comment' == e.nodeName,
		_E = (e) => re.includes(e.nodeName.toLowerCase()),
		vE = (e) => ie.includes(e.nodeName.toLowerCase());
	function yE(e) {
		for (var t = []; null != e.parentNode; ) {
			for (var n = 0, o = 0, i = 0; i < e.parentNode.childNodes.length; i++) {
				var r = e.parentNode.childNodes[i];
				r.nodeName === e.nodeName && (r === e && (o = n), n++);
			}
			e.hasAttribute('id') && '' != e.id
				? t.unshift(e.nodeName.toLowerCase() + '#' + e.id)
				: n > 1
				? t.unshift(e.nodeName.toLowerCase() + ':nth-child(' + (o + 1) + ')')
				: t.unshift(e.nodeName.toLowerCase()),
				(e = e.parentNode);
		}
		return t.slice(1);
	}
	function wE(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'loader svelte-c65fyl'), Qg(t, 'small', e[0]);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, [n]) {
				1 & n && Qg(t, 'small', e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function bE(e, t, n) {
		let { small: o = !1 } = t;
		return (
			(e.$$set = (e) => {
				'small' in e && n(0, (o = e.small));
			}),
			[o]
		);
	}
	class EE extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, bE, wE, gg, {
					small: 0,
				});
		}
	}
	const SE = {
		developer_tools: 'DEVELOPER_TOOLS',
		settings_page: 'SETTINGS_PAGE',
		settings_writing: 'SETTINGS_WRITING',
		settings_reading: 'SETTINGS_READING',
		settings_customizations: 'SETTINGS_CUSTOMIZATIONS',
		settings_glossary: 'SETTINGS_GLOSSARY',
		onboarding: 'ONBOARDING',
		onboarding_after_successful_login: 'ONBOARDING_AFTER_SUCCESSFUL_LOGIN',
		firefox_first_run: 'FIREFOX_FIRST_RUN',
		privacy_policy: 'PRIVACY_POLICY',
		create_account: 'CREATE_ACCOUNT',
	};
	function xE(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('inline_translation_link_more_settings')}`),
					(o = Bg()),
					(i = zg('span')),
					Gg(i, 'class', 'icon icon-external-link svelte-1yv621f'),
					Gg(t, 'class', 'settings-link svelte-1yv621f');
			},
			m(a, l) {
				Ng(a, t, l), Ag(t, n), Ag(t, o), Ag(t, i), r || ((s = Wg(t, 'click', qg(jg(e[0])))), (r = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (r = !1), s();
			},
		};
	}
	function TE(e, n, o) {
		let { page: i = SE.settings_page } = n;
		return (
			(e.$$set = (e) => {
				'page' in e && o(1, (i = e.page));
			}),
			[
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: i,
						},
					});
				},
				i,
			]
		);
	}
	class CE extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, TE, xE, gg, {
					page: 1,
				});
		}
	}
	function $E(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')), Gg(t, 'type', 'button'), Gg(t, 'class', 'close-icon svelte-nskp1z');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[0])), (n = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function kE(e) {
		return [
			function (t) {
				hh.call(this, e, t);
			},
		];
	}
	class LE extends Yh {
		constructor(e) {
			super(), Vh(this, e, kE, $E, gg, {});
		}
	}
	function IE(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m;
		return (
			(i = new LE({})),
			i.$on('click', e[2]),
			(c = new Tw({
				props: {
					value: e[0].selectedTargetLanguage,
				},
			})),
			c.$on('selection', e[3]),
			(p = new CE({})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('div')),
						jh(i.$$.fragment),
						(r = Bg()),
						(s = zg('div')),
						(a = zg('p')),
						(a.textContent = `${chrome.i18n.getMessage('whatsapp_web_settings_languageswitch_label')}`),
						(l = Bg()),
						jh(c.$$.fragment),
						(d = Bg()),
						(u = zg('div')),
						jh(p.$$.fragment),
						Gg(o, 'class', 'close-icon-container svelte-8cr9h0'),
						Gg(n, 'class', 'header'),
						Gg(a, 'class', 'label-language-switch svelte-8cr9h0'),
						Gg(s, 'class', 'body svelte-8cr9h0'),
						Gg(u, 'class', 'footer svelte-8cr9h0'),
						Gg(t, 'class', 'container svelte-8cr9h0');
				},
				m(e, g) {
					Ng(e, t, g),
						Ag(t, n),
						Ag(n, o),
						qh(i, o, null),
						Ag(t, r),
						Ag(t, s),
						Ag(s, a),
						Ag(s, l),
						qh(c, s, null),
						Ag(t, d),
						Ag(t, u),
						qh(p, u, null),
						(m = !0);
				},
				p(e, [t]) {
					const n = {};
					1 & t && (n.value = e[0].selectedTargetLanguage), c.$set(n);
				},
				i(e) {
					m || (Dh(i.$$.fragment, e), Dh(c.$$.fragment, e), Dh(p.$$.fragment, e), (m = !0));
				},
				o(e) {
					Ph(i.$$.fragment, e), Ph(c.$$.fragment, e), Ph(p.$$.fragment, e), (m = !1);
				},
				d(e) {
					e && Dg(t), Gh(i), Gh(c), Gh(p);
				},
			}
		);
	}
	function ME(e, t, n) {
		let o;
		const i = gh('deepl_settings');
		fg(e, i, (e) => n(0, (o = e)));
		const r = ph();
		return [
			o,
			i,
			function () {
				r('close');
			},
			(e) =>
				i.set({
					selectedTargetLanguage: e.detail.selectedOption.value,
					isTargetLanguageConfirmed: !0,
					regionalVariant: e.detail.selectedOption.regionalVariant || '',
				}),
		];
	}
	class AE extends Yh {
		constructor(e) {
			super(), Vh(this, e, ME, IE, gg, {});
		}
	}
	function RE(e) {
		return /\bdark\b/gm.test(e);
	}
	const OE = (function () {
		let e = {
			isDarkMode: RE(document.body.className),
		};
		const { subscribe: t, update: n } = Zh(e);
		let o = new MutationObserver((e) => {
			e.forEach((e) => {
				'attributes' === e.type &&
					'class' === e.attributeName &&
					n((e) => ({
						...e,
						isDarkMode: RE(document.body.className),
					}));
			});
		});
		return (
			o.observe(document.body, {
				attributes: !0,
			}),
			setTimeout(() => {
				s_(() => {
					o.disconnect();
				});
			}),
			{
				subscribe: t,
			}
		);
	})();
	function NE(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g;
		const h = [PE, DE],
			f = [];
		function _(e, t) {
			return e[2] ? 0 : 1;
		}
		return (
			(n = _(e)),
			(o = f[n] = h[n](e)),
			{
				c() {
					(t = zg('div')),
						o.c(),
						(i = Bg()),
						(r = zg('div')),
						(r.textContent = `${chrome.i18n.getMessage('whatsapp_web_show_alternatives_link')}`),
						(s = Bg()),
						(a = zg('button')),
						(l = Ug('svg')),
						(c = Ug('path')),
						Gg(r, 'class', 'show-alternatives svelte-3k7vbu'),
						Qg(r, 'dark', e[6]),
						Gg(c, 'd', 'M3 9L9 3M3 3L9 9'),
						Gg(c, 'stroke', (d = e[3] && e[3].isDarkMode ? '#F2F4F7' : '#037171')),
						Gg(c, 'stroke-width', '1.5'),
						Gg(c, 'stroke-linecap', 'round'),
						Gg(c, 'stroke-linejoin', 'round'),
						Gg(l, 'width', '12'),
						Gg(l, 'height', '12'),
						Gg(l, 'viewBox', '0 0 12 12'),
						Gg(l, 'fill', 'none'),
						Gg(l, 'xmlns', 'http://www.w3.org/2000/svg'),
						Gg(a, 'class', 'svelte-3k7vbu'),
						Gg(t, 'class', 'container svelte-3k7vbu'),
						Gg(t, 'dir', Ot()),
						Qg(t, 'dark', e[6]);
				},
				m(o, d) {
					Ng(o, t, d),
						f[n].m(t, null),
						Ag(t, i),
						Ag(t, r),
						Ag(t, s),
						Ag(t, a),
						Ag(a, l),
						Ag(l, c),
						(p = !0),
						m ||
							((g = [
								Wg(r, 'click', e[7]),
								Wg(a, 'click', function () {
									mg(e[1]) && e[1].apply(this, arguments);
								}),
							]),
							(m = !0));
				},
				p(s, a) {
					let l = n;
					(n = _((e = s))),
						n === l
							? f[n].p(e, a)
							: (Oh(),
							  Ph(f[l], 1, 1, () => {
									f[l] = null;
							  }),
							  Nh(),
							  (o = f[n]),
							  o ? o.p(e, a) : ((o = f[n] = h[n](e)), o.c()),
							  Dh(o, 1),
							  o.m(t, i)),
						(!p || 64 & a) && Qg(r, 'dark', e[6]),
						(!p || (8 & a && d !== (d = e[3] && e[3].isDarkMode ? '#F2F4F7' : '#037171'))) &&
							Gg(c, 'stroke', d),
						(!p || 64 & a) && Qg(t, 'dark', e[6]);
				},
				i(e) {
					p ||
						(Dh(o),
						u ||
							Sh(() => {
								(u = Uh(t, If, {
									y: -10,
									duration: 200,
								})),
									u.start();
							}),
						(p = !0));
				},
				o(e) {
					Ph(o), (p = !1);
				},
				d(e) {
					e && Dg(t), f[n].d(), (m = !1), pg(g);
				},
			}
		);
	}
	function DE(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('div')),
					(n = zg('span')),
					(o = Hg(e[0])),
					Gg(n, 'class', 'translatedText svelte-3k7vbu'),
					Gg(t, 'dir', (i = Ot(e[5])));
			},
			m(e, i) {
				Ng(e, t, i), Ag(t, n), Ag(n, o);
			},
			p(e, n) {
				1 & n && Vg(o, e[0]), 32 & n && i !== (i = Ot(e[5])) && Gg(t, 'dir', i);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function PE(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: e[2],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n && (o.error = e[2]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function zE(e) {
		let t,
			n,
			o = e[4] && NE(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[4]
					? o
						? (o.p(e, n), 16 & n && Dh(o, 1))
						: ((o = NE(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function UE(e, n, o) {
		let i, r, s;
		fg(e, Xh, (e) => o(9, (r = e))), fg(e, OE, (e) => o(3, (s = e))), mh('text_direction', Ot());
		let a,
			l,
			{ translatedText: c } = n,
			{ sourceText: d } = n,
			{ onClose: u } = n,
			{ error: p } = n,
			m = !1;
		return (
			setTimeout(() => o(4, (m = !0)), 50),
			(e.$$set = (e) => {
				'translatedText' in e && o(0, (c = e.translatedText)),
					'sourceText' in e && o(8, (d = e.sourceText)),
					'onClose' in e && o(1, (u = e.onClose)),
					'error' in e && o(2, (p = e.error));
			}),
			(e.$$.update = () => {
				8 & e.$$.dirty && o(6, (i = s && s.isDarkMode)),
					256 & e.$$.dirty &&
						kt(d).then((e) => {
							a = e;
						}),
					512 & e.$$.dirty && o(5, (l = r.selectedTargetLanguage));
			}),
			[
				c,
				u,
				p,
				s,
				m,
				l,
				i,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: nv,
							sourceLang: a,
							targetLang: l,
							textToShare: d,
						},
					});
				},
				d,
				r,
			]
		);
	}
	class HE extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, UE, zE, gg, {
					translatedText: 0,
					sourceText: 8,
					onClose: 1,
					error: 2,
				});
		}
	}
	class BE {
		static HTML_TAG_NAME = 'deepl-whatsapp-translated-message';
		static createElement = (e = document) => {
			const t = e.createElement(BE.HTML_TAG_NAME),
				n = new BE(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t, n, o) => {
			this.domElement.mainComponent = new HE({
				target: this.domElement.shadowContainer,
				props: {
					translatedText: e,
					onClose: n,
					sourceText: t,
					error: o,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function FE(e) {
		let t, n, o, i, r, s, a, l;
		const c = [jE, WE],
			d = [];
		function u(e, t) {
			return e[5] ? 0 : 1;
		}
		(n = u(e)), (o = d[n] = c[n](e));
		let p = e[7] && YE(e);
		return {
			c() {
				(t = zg('div')),
					o.c(),
					(i = Bg()),
					p && p.c(),
					Gg(t, 'class', 'container svelte-tz0fan'),
					Gg(
						t,
						'style',
						(r = `\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`),
					),
					Gg(t, 'dir', Ot()),
					Qg(t, 'isTranslated', e[4]),
					Qg(t, 'isHidden', e[1]),
					Qg(t, 'messageHasReactionIcon', e[8]),
					Qg(t, 'isExpanded', e[2]),
					Qg(t, 'isParentRTL', e[0]);
			},
			m(o, r) {
				Ng(o, t, r),
					d[n].m(t, null),
					Ag(t, i),
					p && p.m(t, null),
					e[26](t),
					(s = !0),
					a ||
						((l = [
							Wg(t, 'mouseleave', e[27]),
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
							Wg(t, 'click_outside', e[16]),
							Wg(t, 'mousedown', qg(jg(e[21]))),
						]),
						(a = !0));
			},
			p(e, a) {
				let l = n;
				(n = u(e)),
					n === l
						? d[n].p(e, a)
						: (Oh(),
						  Ph(d[l], 1, 1, () => {
								d[l] = null;
						  }),
						  Nh(),
						  (o = d[n]),
						  o ? o.p(e, a) : ((o = d[n] = c[n](e)), o.c()),
						  Dh(o, 1),
						  o.m(t, i)),
					e[7]
						? p
							? (p.p(e, a), 128 & a && Dh(p, 1))
							: ((p = YE(e)), p.c(), Dh(p, 1), p.m(t, null))
						: p &&
						  (Oh(),
						  Ph(p, 1, 1, () => {
								p = null;
						  }),
						  Nh()),
					(!s ||
						(6208 & a &&
							r !==
								(r = `\n    top: ${e[6]}px; \n    left: ${e[12]}px; \n    z-index: ${e[14]}; \n    opacity: ${e[11]};`))) &&
						Gg(t, 'style', r),
					(!s || 16 & a) && Qg(t, 'isTranslated', e[4]),
					(!s || 2 & a) && Qg(t, 'isHidden', e[1]),
					(!s || 256 & a) && Qg(t, 'messageHasReactionIcon', e[8]),
					(!s || 4 & a) && Qg(t, 'isExpanded', e[2]),
					(!s || 1 & a) && Qg(t, 'isParentRTL', e[0]);
			},
			i(e) {
				s || (Dh(o), Dh(p), (s = !0));
			},
			o(e) {
				Ph(o), Ph(p), (s = !1);
			},
			d(o) {
				o && Dg(t), d[n].d(), p && p.d(), e[26](null), (a = !1), pg(l);
			},
		};
	}
	function WE(e) {
		let t, n, o, i;
		t = new u_({
			props: {
				tooltip: chrome.i18n.getMessage('whatsapp_web_tooltip_translate_button'),
				multiline: !0,
				zIndex: '0',
				parentIsRTL: e[0],
				ignoreTextDirection: !0,
				$$slots: {
					default: [qE],
				},
				$$scope: {
					ctx: e,
				},
			},
		});
		let r = e[2] && GE(e);
		return {
			c() {
				jh(t.$$.fragment), (n = Bg()), r && r.c(), (o = Fg());
			},
			m(e, s) {
				qh(t, e, s), Ng(e, n, s), r && r.m(e, s), Ng(e, o, s), (i = !0);
			},
			p(e, n) {
				const i = {};
				1 & n && (i.parentIsRTL = e[0]),
					1073741828 & n &&
						(i.$$scope = {
							dirty: n,
							ctx: e,
						}),
					t.$set(i),
					e[2]
						? r
							? (r.p(e, n), 4 & n && Dh(r, 1))
							: ((r = GE(e)), r.c(), Dh(r, 1), r.m(o.parentNode, o))
						: r &&
						  (Oh(),
						  Ph(r, 1, 1, () => {
								r = null;
						  }),
						  Nh());
			},
			i(e) {
				i || (Dh(t.$$.fragment, e), Dh(r), (i = !0));
			},
			o(e) {
				Ph(t.$$.fragment, e), Ph(r), (i = !1);
			},
			d(e) {
				e && (Dg(n), Dg(o)), Gh(t, e), r && r.d(e);
			},
		};
	}
	function jE(e) {
		let t, n;
		return (
			(t = new EE({
				props: {
					small: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function qE(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML =
						'<svg width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><g clip-path="url(#clip0)"><path d="M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z" fill="#0F2B46"></path><path d="M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z" fill="white"></path><path d="M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="18.5294" height="19" fill="white" transform="matrix(-1 0 0 1 18.5294 0)"></rect></clipPath></defs></svg>'),
					Gg(t, 'class', 'translateTrigger svelte-tz0fan');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = [Wg(t, 'mouseover', e[23]), Wg(t, 'click', e[15])]), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function GE(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('whatsapp_web_tooltip_settings_button'),
					multiline: !0,
					zIndex: '0',
					$$slots: {
						default: [VE],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1073741952 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function VE(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML =
						'<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>'),
					Gg(t, 'class', 'settingsTrigger svelte-tz0fan');
			},
			m(n, r) {
				Ng(n, t, r), o || ((i = [Wg(t, 'click', e[24]), Wg(t, 'mousedown', qg(jg(e[22])))]), (o = !0));
			},
			p: lg,
			i(e) {
				n ||
					Sh(() => {
						(n = Uh(t, If, {
							x: -8,
							duration: 600,
						})),
							n.start();
					});
			},
			o: lg,
			d(e) {
				e && Dg(t), (o = !1), pg(i);
			},
		};
	}
	function YE(e) {
		let t, n, o, i, r;
		return (
			(n = new AE({})),
			n.$on('close', e[25]),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', 'settingsContainer svelte-tz0fan'),
						Qg(t, 'isTop', !e[9]),
						Qg(t, 'isLeft', !e[10]);
				},
				m(e, o) {
					Ng(e, t, o), qh(n, t, null), (r = !0);
				},
				p(e, n) {
					(!r || 512 & n) && Qg(t, 'isTop', !e[9]), (!r || 1024 & n) && Qg(t, 'isLeft', !e[10]);
				},
				i(e) {
					r ||
						(Dh(n.$$.fragment, e),
						Sh(() => {
							r &&
								(i && i.end(1),
								(o = Uh(t, If, {
									y: -10,
									duration: 600,
								})),
								o.start());
						}),
						(r = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e),
						o && o.invalidate(),
						(i = Hh(t, If, {
							y: -10,
							duration: 600,
						})),
						(r = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), e && i && i.end();
				},
			}
		);
	}
	function KE(e) {
		let t,
			n,
			o = e[13] && e[13].isWhatsAppWebEnabled && FE(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[13] && e[13].isWhatsAppWebEnabled
					? o
						? (o.p(e, n), 8192 & n && Dh(o, 1))
						: ((o = FE(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function ZE(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(13, (i = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let { textElement: r } = n,
			{ messageContainer: s } = n,
			a = !1;
		const l = 265,
			c = 150,
			d = 220;
		let u,
			p,
			m,
			g,
			h = !1,
			f = !0,
			_ = 0,
			v = 0,
			y = !1,
			w = !1,
			b = !1,
			E = O.deepl_inline_ui.z_index,
			S = !0,
			x = !0,
			T = 0;
		function C() {
			const e = u.parentNode.getBoundingClientRect(),
				t = aE(s);
			o(6, (v = s.getBoundingClientRect().height / 2)), o(19, (_ = t.getBoundingClientRect().right - e.left));
			setTimeout(() => {
				const t = s.querySelector('[data-icon="react"]');
				t && (o(19, (_ = t.getBoundingClientRect().right - e.left)), o(20, (m = !0))),
					o(11, (T = 1)),
					a && o(19, (_ = _ + -42));
			}, c);
			const n = s.querySelector('[data-a8n="reaction-bubble"]'),
				i = s.querySelector('[data-testid="reaction-bubble"]');
			o(8, (b = !(!n && !i))),
				window.innerHeight - e.bottom < d + v ? o(9, (S = !1)) : o(9, (S = !0)),
				s.getBoundingClientRect().right - t.getBoundingClientRect().right < l
					? o(10, (x = !1))
					: o(10, (x = !0));
		}
		s.addEventListener(
			'mouseover',
			() => {
				o(1, (f = !1));
			},
			!1,
		),
			s.addEventListener(
				'mouseout',
				() => {
					y || o(1, (f = !0));
				},
				!1,
			);
		return (
			(e.$$set = (e) => {
				'textElement' in e && o(18, (r = e.textElement)),
					'messageContainer' in e && o(17, (s = e.messageContainer));
			}),
			(e.$$.update = () => {
				1310722 & e.$$.dirty && (o(0, (a = Nt(r.parentNode))), f || m || C()),
					524293 & e.$$.dirty &&
						(console.log('isParentRTL', a), console.log('shdfL', w), o(12, (g = a && w ? _ - 20 : _)));
			}),
			[
				a,
				f,
				w,
				u,
				p,
				h,
				v,
				y,
				b,
				S,
				x,
				T,
				g,
				i,
				E,
				async function () {
					if (p) return;
					o(5, (h = !0)), o(7, (y = !1));
					let e,
						n,
						i = '';
					try {
						i = await kt(r.innerText);
					} catch (e) {
						console.log(e);
					}
					try {
						n = await t({
							action: 'dlRequestWhatsAppMessageTranslation',
							payload: {
								message: r.innerText,
								messageLang: i,
								domainName: window.location.hostname,
							},
						});
					} catch (t) {
						(e = t), console.error(e);
					}
					o(4, (p = e ? '' : n[0].text)), o(5, (h = !1));
					const a = BE.createElement();
					a.createDOM(
						p,
						r.innerText,
						() => {
							o(17, (s.dataset.dlIsTranslated = 'false'), s),
								setTimeout(() => o(4, (p = '')), 600),
								a.cleanupDOM(),
								a.remove();
						},
						e,
					),
						r.appendChild(a),
						o(17, (s.dataset.dlIsTranslated = 'true'), s);
				},
				function () {
					o(7, (y = !1));
				},
				s,
				r,
				_,
				m,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				() => o(2, (w = !0)),
				() => o(7, (y = !y)),
				() => o(7, (y = !1)),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(u = e), o(3, u);
					});
				},
				() => {
					y || o(2, (w = !1));
				},
			]
		);
	}
	class XE extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, ZE, KE, gg, {
					textElement: 18,
					messageContainer: 17,
				});
		}
	}
	class JE {
		static HTML_TAG_NAME = 'deepl-whatsapp-message-in-translator';
		static createElement = (e = document) => {
			const t = e.createElement(JE.HTML_TAG_NAME),
				n = new JE(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t) => {
			this.domElement.mainComponent = new XE({
				target: this.domElement.shadowContainer,
				props: {
					textElement: e,
					messageContainer: t,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function QE() {
		const e = document.querySelector('deepl-whatsapp-messages-in-translator');
		if (e) {
			const t = document.body.querySelector('[data-testid=conversation-panel-messages]'),
				n = document.querySelector('footer').getBoundingClientRect(),
				o = t.getBoundingClientRect();
			return (e.style.left = o.right - 58 + 'px'), void (e.style.top = n.top - 55 + 'px');
		}
	}
	function eS() {
		let e = new MutationObserver(() => {
			!(function () {
				const e = document.body.querySelectorAll('.message-in');
				for (let t of e)
					if ('true' !== t.dataset.dlHasMessageTranslator && 'true' !== t.dataset.dlIsTranslated) {
						t.dataset.dlHasMessageTranslator = 'true';
						const e = t.querySelector('.selectable-text.copyable-text');
						if (e && e.innerText && !tE(e.innerText)) {
							const n = JE.createElement();
							n.createDOM(e, t), (n.style.position = 'absolute'), (n.style.top = '0px'), t.appendChild(n);
						}
					}
			})();
		});
		e.observe(document.body, {
			attributes: !0,
			childList: !0,
			subtree: !0,
		}),
			window.addEventListener('resize', QE),
			s_(() => {
				window.removeEventListener('resize', QE), e.disconnect();
			});
	}
	class tS {
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowContainer.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			throw new Error('createDOM must be defined in the child component');
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
		bindChildFunctions = (e = []) => {
			['createDOM', 'cleanupDOM', ...e].forEach((e) => {
				this.domElement[e] = this[e];
			});
		};
	}
	const nS = 'rgb(0, 0, 0)',
		oS = 'rgb(21, 32, 43)';
	function iS(e) {
		return e === nS || e === oS;
	}
	const rS = (function () {
		let e = {
			isDarkMode: iS(document.body.style.backgroundColor),
		};
		const { subscribe: t, update: n } = Zh(e);
		let o = new MutationObserver((e) => {
			e.forEach((e) => {
				'attributes' === e.type &&
					'style' === e.attributeName &&
					n((e) => ({
						...e,
						isDarkMode: iS(document.body.style.backgroundColor),
					}));
			});
		});
		return (
			o.observe(document.body, {
				attributes: !0,
			}),
			setTimeout(() => {
				s_(() => {
					o.disconnect();
				});
			}),
			{
				subscribe: t,
			}
		);
	})();
	function sS(e) {
		let t,
			n,
			o = (function (e) {
				let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
				const _ = [lS, aS],
					v = [];
				function y(e, t) {
					return e[2] ? 0 : 1;
				}
				return (
					(o = y(e)),
					(i = v[o] = _[o](e)),
					{
						c() {
							(t = zg('div')),
								(n = zg('div')),
								i.c(),
								(r = Bg()),
								(s = zg('div')),
								(s.textContent = `${chrome.i18n.getMessage('twitter_web_alternatives_link')}`),
								(l = Bg()),
								(c = zg('button')),
								(d = Ug('svg')),
								(u = Ug('path')),
								Gg(s, 'class', 'show-alternatives svelte-t50unb'),
								Qg(s, 'dark', e[4]),
								Gg(n, 'dir', (a = Ot(e[3].selectedTargetLanguage))),
								Gg(u, 'd', 'M3 9L9 3M3 3L9 9'),
								Gg(u, 'stroke', (p = e[4] ? 'white' : '#037171')),
								Gg(u, 'stroke-width', '1.5'),
								Gg(u, 'stroke-linecap', 'round'),
								Gg(u, 'stroke-linejoin', 'round'),
								Gg(d, 'width', '12'),
								Gg(d, 'height', '12'),
								Gg(d, 'viewBox', '0 0 12 12'),
								Gg(d, 'fill', 'none'),
								Gg(d, 'xmlns', 'http://www.w3.org/2000/svg'),
								Gg(c, 'class', 'svelte-t50unb'),
								Gg(t, 'class', 'container svelte-t50unb'),
								Gg(t, 'dir', Ot()),
								Qg(t, 'dark', e[4]);
						},
						m(i, a) {
							Ng(i, t, a),
								Ag(t, n),
								v[o].m(n, null),
								Ag(n, r),
								Ag(n, s),
								Ag(t, l),
								Ag(t, c),
								Ag(c, d),
								Ag(d, u),
								(g = !0),
								h ||
									((f = [
										Wg(s, 'click', e[5]),
										Wg(c, 'click', function () {
											mg(e[1]) && e[1].apply(this, arguments);
										}),
									]),
									(h = !0));
						},
						p(l, c) {
							let d = o;
							(o = y((e = l))),
								o === d
									? v[o].p(e, c)
									: (Oh(),
									  Ph(v[d], 1, 1, () => {
											v[d] = null;
									  }),
									  Nh(),
									  (i = v[o]),
									  i ? i.p(e, c) : ((i = v[o] = _[o](e)), i.c()),
									  Dh(i, 1),
									  i.m(n, r)),
								(!g || 16 & c) && Qg(s, 'dark', e[4]),
								(!g || (8 & c && a !== (a = Ot(e[3].selectedTargetLanguage)))) && Gg(n, 'dir', a),
								(!g || (16 & c && p !== (p = e[4] ? 'white' : '#037171'))) && Gg(u, 'stroke', p),
								(!g || 16 & c) && Qg(t, 'dark', e[4]);
						},
						i(e) {
							g ||
								(Dh(i),
								m ||
									Sh(() => {
										(m = Uh(t, If, {
											y: -10,
											duration: 200,
										})),
											m.start();
									}),
								(g = !0));
						},
						o(e) {
							Ph(i), (g = !1);
						},
						d(e) {
							e && Dg(t), v[o].d(), (h = !1), pg(f);
						},
					}
				);
			})(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, t) {
				o.p(e, t);
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function aS(e) {
		let t, n;
		return {
			c() {
				(t = zg('span')), (n = Hg(e[0])), Gg(t, 'class', 'translatedText svelte-t50unb');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				1 & t && Vg(n, e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function lS(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: e[2],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n && (o.error = e[2]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function cS(e) {
		let t,
			n,
			o = e[3] && e[3].isTwitterEnabled && sS(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[3] && e[3].isTwitterEnabled
					? o
						? (o.p(e, n), 8 & n && Dh(o, 1))
						: ((o = sS(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function dS(e, n, o) {
		let i, r, s;
		fg(e, Xh, (e) => o(3, (r = e))), fg(e, rS, (e) => o(7, (s = e))), mh('text_direction', Ot());
		let a,
			l,
			{ translatedText: c } = n,
			{ sourceText: d } = n,
			{ onClose: u } = n,
			{ error: p } = n;
		return (
			(e.$$set = (e) => {
				'translatedText' in e && o(0, (c = e.translatedText)),
					'sourceText' in e && o(6, (d = e.sourceText)),
					'onClose' in e && o(1, (u = e.onClose)),
					'error' in e && o(2, (p = e.error));
			}),
			(e.$$.update = () => {
				128 & e.$$.dirty && o(4, (i = s && s.isDarkMode)),
					64 & e.$$.dirty &&
						kt(d).then((e) => {
							a = e;
						}),
					8 & e.$$.dirty && (l = r.selectedTargetLanguage);
			}),
			[
				c,
				u,
				p,
				r,
				i,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: nv,
							sourceLang: a,
							targetLang: l,
							textToShare: d,
						},
					});
				},
				d,
				s,
			]
		);
	}
	class uS extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, dS, cS, gg, {
					translatedText: 0,
					sourceText: 6,
					onClose: 1,
					error: 2,
				});
		}
	}
	class pS extends tS {
		static HTML_TAG_NAME = 'deepl-twitter-translated-tweet';
		constructor(e) {
			super(e), this.bindChildFunctions();
		}
		static createElement = (e = document) => {
			const t = e.createElement(pS.HTML_TAG_NAME);
			return new pS(t), t;
		};
		createDOM = (e, t, n, o) => {
			this.domElement.mainComponent = new uS({
				target: this.domElement.shadowContainer,
				props: {
					translatedText: e,
					onClose: n,
					sourceText: t,
					error: o,
				},
			});
		};
	}
	function mS(e) {
		let t, n, o, i;
		const r = [hS, gS],
			s = [];
		function a(e, t) {
			return e[2] ? 0 : e[3] ? 1 : -1;
		}
		return (
			~(n = a(e)) && (o = s[n] = r[n](e)),
			{
				c() {
					(t = zg('div')), o && o.c(), Gg(t, 'dir', Ot());
				},
				m(e, o) {
					Ng(e, t, o), ~n && s[n].m(t, null), (i = !0);
				},
				p(e, i) {
					let l = n;
					(n = a(e)),
						n === l
							? ~n && s[n].p(e, i)
							: (o &&
									(Oh(),
									Ph(s[l], 1, 1, () => {
										s[l] = null;
									}),
									Nh()),
							  ~n
									? ((o = s[n]), o ? o.p(e, i) : ((o = s[n] = r[n](e)), o.c()), Dh(o, 1), o.m(t, null))
									: (o = null));
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(e) {
					e && Dg(t), ~n && s[n].d();
				},
			}
		);
	}
	function gS(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g;
		return {
			c() {
				(t = zg('button')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('twitter_web_translate_tweet_link')}`),
					(o = Bg()),
					(i = Ug('svg')),
					(r = Ug('g')),
					(s = Ug('path')),
					(a = Ug('path')),
					(l = Ug('path')),
					(c = Ug('defs')),
					(d = Ug('clipPath')),
					(u = Ug('rect')),
					Gg(n, 'class', 'copy svelte-qovtib'),
					Gg(
						s,
						'd',
						'M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z',
					),
					Gg(s, 'class', 'deepl-icon svelte-qovtib'),
					Gg(
						a,
						'd',
						'M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z',
					),
					Gg(a, 'fill', 'white'),
					Gg(
						l,
						'd',
						'M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z',
					),
					Gg(l, 'fill', 'white'),
					Gg(r, 'clip-path', 'url(#clip0)'),
					Gg(u, 'width', '18.5294'),
					Gg(u, 'height', '19'),
					Gg(u, 'fill', 'white'),
					Gg(u, 'transform', 'matrix(-1 0 0 1 18.5294 0)'),
					Gg(d, 'id', 'clip0'),
					Gg(i, 'width', '15'),
					Gg(i, 'height', '15'),
					Gg(i, 'viewBox', '0 0 19 19'),
					Gg(i, 'fill', 'none'),
					Gg(i, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(i, 'class', 'svelte-qovtib'),
					Gg(t, 'class', 'tweetLink svelte-qovtib'),
					(t.disabled = p = !!e[1]),
					Qg(t, 'dark', e[4]);
			},
			m(p, h) {
				Ng(p, t, h),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					Ag(i, r),
					Ag(r, s),
					Ag(r, a),
					Ag(r, l),
					Ag(i, c),
					Ag(c, d),
					Ag(d, u),
					m || ((g = [Wg(t, 'keydown', e[5]), Wg(t, 'click', e[5])]), (m = !0));
			},
			p(e, n) {
				2 & n && p !== (p = !!e[1]) && (t.disabled = p), 16 & n && Qg(t, 'dark', e[4]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (m = !1), pg(g);
			},
		};
	}
	function hS(e) {
		let t, n;
		return (
			(t = new EE({
				props: {
					small: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function fS(e) {
		let t,
			n,
			o = e[0] && e[0].isTwitterEnabled && mS(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[0] && e[0].isTwitterEnabled
					? o
						? (o.p(e, n), 1 & n && Dh(o, 1))
						: ((o = mS(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function _S(e, n, o) {
		let i, r, s;
		fg(e, Xh, (e) => o(0, (r = e))),
			fg(e, rS, (e) => o(7, (s = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let a,
			l,
			{ tweetTextNode: c } = n,
			d = !1;
		return (
			(e.$$set = (e) => {
				'tweetTextNode' in e && o(6, (c = e.tweetTextNode));
			}),
			(e.$$.update = () => {
				if ((128 & e.$$.dirty && o(4, (i = s && s.isDarkMode)), 1 & e.$$.dirty)) {
					r.blacklistDomainsForReading.includes(window.location.hostname)
						? o(3, (l = !1))
						: r.selectedTargetLanguage &&
						  (async function () {
								const e = c.innerText;
								if (e.length < 20) return !1;
								const t = await kt(e);
								return $t(chrome.i18n.getUILanguage()) !== t && $t(r.selectedTargetLanguage) !== t;
						  })()
								.then((e) => o(3, (l = e)))
								.catch(() => o(3, (l = !1)));
				}
			}),
			[
				r,
				a,
				d,
				l,
				i,
				async function () {
					if (a) return;
					o(2, (d = !0));
					let e,
						n,
						i = '';
					try {
						(i = await kt(c.innerText)), (i = It(i));
					} catch (e) {
						console.log(e);
					}
					try {
						n = await t({
							action: 'dlRequestTwitterTweetTranslation',
							payload: {
								message: c.innerText,
								messageLang: i,
								domainName: window.location.hostname,
							},
						});
					} catch (t) {
						(e = t), console.error(e);
					}
					o(1, (a = e ? '' : n[0].text)), o(2, (d = !1));
					const r = pS.createElement();
					r.createDOM(
						a,
						c.innerText,
						() => {
							o(1, (a = '')), r.cleanupDOM();
						},
						e,
					),
						c.appendChild(r);
				},
				c,
				s,
			]
		);
	}
	class vS extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, _S, fS, gg, {
					tweetTextNode: 6,
				});
		}
	}
	class yS extends tS {
		static HTML_TAG_NAME = 'deepl-twitter-tweet-link';
		static createElement = (e = document) => {
			const t = e.createElement(yS.HTML_TAG_NAME);
			return new yS(t), t;
		};
		constructor(e) {
			super(e), this.bindChildFunctions();
		}
		createDOM = (e) => {
			this.domElement.mainComponent = new vS({
				target: this.domElement.shadowContainer,
				props: {
					tweetTextNode: e,
				},
			});
		};
	}
	function wS() {
		console.log('customizing for twitter');
		let e = new MutationObserver(() => {
			!(function () {
				const e = document.body.querySelectorAll("[data-testid='tweetText']");
				for (let t of e)
					if (
						'true' !== t.dataset.dlHasMessageTranslator &&
						((t.dataset.dlHasMessageTranslator = 'true'), t && t.innerText)
					) {
						const e = yS.createElement();
						return e.createDOM(t), void t.appendChild(e);
					}
			})();
		});
		e.observe(document.body, {
			attributes: !0,
			childList: !0,
			subtree: !0,
		}),
			s_(() => e.disconnect());
	}
	function bS(e) {
		let t, n;
		return {
			c() {
				(t = zg('span')), (n = Hg(e[0])), Gg(t, 'class', 'translatedText svelte-jkt5fr');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				1 & t && Vg(n, e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function ES(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: e[2],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n && (o.error = e[2]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function SS(e) {
		let t,
			n,
			o = (function (e) {
				let t, n, o, i, r, s, a, l, c, d, u, p;
				const m = [ES, bS],
					g = [];
				function h(e, t) {
					return e[2] ? 0 : 1;
				}
				return (
					(o = h(e)),
					(i = g[o] = m[o](e)),
					{
						c() {
							(t = zg('div')),
								(n = zg('div')),
								i.c(),
								(r = Bg()),
								(s = zg('div')),
								(s.textContent = `${chrome.i18n.getMessage('ui_inline_translation_see_alternatives_v2')}`),
								(a = Bg()),
								(l = zg('button')),
								(l.innerHTML =
									'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
								Gg(s, 'class', 'show-alternatives svelte-jkt5fr'),
								Gg(l, 'class', 'svelte-jkt5fr'),
								Gg(t, 'class', 'container svelte-jkt5fr'),
								Gg(t, 'dir', Ot());
						},
						m(i, c) {
							Ng(i, t, c),
								Ag(t, n),
								g[o].m(n, null),
								Ag(n, r),
								Ag(n, s),
								Ag(t, a),
								Ag(t, l),
								(d = !0),
								u ||
									((p = [
										Wg(s, 'click', e[3]),
										Wg(l, 'click', function () {
											mg(e[1]) && e[1].apply(this, arguments);
										}),
									]),
									(u = !0));
						},
						p(t, s) {
							let a = o;
							(o = h((e = t))),
								o === a
									? g[o].p(e, s)
									: (Oh(),
									  Ph(g[a], 1, 1, () => {
											g[a] = null;
									  }),
									  Nh(),
									  (i = g[o]),
									  i ? i.p(e, s) : ((i = g[o] = m[o](e)), i.c()),
									  Dh(i, 1),
									  i.m(n, r));
						},
						i(e) {
							d ||
								(Dh(i),
								c ||
									Sh(() => {
										(c = Uh(t, If, {
											y: -10,
											duration: 200,
										})),
											c.start();
									}),
								(d = !0));
						},
						o(e) {
							Ph(i), (d = !1);
						},
						d(e) {
							e && Dg(t), g[o].d(), (u = !1), pg(p);
						},
					}
				);
			})(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [t]) {
				o.p(e, t);
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function xS(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(5, (i = e))), mh('text_direction', Ot());
		let r,
			s,
			{ translatedText: a } = n,
			{ sourceText: l } = n,
			{ onClose: c } = n,
			{ error: d } = n;
		return (
			(e.$$set = (e) => {
				'translatedText' in e && o(0, (a = e.translatedText)),
					'sourceText' in e && o(4, (l = e.sourceText)),
					'onClose' in e && o(1, (c = e.onClose)),
					'error' in e && o(2, (d = e.error));
			}),
			(e.$$.update = () => {
				16 & e.$$.dirty &&
					kt(l).then((e) => {
						r = e;
					}),
					32 & e.$$.dirty && (s = i.selectedTargetLanguage);
			}),
			[
				a,
				c,
				d,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: nv,
							sourceLang: r,
							targetLang: s,
							textToShare: l,
						},
					});
					try {
						t({
							action: 'dlTrackUiAction',
							payload: {
								uiAction: H,
								nicheIntegration: ne.linkedIn,
							},
						});
					} catch (e) {
						console.error(e);
					}
				},
				l,
				i,
			]
		);
	}
	class TS extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, xS, SS, gg, {
					translatedText: 0,
					sourceText: 4,
					onClose: 1,
					error: 2,
				});
		}
	}
	class CS {
		static HTML_TAG_NAME = 'deepl-linkedin-translated-post';
		static createElement = (e = document) => {
			const t = e.createElement(CS.HTML_TAG_NAME),
				n = new CS(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.mainComponent = null);
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t, n, o) => {
			this.domElement.mainComponent = new TS({
				target: this.domElement.shadowContainer,
				props: {
					translatedText: e,
					onClose: n,
					sourceText: t,
					error: o,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function $S(e) {
		let t,
			n,
			o = {
				ctx: e,
				current: null,
				token: null,
				hasCatch: !1,
				pending: AS,
				then: LS,
				catch: kS,
				value: 11,
				blocks: [, , ,],
			};
		return (
			(function (e, t) {
				const n = (t.token = {});
				function o(e, o, i, r) {
					if (t.token !== n) return;
					t.resolved = r;
					let s = t.ctx;
					void 0 !== i && ((s = s.slice()), (s[i] = r));
					const a = e && (t.current = e)(s);
					let l = !1;
					t.block &&
						(t.blocks
							? t.blocks.forEach((e, n) => {
									n !== o &&
										e &&
										(Oh(),
										Ph(e, 1, 1, () => {
											t.blocks[n] === e && (t.blocks[n] = null);
										}),
										Nh());
							  })
							: t.block.d(1),
						a.c(),
						Dh(a, 1),
						a.m(t.mount(), t.anchor),
						(l = !0)),
						(t.block = a),
						t.blocks && (t.blocks[o] = a),
						l && kh();
				}
				if (!(i = e) || ('object' != typeof i && 'function' != typeof i) || 'function' != typeof i.then) {
					if (t.current !== t.then) return o(t.then, 1, t.value, e), !0;
					t.resolved = e;
				} else {
					const n = ch();
					if (
						(e.then(
							(e) => {
								lh(n), o(t.then, 1, t.value, e), lh(null);
							},
							(e) => {
								if ((lh(n), o(t.catch, 2, t.error, e), lh(null), !t.hasCatch)) throw e;
							},
						),
						t.current !== t.pending)
					)
						return o(t.pending, 0), !0;
				}
				var i;
			})(e[3](), o),
			{
				c() {
					(t = Fg()), o.block.c();
				},
				m(e, i) {
					Ng(e, t, i), o.block.m(e, (o.anchor = i)), (o.mount = () => t.parentNode), (o.anchor = t), (n = !0);
				},
				p(t, n) {
					!(function (e, t, n) {
						const o = t.slice(),
							{ resolved: i } = e;
						e.current === e.then && (o[e.value] = i),
							e.current === e.catch && (o[e.error] = i),
							e.block.p(o, n);
					})(o, (e = t), n);
				},
				i(e) {
					n || (Dh(o.block), (n = !0));
				},
				o(e) {
					for (let e = 0; e < 3; e += 1) {
						Ph(o.blocks[e]);
					}
					n = !1;
				},
				d(e) {
					e && Dg(t), o.block.d(e), (o.token = null), (o = null);
				},
			}
		);
	}
	function kS(e) {
		return {
			c: lg,
			m: lg,
			p: lg,
			i: lg,
			o: lg,
			d: lg,
		};
	}
	function LS(e) {
		let t,
			n,
			o =
				e[11] &&
				(function (e) {
					let t, n, o, i;
					const r = [MS, IS],
						s = [];
					function a(e, t) {
						return e[0] ? 0 : 1;
					}
					return (
						(n = a(e)),
						(o = s[n] = r[n](e)),
						{
							c() {
								(t = zg('div')),
									o.c(),
									Gg(t, 'class', 'linkedin-link-container svelte-2f58mn'),
									Gg(t, 'dir', Ot());
							},
							m(e, o) {
								Ng(e, t, o), s[n].m(t, null), (i = !0);
							},
							p(e, i) {
								let l = n;
								(n = a(e)),
									n === l
										? s[n].p(e, i)
										: (Oh(),
										  Ph(s[l], 1, 1, () => {
												s[l] = null;
										  }),
										  Nh(),
										  (o = s[n]),
										  o ? o.p(e, i) : ((o = s[n] = r[n](e)), o.c()),
										  Dh(o, 1),
										  o.m(t, null));
							},
							i(e) {
								i || (Dh(o), (i = !0));
							},
							o(e) {
								Ph(o), (i = !1);
							},
							d(e) {
								e && Dg(t), s[n].d();
							},
						}
					);
				})(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, t) {
				e[11] && o.p(e, t);
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function IS(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('linkedin_web_translate_post_link')}`),
					Gg(n, 'class', 'copy svelte-2f58mn'),
					Qg(n, 'active', e[1]),
					Gg(t, 'class', 'linkedin-link svelte-2f58mn');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = [Wg(t, 'keydown', e[4]), Wg(t, 'click', e[4])]), (o = !0));
			},
			p(e, t) {
				2 & t && Qg(n, 'active', e[1]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (o = !1), pg(i);
			},
		};
	}
	function MS(e) {
		let t, n, o;
		return (
			(n = new EE({
				props: {
					small: !0,
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'spinner svelte-2f58mn');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function AS(e) {
		return {
			c: lg,
			m: lg,
			p: lg,
			i: lg,
			o: lg,
			d: lg,
		};
	}
	function RS(e) {
		let t,
			n,
			o = e[2] && e[2][ne.linkedIn] && $S(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[2] && e[2][ne.linkedIn]
					? o
						? (o.p(e, n), 4 & n && Dh(o, 1))
						: ((o = $S(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function OS(e, n, o) {
		let i, r, s;
		fg(e, Xh, (e) => o(6, (s = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let a,
			{ linkedInPostNode: l } = n,
			c = !1,
			d = l.querySelector('.update-components-text').innerText;
		return (
			(e.$$set = (e) => {
				'linkedInPostNode' in e && o(5, (l = e.linkedInPostNode));
			}),
			(e.$$.update = () => {
				64 & e.$$.dirty && o(2, (r = s.customizationsActiveStates));
			}),
			o(1, (i = !0)),
			[
				c,
				i,
				r,
				async function () {
					if (d.length < 20) return !1;
					const e = await kt(d);
					return (
						(t = e), $t(chrome.i18n.getUILanguage()) !== t && ((e) => $t(s.selectedTargetLanguage) !== e)(e)
					);
					var t;
				},
				async function () {
					if (a) return;
					o(0, (c = !0));
					let e,
						n,
						r = '';
					try {
						(r = await kt(d)), (r = It(r));
					} catch (e) {
						console.log(e);
					}
					try {
						n = await t({
							action: 'dlRequestLinkedInPostTranslation',
							payload: {
								message: d,
								messageLang: r,
								domainName: window.location.hostname,
								trigger: h,
							},
						});
					} catch (t) {
						(e = t), console.error(e);
					}
					(a = e ? '' : n[0].text), o(0, (c = !1));
					const s = CS.createElement();
					s.createDOM(
						a,
						d,
						() => {
							(a = ''), o(1, (i = !0)), s.cleanupDOM(), s.remove();
						},
						e,
					),
						l.appendChild(s),
						o(1, (i = !1));
				},
				l,
				s,
			]
		);
	}
	class NS extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, OS, RS, gg, {
					linkedInPostNode: 5,
				});
		}
	}
	class DS {
		static HTML_TAG_NAME = 'deepl-linkedin-post-link';
		static createElement = (e = document) => {
			const t = e.createElement(DS.HTML_TAG_NAME),
				n = new DS(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.mainComponent = null);
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e) => {
			this.domElement.mainComponent = new NS({
				target: this.domElement.shadowContainer,
				props: {
					linkedInPostNode: e,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	const PS = () => document.body.querySelectorAll('.feed-shared-update-v2__description-wrapper'),
		zS = (e) => {
			const t = DS.createElement();
			t.createDOM(e), e.appendChild(t);
		};
	function US() {
		let e = new MutationObserver(() => {
			!(function () {
				const e = PS();
				for (let t of e)
					if (
						'true' !== t.dataset.dlHasMessageTranslator &&
						((t.dataset.dlHasMessageTranslator = 'true'), t && t.innerText)
					)
						return void zS(t);
			})();
		});
		e.observe(document.body, {
			attributes: !0,
			childList: !0,
			subtree: !0,
		}),
			s_(() => e.disconnect());
	}
	function HS(e) {
		try {
			return JSON.parse(atob(e.split('.')[1]));
		} catch (e) {
			return null;
		}
	}
	function BS(e) {
		switch (e) {
			case P.inputTranslationTriggerIcon:
				return 1;
			case P.inlineTranslationTriggerIcon:
				return 2;
			case P.inlineTranslationSettingPopup:
				return 3;
			case P.inputTranslationSettingPopup:
				return 4;
			case P.settingsPageFPT:
				return 5;
			case P.settingsPageReading:
				return 6;
			case P.settingsPageWriting:
				return 7;
			case P.fptHideModal:
				return 8;
			case P.inputTranslationSettingsIcon:
				return 9;
			case P.inlineTranslationSettingsIcon:
				return 10;
			case P.inputTranslationReadMoreLink:
				return 11;
			case P.inlineTranslationReadMoreLink:
				return 12;
			case P.fptTranslationReadMoreLink:
				return 13;
			case P.extensionHubToggleSwitch:
				return 14;
			case P.hubCustomizeShortcut:
				return 15;
			case P.hubLoginButton:
				return 16;
			case P.hubUpgradeToProLink:
				return 17;
			case P.hubTryProLink:
				return 18;
			case P.settingsPageCustomizeShortcutButton:
				return 19;
			case P.hubFPTEnableCheckbox:
				return 20;
			case P.hubFPTDisableCheckbox:
				return 21;
			case P.deeplWriteIcon:
				return 22;
			case P.hubViewIntegrations:
				return 23;
			case P.hubCloseCustomizationsWidget:
				return 24;
			case P.gmailOnboardingPopup:
				return 25;
			case P.gmailOnboardingIcon:
				return 26;
			case P.gmailCharLimitLogin:
				return 27;
			case P.gmailFeedbackSurvey:
				return 28;
			case P.gslidesFeedbackSurvey:
				return 29;
			case P.gslidesCharLimitLogin:
				return 30;
			case P.zendeskTryProLink:
				return 31;
			case P.settingsPageIntegrations:
				return 32;
			case P.onboardingSignUp:
				return 33;
			case P.onboardingSkipSignUp:
				return 34;
			case P.onboardingLoginLink:
				return 35;
			case P.onboardingSeeAllIntegrations:
				return 36;
			case P.inputImproveTriggerIcon:
				return 37;
			case P.iconToggleInHubTranslator:
				return 38;
			case P.iconToggleInHubWrite:
				return 39;
			case P.manageIconSettings:
				return 40;
			case P.writeLanguageSwitchedInHub:
				return 41;
			case P.writeLanguageSwitchedInSettings:
				return 42;
			default:
				return 0;
		}
	}
	function FS(e) {
		switch (e) {
			case Z.chrome:
				return K.chrome;
			case Z.edge:
				return K.edge;
			case Z.firefox:
				return K.firefox;
			case Z.local:
				return K.local;
			default:
				return K.unspecified;
		}
	}
	function WS(e) {
		switch (e) {
			case ve.free:
				return 1;
			case ve.pro:
				return 2;
			case ve.none:
				return 3;
			default:
				return 0;
		}
	}
	function jS(e) {
		switch (e) {
			case Re.READING_VIEW_TRANSLATE:
				return 1;
			case Re.COMPOSE_VIEW_TRANSLATE:
				return 2;
			case Re.COMPOSE_VIEW_IMPROVE:
				return 3;
			default:
				return 0;
		}
	}
	function qS(e) {
		switch (e) {
			case je.none:
				return 1;
			case je.pro:
				return 2;
			case je.free:
				return 3;
			default:
				return 0;
		}
	}
	const GS = ['accountData', 'domainName'],
		VS = [60067, 60068, 60069],
		YS = (e, t) =>
			e && 'object' == typeof e
				? Array.isArray(e)
					? e.map((e) => YS(e, t))
					: Object.keys(e).reduce((n, o) => (t.includes(o) || (n[o] = YS(e[o], t)), n), {})
				: e,
		KS = (e, t = !1, n = !1) => (e ? (n && t ? e : !n && VS.includes(e?.eventId) ? null : YS(e, GS)) : null),
		ZS = (e = !1, t = !1) => !(!e && !t) && !(!e && t) && (!(!e || t) || !(!e || !t) || void 0);
	async function XS(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = !1;
		try {
			const e = await nx([
				'session',
				'installationId',
				'firefoxAnonPermissionGranted',
				'firefoxPersonalPermissionGranted',
			]);
			(n = e.session.id),
				(t = e.installationId),
				(d = e.firefoxAnonPermissionGranted),
				(u = e.firefoxPersonalPermissionGranted);
		} catch (e) {
			console.error(`DAP: Failed to fetch settings. Error: ${e.message}`);
		}
		try {
			const e = await (async function () {
				return await chrome.storage.local.get([
					'isLoggedIn',
					'isProUser',
					'sessionType',
					'translatorServiceType',
					'writeServiceType',
					'apiServiceType',
					'docTranslatorServiceType',
					'accountId',
					'hasTermbaseService',
				]);
			})();
			(p = !!e.accountId),
				(o = WS(e.translatorServiceType)),
				(i = WS(e.apiServiceType)),
				(r = WS(e.docTranslatorServiceType)),
				(c = WS(e.writeServiceType)),
				(a = p ? (2 === o || 2 === i || 2 === c || 2 === r ? _.loggedInPro : _.loggedInFree) : _.notLoggedIn),
				(l = e.sessionType ? qS(e.sessionType) : qS(je.none));
		} catch (e) {
			console.error(`DAP: Failed to fetch user information. Error: ${e.message}`);
		}
		try {
			s = await (async function () {
				return (await chrome.storage.local.get(['browserInstanceId'])).browserInstanceId;
			})();
		} catch (e) {
			console.error(e);
		}
		const m = tt(),
			g = await (async function () {
				let e = [];
				try {
					e = await (async function () {
						try {
							const e = await (async function (e, t) {
								QS ||
									(await new Promise((e, t) => {
										let n = indexedDB.open(ex, 1);
										(n.onerror = function () {
											t('Error creating database.');
										}),
											(n.onsuccess = function (t) {
												(QS = t.target.result), e();
											}),
											(n.onupgradeneeded = function (t) {
												(QS = t.target.result),
													QS.objectStoreNames.contains(tx) ||
														QS.createObjectStore(tx, {
															keyPath: 'id',
														}),
													e();
											});
									}));
								return new Promise((n, o) => {
									let i = QS.transaction(t, 'readonly').objectStore(t).get(e);
									(i.onerror = function (e) {
										o(e);
									}),
										(i.onsuccess = function () {
											i.result ? n(i.result) : n(null);
										});
								});
							})('dlexperiments', tx);
							return e && e.meta && e.data ? e.data : [];
						} catch (e) {
							return [];
						}
					})();
				} catch (e) {}
				if (!e || 0 === e.length) return [];
				const t = e.map((e) => ({
					id: e.id,
					variant: e.variant,
					breakout: e.breakout,
				}));
				return t;
			})(),
			h = {
				eventId: void 0,
				extensionVersion: '1.26.1',
				sessionId: n,
				sessionType: l,
				installationId: t,
				browserInstanceId: s,
				originStore: FS(chrome.runtime.id),
				userInfos: {
					userType: a,
					translatorServiceType: o,
					apiServiceType: i,
					docTranslatorServiceType: r,
					writeServiceType: c,
				},
				userAgent: m.userAgent,
				platform: m.platform,
				browser: m.browser,
				browserVersion: m.browserVersion,
				browserLang: m.browserLang,
				clientExperiments: g,
			};
		let f = e ? e(h) : h;
		if (nt()) {
			if (!ZS(d, u)) return;
			if (((f = KS(f, d, u)), !f)) return;
		}
		return fetch('https://s.deepl.com/chrome/statistics', {
			method: 'POST',
			headers: {
				Accept: 'application/json',
				'Content-Type': 'application/json',
			},
			body: JSON.stringify(f),
			credentials: 'omit',
		}).then((e) => {
			e.ok || console.log(`DAP ${f.eventId} request failed: ${e}`);
		});
	}
	async function JS() {
		if (
			!(await (async function () {
				const e = await chrome.storage.local.get(['isLoggedIn']);
				return !(!e || !e.isLoggedIn);
			})())
		)
			return;
		const e = await (async function () {
			const e = await chrome.storage.local.get(['accountId', 'a_t', 'i_t']);
			if (e && e.accountId) return e.accountId;
			if (e && e.a_t) {
				const t = HS(e.a_t),
					n = HS(e.i_t);
				return t.sub || n.sub;
			}
		})();
		return XS((t) => ({
			...t,
			eventId: 60067,
			accountData: {
				accountUuid: e,
			},
		}));
	}
	let QS;
	const ex = 'dlBrowserExtension',
		tx = 'dlCache';
	async function nx(e) {
		if (e.includes('session')) {
			const e = await chrome.storage.sync.get(['session']);
			e &&
				!e.session &&
				(await (async function () {
					const e = crypto.randomUUID();
					await chrome.storage.sync.set({
						session: {
							id: e,
							timestamp: Date.now(),
						},
					});
					try {
						await JS();
					} catch (e) {
						console.error(e);
					}
				})());
		}
		return new Promise((t, n) => {
			chrome.storage.sync.get(e, (o) => {
				o ? t(o) : n(`Can not get ${e}`);
			});
		});
	}
	function ox(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage('login_widget_login_link')}`),
					Gg(t, 'class', 'user-action-button svelte-9xsres');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = [Wg(t, 'mousedown', jg(e[18])), Wg(t, 'click', e[19])]), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function ix(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage('toolbar_upgrade_to_pro_button')}`),
					Gg(t, 'class', 'user-action-button svelte-9xsres');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = [Wg(t, 'mousedown', jg(e[17])), Wg(t, 'click', e[20])]), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function rx(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'type', 'button'),
					Gg(t, 'class', 'dl-menu-icon dl-menu-icon--user svelte-9xsres');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'mousedown', jg(e[16]))), (n = !0));
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function sx(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g = Qt();
		function h(e, t) {
			return !0 === e[0].isLoggedIn ? lx : ax;
		}
		let f = h(e),
			_ = f && f(e),
			v =
				g &&
				(function (e) {
					let t, n, o;
					return {
						c() {
							(t = zg('button')), (t.textContent = 'DEV_TOOLS'), Gg(t, 'class', 'dl-menu-item svelte-9xsres');
						},
						m(i, r) {
							Ng(i, t, r), n || ((o = Wg(t, 'click', e[9])), (n = !0));
						},
						p: lg,
						d(e) {
							e && Dg(t), (n = !1), o();
						},
					};
				})(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(o = zg('span')),
					(i = zg('div')),
					(i.textContent = `${chrome.i18n.getMessage('menu_share_feedback_link')}`),
					(r = Bg()),
					(s = zg('div')),
					(a = Bg()),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('menu_settings_label')}`),
					(c = Bg()),
					_ && _.c(),
					(d = Bg()),
					v && v.c(),
					Gg(s, 'class', 'dl-feedback-icon svelte-9xsres'),
					Gg(o, 'class', 'dl-menu-link dl-feedback-link svelte-9xsres'),
					Gg(n, 'class', 'dl-menu-item svelte-9xsres'),
					Gg(l, 'class', 'dl-menu-item svelte-9xsres'),
					Gg(t, 'class', 'dl-menu-list svelte-9xsres');
			},
			m(u, g) {
				Ng(u, t, g),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(o, r),
					Ag(o, s),
					Ag(t, a),
					Ag(t, l),
					Ag(t, c),
					_ && _.m(t, null),
					Ag(t, d),
					v && v.m(t, null),
					p || ((m = [Wg(n, 'click', e[7]), Wg(l, 'click', e[10])]), (p = !0));
			},
			p(e, n) {
				f === (f = h(e)) && _ ? _.p(e, n) : (_ && _.d(1), (_ = f && f(e)), _ && (_.c(), _.m(t, d))),
					g && v.p(e, n);
			},
			i(e) {
				u ||
					Sh(() => {
						(u = Uh(t, If, {
							y: -5,
							duration: 500,
						})),
							u.start();
					});
			},
			o: lg,
			d(e) {
				e && Dg(t), _ && _.d(), v && v.d(), (p = !1), pg(m);
			},
		};
	}
	function ax(e) {
		let t, n, o, i, r, s, a, l, c;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML = '<div class="divider svelte-9xsres"></div>'),
					(n = Bg()),
					(o = zg('button')),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('menu_login_label')}`),
					(r = Bg()),
					(s = zg('button')),
					(a = zg('span')),
					(a.textContent = `${chrome.i18n.getMessage('menu_trial_label')}`),
					Gg(t, 'class', 'dl-menu-item dl-menu-item--divider svelte-9xsres'),
					Gg(o, 'class', 'dl-menu-item svelte-9xsres'),
					Gg(a, 'class', 'dl-menu-link link svelte-9xsres'),
					Gg(s, 'class', 'dl-menu-item svelte-9xsres');
			},
			m(d, u) {
				Ng(d, t, u),
					Ng(d, n, u),
					Ng(d, o, u),
					Ag(o, i),
					Ng(d, r, u),
					Ng(d, s, u),
					Ag(s, a),
					l || ((c = [Wg(o, 'click', e[5]), Wg(s, 'click', e[6])]), (l = !0));
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o), Dg(r), Dg(s)), (l = !1), pg(c);
			},
		};
	}
	function lx(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML = '<div class="divider svelte-9xsres"></div>'),
					(n = Bg()),
					(o = zg('button')),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('menu_logout_label')}`),
					Gg(t, 'class', 'dl-menu-item dl-menu-item--divider svelte-9xsres'),
					Gg(o, 'class', 'dl-menu-item svelte-9xsres');
			},
			m(a, l) {
				Ng(a, t, l), Ng(a, n, l), Ng(a, o, l), Ag(o, i), r || ((s = Wg(o, 'click', e[4])), (r = !0));
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o)), (r = !1), s();
			},
		};
	}
	function cx(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = !e[0].isLoggedIn && ox(e),
			m = e[2] && ix(e),
			g = !0 === e[0].isLoggedIn && rx(e),
			h = e[1] && sx(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					p && p.c(),
					(o = Bg()),
					m && m.c(),
					(i = Bg()),
					g && g.c(),
					(r = Bg()),
					(s = zg('button')),
					(a = Bg()),
					(l = zg('button')),
					(c = Bg()),
					h && h.c(),
					Gg(s, 'type', 'button'),
					Gg(s, 'class', 'dl-menu-icon dl-menu-icon--settings svelte-9xsres'),
					Gg(s, 'aria-label', chrome.i18n.getMessage('menu_open_settings')),
					Gg(l, 'type', 'button'),
					Gg(l, 'class', 'dl-menu-icon dl-menu-icon--hamburger svelte-9xsres'),
					Gg(l, 'aria-label', chrome.i18n.getMessage('menu_open_menu')),
					Qg(l, 'isOpen', e[1]),
					Gg(n, 'class', 'dl-menu-icon-wrapper svelte-9xsres'),
					Gg(t, 'class', 'dl-container-menu svelte-9xsres');
			},
			m(f, _) {
				Ng(f, t, _),
					Ag(t, n),
					p && p.m(n, null),
					Ag(n, o),
					m && m.m(n, null),
					Ag(n, i),
					g && g.m(n, null),
					Ag(n, r),
					Ag(n, s),
					Ag(n, a),
					Ag(n, l),
					Ag(t, c),
					h && h.m(t, null),
					d ||
						((u = [
							Wg(s, 'mousedown', jg(e[15])),
							Wg(s, 'click', e[21]),
							Wg(l, 'mousedown', jg(e[14])),
							Wg(l, 'click', e[22]),
							Wg(n, 'mousedown', qg(jg(e[13]))),
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
							Wg(t, 'click_outside', e[8]),
							Wg(t, 'mousedown', qg(jg(e[12]))),
						]),
						(d = !0));
			},
			p(e, [s]) {
				e[0].isLoggedIn ? p && (p.d(1), (p = null)) : p ? p.p(e, s) : ((p = ox(e)), p.c(), p.m(n, o)),
					e[2] ? (m ? m.p(e, s) : ((m = ix(e)), m.c(), m.m(n, i))) : m && (m.d(1), (m = null)),
					!0 === e[0].isLoggedIn ? g || ((g = rx(e)), g.c(), g.m(n, r)) : g && (g.d(1), (g = null)),
					2 & s && Qg(l, 'isOpen', e[1]),
					e[1]
						? h
							? (h.p(e, s), 2 & s && Dh(h, 1))
							: ((h = sx(e)), h.c(), Dh(h, 1), h.m(t, null))
						: h && (h.d(1), (h = null));
			},
			i(e) {
				Dh(h);
			},
			o: lg,
			d(e) {
				e && Dg(t), p && p.d(), m && m.d(), g && g.d(), h && h.d(), (d = !1), pg(u);
			},
		};
	}
	function dx(e, n, o) {
		let i, r;
		const s = gh('deepl_settings');
		fg(e, s, (e) => o(0, (r = e)));
		let a = !1;
		function l() {
			t({
				action: 'dlRequestLogin',
			}),
				c();
		}
		function c() {
			o(1, (a = !1));
		}
		function d() {
			t({
				action: 'dlOpenInternalPage',
				payload: {
					destination: SE.settings_page,
				},
			}),
				c();
		}
		function u() {
			t({
				action: 'dlExternalURLRedirect',
				payload: {
					destination: Ye(r, _e.TRANSLATOR) ? tv : ev,
					utmContent: 'menu',
				},
			}),
				c();
		}
		return (
			(e.$$.update = () => {
				1 & e.$$.dirty && o(2, (i = r.isLoggedIn && (!Ye(r, _e.TRANSLATOR) || !Ye(r, _e.WRITE))));
			}),
			[
				r,
				a,
				i,
				s,
				function () {
					t({
						action: 'dlRequestLogout',
					}),
						t({
							action: 'dlTrackUiAction',
							payload: {
								uiAction: F,
							},
						}),
						c();
				},
				l,
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'menu',
						},
					}),
						c();
				},
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: nt() ? pv : Q_,
						},
					}),
						c();
				},
				c,
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: SE.developer_tools,
						},
					}),
						c();
				},
				d,
				u,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				() => {
					l();
				},
				() => {
					u();
				},
				() => {
					d();
				},
				() => {
					o(1, (a = !a));
				},
			]
		);
	}
	class ux extends Yh {
		constructor(e) {
			super(), Vh(this, e, dx, cx, gg, {});
		}
	}
	function px(e) {
		let t, n;
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'class', (n = Eg(`deepl-shield-icon ${e[0]}`) + ' svelte-16nk5mq')),
					Gg(t, 'style', e[2]);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				1 & o && n !== (n = Eg(`deepl-shield-icon ${e[0]}`) + ' svelte-16nk5mq') && Gg(t, 'class', n);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function mx(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: e[1],
					zIndex: '5',
					$$slots: {
						default: [gx],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					2 & n && (o.tooltip = e[1]),
						257 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function gx(e) {
		let t, n;
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'class', (n = Eg(`deepl-shield-icon ${e[0]}`) + ' svelte-16nk5mq')),
					Gg(t, 'style', e[2]);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				1 & o && n !== (n = Eg(`deepl-shield-icon ${e[0]}`) + ' svelte-16nk5mq') && Gg(t, 'class', n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function hx(e) {
		let t, n, o, i;
		const r = [mx, px],
			s = [];
		function a(e, t) {
			return e[1] ? 0 : 1;
		}
		return (
			(t = a(e)),
			(n = s[t] = r[t](e)),
			{
				c() {
					n.c(), (o = Fg());
				},
				m(e, n) {
					s[t].m(e, n), Ng(e, o, n), (i = !0);
				},
				p(e, [i]) {
					let l = t;
					(t = a(e)),
						t === l
							? s[t].p(e, i)
							: (Oh(),
							  Ph(s[l], 1, 1, () => {
									s[l] = null;
							  }),
							  Nh(),
							  (n = s[t]),
							  n ? n.p(e, i) : ((n = s[t] = r[t](e)), n.c()),
							  Dh(n, 1),
							  n.m(o.parentNode, o));
				},
				i(e) {
					i || (Dh(n), (i = !0));
				},
				o(e) {
					Ph(n), (i = !1);
				},
				d(e) {
					e && Dg(o), s[t].d(e);
				},
			}
		);
	}
	function fx(e, t, n) {
		let o,
			{ write: i = !1 } = t,
			{ translator: r = !1 } = t,
			{ size: s = 20 } = t,
			{ marginStart: a = 0 } = t,
			{ marginEnd: l = 0 } = t,
			{ alternateColor: c } = t;
		const d = `height: ${s}px; width: ${s}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;
		return (
			i
				? (o = chrome.i18n.getMessage('tooltip_write_fully_encrypted'))
				: r && (o = chrome.i18n.getMessage('tooltip_translator_fully_encrypted')),
			(e.$$set = (e) => {
				'write' in e && n(3, (i = e.write)),
					'translator' in e && n(4, (r = e.translator)),
					'size' in e && n(5, (s = e.size)),
					'marginStart' in e && n(6, (a = e.marginStart)),
					'marginEnd' in e && n(7, (l = e.marginEnd)),
					'alternateColor' in e && n(0, (c = e.alternateColor));
			}),
			[c, o, d, i, r, s, a, l]
		);
	}
	class _x extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, fx, hx, gg, {
					write: 3,
					translator: 4,
					size: 5,
					marginStart: 6,
					marginEnd: 7,
					alternateColor: 0,
				});
		}
	}
	function vx(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dl-logo svelte-1tthjxl');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function yx(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					Gg(t, 'class', 'dl-logo dl-logo--clickable svelte-1tthjxl'),
					Gg(t, 'aria-label', chrome.i18n.getMessage('deepl_logo'));
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[13])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function wx(e) {
		let t,
			n,
			o = e[6] === oe.translate && bx(),
			i = e[6] === oe.write && Ex();
		return {
			c() {
				o && o.c(), (t = Bg()), i && i.c(), (n = Fg());
			},
			m(e, r) {
				o && o.m(e, r), Ng(e, t, r), i && i.m(e, r), Ng(e, n, r);
			},
			p(e, r) {
				e[6] === oe.translate
					? o
						? o.p(e, r)
						: ((o = bx()), o.c(), o.m(t.parentNode, t))
					: o && (o.d(1), (o = null)),
					e[6] === oe.write
						? i
							? i.p(e, r)
							: ((i = Ex()), i.c(), i.m(n.parentNode, n))
						: i && (i.d(1), (i = null));
			},
			d(e) {
				e && (Dg(t), Dg(n)), o && o.d(e), i && i.d(e);
			},
		};
	}
	function bx(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('layout_tab_translator')}`),
					Gg(t, 'class', 'translator-name svelte-1tthjxl');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Ex(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('layout_tab_write')}`),
					Gg(t, 'class', 'translator-name svelte-1tthjxl');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Sx(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 24,
					write: e[6] === oe.write,
					translator: e[6] === oe.translate,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					64 & n && (o.write = e[6] === oe.write),
						64 & n && (o.translator = e[6] === oe.translate),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function xx(e) {
		let t, n, o, i;
		return (
			(o = new Tw({
				props: {
					value: e[10].selectedTargetLanguage,
					websiteSettings: e[4],
					customClass: 'dropdown__wrapper--header',
					fontSize: 'sm',
				},
			})),
			o.$on('selection', e[17]),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						jh(o.$$.fragment),
						Gg(n, 'class', 'dl-actions-language-selector__dropdown svelte-1tthjxl'),
						Gg(t, 'class', 'dl-actions-language-selector svelte-1tthjxl');
				},
				m(e, r) {
					Ng(e, t, r), Ag(t, n), qh(o, n, null), (i = !0);
				},
				p(e, t) {
					const n = {};
					1024 & t && (n.value = e[10].selectedTargetLanguage),
						16 & t && (n.websiteSettings = e[4]),
						o.$set(n);
				},
				i(e) {
					i || (Dh(o.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(o.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && Dg(t), Gh(o);
				},
			}
		);
	}
	function Tx(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					Gg(t, 'class', 'dl-settings-icon svelte-1tthjxl'),
					Gg(t, 'data-qa', 'deepl-layour-header-settings-link');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[14])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function Cx(e) {
		let t, n;
		return (
			(t = new ux({})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function $x(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')), Gg(t, 'type', 'button'), Gg(t, 'class', 'dl-close-icon svelte-1tthjxl');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = Wg(t, 'click', function () {
							mg(e[0]) && e[0].apply(this, arguments);
						})),
						(n = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function kx(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m;
		let g = (function (e, t) {
				return e[13] ? yx : vx;
			})(e),
			h = g(e),
			f = e[9] && wx(e),
			_ = e[8] && Sx(e),
			v = e[6] === oe.translate && e[2] && e[10] && e[4] && xx(e),
			y = e[7] && Tx(e),
			w = e[1] && Cx(),
			b = e[0] && $x(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					h.c(),
					(o = Bg()),
					f && f.c(),
					(i = Bg()),
					_ && _.c(),
					(r = Bg()),
					(s = zg('div')),
					v && v.c(),
					(a = Bg()),
					y && y.c(),
					(l = Bg()),
					w && w.c(),
					(c = Bg()),
					b && b.c(),
					Gg(n, 'class', 'logo-translator-name-container svelte-1tthjxl'),
					Gg(s, 'class', 'dl-actions svelte-1tthjxl'),
					Gg(
						t,
						'class',
						(d = Eg('dl-header ' + (e[2] ? 'dl-header--with-lang-selector' : '')) + ' svelte-1tthjxl'),
					);
			},
			m(d, g) {
				Ng(d, t, g),
					Ag(t, n),
					h.m(n, null),
					Ag(n, o),
					f && f.m(n, null),
					Ag(n, i),
					_ && _.m(n, null),
					Ag(t, r),
					Ag(t, s),
					v && v.m(s, null),
					Ag(s, a),
					y && y.m(s, null),
					Ag(s, l),
					w && w.m(s, null),
					Ag(s, c),
					b && b.m(s, null),
					(u = !0),
					p || ((m = Wg(t, 'mousedown', qg(jg(e[16])))), (p = !0));
			},
			p(e, [o]) {
				h.p(e, o),
					e[9] ? (f ? f.p(e, o) : ((f = wx(e)), f.c(), f.m(n, i))) : f && (f.d(1), (f = null)),
					e[8]
						? _
							? (_.p(e, o), 256 & o && Dh(_, 1))
							: ((_ = Sx(e)), _.c(), Dh(_, 1), _.m(n, null))
						: _ &&
						  (Oh(),
						  Ph(_, 1, 1, () => {
								_ = null;
						  }),
						  Nh()),
					e[6] === oe.translate && e[2] && e[10] && e[4]
						? v
							? (v.p(e, o), 1108 & o && Dh(v, 1))
							: ((v = xx(e)), v.c(), Dh(v, 1), v.m(s, a))
						: v &&
						  (Oh(),
						  Ph(v, 1, 1, () => {
								v = null;
						  }),
						  Nh()),
					e[7] ? (y ? y.p(e, o) : ((y = Tx(e)), y.c(), y.m(s, l))) : y && (y.d(1), (y = null)),
					e[1]
						? w
							? 2 & o && Dh(w, 1)
							: ((w = Cx()), w.c(), Dh(w, 1), w.m(s, c))
						: w &&
						  (Oh(),
						  Ph(w, 1, 1, () => {
								w = null;
						  }),
						  Nh()),
					e[0] ? (b ? b.p(e, o) : ((b = $x(e)), b.c(), b.m(s, null))) : b && (b.d(1), (b = null)),
					(!u ||
						(4 & o &&
							d !==
								(d =
									Eg('dl-header ' + (e[2] ? 'dl-header--with-lang-selector' : '')) + ' svelte-1tthjxl'))) &&
						Gg(t, 'class', d);
			},
			i(e) {
				u || (Dh(_), Dh(v), Dh(w), (u = !0));
			},
			o(e) {
				Ph(_), Ph(v), Ph(w), (u = !1);
			},
			d(e) {
				e && Dg(t),
					h.d(),
					f && f.d(),
					_ && _.d(),
					v && v.d(),
					y && y.d(),
					w && w.d(),
					b && b.d(),
					(p = !1),
					m();
			},
		};
	}
	function Lx(e, n, o) {
		let i,
			r,
			s = lg,
			a = () => (s(), (s = hg(f, (e) => o(18, (i = e)))), f),
			l = lg,
			c = () => (l(), (l = hg(h, (e) => o(10, (r = e)))), h);
		e.$$.on_destroy.push(() => s()), e.$$.on_destroy.push(() => l());
		let { closeWindow: u } = n,
			{ showMenu: p = !1 } = n,
			{ showLangSelect: g = !1 } = n,
			{ settings: h } = n;
		c();
		let { websiteSettings: f } = n;
		a();
		let { extensionContext: _ = 0 } = n,
			{ platformBehaviour: v = ne.default } = n,
			{ textProcessingMode: y = oe.translate } = n,
			{ showSettingsIcon: w = !0 } = n,
			{ showProStatus: b = !1 } = n,
			{ showServiceName: E = !1 } = n;
		async function S(e) {
			await h.set({
				selectedTargetLanguage: e.value,
				isTargetLanguageConfirmed: !0,
				regionalVariant: e.regionalVariant || '',
			}),
				f.update({
					translationState: d.ongoingTranslation,
				}),
				t({
					action: 'dlRequestInlineTranslation',
					payload: {
						requests: [
							{
								text: i.originalSnippet,
							},
						],
						domainName: window.location.hostname,
						trigger: m,
						sourceLang: 'auto',
						websiteLanguage: i.websiteLanguage,
					},
				})
					.then((e) => {
						f.update({
							translationState: d.none,
							translatedSnippet: e[0].text,
							snippetDetectedSourceLang: e[0].detected_source_language,
							websiteLanguage: e[0].detected_source_language,
						});
					})
					.catch((e) => {
						f.update({
							translationState: d.none,
							translatedSnippet: '',
							snippetDetectedSourceLang: '',
							error: e.message ? e.message : e,
						});
					});
		}
		async function x(e) {
			await h.set({
				selectedTargetLanguage: e.value,
				isTargetLanguageConfirmed: !0,
				regionalVariant: e.regionalVariant || '',
			});
			const t = document.getElementsByTagName('deepl-gdocs-icon')[0];
			t && t.requestNewTranslation(e.value);
		}
		return (
			(e.$$set = (e) => {
				'closeWindow' in e && o(0, (u = e.closeWindow)),
					'showMenu' in e && o(1, (p = e.showMenu)),
					'showLangSelect' in e && o(2, (g = e.showLangSelect)),
					'settings' in e && c(o(3, (h = e.settings))),
					'websiteSettings' in e && a(o(4, (f = e.websiteSettings))),
					'extensionContext' in e && o(15, (_ = e.extensionContext)),
					'platformBehaviour' in e && o(5, (v = e.platformBehaviour)),
					'textProcessingMode' in e && o(6, (y = e.textProcessingMode)),
					'showSettingsIcon' in e && o(7, (w = e.showSettingsIcon)),
					'showProStatus' in e && o(8, (b = e.showProStatus)),
					'showServiceName' in e && o(9, (E = e.showServiceName));
			}),
			[
				u,
				p,
				g,
				h,
				f,
				v,
				y,
				w,
				b,
				E,
				r,
				S,
				x,
				function () {
					let e = ov;
					t({
						action: 'dlTrackLogoClickedEvent',
						payload: {
							extensionContext: _,
						},
					}),
						y === oe.write && (e = iv),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: e,
								utmContent: 'gdocs_logo',
							},
						});
				},
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: SE.settings_page,
						},
					});
				},
				_,
				function (t) {
					hh.call(this, e, t);
				},
				(e) => {
					switch (v) {
						case ne.gdocs:
							x(e.detail.selectedOption);
							break;
						case ne.default:
						default:
							S(e.detail.selectedOption);
					}
				},
			]
		);
	}
	class Ix extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Lx, kx, gg, {
					closeWindow: 0,
					showMenu: 1,
					showLangSelect: 2,
					settings: 3,
					websiteSettings: 4,
					extensionContext: 15,
					platformBehaviour: 5,
					textProcessingMode: 6,
					showSettingsIcon: 7,
					showProStatus: 8,
					showServiceName: 9,
				});
		}
	}
	function Mx(e) {
		let t, n;
		return (
			(t = new Ix({
				props: {
					websiteSettings: e[5],
					settings: e[4],
					showLangSelect: e[2],
					showMenu: e[1],
					closeWindow: e[0],
					extensionContext: e[6],
					platformBehaviour: e[7],
					textProcessingMode: e[8],
					showSettingsIcon: e[9],
					showProStatus: e[10],
					showServiceName: e[11],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					32 & n && (o.websiteSettings = e[5]),
						16 & n && (o.settings = e[4]),
						4 & n && (o.showLangSelect = e[2]),
						2 & n && (o.showMenu = e[1]),
						1 & n && (o.closeWindow = e[0]),
						64 & n && (o.extensionContext = e[6]),
						128 & n && (o.platformBehaviour = e[7]),
						256 & n && (o.textProcessingMode = e[8]),
						512 & n && (o.showSettingsIcon = e[9]),
						1024 & n && (o.showProStatus = e[10]),
						2048 & n && (o.showServiceName = e[11]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function Ax(e) {
		let t,
			n,
			o,
			i,
			r,
			s = e[3] && Mx(e);
		const a = e[14].default,
			l = _g(a, e, e[13], null);
		return {
			c() {
				(t = zg('div')),
					s && s.c(),
					(n = Bg()),
					(o = zg('div')),
					l && l.c(),
					Gg(o, 'class', 'dl-content svelte-jwy61a'),
					Gg(t, 'class', (i = Eg(`dl-layout ${e[2] && 'dl-layout--with-lang-selector'}`) + ' svelte-jwy61a')),
					Gg(t, 'translate', 'no'),
					Gg(t, 'dir', e[12]);
			},
			m(e, i) {
				Ng(e, t, i), s && s.m(t, null), Ag(t, n), Ag(t, o), l && l.m(o, null), (r = !0);
			},
			p(e, [o]) {
				e[3]
					? s
						? (s.p(e, o), 8 & o && Dh(s, 1))
						: ((s = Mx(e)), s.c(), Dh(s, 1), s.m(t, n))
					: s &&
					  (Oh(),
					  Ph(s, 1, 1, () => {
							s = null;
					  }),
					  Nh()),
					l && l.p && (!r || 8192 & o) && wg(l, a, e, e[13], r ? yg(a, e[13], o, null) : bg(e[13]), null),
					(!r ||
						(4 & o &&
							i !== (i = Eg(`dl-layout ${e[2] && 'dl-layout--with-lang-selector'}`) + ' svelte-jwy61a'))) &&
						Gg(t, 'class', i);
			},
			i(e) {
				r || (Dh(s), Dh(l, e), (r = !0));
			},
			o(e) {
				Ph(s), Ph(l, e), (r = !1);
			},
			d(e) {
				e && Dg(t), s && s.d(), l && l.d(e);
			},
		};
	}
	function Rx(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t;
		const r = gh('text_direction');
		let { closeWindow: s } = t,
			{ showMenu: a = !1 } = t,
			{ showLangSelect: l = !1 } = t,
			{ withHeader: c = !0 } = t,
			{ settings: d } = t,
			{ websiteSettings: u } = t,
			{ extensionContext: p } = t,
			{ platformBehaviour: m = ne.default } = t,
			{ textProcessingMode: g = oe.translate } = t,
			{ showSettingsIcon: h = !0 } = t,
			{ showProStatus: f = !1 } = t,
			{ showServiceName: _ = !1 } = t;
		return (
			(e.$$set = (e) => {
				'closeWindow' in e && n(0, (s = e.closeWindow)),
					'showMenu' in e && n(1, (a = e.showMenu)),
					'showLangSelect' in e && n(2, (l = e.showLangSelect)),
					'withHeader' in e && n(3, (c = e.withHeader)),
					'settings' in e && n(4, (d = e.settings)),
					'websiteSettings' in e && n(5, (u = e.websiteSettings)),
					'extensionContext' in e && n(6, (p = e.extensionContext)),
					'platformBehaviour' in e && n(7, (m = e.platformBehaviour)),
					'textProcessingMode' in e && n(8, (g = e.textProcessingMode)),
					'showSettingsIcon' in e && n(9, (h = e.showSettingsIcon)),
					'showProStatus' in e && n(10, (f = e.showProStatus)),
					'showServiceName' in e && n(11, (_ = e.showServiceName)),
					'$$scope' in e && n(13, (i = e.$$scope));
			}),
			[s, a, l, c, d, u, p, m, g, h, f, _, r, i, o]
		);
	}
	class Ox extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Rx, Ax, gg, {
					closeWindow: 0,
					showMenu: 1,
					showLangSelect: 2,
					withHeader: 3,
					settings: 4,
					websiteSettings: 5,
					extensionContext: 6,
					platformBehaviour: 7,
					textProcessingMode: 8,
					showSettingsIcon: 9,
					showProStatus: 10,
					showServiceName: 11,
				});
		}
	}
	function Nx(e) {
		let t, n, o, i, r, s, a, l, c, d;
		return {
			c() {
				(t = zg('div')),
					(n = zg('input')),
					(o = Bg()),
					(i = zg('div')),
					(r = Bg()),
					(s = zg('label')),
					(a = Hg(e[3])),
					Gg(n, 'id', e[1]),
					Gg(n, 'name', e[4]),
					Gg(n, 'type', 'radio'),
					(n.checked = e[2]),
					Gg(n, 'data-qa', e[6]),
					Gg(n, 'class', 'svelte-1jny8vu'),
					Gg(i, 'class', 'radio-icon svelte-1jny8vu'),
					Gg(s, 'for', e[1]),
					Gg(s, 'class', 'svelte-1jny8vu'),
					Gg(t, 'class', (l = Eg(`radio ${e[5]} ${e[2] ? 'radio--checked' : ''}`) + ' svelte-1jny8vu'));
			},
			m(l, u) {
				Ng(l, t, u),
					Ag(t, n),
					Yg(n, e[0]),
					Ag(t, o),
					Ag(t, i),
					Ag(t, r),
					Ag(t, s),
					Ag(s, a),
					c ||
						((d = [
							Wg(n, 'change', e[10]),
							Wg(n, 'change', e[8]),
							Wg(n, 'mousedown', qg(jg(e[9]))),
							Wg(t, 'click', e[7]),
						]),
						(c = !0));
			},
			p(e, [o]) {
				2 & o && Gg(n, 'id', e[1]),
					16 & o && Gg(n, 'name', e[4]),
					4 & o && (n.checked = e[2]),
					64 & o && Gg(n, 'data-qa', e[6]),
					1 & o && Yg(n, e[0]),
					8 & o && Vg(a, e[3]),
					2 & o && Gg(s, 'for', e[1]),
					36 & o &&
						l !== (l = Eg(`radio ${e[5]} ${e[2] ? 'radio--checked' : ''}`) + ' svelte-1jny8vu') &&
						Gg(t, 'class', l);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (c = !1), pg(d);
			},
		};
	}
	function Dx(e, t, n) {
		let { id: o } = t,
			{ checked: i = !1 } = t,
			{ label: r = '' } = t,
			{ value: s = '' } = t,
			{ name: a = '' } = t,
			{ cssClassName: l = '' } = t,
			{ dataQa: c = 'deepl-radio-button' } = t;
		return (
			(e.$$set = (e) => {
				'id' in e && n(1, (o = e.id)),
					'checked' in e && n(2, (i = e.checked)),
					'label' in e && n(3, (r = e.label)),
					'value' in e && n(0, (s = e.value)),
					'name' in e && n(4, (a = e.name)),
					'cssClassName' in e && n(5, (l = e.cssClassName)),
					'dataQa' in e && n(6, (c = e.dataQa));
			}),
			[
				s,
				o,
				i,
				r,
				a,
				l,
				c,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function () {
					(s = this.value), n(0, s);
				},
			]
		);
	}
	class Px extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Dx, Nx, gg, {
					id: 1,
					checked: 2,
					label: 3,
					value: 0,
					name: 4,
					cssClassName: 5,
					dataQa: 6,
				});
		}
	}
	function zx(e) {
		let t, n, o;
		return (
			(n = new Ox({
				props: {
					withHeader: !1,
					$$slots: {
						default: [Ux],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					524297 & t &&
						(o.$$scope = {
							dirty: t,
							ctx: e,
						}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function Ux(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b = chrome.i18n.getMessage('inline_translation_setting_button_ok') + '';
		return (
			(l = new Px({
				props: {
					name: 'disable_inline_translation',
					id: j.disablePerSite,
					value: j.disablePerSite,
					cssClassName: 'radio--with-border',
					checked: e[3] === j.disablePerSite,
					label: chrome.i18n.getMessage('inline_translation_setting_radio_disable_per_site'),
					dataQa: 'disable-per-site-radio-button',
				},
			})),
			l.$on('change', e[7]),
			l.$on('click', e[12]),
			(d = new Px({
				props: {
					name: 'disable_inline_translation',
					id: j.disableEverywhere,
					value: j.disableEverywhere,
					cssClassName: 'radio--with-border',
					checked: e[3] === j.disableEverywhere,
					label: chrome.i18n.getMessage('inline_translation_setting_radio_disable_everywhere'),
					dataQa: 'disable-everywhere-radio-button',
				},
			})),
			d.$on('change', e[7]),
			d.$on('click', e[13]),
			{
				c() {
					(t = zg('div')),
						(n = zg('button')),
						(o = Bg()),
						(i = zg('div')),
						(r = zg('p')),
						(r.textContent = `${chrome.i18n.getMessage('inline_translation_setting_label_title_v2')}`),
						(s = Bg()),
						(a = zg('div')),
						jh(l.$$.fragment),
						(c = Bg()),
						jh(d.$$.fragment),
						(u = Bg()),
						(p = zg('div')),
						(m = zg('span')),
						(m.textContent = `${chrome.i18n.getMessage('inline_translation_setting_link_cancel')}`),
						(g = Bg()),
						(h = zg('button')),
						(f = Hg(b)),
						Gg(n, 'type', 'button'),
						Gg(n, 'class', 'close-icon svelte-kj6lw'),
						Gg(t, 'class', 'header svelte-kj6lw'),
						Gg(r, 'class', 'font-bold svelte-kj6lw'),
						Gg(a, 'class', 'option-container svelte-kj6lw'),
						Gg(m, 'class', 'link svelte-kj6lw'),
						Gg(m, 'data-qa', 'close-settings-popup-link'),
						Gg(h, 'class', (_ = Eg('btn btn-primary ' + (e[3] ? '' : 'disabled')) + ' svelte-kj6lw')),
						Gg(h, 'data-qa', 'save-settings-change-button'),
						Gg(p, 'class', 'action-container svelte-kj6lw'),
						Gg(i, 'class', 'dl-widget svelte-kj6lw');
				},
				m(_, b) {
					Ng(_, t, b),
						Ag(t, n),
						Ng(_, o, b),
						Ng(_, i, b),
						Ag(i, r),
						Ag(i, s),
						Ag(i, a),
						qh(l, a, null),
						Ag(a, c),
						qh(d, a, null),
						Ag(i, u),
						Ag(i, p),
						Ag(p, m),
						Ag(p, g),
						Ag(p, h),
						Ag(h, f),
						(v = !0),
						y ||
							((w = [
								Wg(
									n,
									'click',
									qg(
										jg(function () {
											mg(e[0]) && e[0].apply(this, arguments);
										}),
									),
								),
								Wg(t, 'mousedown', qg(jg(e[11]))),
								Wg(m, 'click', function () {
									mg(e[0]) && e[0].apply(this, arguments);
								}),
								Wg(h, 'click', qg(jg(e[6]))),
								Wg(i, 'mousedown', qg(jg(e[10]))),
							]),
							(y = !0));
				},
				p(t, n) {
					e = t;
					const o = {};
					8 & n && (o.checked = e[3] === j.disablePerSite), l.$set(o);
					const i = {};
					8 & n && (i.checked = e[3] === j.disableEverywhere),
						d.$set(i),
						(!v ||
							(8 & n && _ !== (_ = Eg('btn btn-primary ' + (e[3] ? '' : 'disabled')) + ' svelte-kj6lw'))) &&
							Gg(h, 'class', _);
				},
				i(e) {
					v || (Dh(l.$$.fragment, e), Dh(d.$$.fragment, e), (v = !0));
				},
				o(e) {
					Ph(l.$$.fragment, e), Ph(d.$$.fragment, e), (v = !1);
				},
				d(e) {
					e && (Dg(t), Dg(o), Dg(i)), Gh(l), Gh(d), (y = !1), pg(w);
				},
			}
		);
	}
	function Hx(e) {
		let t,
			n,
			o,
			i,
			r = e[4].enableInlineTranslation && zx(e);
		return {
			c() {
				(t = zg('div')),
					r && r.c(),
					Gg(t, 'class', 'tooltip-wrapper tooltip-wrapper--settings svelte-kj6lw'),
					Gg(t, 'data-qa', 'deepl-inline-settings-tooltip'),
					Gg(t, 'style', e[2]),
					Gg(t, 'dir', Ot());
			},
			m(s, a) {
				Ng(s, t, a),
					r && r.m(t, null),
					e[14](t),
					(n = !0),
					o ||
						((i = [
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
							Wg(t, 'click_outside', e[15]),
						]),
						(o = !0));
			},
			p(e, [o]) {
				e[4].enableInlineTranslation
					? r
						? (r.p(e, o), 16 & o && Dh(r, 1))
						: ((r = zx(e)), r.c(), Dh(r, 1), r.m(t, null))
					: r &&
					  (Oh(),
					  Ph(r, 1, 1, () => {
							r = null;
					  }),
					  Nh()),
					(!n || 4 & o) && Gg(t, 'style', e[2]);
			},
			i(e) {
				n || (Dh(r), (n = !0));
			},
			o(e) {
				Ph(r), (n = !1);
			},
			d(n) {
				n && Dg(t), r && r.d(), e[14](null), (o = !1), pg(i);
			},
		};
	}
	function Bx(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(4, (i = e))), mh('text_direction', Ot());
		let r,
			s,
			a,
			{ closeTooltip: l } = n,
			{ replaceElement: c } = n,
			d = 'visibility: hidden; opacity:0; height:0;',
			u = '';
		function p(e) {
			o(3, (u = e));
		}
		dh(() => {
			setTimeout(() => {
				o(2, (d = ''));
			}, 100),
				(a = p_(r, ({ clientHeight: e }) => {
					o(9, (s = e));
				}));
		}),
			uh(() => {
				a && a();
			});
		return (
			(e.$$set = (e) => {
				'closeTooltip' in e && o(0, (l = e.closeTooltip)),
					'replaceElement' in e && o(8, (c = e.replaceElement));
			}),
			(e.$$.update = () => {
				768 & e.$$.dirty && c(s);
			}),
			[
				l,
				r,
				d,
				u,
				i,
				p,
				function () {
					if (!u) return;
					switch (u) {
						case j.disableEverywhere:
							Xh.set({
								enableInlineTranslation: !1,
							}),
								t({
									action: 'dlTrackSettingChanged',
									payload: {
										settingType: j.disableEverywhere,
										domainName: window.location.hostname,
										uiFunction: G,
										uiLocation: P.inlineTranslationSettingPopup,
									},
								});
							break;
						case j.disablePerSite:
							!(function () {
								let e = i.blacklistDomainsForReading;
								e &&
									!e.includes(window.location.hostname) &&
									(e.push(window.location.hostname),
									Xh.set({
										blacklistDomainsForReading: e,
									}),
									t({
										action: 'dlTrackSettingChanged',
										payload: {
											settingType: j.disablePerSite,
											domainName: window.location.hostname,
											uiFunction: G,
											uiLocation: P.inlineTranslationSettingPopup,
										},
									}));
							})();
					}
					let e = eE(window.location.hostname, ['www.']);
					l(),
						t({
							action: 'dlSendNotification',
							payload: {
								type: N.inlineTranslation,
								options: {
									theme: D.green_theme,
									currentDomain: e,
									saveAction: u,
									settingsPageURL: SE.settings_reading,
								},
							},
						});
				},
				function (e) {
					o(3, (u = e.currentTarget.value));
				},
				c,
				s,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				() => p(j.disablePerSite),
				() => p(j.disableEverywhere),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(r = e), o(1, r);
					});
				},
				() => l(),
			]
		);
	}
	class Fx extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Bx, Hx, gg, {
					closeTooltip: 0,
					replaceElement: 8,
				});
		}
	}
	class Wx {
		static HTML_TAG_NAME = 'deepl-inline-translate-settings-tooltip';
		static createElement = (e = document) => {
			const t = e.createElement(Wx.HTML_TAG_NAME),
				n = new Wx(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = (e, t) => {
			const { deepl_inline_ui: n } = O;
			this.domElement.shadowContainer &&
				this.domElement.shadowContainer.childElementCount > 0 &&
				this.cleanupDOM();
			const o = 300;
			this.domElement.shadowContainer.appendChild(this.domElement.container);
			const i = e?.top,
				r = window.innerHeight - (e?.bottom || 0);
			let s = 'position: absolute; top: 0px; left: 0px; width: 100%; z-index: ' + (n.z_index - 100),
				a = `position: absolute; top: 0px; left: 0px; z-index: ${n.z_index - 100};`,
				l = e.y,
				c = e.x;
			(this.domElement.shadowContainer.style.cssText = s),
				(this.domElement.container.style.cssText = a),
				(this.domElement.mainComponent = new Fx({
					target: this.domElement.container,
					props: {
						closeTooltip: t,
						replaceElement: (t) => {
							const d = i > o;
							r > o ? (l = e.y + 8) : d && (l = e.y - 30 - t - 4),
								r < o &&
									i < o &&
									((s = `position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${
										n.z_index - 100
									}; max-height:90vh;`),
									(a = `z-index: ${n.z_index - 100};`),
									(c = 0),
									(l = 0)),
								e.right < 260 ? (c = e.left - 260 + 60) : e.left < 260 && (c = e.left),
								(this.domElement.container.style.top = `${parseInt(l)}px`),
								(this.domElement.container.style.left = `${parseInt(c)}px`);
						},
					},
				}));
		};
		cleanupDOM = () => {
			this.domElement.container.remove(),
				this.domElement.shadowContainer.remove(),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	const jx = (e) => ({
			top: e?.selectedTop,
			bottom: window.innerHeight - e?.selectedBottom,
			right: e?.selectedRight,
			left: e?.selectedLeft,
		}),
		qx = (e) => {
			const { coords: t, clientHeight: n } = e,
				o = jx(t),
				i = {
					top: {
						position: t.y - t.height,
						isPossible: o.top >= 0,
					},
					bottom: {
						position: t.y - n,
						isPossible: o.bottom >= 0,
					},
					middle: {
						position: window.pageYOffset + window.innerHeight / 2 - n / 2,
						isPossible: !0,
					},
				};
			for (const e of Object.values(i)) if (e.isPossible) return e.position;
		},
		Gx = ({ coords: e, TOOLTIP_WIDTH: t }) => {
			const n = {
				right: {
					position: e.x,
					isPossible: e.x + t <= window.innerWidth,
				},
				left: {
					position: e.x + e.selectedWidth - t,
					isPossible: e.x + e.selectedWidth - t >= 0,
				},
				middle: {
					position: window.innerWidth / 2 - t / 2,
					isPossible: !0,
				},
			};
			for (const e of Object.values(n)) if (e.isPossible) return e.position;
		},
		Vx = (e, t, n) => {
			const { coords: o, clientHeight: i, style: r, TOOLTIP_WIDTH: s, TRIGGER_MENU_ICON_HEIGHT: a } = t;
			switch (e) {
				case 'top':
					(r.top = o.y - o.height - i - 2 - a - n.y + 'px'), (r.left = Gx(t) - n.x + 'px');
					break;
				case 'bottom':
					(r.top = o.y + 2 + a - n.y + 'px'), (r.left = Gx(t) - n.x + 'px');
					break;
				case 'left':
					(r.top = qx(t) - n.y + 'px'), (r.left = o.x - s - 2 - n.x + 'px');
					break;
				case 'right':
					(r.top = qx(t) - n.y + 'px'), (r.left = o.x + o.selectedWidth + 2 - n.x + 'px');
					break;
				default:
					(r.top = window.pageYOffset + window.innerHeight / 2 - i / 2 - n.y + 'px'),
						(r.left = window.innerWidth / 2 - s / 2 - n.x + 'px');
			}
		},
		Yx = (e, t, n) => {
			const { coords: o, clientHeight: i, TOOLTIP_WIDTH: r, style: s } = t;
			switch (((s.left = o.x - r - 10 - n.x + 'px'), e)) {
				case 'top':
					s.top = o.y - i - n.y + 'px';
					break;
				case 'bottom':
					s.top = o.y - o.height - n.y + 'px';
					break;
				default:
					s.top = window.pageYOffset + window.innerHeight / 2 - i / 2 - n.y + 'px';
			}
		},
		Kx = (e, t) => {
			const n = Zx(t);
			switch (e) {
				case 'top':
				case 'bottom':
				case 'left':
				case 'right':
					return n[e];
				default:
					return !0;
			}
		},
		Zx = (e) => {
			const { TOOLTIP_WIDTH: t, clientHeight: n, coords: o } = e,
				i = jx(o);
			return {
				left: i.left > t,
				right: i.right > t,
				bottom: i.bottom > n,
				top: i.top > n,
			};
		},
		Xx = (e) => {
			const t = ['bottom', 'top', 'left', 'right', 'middle'];
			return t.sort((t, n) => (t === e ? -1 : n === e ? 1 : 0)), [t, ['bottom', 'top', 'middle']];
		};
	function Jx(e) {
		return e.preventDefault(), !1;
	}
	function Qx(e, n) {
		e.dataTransfer.setData('text/html', '');
		let o = e.target.getBoundingClientRect(),
			i = {
				x: 0,
				y: 0,
			};
		const r = e.clientX - o.left,
			s = e.clientY - o.top;
		return (
			r > 0 && (i.x = r),
			s > 0 && (i.y = s),
			(function (e) {
				try {
					t({
						action: 'dlTrackInlineDragStart',
						payload: {
							nicheIntegration: e,
						},
					});
				} catch (e) {
					console.error(e);
				}
			})(n),
			{
				dragElementRect: o,
				dragOffset: i,
			}
		);
	}
	function eT({ dropEvent: e, document: t, dragConfig: n }) {
		if ((e.preventDefault(), 0 === e.y || 0 === e.x)) return null;
		const { dragOffset: o, dragElementRect: i, dragBarWidth: r } = n,
			s = t.body.getBoundingClientRect();
		let a;
		return (
			(a =
				e.pageX - o.x > s.width - i.width
					? s.width - i.width - r > 0
						? s.width - i.width - r
						: 0
					: e.pageX - o.x),
			{
				x: a,
				y: e.pageY - o.y,
			}
		);
	}
	function tT(e) {
		return (
			e &&
			(function (e) {
				return e.replace(/./gm, function (e) {
					return e.match(/[a-z0-9\s]+/i) ? e : '&#' + e.charCodeAt(0) + ';';
				});
			})(e).replaceAll('\n', '<br />')
		);
	}
	const nT = new Set([
			'BG',
			'CS',
			'DA',
			'DE',
			'EL',
			'EN',
			'ES',
			'ET',
			'FI',
			'FR',
			'FR_CA',
			'HU',
			'IT',
			'JA',
			'KO',
			'LT',
			'LV',
			'MT',
			'NL',
			'PL',
			'PT',
			'PT_BR',
			'PT_PT',
			'RO',
			'RU',
			'SK',
			'SL',
			'SV',
			'ZH',
		]),
		oT = new Map([
			['ZH_EN', 'chinese-english'],
			['EN_ZH', 'english-chinese'],
			['NL_EN', 'dutch-english'],
			['EN_NL', 'english-dutch'],
			['FR_EN', 'french-english'],
			['EN_FR', 'english-french'],
			['FR_DE', 'french-german'],
			['DE_FR', 'german-french'],
			['FR_PT', 'french-portuguese'],
			['PT_FR', 'portuguese-french'],
			['FR_ES', 'french-spanish'],
			['ES_FR', 'spanish-french'],
			['DE_EN', 'german-english'],
			['EN_DE', 'english-german'],
			['DE_PT', 'german-portuguese'],
			['PT_DE', 'portuguese-german'],
			['DE_ES', 'german-spanish'],
			['ES_DE', 'spanish-german'],
			['IT_EN', 'italian-english'],
			['EN_IT', 'english-italian'],
			['JA_EN', 'japanese-english'],
			['EN_JA', 'english-japanese'],
			['PL_EN', 'polish-english'],
			['EN_PL', 'english-polish'],
			['PT_EN', 'portuguese-english'],
			['EN_PT', 'english-portuguese'],
			['PT_ES', 'portuguese-spanish'],
			['ES_PT', 'spanish-portuguese'],
			['RU_EN', 'russian-english'],
			['EN_RU', 'english-russian'],
			['ES_EN', 'spanish-english'],
			['EN_ES', 'english-spanish'],
		]);
	function iT(e) {
		let t, n, o, i, r, s, a, l, c;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('ui_inline_translation_listen_to_translation')}`),
					(o = Bg()),
					(i = zg('button')),
					(i.textContent = `${chrome.i18n.getMessage('ui_inline_translation_listen_to_original')}`),
					Gg(n, 'class', 'list-entry svelte-h9gtq7'),
					Gg(n, 'data-qa', 'dl-toolbar-listener-button-target-lang'),
					Qg(n, 'dl-entry-notAvaiable', !e[0]),
					Gg(i, 'class', 'list-entry svelte-h9gtq7'),
					Gg(i, 'data-qa', 'dl-toolbar-listener-button-source-lang'),
					Qg(i, 'dl-entry-notAvaiable', !e[1]),
					Gg(t, 'class', 'listen-list svelte-h9gtq7'),
					Gg(t, 'data-qa', 'dl-toolbar-listener-element-langs');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					(a = !0),
					l ||
						((c = [
							Wg(n, 'click', function () {
								mg(e[3](e[4].translatedSnippet, e[5].selectedTargetLanguage)) &&
									e[3](e[4].translatedSnippet, e[5].selectedTargetLanguage).apply(this, arguments);
							}),
							Wg(i, 'click', function () {
								mg(e[3](e[4].originalSnippet, e[4].websiteLanguage)) &&
									e[3](e[4].originalSnippet, e[4].websiteLanguage).apply(this, arguments);
							}),
						]),
						(l = !0));
			},
			p(t, [o]) {
				(e = t),
					(!a || 1 & o) && Qg(n, 'dl-entry-notAvaiable', !e[0]),
					(!a || 2 & o) && Qg(i, 'dl-entry-notAvaiable', !e[1]);
			},
			i(e) {
				a ||
					(Sh(() => {
						a &&
							(s && s.end(1),
							(r = Uh(t, If, {
								y: -5,
								duration: 500,
							})),
							r.start());
					}),
					(a = !0));
			},
			o(e) {
				r && r.invalidate(),
					(s = Hh(t, If, {
						y: -5,
						duration: 500,
					})),
					(a = !1);
			},
			d(e) {
				e && Dg(t), e && s && s.end(), (l = !1), pg(c);
			},
		};
	}
	function rT(e, t, n) {
		let o,
			i,
			r = lg,
			s = () => (r(), (r = hg(c, (e) => n(4, (o = e)))), c);
		fg(e, Xh, (e) => n(5, (i = e))), e.$$.on_destroy.push(() => r());
		let { isAvailableSelectedTargetLang: a } = t,
			{ isAvailableSourceLang: l } = t,
			{ websiteSettings: c } = t;
		s();
		let { listen: d = () => {} } = t;
		return (
			(e.$$set = (e) => {
				'isAvailableSelectedTargetLang' in e && n(0, (a = e.isAvailableSelectedTargetLang)),
					'isAvailableSourceLang' in e && n(1, (l = e.isAvailableSourceLang)),
					'websiteSettings' in e && s(n(2, (c = e.websiteSettings))),
					'listen' in e && n(3, (d = e.listen));
			}),
			[a, l, c, d, o, i]
		);
	}
	class sT extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, rT, iT, gg, {
					isAvailableSelectedTargetLang: 0,
					isAvailableSourceLang: 1,
					websiteSettings: 2,
					listen: 3,
				});
		}
	}
	function aT(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					Gg(t, 'type', 'button'),
					Gg(t, 'class', 'dl-replace-button svelte-9vlams'),
					(t.disabled = n = e[3] || !e[2] || e[4]);
			},
			m(n, r) {
				Ng(n, t, r), o || ((i = Wg(t, 'click', qg(jg(e[5])))), (o = !0));
			},
			p(e, o) {
				12 & o && n !== (n = e[3] || !e[2] || e[4]) && (t.disabled = n);
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function lT(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('ui_gdocs_replace_cta'),
					multiline: !0,
					zIndex: '0',
					isEnabled: !e[3] && e[2] && !e[4],
					$$slots: {
						default: [aT],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, [n]) {
					const o = {};
					12 & n && (o.isEnabled = !e[3] && e[2] && !e[4]),
						524 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function cT(e, n, o) {
		let i,
			r,
			s = lg,
			a = () => (s(), (s = hg(u, (e) => o(7, (i = e)))), u),
			l = lg,
			c = () => (l(), (l = hg(p, (e) => o(8, (r = e)))), p);
		e.$$.on_destroy.push(() => s()), e.$$.on_destroy.push(() => l());
		let { websiteSettings: u } = n;
		a();
		let { settings: p } = n;
		c();
		let m,
			{ onClose: g } = n,
			h = !1,
			f = i.translationState === d.anonymousUserMaxCharExceeded;
		return (
			dh(() => {
				o(2, (m = mt()));
			}),
			(e.$$set = (e) => {
				'websiteSettings' in e && a(o(0, (u = e.websiteSettings))),
					'settings' in e && c(o(1, (p = e.settings))),
					'onClose' in e && o(6, (g = e.onClose));
			}),
			[
				u,
				p,
				m,
				h,
				f,
				function () {
					const e = dt().text;
					o(3, (h = !0));
					const n = document.querySelector('deepl-gdocs-icon');
					n &&
						(n.applyReplacement(),
						g(),
						t({
							action: 'dlTrackGDocsReplaceText',
							payload: {
								sourceLang: i.websiteLanguage,
								targetLang: r.selectedTargetLanguage,
								sourceLength: e.length,
								targetLength: i.translatedSnippet.length,
							},
						}));
				},
				g,
			]
		);
	}
	class dT extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, cT, lT, gg, {
					websiteSettings: 0,
					settings: 1,
					onClose: 6,
				});
		}
	}
	function uT(e) {
		let t,
			n,
			o = st(e[14]) + '';
		return {
			c() {
				(t = zg('div')), (n = zg('div')), Gg(t, 'class', 'tooltip-linguee svelte-1a4ny0z');
			},
			m(e, i) {
				Ng(e, t, i), Ag(t, n), (n.innerHTML = o);
			},
			p(e, t) {
				16384 & t[0] && o !== (o = st(e[14]) + '') && (n.innerHTML = o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function pT(e) {
		let t, n, o, i, r;
		return (
			(n = new u_({
				props: {
					tooltip: e[13],
					zIndex: 300,
					$$slots: {
						default: [gT],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('fragment')), jh(n.$$.fragment);
				},
				m(s, a) {
					Ng(s, t, a),
						qh(n, t, null),
						(o = !0),
						i || ((r = [Wg(t, 'mouseover', e[21]), Wg(t, 'mouseleave', e[25])]), (i = !0));
				},
				p(e, t) {
					const o = {};
					8192 & t[0] && (o.tooltip = e[13]),
						(7681 & t[0]) | (1 & t[1]) &&
							(o.$$scope = {
								dirty: t,
								ctx: e,
							}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), pg(r);
				},
			}
		);
	}
	function mT(e) {
		let t, n;
		return (
			(t = new sT({
				props: {
					websiteSettings: e[0],
					isAvailableSelectedTargetLang: e[11],
					isAvailableSourceLang: e[12],
					listen: e[17],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n[0] && (o.websiteSettings = e[0]),
						2048 & n[0] && (o.isAvailableSelectedTargetLang = e[11]),
						4096 & n[0] && (o.isAvailableSourceLang = e[12]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function gT(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[10] && mT(e);
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML = '<span class="dl-icon dl-icon-listen svelte-1a4ny0z"></span>'),
					(n = Bg()),
					a && a.c(),
					(o = Fg()),
					Gg(t, 'type', 'button'),
					Gg(t, 'class', 'dl-btn svelte-1a4ny0z'),
					Gg(t, 'data-qa', 'dl-toolbar-listener-button'),
					Qg(t, 'dl-btn-active', e[9]),
					Qg(t, 'dl-btn-hovered', e[10]);
			},
			m(l, c) {
				Ng(l, t, c),
					Ng(l, n, c),
					a && a.m(l, c),
					Ng(l, o, c),
					(i = !0),
					r || ((s = Wg(t, 'click', e[18])), (r = !0));
			},
			p(e, n) {
				(!i || 512 & n[0]) && Qg(t, 'dl-btn-active', e[9]),
					(!i || 1024 & n[0]) && Qg(t, 'dl-btn-hovered', e[10]),
					e[10]
						? a
							? (a.p(e, n), 1024 & n[0] && Dh(a, 1))
							: ((a = mT(e)), a.c(), Dh(a, 1), a.m(o.parentNode, o))
						: a &&
						  (Oh(),
						  Ph(a, 1, 1, () => {
								a = null;
						  }),
						  Nh());
			},
			i(e) {
				i || (Dh(a), (i = !0));
			},
			o(e) {
				Ph(a), (i = !1);
			},
			d(e) {
				e && (Dg(t), Dg(n), Dg(o)), a && a.d(e), (r = !1), s();
			},
		};
	}
	function hT(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML = '<span class="dl-icon dl-icon-copy svelte-1a4ny0z"></span>'),
					Gg(t, 'type', 'button'),
					Gg(t, 'class', 'dl-btn svelte-1a4ny0z'),
					Gg(t, 'data-qa', 'dl-toolbar-copy-button'),
					Qg(t, 'dl-btn-active', e[15]);
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = [Wg(t, 'click', e[19]), Wg(t, 'mouseleave', e[20])]), (n = !0));
			},
			p(e, n) {
				32768 & n[0] && Qg(t, 'dl-btn-active', e[15]);
			},
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function fT(e) {
		let t, n;
		return (
			(t = new dT({
				props: {
					websiteSettings: e[0],
					settings: Xh,
					onClose: e[7],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n[0] && (o.websiteSettings = e[0]), 128 & n[0] && (o.onClose = e[7]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function _T(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S,
			x,
			T = !e[3] || !e[2]() || !e[5] || e[6],
			C = T && uT(e),
			$ = (e[11] || e[12]) && pT(e);
		w = new u_({
			props: {
				zIndex: 300,
				tooltip: chrome.i18n.getMessage(
					e[15] ? 'ui_inline_translation_copied' : 'ui_inline_translation_copy',
				),
				$$slots: {
					default: [hT],
				},
				$$scope: {
					ctx: e,
				},
			},
		});
		let k = e[8] === ne.gdocs && fT(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('button')),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('ui_inline_translation_see_alternatives_v2')}`),
					(r = Bg()),
					(s = zg('span')),
					(a = Bg()),
					(l = zg('fragment')),
					(c = zg('div')),
					(d = zg('div')),
					(d.textContent = `${chrome.i18n.getMessage('ui_inline_translation_dictionary')}`),
					(u = Bg()),
					(p = zg('div')),
					(m = Bg()),
					(g = zg('div')),
					(f = Bg()),
					C && C.c(),
					(_ = Bg()),
					(v = zg('div')),
					$ && $.c(),
					(y = Bg()),
					jh(w.$$.fragment),
					(b = Bg()),
					k && k.c(),
					Gg(s, 'class', 'icon icon-external-link svelte-1a4ny0z'),
					Gg(o, 'type', 'button'),
					Gg(o, 'class', 'link svelte-1a4ny0z'),
					Gg(n, 'class', 'dl-link-container'),
					Gg(d, 'class', 'dict-text svelte-1a4ny0z'),
					Gg(p, 'class', 'img_book svelte-1a4ny0z'),
					Qg(p, 'shown-dict', e[4] && e[3] && e[5]),
					Gg(g, 'class', 'img_arrow svelte-1a4ny0z'),
					Qg(g, 'shown-dict', e[4] && e[3] && e[5]),
					Gg(
						c,
						'class',
						(h =
							'dl-dictionary ' +
							(e[3] && e[2]() && e[5] && !e[6] ? '' : 'disable') +
							' ' +
							(e[4] && e[3] ? 'shown-dict' : '') +
							' svelte-1a4ny0z'),
					),
					Gg(c, 'data-qa', 'dl-toolbar-dictionary-button'),
					Kg(l, 'position', 'relative'),
					Gg(v, 'class', 'dl-btn-group svelte-1a4ny0z'),
					Gg(t, 'class', 'dl-toolbar svelte-1a4ny0z');
			},
			m(h, T) {
				Ng(h, t, T),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(o, r),
					Ag(o, s),
					Ag(t, a),
					Ag(t, l),
					Ag(l, c),
					Ag(c, d),
					Ag(c, u),
					Ag(c, p),
					Ag(c, m),
					Ag(c, g),
					Ag(l, f),
					C && C.m(l, null),
					Ag(t, _),
					Ag(t, v),
					$ && $.m(v, null),
					Ag(v, y),
					qh(w, v, null),
					Ag(v, b),
					k && k.m(v, null),
					(E = !0),
					S ||
						((x = [
							Wg(o, 'click', e[16]),
							Wg(c, 'click', function () {
								mg(e[1]) && e[1].apply(this, arguments);
							}),
							Wg(c, 'mouseenter', e[22]),
						]),
						(S = !0));
			},
			p(t, n) {
				(e = t),
					(!E || 56 & n[0]) && Qg(p, 'shown-dict', e[4] && e[3] && e[5]),
					(!E || 56 & n[0]) && Qg(g, 'shown-dict', e[4] && e[3] && e[5]),
					(!E ||
						(124 & n[0] &&
							h !==
								(h =
									'dl-dictionary ' +
									(e[3] && e[2]() && e[5] && !e[6] ? '' : 'disable') +
									' ' +
									(e[4] && e[3] ? 'shown-dict' : '') +
									' svelte-1a4ny0z'))) &&
						Gg(c, 'class', h),
					108 & n[0] && (T = !e[3] || !e[2]() || !e[5] || e[6]),
					T ? (C ? C.p(e, n) : ((C = uT(e)), C.c(), C.m(l, null))) : C && (C.d(1), (C = null)),
					e[11] || e[12]
						? $
							? ($.p(e, n), 6144 & n[0] && Dh($, 1))
							: (($ = pT(e)), $.c(), Dh($, 1), $.m(v, y))
						: $ &&
						  (Oh(),
						  Ph($, 1, 1, () => {
								$ = null;
						  }),
						  Nh());
				const o = {};
				32768 & n[0] &&
					(o.tooltip = chrome.i18n.getMessage(
						e[15] ? 'ui_inline_translation_copied' : 'ui_inline_translation_copy',
					)),
					(32768 & n[0]) | (1 & n[1]) &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
					w.$set(o),
					e[8] === ne.gdocs
						? k
							? (k.p(e, n), 256 & n[0] && Dh(k, 1))
							: ((k = fT(e)), k.c(), Dh(k, 1), k.m(v, null))
						: k &&
						  (Oh(),
						  Ph(k, 1, 1, () => {
								k = null;
						  }),
						  Nh());
			},
			i(e) {
				E || (Dh($), Dh(w.$$.fragment, e), Dh(k), (E = !0));
			},
			o(e) {
				Ph($), Ph(w.$$.fragment, e), Ph(k), (E = !1);
			},
			d(e) {
				e && Dg(t), C && C.d(), $ && $.d(), Gh(w), k && k.d(), (S = !1), pg(x);
			},
		};
	}
	function vT(e, n, o) {
		let i,
			r,
			s = lg,
			a = () => (s(), (s = hg(l, (e) => o(23, (i = e)))), l);
		fg(e, Xh, (e) => o(24, (r = e))), e.$$.on_destroy.push(() => s());
		let { websiteSettings: l } = n;
		a();
		let c,
			d,
			u,
			p,
			{ switchVisibilityDictionary: m } = n,
			{ isSingleWord: g } = n,
			{ dictionaryHTML: h } = n,
			{ showDictionary: f = !1 } = n,
			{ langPair: _ } = n,
			{ errorMessageDict: v } = n,
			{ onClose: y } = n,
			{ platformBehaviour: w = ne.default } = n,
			b = !1,
			E = !1,
			S = !1;
		function x() {
			t({
				action: 'dlStopSpeech',
			}),
				o(9, (u = !1));
		}
		function T(e) {
			try {
				t({
					action: 'dlTrackInlineListen',
					payload: e,
				});
			} catch (e) {
				console.error(e);
			}
		}
		async function C(e, t, n) {
			if ('dlVoiceOverStopped' === e.action) o(9, (u = !1)), n();
		}
		function L(e) {
			try {
				t({
					action: 'dlTrackVoiceOverStops',
					payload: e,
				});
			} catch (e) {
				console.error(e);
			}
		}
		chrome.runtime.onMessage.addListener(C),
			uh(() => {
				u &&
					L({
						targetLang: r.selectedTargetLanguage,
						targetLength: i.translatedSnippet.length,
						triggerType: k,
						nicheIntegration: w,
					}),
					x(),
					chrome.runtime.onMessage.removeListener(C);
			});
		return (
			(e.$$set = (e) => {
				'websiteSettings' in e && a(o(0, (l = e.websiteSettings))),
					'switchVisibilityDictionary' in e && o(1, (m = e.switchVisibilityDictionary)),
					'isSingleWord' in e && o(2, (g = e.isSingleWord)),
					'dictionaryHTML' in e && o(3, (h = e.dictionaryHTML)),
					'showDictionary' in e && o(4, (f = e.showDictionary)),
					'langPair' in e && o(5, (_ = e.langPair)),
					'errorMessageDict' in e && o(6, (v = e.errorMessageDict)),
					'onClose' in e && o(7, (y = e.onClose)),
					'platformBehaviour' in e && o(8, (w = e.platformBehaviour));
			}),
			(e.$$.update = () => {
				if (
					(25167360 & e.$$.dirty[0] &&
						(r.selectedTargetLanguage &&
							t({
								action: 'dlGetSupportedVoices',
							}).then((e) => {
								o(
									11,
									(c = e.includes(
										['EN-US', 'EN-GB'].includes(r.selectedTargetLanguage)
											? 'EN'
											: ['PT-PT', 'PT-BR'].includes(r.selectedTargetLanguage)
											? 'PT'
											: ['ZH-CN', 'ZH-HANT'].includes(r.selectedTargetLanguage)
											? 'ZH'
											: r.selectedTargetLanguage,
									)),
								),
									o(12, (d = e.includes(i.websiteLanguage)));
							}),
						!b && u
							? setTimeout(() => {
									o(13, (E = chrome.i18n.getMessage('ui_inline_translation_listen_stop')));
							  }, 1e3)
							: o(13, (E = !1))),
					100 & e.$$.dirty[0] &&
						(v
							? o(14, (p = v))
							: g()
							? o(
									14,
									(p = _
										? chrome.i18n.getMessage('ui_inline_translation_problem_loading_dictionary')
										: chrome.i18n.getMessage('ui_inline_translation_unavailable_lang_pair')),
							  )
							: o(14, (p = chrome.i18n.getMessage('ui_inline_translation_translate_only_one_word')))),
					16 & e.$$.dirty[0] && f)
				)
					try {
						t({
							action: 'dlTrackOpenDictionarySection',
							payload: {},
						});
					} catch (e) {
						console.log(e);
					}
			}),
			[
				l,
				m,
				g,
				h,
				f,
				_,
				v,
				y,
				w,
				u,
				b,
				c,
				d,
				E,
				p,
				S,
				function () {
					const e = {};
					i &&
						r &&
						((e.sourceLang = i.websiteLanguage),
						(e.targetLang = r.selectedTargetLanguage),
						(e.textToShare = i.originalSnippet)),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: nv,
								...e,
							},
						});
					try {
						t({
							action: 'dlTrackUiAction',
							payload: {
								uiAction: H,
								nicheIntegration: w,
							},
						});
					} catch (e) {
						console.error(e);
					}
				},
				async function (e, n) {
					u ||
						(t({
							action: 'dlTextToSpeech',
							payload: {
								text: e,
								lang: n,
							},
						}),
						o(9, (u = !0)),
						T({
							targetLang: r.selectedTargetLanguage,
							targetLength: i.translatedSnippet.length,
							actionType: V,
							nicheIntegration: w,
						}),
						o(10, (b = !1)));
				},
				function () {
					u
						? (x(),
						  o(9, (u = !1)),
						  L({
								targetLang: r.selectedTargetLanguage,
								targetLength: i.translatedSnippet.length,
								triggerType: $,
								nicheIntegration: w,
						  }),
						  T({
								targetLang: r.selectedTargetLanguage,
								targetLength: i.translatedSnippet.length,
								actionType: Y,
								nicheIntegration: w,
						  }))
						: o(10, (b = !0));
				},
				function () {
					navigator.clipboard.writeText(i.translatedSnippet).then(
						function () {
							o(15, (S = !0));
						},
						function (e) {
							console.error(e);
						},
					),
						(function (e) {
							try {
								t({
									action: 'dlTrackInlineCopy',
									payload: e,
								});
							} catch (e) {
								console.error(e);
							}
						})({
							targetLang: r.selectedTargetLanguage,
							targetLength: i.translatedSnippet.length,
							nicheIntegration: w,
						});
				},
				function () {
					setTimeout(() => {
						o(15, (S = !1));
					}, 300);
				},
				function () {
					u || o(10, (b = !0));
				},
				function () {
					if (!h || !g())
						try {
							t({
								action: 'dlTrackDisabledDictionaryHover',
								payload: {},
							});
						} catch (e) {
							console.log(e);
						}
				},
				i,
				r,
				() => o(10, (b = !1)),
			]
		);
	}
	class yT extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					vT,
					_T,
					gg,
					{
						websiteSettings: 0,
						switchVisibilityDictionary: 1,
						isSingleWord: 2,
						dictionaryHTML: 3,
						showDictionary: 4,
						langPair: 5,
						errorMessageDict: 6,
						onClose: 7,
						platformBehaviour: 8,
					},
					null,
					[-1, -1],
				);
		}
	}
	function wT(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(n.textContent = `${chrome.i18n.getMessage('ui_gdocs_write_accept')}`),
					(o = Bg()),
					(i = zg('button')),
					(i.textContent = `${chrome.i18n.getMessage('ui_gdocs_write_cancel')}`),
					Gg(n, 'class', 'btn-primary svelte-1ou9pye'),
					Gg(i, 'class', 'btn-secondary svelte-1ou9pye'),
					Gg(t, 'class', 'dl-toolbar svelte-1ou9pye');
			},
			m(a, l) {
				Ng(a, t, l),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					r || ((s = [Wg(n, 'click', e[0]), Wg(i, 'click', e[1])]), (r = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (r = !1), pg(s);
			},
		};
	}
	function bT(e, t, n) {
		let { onClose: o } = t;
		return (
			(e.$$set = (e) => {
				'onClose' in e && n(2, (o = e.onClose));
			}),
			[
				() => {
					const e = document.getElementsByTagName('deepl-gdocs-icon')[0];
					e && (e.applyReplacement(), e.trackDeeplWriteInsertCopy()), o();
				},
				() => {
					const e = document.getElementsByTagName('deepl-gdocs-icon')[0];
					e && e.trackDeeplWriteDiscardCopy(), o();
				},
				o,
			]
		);
	}
	class ET extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, bT, wT, gg, {
					onClose: 2,
				});
		}
	}
	function ST(e) {
		let t,
			n,
			o,
			i,
			r,
			s = JSON.stringify(e[1](), void 0, 2) + '';
		return {
			c() {
				(t = zg('p')),
					(n = Hg(e[0])),
					(o = Bg()),
					(i = zg('pre')),
					(r = Hg(s)),
					Gg(i, 'class', 'debug-settings svelte-mu7va1');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ng(e, o, s), Ng(e, i, s), Ag(i, r);
			},
			p(e, [t]) {
				1 & t && Vg(n, e[0]), 2 & t && s !== (s = JSON.stringify(e[1](), void 0, 2) + '') && Vg(r, s);
			},
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(o), Dg(i));
			},
		};
	}
	function xT(e, t, n) {
		let { headline: o = 'JSON block' } = t,
			{ jsonData: i = () => {} } = t;
		return (
			(e.$$set = (e) => {
				'headline' in e && n(0, (o = e.headline)), 'jsonData' in e && n(1, (i = e.jsonData));
			}),
			[o, i]
		);
	}
	class TT extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, xT, ST, gg, {
					headline: 0,
					jsonData: 1,
				});
		}
	}
	function CT(e) {
		let t,
			n,
			o,
			i,
			r = st(e[0]) + '';
		return {
			c() {
				(t = zg('div')),
					(n = zg('style')),
					(n.textContent =
						'.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}'),
					(o = Bg()),
					(i = new th(!1)),
					Gg(n, 'lang', 'scss'),
					(i.a = null);
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(t, o), i.m(r, t);
			},
			p(e, [t]) {
				1 & t && r !== (r = st(e[0]) + '') && i.p(r);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function $T(e, t, n) {
		let { html: o } = t;
		return (
			(e.$$set = (e) => {
				'html' in e && n(0, (o = e.html));
			}),
			[o]
		);
	}
	class kT extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, $T, CT, gg, {
					html: 0,
				});
		}
	}
	function LT(e, t, n) {
		const o = e.slice();
		return (o[31] = t[n]), o;
	}
	function IT(e, t, n) {
		const o = e.slice();
		return (o[34] = t[n]), o;
	}
	function MT(e, t, n) {
		const o = e.slice();
		return (o[37] = t[n]), o;
	}
	function AT(e) {
		let t,
			n,
			o,
			i,
			r,
			s = !We.includes(e[4].selectedTargetLanguage),
			a = e[6] && OT(e),
			l = s && NT(e),
			c = e[4].gDocsSegmentation === Fe.SENTENCE && DT(e),
			d = e[4].gDocsSegmentation === Fe.WORD && UT(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					a && a.c(),
					(o = Bg()),
					l && l.c(),
					(i = Bg()),
					c && c.c(),
					(r = Bg()),
					d && d.c(),
					Gg(n, 'class', 'dl-segmentation-selector svelte-fxpmgu');
			},
			m(e, s) {
				Ng(e, t, s),
					Ag(t, n),
					a && a.m(n, null),
					Ag(n, o),
					l && l.m(n, null),
					Ag(t, i),
					c && c.m(t, null),
					Ag(t, r),
					d && d.m(t, null);
			},
			p(e, i) {
				e[6] ? (a ? a.p(e, i) : ((a = OT(e)), a.c(), a.m(n, o))) : a && (a.d(1), (a = null)),
					16 & i[0] && (s = !We.includes(e[4].selectedTargetLanguage)),
					s ? (l ? l.p(e, i) : ((l = NT(e)), l.c(), l.m(n, null))) : l && (l.d(1), (l = null)),
					e[4].gDocsSegmentation === Fe.SENTENCE
						? c
							? c.p(e, i)
							: ((c = DT(e)), c.c(), c.m(t, r))
						: c && (c.d(1), (c = null)),
					e[4].gDocsSegmentation === Fe.WORD
						? d
							? d.p(e, i)
							: ((d = UT(e)), d.c(), d.m(t, null))
						: d && (d.d(1), (d = null));
			},
			d(e) {
				e && Dg(t), a && a.d(), l && l.d(), c && c.d(), d && d.d();
			},
		};
	}
	function RT(e) {
		let t;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML =
						'<div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div> <div class="skeleton-subitem is-short-line svelte-fxpmgu"></div></div>'),
					Gg(t, 'class', 'dl-alternatives-loading-skeleton svelte-fxpmgu');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function OT(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage('ui_alternatives_segmentation_sentence')}`),
					Gg(t, 'class', 'segmentation-button sentence svelte-fxpmgu'),
					Qg(t, 'active', e[4].gDocsSegmentation === Fe.SENTENCE);
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[22])), (n = !0));
			},
			p(e, n) {
				16 & n[0] && Qg(t, 'active', e[4].gDocsSegmentation === Fe.SENTENCE);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function NT(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage('ui_alternatives_segmentation_word')}`),
					Gg(t, 'class', 'segmentation-button word svelte-fxpmgu'),
					Qg(t, 'active', e[4].gDocsSegmentation === Fe.WORD);
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[23])), (n = !0));
			},
			p(e, n) {
				16 & n[0] && Qg(t, 'active', e[4].gDocsSegmentation === Fe.WORD);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function DT(e) {
		let t,
			n,
			o = Fh(e[2]),
			i = [];
		for (let t = 0; t < o.length; t += 1) i[t] = zT(IT(e, o, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < i.length; e += 1) i[e].c();
				Gg(t, 'class', 'alternatives svelte-fxpmgu'), Gg(t, 'dir', (n = Ot(e[0].targetLang)));
			},
			m(e, n) {
				Ng(e, t, n);
				for (let e = 0; e < i.length; e += 1) i[e] && i[e].m(t, null);
			},
			p(e, r) {
				if (516 & r[0]) {
					let n;
					for (o = Fh(e[2]), n = 0; n < o.length; n += 1) {
						const s = IT(e, o, n);
						i[n] ? i[n].p(s, r) : ((i[n] = zT(s)), i[n].c(), i[n].m(t, null));
					}
					for (; n < i.length; n += 1) i[n].d(1);
					i.length = o.length;
				}
				1 & r[0] && n !== (n = Ot(e[0].targetLang)) && Gg(t, 'dir', n);
			},
			d(e) {
				e && Dg(t), Pg(i, e);
			},
		};
	}
	function PT(e) {
		let t,
			n,
			o = wt(e[37].text) + '';
		return {
			c() {
				(t = zg('span')),
					(n = Hg(o)),
					Gg(t, 'class', 'svelte-fxpmgu'),
					Qg(t, 'highlighted-text-chunk', e[37].isHighlighted);
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, i) {
				4 & i[0] && o !== (o = wt(e[37].text) + '') && Vg(n, o),
					4 & i[0] && Qg(t, 'highlighted-text-chunk', e[37].isHighlighted);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function zT(e) {
		let t,
			n,
			o,
			i,
			r = Fh(e[34].textChunks),
			s = [];
		for (let t = 0; t < r.length; t += 1) s[t] = PT(MT(e, r, t));
		function a() {
			return e[24](e[34]);
		}
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < s.length; e += 1) s[e].c();
				(n = Bg()),
					Gg(t, 'class', 'sentence-alternatives alternative svelte-fxpmgu'),
					Gg(t, 'tabindex', '-1'),
					Gg(t, 'aria-hidden', 'true');
			},
			m(e, r) {
				Ng(e, t, r);
				for (let e = 0; e < s.length; e += 1) s[e] && s[e].m(t, null);
				Ag(t, n), o || ((i = Wg(t, 'click', a)), (o = !0));
			},
			p(o, i) {
				if (((e = o), 4 & i[0])) {
					let o;
					for (r = Fh(e[34].textChunks), o = 0; o < r.length; o += 1) {
						const a = MT(e, r, o);
						s[o] ? s[o].p(a, i) : ((s[o] = PT(a)), s[o].c(), s[o].m(t, n));
					}
					for (; o < s.length; o += 1) s[o].d(1);
					s.length = r.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(s, e), (o = !1), i();
			},
		};
	}
	function UT(e) {
		let t,
			n,
			o = Fh(e[3]),
			i = [];
		for (let t = 0; t < o.length; t += 1) i[t] = HT(LT(e, o, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < i.length; e += 1) i[e].c();
				Gg(t, 'class', 'alternatives svelte-fxpmgu'), Gg(t, 'dir', (n = Ot(e[0].targetLang)));
			},
			m(e, n) {
				Ng(e, t, n);
				for (let e = 0; e < i.length; e += 1) i[e] && i[e].m(t, null);
			},
			p(e, r) {
				if (1032 & r[0]) {
					let n;
					for (o = Fh(e[3]), n = 0; n < o.length; n += 1) {
						const s = LT(e, o, n);
						i[n] ? i[n].p(s, r) : ((i[n] = HT(s)), i[n].c(), i[n].m(t, null));
					}
					for (; n < i.length; n += 1) i[n].d(1);
					i.length = o.length;
				}
				1 & r[0] && n !== (n = Ot(e[0].targetLang)) && Gg(t, 'dir', n);
			},
			d(e) {
				e && Dg(t), Pg(i, e);
			},
		};
	}
	function HT(e) {
		let t,
			n,
			o,
			i,
			r,
			s = wt(e[31].text) + '';
		function a() {
			return e[25](e[31]);
		}
		return {
			c() {
				(t = zg('div')),
					(n = Hg(s)),
					(o = Bg()),
					Gg(t, 'role', 'button'),
					Gg(t, 'class', 'word-alternative alternative svelte-fxpmgu'),
					Gg(t, 'tabindex', '-1'),
					Gg(t, 'aria-hidden', 'true');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(t, o), i || ((r = Wg(t, 'click', a)), (i = !0));
			},
			p(t, o) {
				(e = t), 8 & o[0] && s !== (s = wt(e[31].text) + '') && Vg(n, s);
			},
			d(e) {
				e && Dg(t), (i = !1), r();
			},
		};
	}
	function BT(e) {
		let t, n, o, i, r;
		function s(e, t) {
			return e[5] ? RT : e[1] ? AT : void 0;
		}
		let a = s(e),
			l = a && a(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(n.textContent = `${chrome.i18n.getMessage('ui_alternatives_title')}`),
					(o = Bg()),
					l && l.c(),
					Gg(n, 'class', 'dl-toggle-show-alternatives svelte-fxpmgu'),
					Qg(n, 'is-showing', e[1]),
					Gg(t, 'class', 'dl-alternatives-container svelte-fxpmgu');
			},
			m(s, a) {
				Ng(s, t, a), Ag(t, n), Ag(t, o), l && l.m(t, null), i || ((r = Wg(n, 'click', e[21])), (i = !0));
			},
			p(e, o) {
				2 & o[0] && Qg(n, 'is-showing', e[1]),
					a === (a = s(e)) && l ? l.p(e, o) : (l && l.d(1), (l = a && a(e)), l && (l.c(), l.m(t, null)));
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), l && l.d(), (i = !1), r();
			},
		};
	}
	function FT(e, n, o) {
		let i;
		const r = gh('deepl_settings');
		fg(e, r, (e) => o(4, (i = e)));
		let { textProcessingMode: s = oe.translate } = n,
			{ contentProcessBuildingBlocks: l } = n,
			{ buildAndSetReplaceData: c } = n,
			{ activeSentence: d } = n,
			{ activeWord: u } = n,
			{ shouldMarkWordOrSentenceAsActive: p } = n,
			{ registerAlternativesCallbacks: m } = n,
			{ clearAlternativesCallbacks: g } = n,
			h = !1,
			f = !1,
			_ = [],
			v = [],
			y = !0;
		const w = () => {
				if (h)
					if (i.gDocsSegmentation === Fe.SENTENCE && y) d || (o(14, (d = 0)), o(15, (u = 0))), b(d);
					else if (i.gDocsSegmentation === Fe.WORD) {
						u || o(15, (u = 0)), d || o(14, (d = 0));
						const e = l.processedSentences[d].text.split(/\s+/)[u],
							t = bt(l.processedSentences[d].text).find((t) => t.text === e);
						E(d, u, t);
					}
			},
			b = async (e) => {
				if (i.gDocsSegmentation === Fe.SENTENCE) {
					o(14, (d = e)), o(1, (h = !0)), o(2, (_ = [])), o(5, (f = !0));
					try {
						const n = await t({
							action: 'dlRequestGDocsSentenceAlternatives',
							payload: {
								mode: s,
								sourceLang: l.detectedSourceLanguage,
								targetLang: l.targetLang,
								sentence: l.sentences[e],
								contextBefore: e > 0 && l.sentences[e - 1].text,
								contextAfter: e < l.sentences.length - 1 && l.sentences[e + 1].text,
							},
						});
						for (const t of n.result.translations[0].beams)
							t.sentences[0].text !== l.processedSentences[e].text &&
								_.length < 4 &&
								o(
									2,
									(_ = [
										..._,
										{
											text: t.sentences[0].text,
											textChunks: Pf(t.sentences[0].text, l.processedSentences[e].text),
										},
									]),
								);
						L(Fe.SENTENCE);
					} catch (e) {
						console.error(e);
					}
					o(5, (f = !1));
				}
			},
			E = async (e, n, r) => {
				if (i.gDocsSegmentation === Fe.WORD) {
					o(14, (d = e)), o(15, (u = n)), o(1, (h = !0)), o(3, (v = [])), o(5, (f = !0));
					try {
						const n = await t({
							action: 'dlRequestGDocsWordAlternatives',
							payload: {
								mode: s,
								sourceLang: l.detectedSourceLanguage,
								targetLang: l.targetLang,
								sentence: l.sentences[e],
								contextBefore: e > 0 && l.sentences[e - 1].text,
								contextAfter: e < l.sentences.length - 1 && l.sentences[e + 1].text,
								partialTranslation: l.processedSentences[e].text.substring(0, r.offsetStartRaw),
							},
						});
						for (const t of n.result.translations[0].beams)
							if (
								t.sentences[0].text !==
									l.processedSentences[e].text.substring(0, r.offsetStartRaw + r.offsetLengthRaw) &&
								v.length < 4
							) {
								const e = t.sentences[0].text.substring(r.offsetStartRaw);
								e.trim().length > 0 &&
									o(
										3,
										(v = [
											...v,
											{
												text: `${e}...`,
												partialTranslation: t.sentences[0].text,
											},
										]),
									);
							}
						L(Fe.WORD);
					} catch (e) {
						console.error(e);
					}
					o(5, (f = !1));
				}
			},
			S = (e) => {
				o(0, (l.processedSentences[d].text = e), l), o(2, (_ = [])), c(), k(Fe.SENTENCE);
			},
			x = async (e) => {
				o(0, (l.processedSentences[d].text = e), l), o(3, (v = []));
				try {
					const n = await t({
						action: 'dlRequestGDocsSentenceFromPartialTranslation',
						payload: {
							mode: s,
							sourceLang: l.detectedSourceLanguage,
							targetLang: l.targetLang,
							sentence: l.sentences[d],
							contextBefore: d > 0 && l.sentences[d - 1].text,
							contextAfter: d < l.sentences.length - 1 && l.sentences[d + 1].text,
							partialTranslation: e,
						},
					});
					o(0, (l.processedSentences[d].text = n.result.translations[0].beams[0].sentences[0].text), l),
						c(),
						k(Fe.WORD);
				} catch (e) {
					console.error(e);
				}
			},
			T = () => {
				Sg(r, (i.gDocsSegmentation = Fe.SENTENCE), i), d || (o(14, (d = 0)), o(15, (u = 0))), $(Fe.SENTENCE);
			},
			C = () => {
				let e;
				Sg(r, (i.gDocsSegmentation = Fe.WORD), i),
					u || o(15, (u = 0)),
					(e = l.processedSentences[d].text.split(/\s+/)[u]);
				const t = bt(l.processedSentences[d].text).find((t) => t.text === e);
				E(d, u, t), $(Fe.WORD);
			},
			$ = async (e) =>
				await I({
					eventType: Le,
					alternativesSegmentation: e,
				}),
			k = async (e) =>
				await I({
					eventType: Ie,
					alternativesSegmentation: e,
				}),
			L = async (e) =>
				await I({
					eventType: ke,
					alternativesSegmentation: e,
				}),
			I = async ({ eventType: e, alternativesSegmentation: n }) =>
				await t({
					action: 'dlTrackAlternativesEvent',
					payload: {
						eventType: e,
						alternativesMetaData: {
							sourceLang: l.detectedSourceLanguage,
							targetLang: l.targetLang,
							nicheIntegration: ne.gdocs,
							contentProcessingMode: s,
							alternativesSegmentation: n,
						},
					},
				});
		dh(() => {
			Sg(r, (i.gDocsSegmentation = Fe.SENTENCE), i),
				m({
					showSentenceAlternatives: b,
					showWordAlternatives: E,
				});
		}),
			uh(() => {
				g();
			});
		return (
			(e.$$set = (e) => {
				'textProcessingMode' in e && o(17, (s = e.textProcessingMode)),
					'contentProcessBuildingBlocks' in e && o(0, (l = e.contentProcessBuildingBlocks)),
					'buildAndSetReplaceData' in e && o(18, (c = e.buildAndSetReplaceData)),
					'activeSentence' in e && o(14, (d = e.activeSentence)),
					'activeWord' in e && o(15, (u = e.activeWord)),
					'shouldMarkWordOrSentenceAsActive' in e && o(16, (p = e.shouldMarkWordOrSentenceAsActive)),
					'registerAlternativesCallbacks' in e && o(19, (m = e.registerAlternativesCallbacks)),
					'clearAlternativesCallbacks' in e && o(20, (g = e.clearAlternativesCallbacks));
			}),
			(e.$$.update = () => {
				16 & e.$$.dirty[0] &&
					a.includes(i.gdocsWriteLang) &&
					(o(6, (y = !1)), Sg(r, (i.gDocsSegmentation = Fe.WORD), i)),
					30 & e.$$.dirty[0] &&
						o(
							16,
							(p =
								h && ((i.gDocsSegmentation === Fe.WORD && v) || (i.gDocsSegmentation === Fe.SENTENCE && _))),
						);
			}),
			[
				l,
				h,
				_,
				v,
				i,
				f,
				y,
				r,
				w,
				S,
				x,
				T,
				C,
				L,
				d,
				u,
				p,
				s,
				c,
				m,
				g,
				() => {
					o(1, (h = !h)), L(), w();
				},
				() => T(),
				() => C(),
				(e) => S(e.text),
				(e) => x(e.partialTranslation),
			]
		);
	}
	class WT extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					FT,
					BT,
					gg,
					{
						textProcessingMode: 17,
						contentProcessBuildingBlocks: 0,
						buildAndSetReplaceData: 18,
						activeSentence: 14,
						activeWord: 15,
						shouldMarkWordOrSentenceAsActive: 16,
						registerAlternativesCallbacks: 19,
						clearAlternativesCallbacks: 20,
					},
					null,
					[-1, -1],
				);
		}
	}
	function jT(e, t, n) {
		const o = e.slice();
		return (o[27] = t[n]), o;
	}
	function qT(e, t, n) {
		const o = e.slice();
		return (o[30] = t[n]), o;
	}
	function GT(e, t, n) {
		const o = e.slice();
		return (o[33] = t[n]), (o[35] = n), o;
	}
	function VT(e) {
		let t,
			n,
			o = Fh(e[10].contentReference),
			i = [];
		for (let t = 0; t < o.length; t += 1) i[t] = nC(jT(e, o, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < i.length; e += 1) i[e].c();
				Gg(t, 'class', 'preview-text-scroller svelte-t9u7lm'),
					Gg(t, 'dir', (n = Ot(e[9].selectedTargetLanguage)));
			},
			m(e, n) {
				Ng(e, t, n);
				for (let e = 0; e < i.length; e += 1) i[e] && i[e].m(t, null);
			},
			p(e, r) {
				if (65024 & r[0]) {
					let n;
					for (o = Fh(e[10].contentReference), n = 0; n < o.length; n += 1) {
						const s = jT(e, o, n);
						i[n] ? i[n].p(s, r) : ((i[n] = nC(s)), i[n].c(), i[n].m(t, null));
					}
					for (; n < i.length; n += 1) i[n].d(1);
					i.length = o.length;
				}
				512 & r[0] && n !== (n = Ot(e[9].selectedTargetLanguage)) && Gg(t, 'dir', n);
			},
			d(e) {
				e && Dg(t), Pg(i, e);
			},
		};
	}
	function YT(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dl-untranslatable-line svelte-t9u7lm');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function KT(e) {
		let t,
			n,
			o = Fh(e[10].textLinesComponents[e[27].index]),
			i = [];
		for (let t = 0; t < o.length; t += 1) i[t] = tC(qT(e, o, t));
		return {
			c() {
				t = zg('div');
				for (let e = 0; e < i.length; e += 1) i[e].c();
				(n = Bg()),
					Gg(t, 'class', 'dl-translatable-line svelte-t9u7lm'),
					Qg(t, 'is-sentence-segmentation', e[9].gDocsSegmentation === Fe.SENTENCE),
					Qg(t, 'is-word-segmentation', e[9].gDocsSegmentation === Fe.WORD);
			},
			m(e, o) {
				Ng(e, t, o);
				for (let e = 0; e < i.length; e += 1) i[e] && i[e].m(t, null);
				Ag(t, n);
			},
			p(e, r) {
				if (65024 & r[0]) {
					let s;
					for (o = Fh(e[10].textLinesComponents[e[27].index]), s = 0; s < o.length; s += 1) {
						const a = qT(e, o, s);
						i[s] ? i[s].p(a, r) : ((i[s] = tC(a)), i[s].c(), i[s].m(t, n));
					}
					for (; s < i.length; s += 1) i[s].d(1);
					i.length = o.length;
				}
				512 & r[0] && Qg(t, 'is-sentence-segmentation', e[9].gDocsSegmentation === Fe.SENTENCE),
					512 & r[0] && Qg(t, 'is-word-segmentation', e[9].gDocsSegmentation === Fe.WORD);
			},
			d(e) {
				e && Dg(t), Pg(i, e);
			},
		};
	}
	function ZT(e) {
		let t,
			n = wt(e[10].processedSentences[e[30]].text) + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				1024 & o[0] && n !== (n = wt(e[10].processedSentences[e[30]].text) + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function XT(e) {
		let t,
			n = Fh(bt(e[10].processedSentences[e[30]].text)),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = eC(GT(e, n, t));
		return {
			c() {
				for (let e = 0; e < o.length; e += 1) o[e].c();
				t = Fg();
			},
			m(e, n) {
				for (let t = 0; t < o.length; t += 1) o[t] && o[t].m(e, n);
				Ng(e, t, n);
			},
			p(e, i) {
				if (48128 & i[0]) {
					let r;
					for (n = Fh(bt(e[10].processedSentences[e[30]].text)), r = 0; r < n.length; r += 1) {
						const s = GT(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = eC(s)), o[r].c(), o[r].m(t.parentNode, t));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function JT(e) {
		let t,
			n,
			o = e[33].text + '';
		return {
			c() {
				(t = zg('span')), (n = Hg(o));
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				1024 & t[0] && o !== (o = e[33].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function QT(e) {
		let t,
			n,
			o,
			i,
			r = e[33].text + '';
		function s() {
			return e[20](e[30], e[35], e[33]);
		}
		return {
			c() {
				(t = zg('span')),
					(n = Hg(r)),
					Gg(t, 'class', 'word-text svelte-t9u7lm'),
					Gg(t, 'tabindex', '-1'),
					Gg(t, 'aria-hidden', 'true'),
					Qg(t, 'active-word', e[30] === e[11] && e[12] === e[35] && e[13]);
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), o || ((i = Wg(t, 'click', s)), (o = !0));
			},
			p(o, i) {
				(e = o),
					1024 & i[0] && r !== (r = e[33].text + '') && Vg(n, r),
					15360 & i[0] && Qg(t, 'active-word', e[30] === e[11] && e[12] === e[35] && e[13]);
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function eC(e) {
		let t;
		function n(e, t) {
			return e[33].isWord ? QT : JT;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function tC(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = e[10].processedSentences[e[30]].prefix + '',
			c = e[9].gDocsSegmentation === Fe.SENTENCE && ZT(e),
			d = e[9].gDocsSegmentation === Fe.WORD && XT(e);
		function u() {
			return e[21](e[30]);
		}
		return {
			c() {
				(t = zg('span')),
					(n = Hg(l)),
					(o = Bg()),
					(i = zg('span')),
					c && c.c(),
					(r = Bg()),
					d && d.c(),
					Gg(t, 'class', 'sentence-prefix'),
					Gg(i, 'class', 'sentence-text svelte-t9u7lm'),
					Gg(i, 'tabindex', '-1'),
					Gg(i, 'aria-hidden', 'true'),
					Qg(i, 'active-sentence', e[11] === e[30] && e[13]);
			},
			m(e, l) {
				Ng(e, t, l),
					Ag(t, n),
					Ng(e, o, l),
					Ng(e, i, l),
					c && c.m(i, null),
					Ag(i, r),
					d && d.m(i, null),
					s || ((a = Wg(i, 'click', u)), (s = !0));
			},
			p(t, o) {
				(e = t),
					1024 & o[0] && l !== (l = e[10].processedSentences[e[30]].prefix + '') && Vg(n, l),
					e[9].gDocsSegmentation === Fe.SENTENCE
						? c
							? c.p(e, o)
							: ((c = ZT(e)), c.c(), c.m(i, r))
						: c && (c.d(1), (c = null)),
					e[9].gDocsSegmentation === Fe.WORD
						? d
							? d.p(e, o)
							: ((d = XT(e)), d.c(), d.m(i, null))
						: d && (d.d(1), (d = null)),
					11264 & o[0] && Qg(i, 'active-sentence', e[11] === e[30] && e[13]);
			},
			d(e) {
				e && (Dg(t), Dg(o), Dg(i)), c && c.d(), d && d.d(), (s = !1), a();
			},
		};
	}
	function nC(e) {
		let t;
		function n(e, t) {
			return e[27].isTranslatable ? KT : YT;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function oC(e) {
		let t, n, o;
		return (
			(n = new yT({
				props: {
					platformBehaviour: ne.gdocs,
					websiteSettings: e[1],
					showDictionary: e[2],
					errorMessageDict: e[3],
					dictionaryHTML: e[4],
					langPair: e[5],
					switchVisibilityDictionary: e[6],
					isSingleWord: e[7],
					onClose: e[8],
				},
			})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', 'dl-inline-translate-toolbar-frame svelte-t9u7lm');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					2 & t[0] && (o.websiteSettings = e[1]),
						4 & t[0] && (o.showDictionary = e[2]),
						8 & t[0] && (o.errorMessageDict = e[3]),
						16 & t[0] && (o.dictionaryHTML = e[4]),
						32 & t[0] && (o.langPair = e[5]),
						64 & t[0] && (o.switchVisibilityDictionary = e[6]),
						128 & t[0] && (o.isSingleWord = e[7]),
						256 & t[0] && (o.onClose = e[8]),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function iC(e) {
		let t, n;
		return (
			(t = new ET({
				props: {
					onClose: e[8],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					256 & n[0] && (o.onClose = e[8]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function rC(e) {
		let t, n, o, i, r, s;
		function a(t) {
			e[22](t);
		}
		function l(t) {
			e[23](t);
		}
		function c(t) {
			e[24](t);
		}
		function d(t) {
			e[25](t);
		}
		let u = {
			textProcessingMode: e[0],
			buildAndSetReplaceData: e[17],
			registerAlternativesCallbacks: e[18],
			clearAlternativesCallbacks: e[19],
		};
		return (
			void 0 !== e[10] && (u.contentProcessBuildingBlocks = e[10]),
			void 0 !== e[11] && (u.activeSentence = e[11]),
			void 0 !== e[12] && (u.activeWord = e[12]),
			void 0 !== e[13] && (u.shouldMarkWordOrSentenceAsActive = e[13]),
			(t = new WT({
				props: u,
			})),
			_h.push(() => Wh(t, 'contentProcessBuildingBlocks', a)),
			_h.push(() => Wh(t, 'activeSentence', l)),
			_h.push(() => Wh(t, 'activeWord', c)),
			_h.push(() => Wh(t, 'shouldMarkWordOrSentenceAsActive', d)),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, n) {
					qh(t, e, n), (s = !0);
				},
				p(e, s) {
					const a = {};
					1 & s[0] && (a.textProcessingMode = e[0]),
						!n && 1024 & s[0] && ((n = !0), (a.contentProcessBuildingBlocks = e[10]), xh(() => (n = !1))),
						!o && 2048 & s[0] && ((o = !0), (a.activeSentence = e[11]), xh(() => (o = !1))),
						!i && 4096 & s[0] && ((i = !0), (a.activeWord = e[12]), xh(() => (i = !1))),
						!r && 8192 & s[0] && ((r = !0), (a.shouldMarkWordOrSentenceAsActive = e[13]), xh(() => (r = !1))),
						t.$set(a);
				},
				i(e) {
					s || (Dh(t.$$.fragment, e), (s = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (s = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function sC(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[10] && e[10].contentReference && VT(e),
			l = e[0] === oe.translate && oC(e),
			c = e[0] === oe.write && iC(e),
			d = e[10] && rC(e);
		return {
			c() {
				(t = zg('div')),
					a && a.c(),
					(n = Bg()),
					l && l.c(),
					(o = Bg()),
					c && c.c(),
					(i = Bg()),
					(r = zg('div')),
					d && d.c(),
					Gg(r, 'class', 'dl-alternatives-frame svelte-t9u7lm');
			},
			m(e, u) {
				Ng(e, t, u),
					a && a.m(t, null),
					Ag(t, n),
					l && l.m(t, null),
					Ag(t, o),
					c && c.m(t, null),
					Ag(t, i),
					Ag(t, r),
					d && d.m(r, null),
					(s = !0);
			},
			p(e, s) {
				e[10] && e[10].contentReference
					? a
						? a.p(e, s)
						: ((a = VT(e)), a.c(), a.m(t, n))
					: a && (a.d(1), (a = null)),
					e[0] === oe.translate
						? l
							? (l.p(e, s), 1 & s[0] && Dh(l, 1))
							: ((l = oC(e)), l.c(), Dh(l, 1), l.m(t, o))
						: l &&
						  (Oh(),
						  Ph(l, 1, 1, () => {
								l = null;
						  }),
						  Nh()),
					e[0] === oe.write
						? c
							? (c.p(e, s), 1 & s[0] && Dh(c, 1))
							: ((c = iC(e)), c.c(), Dh(c, 1), c.m(t, i))
						: c &&
						  (Oh(),
						  Ph(c, 1, 1, () => {
								c = null;
						  }),
						  Nh()),
					e[10]
						? d
							? (d.p(e, s), 1024 & s[0] && Dh(d, 1))
							: ((d = rC(e)), d.c(), Dh(d, 1), d.m(r, null))
						: d &&
						  (Oh(),
						  Ph(d, 1, 1, () => {
								d = null;
						  }),
						  Nh());
			},
			i(e) {
				s || (Dh(l), Dh(c), Dh(d), (s = !0));
			},
			o(e) {
				Ph(l), Ph(c), Ph(d), (s = !1);
			},
			d(e) {
				e && Dg(t), a && a.d(), l && l.d(), c && c.d(), d && d.d();
			},
		};
	}
	function aC(e, t, n) {
		let o;
		const i = gh('deepl_settings');
		fg(e, i, (e) => n(9, (o = e)));
		let r,
			s,
			a,
			l,
			{ textProcessingMode: c = oe.translate } = t,
			{ websiteSettings: d } = t,
			{ showDictionary: u } = t,
			{ errorMessageDict: p } = t,
			{ dictionaryHTML: m } = t,
			{ langPair: g } = t,
			{ switchVisibilityDictionary: h } = t,
			{ isSingleWord: f } = t,
			{ onClose: _ } = t,
			v = !1,
			y = () => {},
			w = () => {};
		const b = () => {
			if (s)
				try {
					const { processedText: e, processedEntities: t } = yt({
						textLines: s.textLinesComponents.map((e) =>
							e.map((e) => s.processedSentences[e].prefix + s.processedSentences[e].text),
						),
						entities: s.entities,
						contentReference: s.contentReference,
					});
					d.update({
						translatedSnippet: e,
					}),
						r &&
							r.setReplaceData({
								entities: t,
								text: e,
								originalObject: s.originalObject,
							});
				} catch (e) {
					console.error(e);
				}
		};
		dh(() => {
			(r = document.querySelector('deepl-gdocs-icon')), n(10, (s = r.getContentProcessBuildingBlocks())), b();
		});
		return (
			(e.$$set = (e) => {
				'textProcessingMode' in e && n(0, (c = e.textProcessingMode)),
					'websiteSettings' in e && n(1, (d = e.websiteSettings)),
					'showDictionary' in e && n(2, (u = e.showDictionary)),
					'errorMessageDict' in e && n(3, (p = e.errorMessageDict)),
					'dictionaryHTML' in e && n(4, (m = e.dictionaryHTML)),
					'langPair' in e && n(5, (g = e.langPair)),
					'switchVisibilityDictionary' in e && n(6, (h = e.switchVisibilityDictionary)),
					'isSingleWord' in e && n(7, (f = e.isSingleWord)),
					'onClose' in e && n(8, (_ = e.onClose));
			}),
			(e.$$.update = () => {
				512 & e.$$.dirty[0] &&
					We.includes(o.selectedTargetLanguage) &&
					Sg(i, (o.gDocsSegmentation = Fe.SENTENCE), o);
			}),
			[
				c,
				d,
				u,
				p,
				m,
				g,
				h,
				f,
				_,
				o,
				s,
				a,
				l,
				v,
				y,
				w,
				i,
				b,
				(e) => {
					n(14, (y = e.showSentenceAlternatives)), n(15, (w = e.showWordAlternatives));
				},
				() => {
					n(14, (y = () => {})), n(15, (w = () => {}));
				},
				(e, t, n) => w(e, t, n),
				(e) => y(e),
				function (e) {
					(s = e), n(10, s);
				},
				function (e) {
					(a = e), n(11, a);
				},
				function (e) {
					(l = e), n(12, l);
				},
				function (e) {
					(v = e), n(13, v);
				},
			]
		);
	}
	class lC extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					aC,
					sC,
					gg,
					{
						textProcessingMode: 0,
						websiteSettings: 1,
						showDictionary: 2,
						errorMessageDict: 3,
						dictionaryHTML: 4,
						langPair: 5,
						switchVisibilityDictionary: 6,
						isSingleWord: 7,
						onClose: 8,
					},
					null,
					[-1, -1],
				);
		}
	}
	function cC(e) {
		let t, n, o, i;
		return (
			(t = new TT({
				props: {
					headline: 'Response - Translated DOM',
					jsonData: e[20],
				},
			})),
			(o = new TT({
				props: {
					headline: 'Request - Original DOM',
					jsonData: e[21],
				},
			})),
			{
				c() {
					jh(t.$$.fragment), (n = Bg()), jh(o.$$.fragment);
				},
				m(e, r) {
					qh(t, e, r), Ng(e, n, r), qh(o, e, r), (i = !0);
				},
				p(e, n) {
					const i = {};
					32 & n && (i.jsonData = e[20]), t.$set(i);
					const r = {};
					32 & n && (r.jsonData = e[21]), o.$set(r);
				},
				i(e) {
					i || (Dh(t.$$.fragment, e), Dh(o.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), Ph(o.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && Dg(n), Gh(t, e), Gh(o, e);
				},
			}
		);
	}
	function dC(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = st(tT(e[5].translatedSnippet)) + '',
			l = e[3] === oe.translate && hC(e),
			c = e[3] === oe.write && fC(e);
		return {
			c() {
				(t = zg('div')),
					(o = Bg()),
					l && l.c(),
					(i = Bg()),
					c && c.c(),
					(r = Fg()),
					Gg(t, 'class', 'result-frame svelte-1qr4p6b'),
					Gg(t, 'dir', (n = Ot(e[6].selectedTargetLanguage)));
			},
			m(e, n) {
				Ng(e, t, n),
					(t.innerHTML = a),
					Ng(e, o, n),
					l && l.m(e, n),
					Ng(e, i, n),
					c && c.m(e, n),
					Ng(e, r, n),
					(s = !0);
			},
			p(e, o) {
				(!s || 32 & o) && a !== (a = st(tT(e[5].translatedSnippet)) + '') && (t.innerHTML = a),
					(!s || (64 & o && n !== (n = Ot(e[6].selectedTargetLanguage)))) && Gg(t, 'dir', n),
					e[3] === oe.translate
						? l
							? (l.p(e, o), 8 & o && Dh(l, 1))
							: ((l = hC(e)), l.c(), Dh(l, 1), l.m(i.parentNode, i))
						: l &&
						  (Oh(),
						  Ph(l, 1, 1, () => {
								l = null;
						  }),
						  Nh()),
					e[3] === oe.write
						? c
							? (c.p(e, o), 8 & o && Dh(c, 1))
							: ((c = fC(e)), c.c(), Dh(c, 1), c.m(r.parentNode, r))
						: c &&
						  (Oh(),
						  Ph(c, 1, 1, () => {
								c = null;
						  }),
						  Nh());
			},
			i(e) {
				s || (Dh(l), Dh(c), (s = !0));
			},
			o(e) {
				Ph(l), Ph(c), (s = !1);
			},
			d(e) {
				e && (Dg(t), Dg(o), Dg(i), Dg(r)), l && l.d(e), c && c.d(e);
			},
		};
	}
	function uC(e) {
		let t, n;
		return (
			(t = new lC({
				props: {
					textProcessingMode: e[3],
					websiteSettings: e[1],
					showDictionary: e[7],
					errorMessageDict: e[9],
					dictionaryHTML: e[8],
					langPair: e[4],
					switchVisibilityDictionary: e[14],
					isSingleWord: e[12],
					onClose: e[0],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					8 & n && (o.textProcessingMode = e[3]),
						2 & n && (o.websiteSettings = e[1]),
						128 & n && (o.showDictionary = e[7]),
						512 & n && (o.errorMessageDict = e[9]),
						256 & n && (o.dictionaryHTML = e[8]),
						16 & n && (o.langPair = e[4]),
						1 & n && (o.onClose = e[0]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function pC(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: e[5].error,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					32 & n && (o.error = e[5].error), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function mC(e) {
		let t, n, o, i, r, s, a, l, c, d, u;
		function p(e, t) {
			return e[3] === oe.translate ? vC : _C;
		}
		let m = p(e),
			g = m(e);
		function h(e, t) {
			return e[3] === oe.translate ? wC : yC;
		}
		let f = h(e),
			_ = f(e);
		function v(e, t) {
			return e[3] === oe.translate ? EC : bC;
		}
		let y = v(e),
			w = y(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('p')),
					g.c(),
					(o = Bg()),
					(i = zg('div')),
					(r = zg('h2')),
					_.c(),
					(s = Bg()),
					w.c(),
					(a = Bg()),
					(l = zg('div')),
					(c = zg('button')),
					(c.textContent = `${chrome.i18n.getMessage('link_try_deepl')}`),
					Gg(n, 'class', 'counter svelte-1qr4p6b'),
					Gg(r, 'class', 'svelte-1qr4p6b'),
					Gg(c, 'class', 'svelte-1qr4p6b'),
					Gg(l, 'class', 'button-row svelte-1qr4p6b'),
					Gg(i, 'class', 'box svelte-1qr4p6b'),
					Gg(t, 'class', 'anonymous-user-max-char-exceeded svelte-1qr4p6b');
			},
			m(p, m) {
				Ng(p, t, m),
					Ag(t, n),
					g.m(n, null),
					Ag(t, o),
					Ag(t, i),
					Ag(i, r),
					_.m(r, null),
					Ag(i, s),
					w.m(i, null),
					Ag(i, a),
					Ag(i, l),
					Ag(l, c),
					d || ((u = Wg(c, 'click', e[15])), (d = !0));
			},
			p(e, t) {
				m === (m = p(e)) && g ? g.p(e, t) : (g.d(1), (g = m(e)), g && (g.c(), g.m(n, null))),
					f === (f = h(e)) && _ ? _.p(e, t) : (_.d(1), (_ = f(e)), _ && (_.c(), _.m(r, null))),
					y === (y = v(e)) && w ? w.p(e, t) : (w.d(1), (w = y(e)), w && (w.c(), w.m(i, a)));
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), g.d(), _.d(), w.d(), (d = !1), u();
			},
		};
	}
	function gC(e) {
		let t, n, o;
		return (
			(n = new EE({})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'loading-spinner-container svelte-1qr4p6b');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function hC(e) {
		let t, n;
		return (
			(t = new yT({
				props: {
					platformBehaviour: e[2],
					websiteSettings: e[1],
					showDictionary: e[7],
					errorMessageDict: e[9],
					dictionaryHTML: e[8],
					langPair: e[4],
					switchVisibilityDictionary: e[14],
					isSingleWord: e[12],
					onClose: e[0],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n && (o.platformBehaviour = e[2]),
						2 & n && (o.websiteSettings = e[1]),
						128 & n && (o.showDictionary = e[7]),
						512 & n && (o.errorMessageDict = e[9]),
						256 & n && (o.dictionaryHTML = e[8]),
						16 & n && (o.langPair = e[4]),
						1 & n && (o.onClose = e[0]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function fC(e) {
		let t, n;
		return (
			(t = new ET({
				props: {
					onClose: e[0],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n && (o.onClose = e[0]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function _C(e) {
		let t,
			n,
			o = e[5].originalSnippet.length + '';
		return {
			c() {
				(t = Hg(o)), (n = Hg('/2000'));
			},
			m(e, o) {
				Ng(e, t, o), Ng(e, n, o);
			},
			p(e, n) {
				32 & n && o !== (o = e[5].originalSnippet.length + '') && Vg(t, o);
			},
			d(e) {
				e && (Dg(t), Dg(n));
			},
		};
	}
	function vC(e) {
		let t,
			n,
			o = e[5].originalSnippet.length + '';
		return {
			c() {
				(t = Hg(o)), (n = Hg('/5000'));
			},
			m(e, o) {
				Ng(e, t, o), Ng(e, n, o);
			},
			p(e, n) {
				32 & n && o !== (o = e[5].originalSnippet.length + '') && Vg(t, o);
			},
			d(e) {
				e && (Dg(t), Dg(n));
			},
		};
	}
	function yC(e) {
		let t,
			n = chrome.i18n.getMessage('inline_gdocs_max_chars_exceeded_improvement_title') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function wC(e) {
		let t,
			n = chrome.i18n.getMessage('inline_gdocs_max_chars_exceeded_title') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function bC(e) {
		let t;
		return {
			c() {
				(t = zg('p')),
					(t.textContent = `${chrome.i18n.getMessage('inline_gdocs_max_chars_exceeded_body_write')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function EC(e) {
		let t;
		return {
			c() {
				(t = zg('p')), (t.textContent = `${chrome.i18n.getMessage('inline_gdocs_max_chars_exceeded_body')}`);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function SC(e) {
		let t, n, o, i;
		return (
			(n = new kT({
				props: {
					html: e[8],
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'dl__dictionary svelte-1qr4p6b');
				},
				m(e, o) {
					Ng(e, t, o), qh(n, t, null), (i = !0);
				},
				p(e, t) {
					const o = {};
					256 & t && (o.html = e[8]), n.$set(o);
				},
				i(e) {
					i ||
						(Dh(n.$$.fragment, e),
						o ||
							Sh(() => {
								(o = Uh(t, If, {
									y: -50,
									duration: 700,
								})),
									o.start();
							}),
						(i = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function xC(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c = !!ot();
		const u = [gC, mC, pC, uC, dC, cC],
			p = [];
		function m(e, t) {
			return (
				32 & t && (n = null),
				null == e[5] || e[5].translationState === d.ongoingTranslation
					? 0
					: e[5].translationState === d.anonymousUserMaxCharExceeded
					? 1
					: e[5].error
					? 2
					: e[2] === ne.gdocs
					? 3
					: e[5].translatedSnippet
					? 4
					: (null == n && (n = !(!Qt() || !e[5].translatedDOMSnippet)), n ? 5 : -1)
			);
		}
		~(o = m(e, -1)) && (i = p[o] = u[o](e));
		let g = e[7] && e[8] && SC(e),
			h =
				c &&
				(function (e) {
					let t,
						n,
						o,
						i,
						r,
						s,
						a,
						l,
						c = chrome.i18n.getMessage('inline_translation_ads_ms_office') + '';
					return {
						c() {
							(t = zg('div')),
								(n = zg('div')),
								(o = Bg()),
								(i = zg('div')),
								(i.textContent = `${chrome.i18n.getMessage('inline_translation_ads_ms_office_discover')}`),
								(r = Bg()),
								(s = zg('div')),
								Gg(n, 'class', 'text-banner svelte-1qr4p6b'),
								Gg(i, 'class', 'button-banner svelte-1qr4p6b'),
								Gg(s, 'class', 'icon svelte-1qr4p6b'),
								Gg(t, 'class', 'dl-ms-addin-banner svelte-1qr4p6b');
						},
						m(d, u) {
							Ng(d, t, u),
								Ag(t, n),
								(n.innerHTML = c),
								Ag(t, o),
								Ag(t, i),
								Ag(t, r),
								Ag(t, s),
								a || ((l = Wg(i, 'click', e[16])), (a = !0));
						},
						p: lg,
						d(e) {
							e && Dg(t), (a = !1), l();
						},
					};
				})(e);
		return {
			c() {
				(t = zg('div')),
					i && i.c(),
					(r = Bg()),
					g && g.c(),
					(s = Bg()),
					h && h.c(),
					(a = Fg()),
					Gg(t, 'class', 'tooltip-container svelte-1qr4p6b'),
					Gg(t, 'data-qa', 'deepl-inline-translation-result-container'),
					Qg(t, 'error', e[5].error);
			},
			m(e, n) {
				Ng(e, t, n),
					~o && p[o].m(t, null),
					Ng(e, r, n),
					g && g.m(e, n),
					Ng(e, s, n),
					h && h.m(e, n),
					Ng(e, a, n),
					(l = !0);
			},
			p(e, n) {
				let r = o;
				(o = m(e, n)),
					o === r
						? ~o && p[o].p(e, n)
						: (i &&
								(Oh(),
								Ph(p[r], 1, 1, () => {
									p[r] = null;
								}),
								Nh()),
						  ~o
								? ((i = p[o]), i ? i.p(e, n) : ((i = p[o] = u[o](e)), i.c()), Dh(i, 1), i.m(t, null))
								: (i = null)),
					(!l || 32 & n) && Qg(t, 'error', e[5].error),
					e[7] && e[8]
						? g
							? (g.p(e, n), 384 & n && Dh(g, 1))
							: ((g = SC(e)), g.c(), Dh(g, 1), g.m(s.parentNode, s))
						: g &&
						  (Oh(),
						  Ph(g, 1, 1, () => {
								g = null;
						  }),
						  Nh()),
					c && h.p(e, n);
			},
			i(e) {
				l || (Dh(i), Dh(g), (l = !0));
			},
			o(e) {
				Ph(i), Ph(g), (l = !1);
			},
			d(e) {
				e && (Dg(t), Dg(r), Dg(s), Dg(a)), ~o && p[o].d(), g && g.d(e), h && h.d(e);
			},
		};
	}
	function TC(e) {
		let t, n, o;
		return (
			(n = new Ox({
				props: {
					closeWindow: e[13],
					showLangSelect: !e[5].error,
					settings: Xh,
					websiteSettings: e[1],
					extensionContext: e[11],
					platformBehaviour: e[2],
					textProcessingMode: e[3],
					showProStatus: e[10],
					showServiceName: !0,
					showSettingsIcon: !0,
					$$slots: {
						default: [xC],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, [t]) {
					const o = {};
					32 & t && (o.showLangSelect = !e[5].error),
						2 & t && (o.websiteSettings = e[1]),
						4 & t && (o.platformBehaviour = e[2]),
						8 & t && (o.textProcessingMode = e[3]),
						1024 & t && (o.showProStatus = e[10]),
						268436479 & t &&
							(o.$$scope = {
								dirty: t,
								ctx: e,
							}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function CC(e, n, o) {
		let i,
			r,
			s = lg,
			a = () => (s(), (s = hg(c, (e) => o(5, (i = e)))), c);
		fg(e, Xh, (e) => o(6, (r = e))), e.$$.on_destroy.push(() => s());
		let { closeTooltip: l } = n,
			{ websiteSettings: c } = n;
		a();
		let u,
			p,
			m,
			g,
			h,
			{ platformBehaviour: f = ne.default } = n,
			{ textProcessingMode: _ = oe.translate } = n,
			{ setPositioningStatus: v } = n,
			y = '',
			w = '',
			b = '',
			E = S;
		function x() {
			return !!g && 1 === g.trim().split(' ').length;
		}
		function T() {
			return !!g && g.trim().length < 200;
		}
		function C() {
			const e = y && m && x() && T() ? L : I;
			if (i.originalSnippet && i.originalSnippet !== b) {
				b = i.originalSnippet;
				try {
					t({
						action: 'dltrackDictionaryStatus',
						payload: {
							status: e,
							langPair: m,
						},
					});
				} catch (e) {
					console.log(e);
				}
			}
		}
		async function $() {
			let e = chrome.i18n.getUILanguage();
			var n;
			(e && ((n = e), nT.has(n.toUpperCase()))) || (e = 'EN'),
				(e = e.substring(0, 2).toUpperCase()),
				o(9, (w = '')),
				await (Eh(), wh),
				t({
					action: 'dlGetDictionary',
					payload: {
						interfaceLang: e,
						sourceLang: i.websiteLanguage,
						targetLang: r.selectedTargetLanguage,
						text: g,
					},
				})
					.then((e) => {
						o(8, (y = e));
					})
					.catch((e) => {
						switch (
							(t({
								action: 'dlTrackLingueeErrorData',
								payload: {
									lingueeError: e.error,
								},
							}),
							e.error)
						) {
							case pf:
								o(9, (w = chrome.i18n.getMessage('ui_inline_translation_problem_loading_dictionary')));
								break;
							case uf:
								o(9, (w = chrome.i18n.getMessage('ui_inline_translation_no_entry_dictionary', g)));
								break;
							default:
								o(9, (w = chrome.i18n.getMessage('ui_inline_translation_problem_loading_dictionary')));
						}
					})
					.finally(() => {
						C(), o(7, (u = !1));
					});
		}
		async function k(e) {
			switch (_) {
				case oe.translate:
					{
						const n = await kt(i.originalSnippet);
						let o;
						e === Me && (o = 'dlTrackGdocsMaxCharExceededShown'),
							e === Ae && (o = 'dlTrackGDocsMaxCharExceededTryProClicked'),
							t({
								action: o,
								payload: {
									sourceLang: n,
									targetLang: r.selectedTargetLanguage,
									sourceLength: i.originalSnippet.length,
								},
							});
					}
					break;
				case oe.write: {
					const t = document.getElementsByTagName('deepl-gdocs-icon')[0];
					t && t.trackMaxCharExceeded(e);
				}
			}
		}
		return (
			(e.$$set = (e) => {
				'closeTooltip' in e && o(0, (l = e.closeTooltip)),
					'websiteSettings' in e && a(o(1, (c = e.websiteSettings))),
					'platformBehaviour' in e && o(2, (f = e.platformBehaviour)),
					'textProcessingMode' in e && o(3, (_ = e.textProcessingMode)),
					'setPositioningStatus' in e && o(17, (v = e.setPositioningStatus));
			}),
			(e.$$.update = () => {
				if (
					(36 & e.$$.dirty &&
						f === ne.gdocs &&
						i.translationState === d.anonymousUserMaxCharExceeded &&
						i.originalSnippet.length > 0 &&
						k(Me),
					96 & e.$$.dirty && i && r && (i.websiteLanguage, r.selectedTargetLanguage, i.originalSnippet),
					33 & e.$$.dirty &&
						i &&
						(!i.isTranslationTooltipInjected ||
							i.translationState !== d.none ||
							i.translatedSnippet ||
							i.error ||
							i.translatedDOMSnippet ||
							l()),
					131108 & e.$$.dirty &&
						!i.translationState &&
						f === ne.default &&
						v &&
						(v(!0),
						setTimeout(() => {
							v(!1);
						}, 600)),
					524400 & e.$$.dirty)
				) {
					if (r.selectedTargetLanguage !== i.snippetDetectedSourceLang && i.snippetDetectedSourceLang) {
						let e = i.snippetDetectedSourceLang,
							t = r.selectedTargetLanguage;
						['EN-GB', 'EN-US'].includes(e) && (e = 'EN'),
							['EN-GB', 'EN-US'].includes(t) && (t = 'EN'),
							['PT-PT', 'PT-BR'].includes(e) && (e = 'PT'),
							['PT-PT', 'PT-BR'].includes(t) && (t = 'PT'),
							['ZH-CN', 'ZH-HANT'].includes(e) && (e = 'ZH'),
							['ZH-CN', 'ZH-HANT'].includes(t) && (t = 'ZH'),
							o(
								4,
								(m = (function (e, t) {
									const n = `${e.toUpperCase()}_${t.toUpperCase()}`;
									return oT.get(n);
								})(e, t)),
							);
					} else o(4, (m = ''));
					i.originalSnippet && i.originalSnippet.trim() !== g
						? (o(19, (g = i.originalSnippet.trim())),
						  o(9, (w = '')),
						  m && x() && T() ? (o(18, (p = m)), $()) : (o(8, (y = '')), C(), o(7, (u = !1))))
						: o(7, (u = !1));
				}
				262160 & e.$$.dirty && m != p && m && x() && T() && $(),
					72 & e.$$.dirty &&
						o(10, (h = (Ye(r, _e.TRANSLATOR) && _ === oe.translate) || (Ye(r, _e.WRITE) && _ === oe.write)));
			}),
			[
				l,
				c,
				f,
				_,
				m,
				i,
				r,
				u,
				y,
				w,
				h,
				E,
				x,
				function () {
					t({
						action: 'dlTrackUiAction',
						payload: {
							uiAction: B,
							nicheIntegration: f,
						},
					}),
						l();
				},
				function () {
					m && x() && y && !w && o(7, (u = !u));
				},
				function () {
					k(Ae),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: _ === oe.translate ? ev : tv,
								utmContent: _ === oe.translate ? 'gdocs_customization' : 'gdocs_customization_write',
							},
						});
				},
				() => {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: fv,
							utmContent: 'msaddin_ads_banner',
						},
					});
					try {
						t({
							action: 'dlTrackClicksOnAdsButton',
						});
					} catch (e) {
						console.error(e);
					}
				},
				v,
				p,
				g,
				() => i.translatedDOMSnippet,
				() => i.originalSnippet,
			]
		);
	}
	class $C extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, CC, TC, gg, {
					closeTooltip: 0,
					websiteSettings: 1,
					platformBehaviour: 2,
					textProcessingMode: 3,
					setPositioningStatus: 17,
				});
		}
	}
	function kC(e) {
		let t, n, o, i, r, s, a, l;
		return (
			(r = new $C({
				props: {
					closeTooltip: e[0],
					websiteSettings: e[1],
					platformBehaviour: e[2],
					textProcessingMode: e[3],
					setPositioningStatus: e[7],
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = Bg()),
						(i = zg('div')),
						jh(r.$$.fragment),
						Gg(n, 'class', 'tooltip-drag-handle svelte-un7ezn'),
						Gg(i, 'class', 'tooltip-body svelte-un7ezn'),
						Gg(t, 'data-qa', 'inline-translate-tooltip'),
						Gg(t, 'class', 'tooltip-wrapper svelte-un7ezn'),
						Gg(t, 'role', 'dialog'),
						Gg(t, 'style', e[6]),
						Gg(t, 'draggable', e[5]),
						Gg(t, 'dir', Ot());
				},
				m(c, d) {
					Ng(c, t, d),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						qh(r, i, null),
						e[18](t),
						(s = !0),
						a ||
							((l = [
								Wg(n, 'mouseover', e[8]),
								Wg(n, 'mouseout', e[9]),
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[17]),
								Wg(t, 'dragstart', e[10]),
							]),
							(a = !0));
				},
				p(e, [n]) {
					const o = {};
					1 & n && (o.closeTooltip = e[0]),
						2 & n && (o.websiteSettings = e[1]),
						4 & n && (o.platformBehaviour = e[2]),
						8 & n && (o.textProcessingMode = e[3]),
						r.$set(o),
						(!s || 64 & n) && Gg(t, 'style', e[6]),
						(!s || 32 & n) && Gg(t, 'draggable', e[5]);
				},
				i(e) {
					s || (Dh(r.$$.fragment, e), (s = !0));
				},
				o(e) {
					Ph(r.$$.fragment, e), (s = !1);
				},
				d(n) {
					n && Dg(t), Gh(r), e[18](null), (a = !1), pg(l);
				},
			}
		);
	}
	function LC(e, t, n) {
		let o;
		fg(e, Xh, (e) => n(16, (o = e))), mh('deepl_settings', Xh), mh('text_direction', Ot());
		let i,
			r,
			s,
			a,
			l,
			{ closeTooltip: c } = t,
			{ websiteSettings: d } = t,
			{ replaceElement: u } = t,
			{ actualPosition: p } = t,
			{ dragContainerTo: m } = t,
			{ platformBehaviour: g = ne.default } = t,
			{ textProcessingMode: h = oe.translate } = t,
			f = !1,
			_ = !1,
			v = 'visibility: hidden; opacity:0; height:0;';
		let y = {
			x: 0,
			y: 0,
		};
		function w(e) {
			let t = eT({
				dropEvent: e,
				document: document,
				dragConfig: {
					dragOffset: y,
					dragElementRect: a,
					dragBarWidth: 16,
				},
			});
			t && m(t);
		}
		dh(() => {
			n(15, (l = o.isLoggedIn)),
				setTimeout(() => {
					n(6, (v = ''));
				}, 100),
				document.addEventListener('dragover', Jx),
				document.addEventListener('drop', w),
				(s = p_(i, ({ clientHeight: e }) => {
					n(14, (r = e));
				}));
		}),
			uh(() => {
				document.removeEventListener('dragover', Jx), document.removeEventListener('drop', w), s && s();
			});
		return (
			(e.$$set = (e) => {
				'closeTooltip' in e && n(0, (c = e.closeTooltip)),
					'websiteSettings' in e && n(1, (d = e.websiteSettings)),
					'replaceElement' in e && n(12, (u = e.replaceElement)),
					'actualPosition' in e && n(11, (p = e.actualPosition)),
					'dragContainerTo' in e && n(13, (m = e.dragContainerTo)),
					'platformBehaviour' in e && n(2, (g = e.platformBehaviour)),
					'textProcessingMode' in e && n(3, (h = e.textProcessingMode));
			}),
			(e.$$.update = () => {
				var t, i;
				98305 & e.$$.dirty && !1 === l && !0 === o.isLoggedIn && c(),
					65536 & e.$$.dirty && n(11, ((t = o.inlineTranslateTooltipPosition), (p = u(r, t)))),
					16384 & e.$$.dirty &&
						n(11, ((i = r), (p = _ || g === ne.gdocs ? u(i, o.inlineTranslateTooltipPosition) : p)));
			}),
			[
				c,
				d,
				g,
				h,
				i,
				f,
				v,
				(e) => {
					_ = e;
				},
				function () {
					n(5, (f = !0));
				},
				function () {
					n(5, (f = !1));
				},
				function (e) {
					const t = Qx(e, g);
					(y = t.dragOffset), (a = t.dragElementRect);
				},
				p,
				u,
				m,
				r,
				l,
				o,
				() => c(),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(i = e), n(4, i);
					});
				},
			]
		);
	}
	class IC extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, LC, kC, gg, {
					closeTooltip: 0,
					websiteSettings: 1,
					replaceElement: 12,
					actualPosition: 11,
					dragContainerTo: 13,
					platformBehaviour: 2,
					textProcessingMode: 3,
				});
		}
	}
	class MC {
		static HTML_TAG_NAME = 'deepl-inline-translate-tooltip';
		static createElement = (e = document) => {
			const t = e.createElement(MC.HTML_TAG_NAME),
				n = new MC(t);
			return (
				(t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), (t.dragContainerTo = n.dragContainerTo), t
			);
		};
		#e = void 0;
		constructor(e) {
			(this.domElement = e),
				(this.domElement.platformBehaviour = ne.default),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.mainComponent,
				this.domElement.selectionRange;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = (e, t, n) => {
			const { deepl_inline_ui: o } = O;
			this.domElement.shadowContainer &&
				this.domElement.shadowContainer.childElementCount > 0 &&
				this.cleanupDOM(),
				this.domElement.platformBehaviour === ne.default &&
					(this.domElement.selectionRange = window.getSelection().getRangeAt(0));
			let i = e(this.domElement.selectionRange);
			this.domElement.shadowContainer.appendChild(this.domElement.container);
			let r =
					'visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: ' +
					(o.z_index - 100),
				s = `position: absolute; top: ${i.y}px; left: ${i.x - 200}px; z-index: ${o.z_index - 100};`;
			switch (this.domElement.platformBehaviour) {
				case ne.gdocs:
					s += 'top: 600px; left: 10px;';
					break;
				case ne.default:
				default:
					s += '';
			}
			(this.domElement.shadowContainer.style.cssText = r),
				(this.domElement.container.style.cssText = s),
				(this.domElement.mainComponent = new IC({
					target: this.domElement.container,
					props: {
						closeTooltip: t,
						websiteSettings: n,
						replaceElement: (t, n) => {
							i = e(this.domElement.selectionRange);
							const o = {
								coords: i,
								clientHeight: t,
								TOOLTIP_WIDTH: 550,
								TRIGGER_MENU_ICON_HEIGHT: 30,
								style: this.domElement.container.style,
							};
							let r = n;
							const s = Zx(o),
								[a, l] = Xx(n),
								c = this.#e ?? {
									x: 0,
									y: 0,
								};
							if (this.domElement.platformBehaviour === ne.gdocs) {
								for (const e of l)
									if (Kx(e, o)) {
										Yx(e, o, c);
										break;
									}
							} else
								for (const e of a)
									if (Kx(e, o)) {
										(r = 'middle' !== e ? e : void 0), Vx(e, o, c);
										break;
									}
							return {
								...s,
								current: r,
							};
						},
						platformBehaviour: this.domElement.platformBehaviour,
						textProcessingMode: this.domElement.textProcessingMode,
						dragContainerTo: this.dragContainerTo,
					},
				}));
		};
		dragContainerTo = (e) => {
			(this.#e = {
				y: parseInt(this.domElement.container.style.top) - e.y + (this.#e?.y ?? 0),
				x: parseInt(this.domElement.container.style.left) - e.x + (this.#e?.x ?? 0),
			}),
				(this.domElement.container.style.top = `${e.y}px`),
				(this.domElement.container.style.left = `${e.x}px`);
		};
		cleanupDOM = () => {
			this.domElement.container.remove(),
				this.domElement.shadowContainer.remove(),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function AC(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = zg('div')),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('inline_translation_highlighter_tooltip_headline')}`),
					(s = Bg()),
					(a = zg('div')),
					(a.textContent = `${chrome.i18n.getMessage('inline_translation_highlighter_tooltip_text')}`),
					(l = Bg()),
					(c = zg('button')),
					Gg(r, 'class', 'headline svelte-150jdi1'),
					Gg(a, 'class', 'text svelte-150jdi1'),
					Gg(i, 'class', 'text-wrapper svelte-150jdi1'),
					Gg(o, 'class', 'content svelte-150jdi1'),
					Gg(c, 'class', 'close-icon svelte-150jdi1'),
					Gg(n, 'class', (d = Eg(`body body__${e[1]}`) + ' svelte-150jdi1')),
					Gg(t, 'class', (u = Eg(`container container__${e[1]}`) + ' svelte-150jdi1'));
			},
			m(d, u) {
				Ng(d, t, u),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(i, r),
					Ag(i, s),
					Ag(i, a),
					Ag(n, l),
					Ag(n, c),
					(g = !0),
					h || ((f = Wg(c, 'click', e[3])), (h = !0));
			},
			p(e, [o]) {
				(!g || (2 & o && d !== (d = Eg(`body body__${e[1]}`) + ' svelte-150jdi1'))) && Gg(n, 'class', d),
					(!g || (2 & o && u !== (u = Eg(`container container__${e[1]}`) + ' svelte-150jdi1'))) &&
						Gg(t, 'class', u);
			},
			i(e) {
				g ||
					(Sh(() => {
						g &&
							(m && m.end(1),
							(p = Uh(t, If, {
								x: 100,
								duration: 1e3,
							})),
							p.start());
					}),
					(g = !0));
			},
			o(e) {
				p && p.invalidate(),
					(m = Hh(t, If, {
						x: 100,
						duration: 1e3,
					})),
					(g = !1);
			},
			d(e) {
				e && Dg(t), e && m && m.end(), (h = !1), f();
			},
		};
	}
	function RC(n, o, i) {
		let { closeInlineHighlighter: r = () => {} } = o,
			{ el: s } = o,
			a = 'topLeft';
		dh(async () => {
			try {
				t({
					action: 'dltrackOpenInlineHighlighter',
					payload: {
						domainName: e.websiteData.hostname,
					},
				});
			} catch (e) {
				console.error(e);
			}
		});
		return (
			(n.$$set = (e) => {
				'closeInlineHighlighter' in e && i(0, (r = e.closeInlineHighlighter)), 'el' in e && i(2, (s = e.el));
			}),
			(n.$$.update = () => {
				if (4 & n.$$.dirty && s) {
					const e = s.getBoundingClientRect();
					let t = e.x > 305,
						n = window.innerWidth - e.right > 305,
						o = window.innerHeight - e.bottom > 190,
						r = e.y > 190;
					r && t
						? i(1, (a = 'topLeft'))
						: r && n
						? i(1, (a = 'topRight'))
						: o && t
						? i(1, (a = 'bottomLeft'))
						: o && n && i(1, (a = 'bottomRight'));
				}
			}),
			[r, a, s, () => r(te.close_icon)]
		);
	}
	class OC extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, RC, AC, gg, {
					closeInlineHighlighter: 0,
					el: 2,
				});
		}
	}
	function NC(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = e[3] && !e[1].isInlineHighlighterShown && DC(e);
		return (
			(i = new u_({
				props: {
					tooltip: e[2],
					showProShield: Ye(e[1], _e.WRITE),
					$$slots: {
						default: [PC],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(s = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('inline_translation_tooltip_turnoff'),
					$$slots: {
						default: [zC],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					u && u.c(),
						(t = Bg()),
						(n = zg('div')),
						(o = zg('div')),
						jh(i.$$.fragment),
						(r = Bg()),
						jh(s.$$.fragment),
						Gg(o, 'class', 'icon-container svelte-thfl2z'),
						Gg(o, 'data-qa', 'deepl-inline-translate-icon-container'),
						Gg(n, 'class', 'layout-container svelte-thfl2z'),
						Gg(n, 'dir', Ot());
				},
				m(a, p) {
					u && u.m(a, p),
						Ng(a, t, p),
						Ng(a, n, p),
						Ag(n, o),
						qh(i, o, null),
						Ag(o, r),
						qh(s, o, null),
						e[24](o),
						(l = !0),
						c ||
							((d = [Wg(o, 'blur', e[15]), Wg(o, 'mouseenter', e[7]), Wg(o, 'mouseleave', e[8])]), (c = !0));
				},
				p(e, n) {
					e[3] && !e[1].isInlineHighlighterShown
						? u
							? (u.p(e, n), 10 & n && Dh(u, 1))
							: ((u = DC(e)), u.c(), Dh(u, 1), u.m(t.parentNode, t))
						: u &&
						  (Oh(),
						  Ph(u, 1, 1, () => {
								u = null;
						  }),
						  Nh());
					const o = {};
					4 & n && (o.tooltip = e[2]),
						2 & n && (o.showProShield = Ye(e[1], _e.WRITE)),
						134217728 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						i.$set(o);
					const r = {};
					134217744 & n &&
						(r.$$scope = {
							dirty: n,
							ctx: e,
						}),
						s.$set(r);
				},
				i(e) {
					l ||
						(Dh(u),
						Dh(i.$$.fragment, e),
						Dh(s.$$.fragment, e),
						a ||
							Sh(() => {
								(a = Uh(o, If, {
									x: -5,
									duration: 300,
								})),
									a.start();
							}),
						(l = !0));
				},
				o(e) {
					Ph(u), Ph(i.$$.fragment, e), Ph(s.$$.fragment, e), (l = !1);
				},
				d(o) {
					o && (Dg(t), Dg(n)), u && u.d(o), Gh(i), Gh(s), e[24](null), (c = !1), pg(d);
				},
			}
		);
	}
	function DC(e) {
		let t, n;
		return (
			(t = new OC({
				props: {
					closeInlineHighlighter: e[11],
					el: e[3],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					8 & n && (o.el = e[3]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function PC(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'class', 'dl-logo svelte-thfl2z'),
					Gg(t, 'data-qa', 'deepl-inline-translate-menu-icon');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = [
							Wg(t, 'click', qg(jg(e[6]))),
							Wg(t, 'focus', e[19]),
							Wg(t, 'mouseup', qg(jg(e[20]))),
							Wg(t, 'mousedown', qg(jg(e[21]))),
							Wg(t, 'mouseenter', e[22]),
						]),
						(n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function zC(e) {
		let t, n, o, i, r;
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'data-qa', 'deepl-inline-translate-turnoff-icon'),
					Gg(t, 'class', (n = Eg(`dl-turnoff-inline-icon ${e[4] ? '' : 'hidden'} `) + ' svelte-thfl2z'));
			},
			m(n, o) {
				Ng(n, t, o),
					i ||
						((r = [
							Wg(t, 'click', qg(jg(e[9]))),
							Wg(t, 'focus', e[16]),
							Wg(t, 'mousedown', qg(jg(e[17]))),
							Wg(t, 'mouseup', qg(jg(e[18]))),
							Wg(t, 'mouseenter', e[23]),
						]),
						(i = !0));
			},
			p(e, o) {
				16 & o &&
					n !== (n = Eg(`dl-turnoff-inline-icon ${e[4] ? '' : 'hidden'} `) + ' svelte-thfl2z') &&
					Gg(t, 'class', n);
			},
			i(e) {
				o ||
					Sh(() => {
						(o = Uh(t, If, {
							x: -5,
							duration: 300,
						})),
							o.start();
					});
			},
			o: lg,
			d(e) {
				e && Dg(t), (i = !1), pg(r);
			},
		};
	}
	function UC(e) {
		let t,
			n,
			o = !e[5] && NC(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[5]
					? o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh())
					: o
					? (o.p(e, n), 32 & n && Dh(o, 1))
					: ((o = NC(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t));
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function HC(e, o, i) {
		let r,
			s,
			a,
			l = lg,
			c = () => (l(), (l = hg(d, (e) => i(14, (a = e)))), d);
		fg(e, Xh, (e) => i(1, (s = e))),
			e.$$.on_destroy.push(() => l()),
			mh('deepl_settings', Xh),
			mh('text_direction', Ot());
		let { websiteSettings: d } = o;
		c();
		let u,
			p,
			{ platformBehaviour: m = ne.default } = o,
			g = '',
			h = [],
			f = !1;
		function _() {
			vR(),
				y(),
				t({
					action: 'dlTriggerTranslateInline',
				}),
				g || n(N.hintKeyboardShortcut),
				b(te.deepl_icon);
		}
		async function v(e, n, o) {
			if ('dlTriggerTranslationShortcut' === e.action)
				_(),
					t({
						action: 'dlTrackUseOfShortcut',
						payload: {
							shortcutType: z,
							location: P.inlineTranslationTriggerIcon,
							nicheIntegration: m,
						},
					}),
					o();
		}
		function y() {
			(a && a.isInlineTranslateSettingsTooltipInjected) || i(4, (f = !1));
		}
		function w(e) {
			h.includes(e) ||
				(t({
					action: 'dlTrackIconHover',
					payload: {
						uiLocation: e,
						domainName: window.location.host,
						nicheIntegration: m,
					},
				}),
				h.push(e));
		}
		function b(e) {
			if (!s.isInlineHighlighterShown) {
				Xh.set({
					isInlineHighlighterShown: !0,
				});
				try {
					t({
						action: 'dltrackCloseInlineHighlighter',
						payload: {
							trigger: e,
						},
					});
				} catch (e) {
					console.error(e);
				}
			}
		}
		t({
			action: 'dlCheckCommandShortcuts',
		}).then((e) => i(13, (g = e ? e.filter((e) => e.name == z)[0].shortcut : ''))),
			chrome.runtime.onMessage.addListener(v),
			uh(() => {
				chrome.runtime.onMessage.removeListener(v);
			});
		return (
			(e.$$set = (e) => {
				'websiteSettings' in e && c(i(0, (d = e.websiteSettings))),
					'platformBehaviour' in e && i(12, (m = e.platformBehaviour));
			}),
			(e.$$.update = () => {
				if (
					(2 & e.$$.dirty &&
						i(
							5,
							(r =
								(s.blacklistDomainsForReading &&
									s.blacklistDomainsForReading.includes(window.location.hostname)) ||
								!s.enableInlineTranslation ||
								(s.isGmailEnabled && qb())),
						),
					24576 & e.$$.dirty)
				) {
					let e;
					(e = chrome.i18n.getMessage('context_menus_translate_section')),
						i(2, (u = g ? `${e} (${g})` : e)),
						!1 === a.isInlineTranslateSettingsTooltipInjected && i(4, (f = !1));
				}
			}),
			[
				d,
				s,
				u,
				p,
				f,
				r,
				_,
				function () {
					i(4, (f = !0));
				},
				y,
				function () {
					a &&
						!a.isInlineTranslateSettingsTooltipInjected &&
						(i(4, (f = !0)),
						_R(m),
						t({
							action: 'dlTrackInlineSettingOpened',
							payload: {
								uiFunction: G,
								uiLocation: P.inlineTranslationTriggerIcon,
								nicheIntegration: m,
							},
						})),
						b(te.deepl_icon);
				},
				w,
				b,
				m,
				g,
				a,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				() => w(P.inlineTranslationTriggerIcon),
				() => w(P.inlineTranslationSettingsIcon),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(p = e), i(3, p);
					});
				},
			]
		);
	}
	class BC extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, HC, UC, gg, {
					websiteSettings: 0,
					platformBehaviour: 12,
				});
		}
	}
	const FC = {
		TRIGGER_HEIGHT: 25,
		TRIGGER_WIDTH: 25,
		TRIGGER_EXPENDED_WIDTH: 60,
	};
	function WC(e, t) {
		let n = {
			containerStyleTop: t.y > 0 ? t.y : 0,
			containerStyleLeft: t.x > 0 ? t.x : 0,
		};
		if (!e || !t) return n;
		const { TRIGGER_EXPENDED_WIDTH: o, TRIGGER_WIDTH: i, TRIGGER_HEIGHT: r } = FC,
			s = e?.detail;
		if (1 === s) {
			if (e.isOutsideOfView) return n;
			let s = parseInt(
				window
					.getComputedStyle(window.getSelection().anchorNode.parentElement, null)
					.getPropertyValue('font-size'),
			);
			const a = document.body.parentNode.getBoundingClientRect();
			let l = e.pageY + 0.5 * s,
				c = t.selectedTop + t.height - s - a.y;
			const d = () => {
				const e = window.getSelection();
				if (!e.rangeCount) return;
				const t = e.getRangeAt(0).getClientRects();
				if (!t.length) return;
				return {
					firstRect: t[0],
					lastRect: t[t.length - 1],
				};
			};
			if (t.height < 1.5 * s) {
				n.containerStyleLeft = e.clientX;
				const r = t.x + t.selectedWidth;
				e.clientX > r
					? (n.containerStyleLeft = t.selectedRight > o ? r : r - o)
					: e.clientX - t.x < i &&
					  e.clientX < t.x &&
					  (n.containerStyleLeft = t.selectedLeft > o ? t.x : t.x + o);
			} else if (l > c) {
				const t = d();
				t && t.lastRect ? (n.containerStyleLeft = t.lastRect.right) : (n.containerStyleLeft = e.clientX);
			} else if (l < c) {
				n.containerStyleTop = t.y - t.height - r - 5;
				const o = d();
				o && o.firstRect ? (n.containerStyleLeft = o.firstRect.x) : (n.containerStyleLeft = e.clientX);
			}
		} else if (2 === s) {
			n.containerStyleLeft = t.x + t.selectedWidth - i;
			let e = parseInt(
				window
					.getComputedStyle(window.getSelection().anchorNode.parentElement, null)
					.getPropertyValue('font-size'),
			);
			parseInt(t.height / 2) > e && (n.containerStyleTop = t.y - t.height + e + 2);
		}
		const a = window.innerWidth || document.documentElement.innerWidth,
			l = window.scrollHeight || document.documentElement.scrollHeight;
		return (
			n.containerStyleLeft + o > a && (n.containerStyleLeft = n.containerStyleLeft - o),
			(n.containerStyleTop + r > l || n.containerStyleTop < 0) && (n.containerStyleTop = t.y - r),
			n
		);
	}
	class jC {
		static HTML_TAG_NAME = 'deepl-inline-trigger';
		static createElement = (e = document) => {
			const t = e.createElement(jC.HTML_TAG_NAME),
				n = new jC(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.addChangeEvents = n.addChangeEvents),
				(t.removeChangeEvents = n.removeChangeEvents),
				(t.repositionContainer = n.repositionContainer),
				(t.cachedReposition = n.cachedReposition),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.mainComponent,
				this.domElement.cachedMouseEvent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t) => {
			this.domElement.shadowContainer &&
				this.domElement.shadowContainer.childElementCount > 0 &&
				this.domElement.cleanupDOM(),
				this.domElement.repositionContainer(t),
				this.domElement.shadowContainer.appendChild(this.domElement.container),
				(this.domElement.mainComponent = new BC({
					target: this.domElement.container,
					props: {
						websiteSettings: e,
					},
				})),
				this.domElement.addChangeEvents(),
				(this.domElement.cachedMouseEvent = t);
		};
		repositionContainer = (e) => {
			if (window.getSelection() && !window.getSelection().toString())
				return void this.domElement.cleanupDOM();
			const { deepl_inline_ui: t } = O,
				n = t.z_index - 500,
				o = oE();
			let i = `position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`,
				r = `position: absolute; z-index: ${n};`;
			(this.domElement.shadowContainer.style.cssText = i), (this.domElement.container.style.cssText = r);
			const s = WC(e, o);
			(this.domElement.container.style.top = `${parseInt(s.containerStyleTop)}px`),
				(this.domElement.container.style.left = `${parseInt(s.containerStyleLeft)}px`);
		};
		cachedReposition = () => this.domElement.repositionContainer(this.domElement.cachedMouseEvent);
		addChangeEvents = () => {
			window.addEventListener('scroll', this.domElement.cachedReposition),
				window.addEventListener('resize', this.domElement.cachedReposition);
		};
		removeChangeEvents = () => {
			window.removeEventListener('scroll', this.domElement.cachedReposition),
				window.removeEventListener('resize', this.domElement.cachedReposition);
		};
		cleanupDOM = () => {
			this.domElement.container.remove(),
				this.domElement.shadowContainer.remove(),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
				this.domElement.removeChangeEvents();
		};
	}
	const qC = {
			TRANSLATE: 'translate',
			WRITE: 'write',
		},
		GC = qC,
		VC = async (e) => {
			const t = nt();
			let n,
				o = e.ownerDocument,
				i = Uf(e).getSelection();
			(n = t
				? i &&
				  i.anchorNode &&
				  '#text' == i.anchorNode.nodeName &&
				  'Range' == i.type &&
				  e.contains(i.anchorNode)
				: i &&
				  i.baseNode &&
				  '#text' == i.baseNode.nodeName &&
				  'Range' == i.type &&
				  (e.contains(i.baseNode) ||
						(function (e, t) {
							return 'IFRAME' === e.nodeName.toUpperCase() && Ff(e) === t.ownerDocument;
						})(e, i.baseNode))),
				n || (e.focus(), await qf(e)),
				(i = Uf(e).getSelection());
			const {
				domElements: r,
				strings: s,
				container: a,
			} = (function ({ thisDocument: e, selection: t }) {
				let n;
				t.getRangeAt
					? (n = t.getRangeAt(0))
					: ((n = e.createRange()),
					  n.setStart(t.anchorNode, t.anchorOffset),
					  n.setEnd(t.focusNode, t.focusOffset));
				const o = n.cloneContents(),
					i = document.createElement('div');
				i.appendChild(o),
					(i.style.display = 'block'),
					(i.style.position = 'fixed'),
					(i.style.height = '0px'),
					(i.style.width = '0px'),
					(i.style.top = '-500px'),
					(i.style.left = '-500px'),
					(i.style.overflow = 'hidden'),
					document.body.appendChild(i);
				const { domElements: r, strings: s } = lE(i);
				return {
					domElements: r,
					strings: s,
					container: i,
				};
			})({
				thisDocument: o,
				selection: i,
			});
			return {
				domElements: r,
				strings: s,
				container: a,
				isSubtextSelected: n,
			};
		};
	const YC = (e) => {
		const {
			domElements: t,
			strings: n,
			cloneContainer: o,
		} = (function (e) {
			const t = e.cloneNode(!0),
				n = document.createElement('div');
			n.appendChild(t), (n.style.display = 'none'), document.body.appendChild(n);
			const { domElements: o, strings: i } = lE(n);
			return {
				domElements: o,
				strings: i,
				cloneContainer: n,
			};
		})(e);
		return {
			domElements: t,
			strings: n,
			cloneContainer: o,
		};
	};
	const KC = new DOMParser(),
		ZC = (e, t) => {
			const n = document.createElement(t),
				o = Array.from(e.attributes),
				i = e.tagName;
			for (; e.firstChild; ) n.appendChild(e.firstChild);
			return (
				e.parentNode?.replaceChild(n, e),
				{
					tagName: i.toLowerCase(),
					attributes: o,
				}
			);
		},
		XC = (e) => {
			const t = [],
				n = new Map();
			for (let o = 0; o < e.length; ++o) {
				const i = e[o],
					r = KC.parseFromString(i, 'text/html'),
					s = Array.from(r.querySelectorAll('body *:not(head):not(html)'));
				for (let e of s) {
					const t = `a${n.size + 1}`,
						o = ZC(e, t);
					n.set(t, o);
				}
				const a = r.body.innerHTML;
				t.push(a);
			}
			return {
				map: n,
				simplifiedHtml: t,
			};
		},
		JC = (e, t) => {
			const n = KC.parseFromString(t, 'text/html'),
				o = Array.from(n.querySelectorAll('body *:not(head):not(html)'));
			for (const t of o) {
				const n = e.get(t.tagName.toLowerCase());
				if (!n) continue;
				const o = document.createElement(n.tagName);
				for (const e of n.attributes) o.setAttribute(e.name, e.value);
				for (; t.firstChild; ) o.appendChild(t.firstChild);
				t.parentNode?.replaceChild(o, t);
			}
			return n.body.innerHTML;
		};
	async function QC(e, t, n) {
		!(function () {
			const e = window.getSelection();
			return e.toString() === e.focusNode.textContent;
		})()
			? await Yb(e, t, n)
			: await Xf(e, t);
	}
	var e$ = Object.freeze({
		__proto__: null,
		split: async function (e, t) {
			const n = await VC(e);
			t && (n.strings = n.domElements.map((e) => e.innerText));
			const o = n.strings.map((e) => ({
				text: e,
			}));
			return {
				textConfig: n,
				requests: o,
			};
		},
		reassemble: function (e, t) {
			dE({
				strings: t[0]?.texts,
				domElements: e.domElements,
			});
			const n = new Map();
			let o = 0,
				i = 0;
			for (const t of e.container.children)
				1 === t.children.length && 'BR' === t.children[0].nodeName ? i++ : (n.set(o, i), o++);
			const r = {
				text: t[0]?.texts
					? t[0]?.texts
							.map((e, t) => {
								const o = n.get(t + 1) ?? 0;
								return e + '\n'.repeat(o);
							})
							.join('\n')
					: '',
				html: e.container.innerHTML,
			};
			return e.container.remove(), r;
		},
		injectContent: async function (e, t, n) {
			await QC(e, t, n);
		},
	});
	var t$ = Object.freeze({
		__proto__: null,
		injectContent: async function (e, t, n) {
			await QC(e, t, n);
		},
	});
	function n$(e) {
		return e.includes('web.whatsapp.com') ? e$ : e.includes('facebook.com') ? t$ : void 0;
	}
	async function o$(e, n) {
		const {
			isWriteRequest: o,
			targetLang: i,
			nicheIntegration: r,
			sourceLang: s,
			isHtml: a,
			clearInnerHTML: l,
			removeFormatting: c,
		} = {
			isWriteRequest: !1,
			targetLang: null,
			nicheIntegration: null,
			sourceLang: null,
			isHtml: null,
			clearInnerHTML: null,
			removeFormatting: !1,
			...n,
		};
		let d,
			u = {},
			p = [];
		const m = !Gb(e),
			g = n$(window.location.host);
		if (g?.split) {
			const t = await g.split(e, c);
			(u = t.textConfig), (p = t.requests);
		} else if (m)
			(u = await VC(e)),
				c && (u.strings = u.domElements.map((e) => e.innerText)),
				(p = u.strings.map((e) => ({
					text: e,
				})));
		else {
			const t = e.value;
			Vb(e) && (u.isSubtextSelected = !0),
				(d = u.isSubtextSelected ? t.substring(e.selectionStart, e.selectionEnd) : t),
				p.push({
					text: d,
				});
		}
		if (0 === p.length) return;
		let h, f;
		if (s) h = s;
		else
			try {
				h = document.documentElement.lang;
			} catch (e) {
				console.error(e);
			}
		const _ = XC(p.map((e) => e.text));
		(f = o
			? await t({
					action: 'dlRequestImproveWriting',
					payload: {
						requests: _.simplifiedHtml.map((e) => ({
							text: e,
						})),
						domainName: window.location.hostname,
						websiteLanguage: h,
						sourceLang: s,
						...(a && {
							isHtml: !0,
						}),
						nicheIntegration: r,
					},
			  })
			: await t({
					action: 'dlRequestInputTranslation',
					payload: {
						requests: _.simplifiedHtml.map((e) => ({
							text: e,
						})),
						domainName: window.location.hostname,
						websiteLanguage: h,
						targetLang: i,
						platformBehavior: r,
					},
			  })),
			(f = f.map((e) => ({
				...e,
				text: JC(_.map, e.text),
				texts: e.texts.map((e) => JC(_.map, e)),
			})));
		let v = {
			text: '',
			html: '',
		};
		g?.reassemble
			? (v = g.reassemble(u, f))
			: m
			? (dE({
					strings: f[0]?.texts,
					domElements: u.domElements,
			  }),
			  (v.text = u.container.innerText),
			  (v.html = st(u.container.innerHTML)),
			  u.container.remove())
			: ((v.text = f[0].text), (v.html = f[0].text)),
			m && !u.isSubtextSelected && i_(e),
			l && !u.isSubtextSelected && (e.innerHTML = ''),
			await Yb(e, v, u.isSubtextSelected);
	}
	async function i$(e) {
		let n,
			o = {},
			i = [];
		if (!Gb(e)) (o = await VC(e)), (i = o.strings.map((e) => e));
		else {
			const t = e.value;
			Vb(e) && (o.isSubtextSelected = !0),
				(n = o.isSubtextSelected ? t.substring(e.selectionStart, e.selectionEnd) : t),
				i.push(n);
		}
		return await t({
			action: 'dlSplitTextRequest',
			payload: {
				texts: i,
			},
		});
	}
	async function r$(e) {
		const { element: n, mode: o, targetLang: i, style: r, formality: s, writeLang: a } = e;
		let l,
			c = {},
			d = [];
		const u = !Gb(n);
		if (u) (c = await VC(n)), (d = c.strings.map((e) => e));
		else {
			const e = n.value;
			Vb(n) && (c.isSubtextSelected = !0),
				(l = c.isSubtextSelected ? e.substring(n.selectionStart, n.selectionEnd) : e),
				d.push(l);
		}
		const p = XC(d);
		let m = await t({
			action: 'dlRequestAlternatives',
			payload: {
				texts: p.simplifiedHtml,
				mode: o,
				targetLang: i,
				style: r,
				formality: s,
				domainName: window.location.hostname,
				writeLang: a,
			},
		});
		if (u) {
			const e = m.alternativeComponents.map((e) => {
				const t = e.map((e) => JC(p.map, e));
				return (
					dE({
						strings: t,
						domElements: c.domElements,
					}),
					{
						text: c.container.innerText,
						html: st(c.container.innerHTML),
					}
				);
			});
			(m = {
				...m,
				processedText: JC(p.map, m.processedText.processedText),
				alternatives: e.map((e) => e.text),
				alternativesHtml: e.map((e) => e.html),
			}),
				c.container.remove();
		} else
			m = {
				...m,
				processedText: JC(p.map, m.processedText.processedText),
				alternatives: m.alternatives.map((e) => JC(p.map, e)),
			};
		return m;
	}
	async function s$(e, t, n) {
		const o = !Gb(t),
			i = {
				text: '',
				html: '',
			},
			r = n$(window.location.host);
		r?.injectContent
			? ((i.text = e), (i.html = n))
			: o
			? ((i.text = e), (i.html = n), i_(t))
			: ((i.text = e), (i.html = e)),
			r?.injectContent ? await r.injectContent(t, i, !0) : await Yb(t, i, !0);
	}
	function a$(e) {
		let t, n, o, i, r;
		return (
			(n = new w_({
				props: {
					items: e[1],
					selectedOption: e[2],
					alignRight: !1,
					dataQaButton: 'deepl-formality-selection-button',
					dataQaList: 'deepl-formality-selection-list',
					variant: e[0],
					autoHeight: !0,
				},
			})),
			n.$on('valueselected', e[3]),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(s, a) {
					Ng(s, t, a), qh(n, t, null), (o = !0), i || ((r = Wg(t, 'mousedown', qg(jg(e[5])))), (i = !0));
				},
				p(e, [t]) {
					const o = {};
					2 & t && (o.items = e[1]),
						4 & t && (o.selectedOption = e[2]),
						1 & t && (o.variant = e[0]),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), r();
				},
			}
		);
	}
	function l$(e, t, n) {
		let o, i;
		const r = ph();
		let { value: s } = t,
			{ variant: a } = t;
		return (
			(e.$$set = (e) => {
				'value' in e && n(4, (s = e.value)), 'variant' in e && n(0, (a = e.variant));
			}),
			(e.$$.update = () => {
				18 & e.$$.dirty && n(2, (i = s ? o.find((e) => e.value === s) : o.find((e) => 'auto' === e.value)));
			}),
			n(
				1,
				(o = [
					{
						value: 'auto',
						label: chrome.i18n.getMessage('ui_formality_automatic'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_automatic'),
					},
					{
						value: 'formal',
						label: chrome.i18n.getMessage('ui_formality_formal'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_formal'),
					},
					{
						value: 'informal',
						label: chrome.i18n.getMessage('ui_formality_informal'),
						selectedOptionLabel: chrome.i18n.getMessage('ui_formality_informal'),
					},
				]),
			),
			[
				a,
				o,
				i,
				function (e) {
					e.detail.selectedOption.value !== s && r('selection', e.detail);
				},
				s,
				function (t) {
					hh.call(this, e, t);
				},
			]
		);
	}
	class c$ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, l$, a$, gg, {
					value: 4,
					variant: 0,
				});
		}
	}
	function d$(e, t, n) {
		const o = e.slice();
		return (o[11] = t[n]), o;
	}
	function u$(e, t, n) {
		const o = e.slice();
		return (o[14] = t[n]), o;
	}
	function p$(e) {
		let t, n, o;
		function i() {
			return e[8](e[14]);
		}
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`),
					Gg(t, 'class', 'svelte-i0wtba'),
					Qg(t, 'active', e[14] === e[0]);
			},
			m(e, r) {
				Ng(e, t, r), n || ((o = Wg(t, 'click', i)), (n = !0));
			},
			p(n, o) {
				(e = n), 1 & o && Qg(t, 'active', e[14] === e[0]);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function m$(e) {
		let t, n, o;
		function i() {
			return e[9](e[11]);
		}
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`),
					Gg(t, 'class', 'svelte-i0wtba'),
					Qg(t, 'active', e[11] === e[1]);
			},
			m(e, r) {
				Ng(e, t, r), n || ((o = Wg(t, 'click', i)), (n = !0));
			},
			p(n, o) {
				(e = n), 2 & o && Qg(t, 'active', e[11] === e[1]);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function g$(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E = Fh(qe),
			S = [];
		for (let t = 0; t < E.length; t += 1) S[t] = p$(u$(e, E, t));
		let x = Fh(Ge),
			T = [];
		for (let t = 0; t < x.length; t += 1) T[t] = m$(d$(e, x, t));
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(o.textContent = `${chrome.i18n.getMessage('write_style_options_headline_style')}`),
					(i = Bg()),
					(r = zg('div'));
				for (let e = 0; e < S.length; e += 1) S[e].c();
				(s = Bg()),
					(a = zg('div')),
					(a.textContent = `${chrome.i18n.getMessage('write_style_options_description_style')}`),
					(l = Bg()),
					(c = zg('div')),
					(d = zg('div')),
					(d.textContent = `${chrome.i18n.getMessage('write_style_options_headline_tone')}`),
					(u = Bg()),
					(p = zg('div'));
				for (let e = 0; e < T.length; e += 1) T[e].c();
				(m = Bg()),
					(g = zg('div')),
					(g.textContent = `${chrome.i18n.getMessage('write_style_options_description_tone')}`),
					(h = Bg()),
					(f = zg('div')),
					(_ = zg('button')),
					(_.textContent = `${chrome.i18n.getMessage('write_style_options_cta_reset')}`),
					(v = Bg()),
					(y = zg('button')),
					(y.textContent = `${chrome.i18n.getMessage('write_style_options_cta_apply')}`),
					Gg(o, 'class', 'title svelte-i0wtba'),
					Gg(r, 'class', 'toggles svelte-i0wtba'),
					Gg(a, 'class', 'explanation svelte-i0wtba'),
					Gg(n, 'class', 'writing-style svelte-i0wtba'),
					Gg(d, 'class', 'title svelte-i0wtba'),
					Gg(p, 'class', 'toggles svelte-i0wtba'),
					Gg(g, 'class', 'explanation svelte-i0wtba'),
					Gg(c, 'class', 'tone svelte-i0wtba'),
					Gg(_, 'class', 'reset svelte-i0wtba'),
					Gg(y, 'class', 'apply svelte-i0wtba'),
					Qg(y, 'enabled', e[0] || e[1]),
					Gg(f, 'class', 'actions svelte-i0wtba'),
					Gg(t, 'class', 'container svelte-i0wtba');
			},
			m(E, x) {
				Ng(E, t, x), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
				for (let e = 0; e < S.length; e += 1) S[e] && S[e].m(r, null);
				Ag(n, s), Ag(n, a), Ag(t, l), Ag(t, c), Ag(c, d), Ag(c, u), Ag(c, p);
				for (let e = 0; e < T.length; e += 1) T[e] && T[e].m(p, null);
				Ag(c, m),
					Ag(c, g),
					Ag(t, h),
					Ag(t, f),
					Ag(f, _),
					Ag(f, v),
					Ag(f, y),
					w || ((b = [Wg(_, 'click', e[5]), Wg(y, 'click', e[4])]), (w = !0));
			},
			p(e, [t]) {
				if (5 & t) {
					let n;
					for (E = Fh(qe), n = 0; n < E.length; n += 1) {
						const o = u$(e, E, n);
						S[n] ? S[n].p(o, t) : ((S[n] = p$(o)), S[n].c(), S[n].m(r, null));
					}
					for (; n < S.length; n += 1) S[n].d(1);
					S.length = E.length;
				}
				if (10 & t) {
					let n;
					for (x = Fh(Ge), n = 0; n < x.length; n += 1) {
						const o = d$(e, x, n);
						T[n] ? T[n].p(o, t) : ((T[n] = m$(o)), T[n].c(), T[n].m(p, null));
					}
					for (; n < T.length; n += 1) T[n].d(1);
					T.length = x.length;
				}
				3 & t && Qg(y, 'enabled', e[0] || e[1]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(S, e), Pg(T, e), (w = !1), pg(b);
			},
		};
	}
	function h$(e, t, n) {
		const o = ph();
		let { writingStyle: i } = t,
			{ tone: r } = t,
			s = i,
			a = r;
		function l(e) {
			n(1, (a = void 0)), n(0, (s = e));
		}
		function c(e) {
			n(0, (s = void 0)), n(1, (a = e));
		}
		return (
			(e.$$set = (e) => {
				'writingStyle' in e && n(6, (i = e.writingStyle)), 'tone' in e && n(7, (r = e.tone));
			}),
			[
				s,
				a,
				l,
				c,
				function () {
					n(6, (i = s)), n(7, (r = a)), o('apply');
				},
				function () {
					n(1, (a = void 0)), n(0, (s = void 0)), n(7, (r = void 0)), n(6, (i = void 0)), o('reset');
				},
				i,
				r,
				(e) => l(e),
				(e) => c(e),
			]
		);
	}
	class f$ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, h$, g$, gg, {
					writingStyle: 6,
					tone: 7,
				});
		}
	}
	function _$(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(o.innerHTML =
						'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					(i = Bg()),
					(r = zg('div')),
					(s = zg('p')),
					(s.textContent = `${chrome.i18n.getMessage('write_not_supported_language_message')}`),
					Gg(o, 'class', 'icon svelte-16948va'),
					Gg(s, 'class', 'svelte-16948va'),
					Gg(r, 'class', 'text svelte-16948va'),
					Gg(n, 'class', 'message svelte-16948va'),
					Gg(t, 'class', 'container svelte-16948va');
			},
			m(e, a) {
				Ng(e, t, a), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r), Ag(r, s);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class v$ extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, _$, gg, {});
		}
	}
	function y$(e) {
		let t, n, o;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(
						n,
						'd',
						'M19 10C19 14.9706 14.9706 19 10 19M19 10C19 5.02944 14.9706 1 10 1M19 10H1M10 19C5.02944 19 1 14.9706 1 10M10 19C11.6569 19 13 14.9706 13 10C13 5.02944 11.6569 1 10 1M10 19C8.34315 19 7 14.9706 7 10C7 5.02944 8.34315 1 10 1M1 10C1 5.02944 5.02944 1 10 1',
					),
					Gg(n, 'stroke', (o = e[0] ? 'white' : '#242B34')),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '20'),
					Gg(t, 'height', '20'),
					Gg(t, 'viewBox', '0 0 20 20'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, [t]) {
				1 & t && o !== (o = e[0] ? 'white' : '#242B34') && Gg(n, 'stroke', o);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function w$(e, t, n) {
		let { isActive: o } = t;
		return (
			(e.$$set = (e) => {
				'isActive' in e && n(0, (o = e.isActive));
			}),
			[o]
		);
	}
	class b$ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, w$, y$, gg, {
					isActive: 0,
				});
		}
	}
	function E$(e) {
		let t, n, o;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(
						n,
						'd',
						'M13.2322 3.23223L16.7677 6.76777M14.7322 1.73223C15.7085 0.755922 17.2914 0.755922 18.2677 1.73223C19.244 2.70854 19.244 4.29146 18.2677 5.26777L4.5 19.0355H1V15.4644L14.7322 1.73223Z',
					),
					Gg(n, 'stroke', (o = e[0] ? 'white' : '#242B34')),
					Gg(n, 'stroke-width', '1.5'),
					Gg(n, 'stroke-linecap', 'round'),
					Gg(n, 'stroke-linejoin', 'round'),
					Gg(t, 'width', '20'),
					Gg(t, 'height', '20'),
					Gg(t, 'viewBox', '0 0 20 20'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, [t]) {
				1 & t && o !== (o = e[0] ? 'white' : '#242B34') && Gg(n, 'stroke', o);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function S$(e, t, n) {
		let { isActive: o } = t;
		return (
			(e.$$set = (e) => {
				'isActive' in e && n(0, (o = e.isActive));
			}),
			[o]
		);
	}
	class x$ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, S$, E$, gg, {
					isActive: 0,
				});
		}
	}
	function T$(e) {
		let t, n;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'fill-rule', 'evenodd'),
					Gg(n, 'clip-rule', 'evenodd'),
					Gg(
						n,
						'd',
						'M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z',
					),
					Gg(n, 'fill', '#007E5E'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '17'),
					Gg(t, 'viewBox', '0 0 16 17'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function C$(e) {
		let t, n;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('path')),
					Gg(n, 'fill-rule', 'evenodd'),
					Gg(n, 'clip-rule', 'evenodd'),
					Gg(
						n,
						'd',
						'M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z',
					),
					Gg(n, 'fill', 'white'),
					Gg(t, 'width', '16'),
					Gg(t, 'height', '17'),
					Gg(t, 'viewBox', '0 0 16 17'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function $$(e) {
		let t;
		function n(e, t) {
			return e[0] ? C$ : T$;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, [r]) {
				o !== (o = n(e)) && (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function k$(e, t, n) {
		let { isActive: o } = t;
		return (
			(e.$$set = (e) => {
				'isActive' in e && n(0, (o = e.isActive));
			}),
			[o]
		);
	}
	class L$ extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, k$, $$, gg, {
					isActive: 0,
				});
		}
	}
	function I$(e, t, n) {
		const o = e.slice();
		return (o[48] = t[n]), (o[50] = n), o;
	}
	function M$(e) {
		let t, n;
		return (
			(t = new L$({
				props: {
					isActive: e[6] === GC.TRANSLATE,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					64 & n[0] && (o.isActive = e[6] === GC.TRANSLATE), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function A$(e) {
		let t, n;
		return (
			(t = new L$({
				props: {
					isActive: e[6] === GC.WRITE,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					64 & n[0] && (o.isActive = e[6] === GC.WRITE), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function R$(e) {
		let t,
			n,
			o = e[16] && !e[2] && N$(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, n) {
				e[16] && !e[2]
					? o
						? (o.p(e, n), 65540 & n[0] && Dh(o, 1))
						: ((o = N$(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function O$(e) {
		let t,
			n,
			o,
			i,
			r = e[18] && Ye(e[19], _e.TRANSLATOR);
		(n = new Tw({
			props: {
				value: e[1],
				fontSize: 'sm',
				variant: 'input-selection-result',
			},
		})),
			n.$on('selection', e[39]);
		let s = r && P$(e);
		return {
			c() {
				(t = zg('div')),
					jh(n.$$.fragment),
					(o = Bg()),
					s && s.c(),
					Gg(t, 'class', 'translate-options svelte-1qcrrcg');
			},
			m(e, r) {
				Ng(e, t, r), qh(n, t, null), Ag(t, o), s && s.m(t, null), (i = !0);
			},
			p(e, o) {
				const i = {};
				2 & o[0] && (i.value = e[1]),
					n.$set(i),
					786432 & o[0] && (r = e[18] && Ye(e[19], _e.TRANSLATOR)),
					r
						? s
							? (s.p(e, o), 786432 & o[0] && Dh(s, 1))
							: ((s = P$(e)), s.c(), Dh(s, 1), s.m(t, null))
						: s &&
						  (Oh(),
						  Ph(s, 1, 1, () => {
								s = null;
						  }),
						  Nh());
			},
			i(e) {
				i || (Dh(n.$$.fragment, e), Dh(s), (i = !0));
			},
			o(e) {
				Ph(n.$$.fragment, e), Ph(s), (i = !1);
			},
			d(e) {
				e && Dg(t), Gh(n), s && s.d();
			},
		};
	}
	function N$(e) {
		let t, n, o, i;
		(n = new Tw({
			props: {
				onlyShowWriteEnabledLanguages: !0,
				showChooseLanguageOption: !e[15],
				value: e[15],
				fontSize: 'sm',
				variant: 'input-selection-result',
				autoHeight: !0,
			},
		})),
			n.$on('selection', e[40]);
		let r = e[17] && D$(e);
		return {
			c() {
				(t = zg('div')),
					jh(n.$$.fragment),
					(o = Bg()),
					r && r.c(),
					Gg(t, 'class', 'write-options svelte-1qcrrcg');
			},
			m(e, s) {
				Ng(e, t, s), qh(n, t, null), Ag(t, o), r && r.m(t, null), (i = !0);
			},
			p(e, o) {
				const i = {};
				32768 & o[0] && (i.showChooseLanguageOption = !e[15]),
					32768 & o[0] && (i.value = e[15]),
					n.$set(i),
					e[17] ? (r ? r.p(e, o) : ((r = D$(e)), r.c(), r.m(t, null))) : r && (r.d(1), (r = null));
			},
			i(e) {
				i || (Dh(n.$$.fragment, e), (i = !0));
			},
			o(e) {
				Ph(n.$$.fragment, e), (i = !1);
			},
			d(e) {
				e && Dg(t), Gh(n), r && r.d();
			},
		};
	}
	function D$(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.textContent = `${chrome.i18n.getMessage('write_style_options_button_label')}`),
					Gg(t, 'class', 'style-switch svelte-1qcrrcg'),
					Qg(t, 'open', e[10]);
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[41])), (n = !0));
			},
			p(e, n) {
				1024 & n[0] && Qg(t, 'open', e[10]);
			},
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function P$(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('input_selection_alternatives_tone_tooltip'),
					$$slots: {
						default: [z$],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					(128 & n[0]) | (1048576 & n[1]) &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function z$(e) {
		let t, n;
		return (
			(t = new c$({
				props: {
					value: e[7],
					variant: 'input-selection-result',
				},
			})),
			t.$on('selection', e[22]),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					128 & n[0] && (o.value = e[7]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function U$(e) {
		let t, n, o, i, r;
		const s = [W$, F$, B$],
			a = [];
		function l(e, t) {
			return e[11] ? 0 : e[6] !== GC.WRITE || e[16] ? (e[0] && e[0].length > 0 ? 2 : -1) : 1;
		}
		return (
			~(n = l(e)) && (o = a[n] = s[n](e)),
			{
				c() {
					(t = zg('div')),
						o && o.c(),
						Gg(t, 'style', (i = `height: ${e[14] ? e[14] + 'px' : 'auto'}; width: 100%`));
				},
				m(e, o) {
					Ng(e, t, o), ~n && a[n].m(t, null), (r = !0);
				},
				p(e, c) {
					let d = n;
					(n = l(e)),
						n === d
							? ~n && a[n].p(e, c)
							: (o &&
									(Oh(),
									Ph(a[d], 1, 1, () => {
										a[d] = null;
									}),
									Nh()),
							  ~n
									? ((o = a[n]), o ? o.p(e, c) : ((o = a[n] = s[n](e)), o.c()), Dh(o, 1), o.m(t, null))
									: (o = null)),
						(!r || (16384 & c[0] && i !== (i = `height: ${e[14] ? e[14] + 'px' : 'auto'}; width: 100%`))) &&
							Gg(t, 'style', i);
				},
				i(e) {
					r || (Dh(o), (r = !0));
				},
				o(e) {
					Ph(o), (r = !1);
				},
				d(e) {
					e && Dg(t), ~n && a[n].d();
				},
			}
		);
	}
	function H$(e) {
		let t, n, o;
		return (
			(n = new wy({
				props: {
					error: e[2],
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'error-container svelte-1qcrrcg');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					4 & t[0] && (o.error = e[2]), n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function B$(e) {
		let t, n, o, i;
		const r = [q$, j$],
			s = [];
		function a(e, t) {
			return e[10] ? 0 : 1;
		}
		return (
			(n = a(e)),
			(o = s[n] = r[n](e)),
			{
				c() {
					(t = zg('div')), o.c(), Gg(t, 'class', 'alternatives-container svelte-1qcrrcg');
				},
				m(o, r) {
					Ng(o, t, r), s[n].m(t, null), e[46](t), (i = !0);
				},
				p(e, i) {
					let l = n;
					(n = a(e)),
						n === l
							? s[n].p(e, i)
							: (Oh(),
							  Ph(s[l], 1, 1, () => {
									s[l] = null;
							  }),
							  Nh(),
							  (o = s[n]),
							  o ? o.p(e, i) : ((o = s[n] = r[n](e)), o.c()),
							  Dh(o, 1),
							  o.m(t, null));
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(o) {
					o && Dg(t), s[n].d(), e[46](null);
				},
			}
		);
	}
	function F$(e) {
		let t, n, o;
		return (
			(n = new v$({})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'write-support svelte-1qcrrcg');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function W$(e) {
		let t, n, o, i;
		return (
			(n = new EE({})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'style', (o = 'height: ' + (e[14] ? e[14] + 'px' : 'auto'))),
						Gg(t, 'class', 'loading-spinner svelte-1qcrrcg');
				},
				m(e, o) {
					Ng(e, t, o), qh(n, t, null), (i = !0);
				},
				p(e, n) {
					(!i || (16384 & n[0] && o !== (o = 'height: ' + (e[14] ? e[14] + 'px' : 'auto')))) &&
						Gg(t, 'style', o);
				},
				i(e) {
					i || (Dh(n.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function j$(e) {
		let t,
			n,
			o,
			i,
			r = Fh(e[12]),
			s = [];
		for (let t = 0; t < r.length; t += 1) s[t] = G$(I$(e, r, t));
		let a = e[0].length > 3 && !e[4] && V$(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('input_selection_alternatives_label')}`),
					(o = Bg());
				for (let e = 0; e < s.length; e += 1) s[e].c();
				(i = Bg()),
					a && a.c(),
					Gg(n, 'class', 'alternative headline svelte-1qcrrcg'),
					Gg(t, 'class', 'alternatives svelte-1qcrrcg');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ag(t, o);
				for (let e = 0; e < s.length; e += 1) s[e] && s[e].m(t, null);
				Ag(t, i), a && a.m(t, null);
			},
			p(e, n) {
				if (16781312 & n[0]) {
					let o;
					for (r = Fh(e[12]), o = 0; o < r.length; o += 1) {
						const a = I$(e, r, o);
						s[o] ? s[o].p(a, n) : ((s[o] = G$(a)), s[o].c(), s[o].m(t, i));
					}
					for (; o < s.length; o += 1) s[o].d(1);
					s.length = r.length;
				}
				e[0].length > 3 && !e[4]
					? a
						? a.p(e, n)
						: ((a = V$(e)), a.c(), a.m(t, null))
					: a && (a.d(1), (a = null));
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), Pg(s, e), a && a.d();
			},
		};
	}
	function q$(e) {
		let t, n, o, i, r, s;
		function a(t) {
			e[42](t);
		}
		function l(t) {
			e[43](t);
		}
		let c = {};
		return (
			void 0 !== e[8] && (c.writingStyle = e[8]),
			void 0 !== e[9] && (c.tone = e[9]),
			(n = new f$({
				props: c,
			})),
			_h.push(() => Wh(n, 'writingStyle', a)),
			_h.push(() => Wh(n, 'tone', l)),
			n.$on('apply', e[23]),
			n.$on('reset', e[23]),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(e, o) {
					Ng(e, t, o), qh(n, t, null), (s = !0);
				},
				p(e, t) {
					const r = {};
					!o && 256 & t[0] && ((o = !0), (r.writingStyle = e[8]), xh(() => (o = !1))),
						!i && 512 & t[0] && ((i = !0), (r.tone = e[9]), xh(() => (i = !1))),
						n.$set(r);
				},
				i(e) {
					s ||
						(Dh(n.$$.fragment, e),
						e &&
							(r ||
								Sh(() => {
									(r = Uh(t, If, {
										y: -5,
										duration: 500,
									})),
										r.start();
								})),
						(s = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (s = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function G$(e) {
		let t,
			n,
			o,
			i,
			r = e[48] + '';
		function s() {
			return e[44](e[48], e[50]);
		}
		return {
			c() {
				(t = zg('div')),
					(n = Hg(r)),
					Gg(t, 'class', 'alternative svelte-1qcrrcg'),
					Gg(t, 'data-qa', 'selection-result-view-alternative');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), o || ((i = Wg(t, 'click', s)), (o = !0));
			},
			p(t, o) {
				(e = t), 4096 & o[0] && r !== (r = e[48] + '') && Vg(n, r);
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function V$(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('div')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('input_selection_alternatives_show_more')}`),
					Gg(t, 'class', 'alternative show-more svelte-1qcrrcg');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[45])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function Y$(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S,
			x,
			T,
			C,
			$,
			k,
			L,
			I,
			M,
			A,
			R,
			O,
			N = chrome.i18n.getMessage('input_selection_tab_button_translate') + '',
			D = Ye(e[19], _e.TRANSLATOR),
			P = chrome.i18n.getMessage('input_selection_tab_button_write') + '',
			z = Ye(e[19], _e.WRITE);
		c = new b$({
			props: {
				isActive: e[6] === GC.TRANSLATE,
			},
		});
		let U = D && M$(e);
		h = new x$({
			props: {
				isActive: e[6] === GC.WRITE,
			},
		});
		let H = z && A$(e);
		const B = [O$, R$],
			F = [];
		function W(e, t) {
			return e[6] === GC.TRANSLATE ? 0 : e[6] === GC.WRITE ? 1 : -1;
		}
		~(C = W(e)) && ($ = F[C] = B[C](e));
		const j = [H$, U$],
			q = [];
		function G(e, t) {
			return e[2] ? 0 : 1;
		}
		return (
			(L = G(e)),
			(I = q[L] = j[L](e)),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('div')),
						(i = zg('button')),
						(r = Bg()),
						(s = zg('div')),
						(a = zg('div')),
						(l = zg('button')),
						jh(c.$$.fragment),
						(d = Bg()),
						(u = Hg(N)),
						(p = Bg()),
						U && U.c(),
						(m = Bg()),
						(g = zg('button')),
						jh(h.$$.fragment),
						(f = Bg()),
						(_ = Hg(P)),
						(v = Bg()),
						H && H.c(),
						(y = Bg()),
						(w = zg('div')),
						(b = zg('button')),
						(E = Bg()),
						(S = zg('button')),
						(x = Bg()),
						(T = zg('div')),
						$ && $.c(),
						(k = Bg()),
						I.c(),
						Gg(i, 'class', 'dl-logo svelte-1qcrrcg'),
						Gg(i, 'aria-label', chrome.i18n.getMessage('deepl_logo')),
						Gg(l, 'class', 'svelte-1qcrrcg'),
						Qg(l, 'isActive', e[6] === GC.TRANSLATE),
						Gg(g, 'class', 'svelte-1qcrrcg'),
						Qg(g, 'isActive', e[6] === GC.WRITE),
						Gg(a, 'class', 'selector svelte-1qcrrcg'),
						Gg(s, 'class', 'selector-container svelte-1qcrrcg'),
						Gg(o, 'class', 'tab-container svelte-1qcrrcg'),
						Gg(b, 'type', 'button'),
						Gg(b, 'class', 'dl-settings-icon svelte-1qcrrcg'),
						Gg(S, 'type', 'button'),
						Gg(S, 'class', 'dl-close-icon svelte-1qcrrcg'),
						Gg(w, 'class', 'action-container svelte-1qcrrcg'),
						Gg(n, 'class', 'header svelte-1qcrrcg'),
						Gg(T, 'class', 'ai-options svelte-1qcrrcg'),
						Kg(T, 'min-height', '37px'),
						Gg(t, 'style', e[5]),
						Gg(t, 'class', 'container svelte-1qcrrcg'),
						Gg(t, 'data-qa', 'selection-result-view');
				},
				m($, I) {
					Ng($, t, I),
						Ag(t, n),
						Ag(n, o),
						Ag(o, i),
						Ag(o, r),
						Ag(o, s),
						Ag(s, a),
						Ag(a, l),
						qh(c, l, null),
						Ag(l, d),
						Ag(l, u),
						Ag(l, p),
						U && U.m(l, null),
						Ag(a, m),
						Ag(a, g),
						qh(h, g, null),
						Ag(g, f),
						Ag(g, _),
						Ag(g, v),
						H && H.m(g, null),
						Ag(n, y),
						Ag(n, w),
						Ag(w, b),
						Ag(w, E),
						Ag(w, S),
						Ag(t, x),
						Ag(t, T),
						~C && F[C].m(T, null),
						Ag(t, k),
						q[L].m(t, null),
						(A = !0),
						R ||
							((O = [
								Wg(l, 'click', e[35]),
								Wg(g, 'click', e[36]),
								Wg(b, 'click', e[37]),
								Wg(S, 'click', e[38]),
								Wg(t, 'mousedown', qg(jg(e[34]))),
							]),
							(R = !0));
				},
				p(e, n) {
					const o = {};
					64 & n[0] && (o.isActive = e[6] === GC.TRANSLATE),
						c.$set(o),
						524288 & n[0] && (D = Ye(e[19], _e.TRANSLATOR)),
						D
							? U
								? (U.p(e, n), 524288 & n[0] && Dh(U, 1))
								: ((U = M$(e)), U.c(), Dh(U, 1), U.m(l, null))
							: U &&
							  (Oh(),
							  Ph(U, 1, 1, () => {
									U = null;
							  }),
							  Nh()),
						(!A || 64 & n[0]) && Qg(l, 'isActive', e[6] === GC.TRANSLATE);
					const i = {};
					64 & n[0] && (i.isActive = e[6] === GC.WRITE),
						h.$set(i),
						524288 & n[0] && (z = Ye(e[19], _e.WRITE)),
						z
							? H
								? (H.p(e, n), 524288 & n[0] && Dh(H, 1))
								: ((H = A$(e)), H.c(), Dh(H, 1), H.m(g, null))
							: H &&
							  (Oh(),
							  Ph(H, 1, 1, () => {
									H = null;
							  }),
							  Nh()),
						(!A || 64 & n[0]) && Qg(g, 'isActive', e[6] === GC.WRITE);
					let r = C;
					(C = W(e)),
						C === r
							? ~C && F[C].p(e, n)
							: ($ &&
									(Oh(),
									Ph(F[r], 1, 1, () => {
										F[r] = null;
									}),
									Nh()),
							  ~C
									? (($ = F[C]), $ ? $.p(e, n) : (($ = F[C] = B[C](e)), $.c()), Dh($, 1), $.m(T, null))
									: ($ = null));
					let s = L;
					(L = G(e)),
						L === s
							? q[L].p(e, n)
							: (Oh(),
							  Ph(q[s], 1, 1, () => {
									q[s] = null;
							  }),
							  Nh(),
							  (I = q[L]),
							  I ? I.p(e, n) : ((I = q[L] = j[L](e)), I.c()),
							  Dh(I, 1),
							  I.m(t, null)),
						(!A || 32 & n[0]) && Gg(t, 'style', e[5]);
				},
				i(e) {
					A ||
						(Dh(c.$$.fragment, e),
						Dh(U),
						Dh(h.$$.fragment, e),
						Dh(H),
						Dh($),
						Dh(I),
						e &&
							Sh(() => {
								A && (M || (M = Bh(t, Mf, {}, !0)), M.run(1));
							}),
						(A = !0));
				},
				o(e) {
					Ph(c.$$.fragment, e),
						Ph(U),
						Ph(h.$$.fragment, e),
						Ph(H),
						Ph($),
						Ph(I),
						e && (M || (M = Bh(t, Mf, {}, !1)), M.run(0)),
						(A = !1);
				},
				d(e) {
					e && Dg(t),
						Gh(c),
						U && U.d(),
						Gh(h),
						H && H.d(),
						~C && F[C].d(),
						q[L].d(),
						e && M && M.end(),
						(R = !1),
						pg(O);
				},
			}
		);
	}
	function K$(e, n, o) {
		let i, r, a, l;
		const c = gh('deepl_settings');
		fg(e, c, (e) => o(19, (l = e)));
		let d,
			u,
			p,
			m,
			g,
			h,
			f,
			{ element: _ } = n,
			{ detectedLanguage: v } = n,
			{ isMoreThanOneSentence: y } = n,
			{ alternatives: w } = n,
			{ alternativesHtml: b } = n,
			{ error: E } = n,
			{ mode: S } = n,
			{ close: x } = n,
			{ initialTargetLang: T } = n,
			{ mostSpace: C } = n,
			$ = S,
			k = !1,
			L = !1,
			I = 0,
			M = At(v) ? It(v) : void 0;
		function A(e) {
			o(10, (k = !1)), o(6, ($ = e)), R();
		}
		async function R() {
			let e,
				t = T;
			try {
				if (!v) {
					const e = await i$(_);
					o(28, (v = e.detected_source_language)), o(29, (y = e.sentences.length > 1));
				}
			} catch (e) {
				return void o(2, (E = e));
			}
			if ($ === GC.WRITE) {
				if (!r) return;
				(e = u || p), (t = v), M && (t = M);
			}
			o(11, (L = !0)), o(2, (E = null));
			const n = {
				element: _,
				mode: $,
				targetLang: t,
				style: e,
				writeLang: M,
				...($ === GC.TRANSLATE && {
					formality: d,
				}),
			};
			try {
				let e = await r$(n);
				o(0, (w = e.alternatives)), o(30, (b = e.alternativesHtml));
			} catch (e) {
				o(2, (E = e));
			}
			o(11, (L = !1));
		}
		async function O(e, n) {
			b && b.length > 0 ? s$(e, _, b[n]) : s$(e, _);
			try {
				t({
					action: 'dlTrackAlternativeSelected',
					payload: {
						numberOfAlternatives: w.length,
						selectedAlternative: n + 1,
						sourceLang: v,
						targetLang: T,
						contentProcessingMode: S,
						alternativesSegmentation:
							((o = e), /^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(o) ? Fe.WORD : Fe.SENTENCE),
					},
				});
			} catch (e) {
				console.error(e);
			}
			var o;
		}
		function N(e) {
			o(1, (T = e)), R();
		}
		function D(e) {
			o(15, (M = e)), R();
		}
		function P() {
			t({
				action: 'dlOpenInternalPage',
				payload: {
					destination: SE.settings_page,
				},
			});
		}
		var z;
		(z = () => {
			if (k) o(14, (I = 0));
			else if (f) {
				const e = f.offsetHeight;
				e > I && o(14, (I = e));
			}
		}),
			ch().$$.after_update.push(z);
		return (
			(e.$$set = (e) => {
				'element' in e && o(31, (_ = e.element)),
					'detectedLanguage' in e && o(28, (v = e.detectedLanguage)),
					'isMoreThanOneSentence' in e && o(29, (y = e.isMoreThanOneSentence)),
					'alternatives' in e && o(0, (w = e.alternatives)),
					'alternativesHtml' in e && o(30, (b = e.alternativesHtml)),
					'error' in e && o(2, (E = e.error)),
					'mode' in e && o(32, (S = e.mode)),
					'close' in e && o(3, (x = e.close)),
					'initialTargetLang' in e && o(1, (T = e.initialTargetLang)),
					'mostSpace' in e && o(33, (C = e.mostSpace));
			}),
			(e.$$.update = () => {
				2 & e.$$.dirty[0] && o(18, (i = Rt(T))),
					(32 & e.$$.dirty[0]) | (4 & e.$$.dirty[1]) &&
						(o(5, (h = '')),
						'top' === C.vertical ? o(5, (h = 'bottom: 35px;')) : o(5, (h = 'top: 5px;')),
						'left' === C.horizontal && o(5, (h = `${h} right: -32px;`))),
					17 & e.$$.dirty[0] &&
						w &&
						(w.length <= 3 && o(12, (m = [...w])), o(12, (m = g ? [...w] : w.slice(0, 3)))),
					268435456 & e.$$.dirty[0] && o(16, (r = v && At(v))),
					268435456 & e.$$.dirty[0] && o(17, (a = v && s.includes(v.substring(0, 2).toUpperCase())));
			}),
			[
				w,
				T,
				E,
				x,
				g,
				h,
				$,
				d,
				u,
				p,
				k,
				L,
				m,
				f,
				I,
				M,
				r,
				a,
				i,
				l,
				c,
				A,
				function (e) {
					const t = e.detail.selectedOption.value;
					o(7, (d = t)), $ === GC.TRANSLATE && R();
				},
				async function () {
					o(10, (k = !1)), await R();
				},
				O,
				N,
				D,
				P,
				v,
				y,
				b,
				_,
				S,
				C,
				function (t) {
					hh.call(this, e, t);
				},
				() => A(GC.TRANSLATE),
				() => A(GC.WRITE),
				() => P(),
				() => x(),
				(e) => {
					N(e.detail.selectedOption.value);
				},
				(e) => {
					D(e.detail.selectedOption.value);
				},
				() => o(10, (k = !k)),
				function (e) {
					(u = e), o(8, u);
				},
				function (e) {
					(p = e), o(9, p);
				},
				(e, t) => O(e, t),
				() => o(4, (g = !g)),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(f = e), o(13, f);
					});
				},
			]
		);
	}
	class Z$ extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					K$,
					Y$,
					gg,
					{
						element: 31,
						detectedLanguage: 28,
						isMoreThanOneSentence: 29,
						alternatives: 0,
						alternativesHtml: 30,
						error: 2,
						mode: 32,
						close: 3,
						initialTargetLang: 1,
						mostSpace: 33,
					},
					null,
					[-1, -1],
				);
		}
	}
	function X$(e) {
		let t, n, o, i, r, s;
		const a = [Q$, J$],
			l = [];
		function c(e, t) {
			return e[2] ? 0 : 1;
		}
		(n = c(e)), (o = l[n] = a[n](e));
		let d = e[7] && tk(e);
		return {
			c() {
				(t = zg('div')),
					o.c(),
					(i = Bg()),
					(r = zg('div')),
					d && d.c(),
					Gg(t, 'class', 'icon-container svelte-1695l6u'),
					Gg(t, 'dir', Ot()),
					Gg(t, 'data-qa', 'input-selection-trigger'),
					Gg(r, 'class', 'popup svelte-1695l6u');
			},
			m(o, a) {
				Ng(o, t, a), l[n].m(t, null), e[18](t), Ng(o, i, a), Ng(o, r, a), d && d.m(r, null), (s = !0);
			},
			p(e, i) {
				let s = n;
				(n = c(e)),
					n === s
						? l[n].p(e, i)
						: (Oh(),
						  Ph(l[s], 1, 1, () => {
								l[s] = null;
						  }),
						  Nh(),
						  (o = l[n]),
						  o ? o.p(e, i) : ((o = l[n] = a[n](e)), o.c()),
						  Dh(o, 1),
						  o.m(t, null)),
					e[7]
						? d
							? (d.p(e, i), 128 & i && Dh(d, 1))
							: ((d = tk(e)), d.c(), Dh(d, 1), d.m(r, null))
						: d &&
						  (Oh(),
						  Ph(d, 1, 1, () => {
								d = null;
						  }),
						  Nh());
			},
			i(e) {
				s || (Dh(o), Dh(d), (s = !0));
			},
			o(e) {
				Ph(o), Ph(d), (s = !1);
			},
			d(o) {
				o && (Dg(t), Dg(i), Dg(r)), l[n].d(), e[18](null), d && d.d();
			},
		};
	}
	function J$(e) {
		let t, n;
		return (
			(t = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('input_selection_see_alternatives_icon_trigger'),
					showProShield: Ye(e[3], _e.WRITE),
					$$slots: {
						default: [ek],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					8 & n && (o.showProShield = Ye(e[3], _e.WRITE)),
						524288 & n &&
							(o.$$scope = {
								dirty: n,
								ctx: e,
							}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function Q$(e) {
		let t, n;
		return (
			(t = new EE({
				props: {
					small: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function ek(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dl-logo svelte-1695l6u');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = [
							Wg(t, 'click', qg(jg(e[14]))),
							Wg(t, 'mouseup', qg(jg(e[16]))),
							Wg(t, 'mousedown', qg(jg(e[17]))),
						]),
						(n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function tk(e) {
		let t, n;
		return (
			(t = new Z$({
				props: {
					element: e[0],
					detectedLanguage: e[5],
					isMoreThanOneSentence: e[6],
					mode: e[8],
					alternatives: e[9],
					alternativesHtml: e[10],
					mostSpace: e[4],
					error: e[12],
					close: e[15],
					initialTargetLang: e[11],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n && (o.element = e[0]),
						32 & n && (o.detectedLanguage = e[5]),
						64 & n && (o.isMoreThanOneSentence = e[6]),
						256 & n && (o.mode = e[8]),
						512 & n && (o.alternatives = e[9]),
						1024 & n && (o.alternativesHtml = e[10]),
						16 & n && (o.mostSpace = e[4]),
						4096 & n && (o.error = e[12]),
						2048 & n && (o.initialTargetLang = e[11]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function nk(e) {
		let t,
			n,
			o = !e[13] && X$(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[13]
					? o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh())
					: o
					? (o.p(e, n), 8192 & n && Dh(o, 1))
					: ((o = X$(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t));
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function ok(e, n, o) {
		let i, r;
		fg(e, Xh, (e) => o(3, (r = e))), mh('deepl_settings', Xh), mh('text_direction', Ot());
		let s,
			a,
			l,
			c,
			d,
			u,
			p,
			{ element: m } = n,
			g = {
				vertical: 'bottom',
				horizontal: 'right',
			},
			h = !1,
			f = GC.TRANSLATE,
			_ = 'EN-GB';
		return (
			(e.$$set = (e) => {
				'element' in e && o(0, (m = e.element));
			}),
			(e.$$.update = () => {
				6 & e.$$.dirty &&
					!u &&
					s &&
					o(
						4,
						(g = (function (e) {
							if (!e) return void console.error('No element provided');
							const t = e.getBoundingClientRect(),
								n = window.innerWidth,
								o = window.innerHeight,
								i = t.top,
								r = n - t.right;
							return {
								vertical: i > o - t.bottom ? 'top' : 'bottom',
								horizontal: t.left > r ? 'left' : 'right',
							};
						})(s)),
					),
					8 & e.$$.dirty &&
						o(
							13,
							(i =
								!r.enableInputTranslation ||
								Jb(window.location.host, window.location.href) ||
								r.blacklistDomainsForWriting.includes(window.location.host)),
						);
			}),
			[
				m,
				s,
				u,
				r,
				g,
				a,
				l,
				h,
				f,
				c,
				d,
				_,
				p,
				i,
				async function () {
					try {
						t({
							action: 'dlTrackSeeAlternativesClicked',
						});
					} catch (e) {
						console.error(e);
					}
					if (!h) {
						o(2, (u = !0));
						try {
							const e = await i$(m);
							o(5, (a = e.detected_source_language)),
								o(6, (l = e.sentences.length > 1)),
								o(11, (_ = r.targetLanguageUserInput ? r.targetLanguageUserInput : 'EN-GB')),
								o(
									8,
									(f =
										_.substring(0, 2).toUpperCase() === a.substring(0, 2).toUpperCase()
											? GC.WRITE
											: GC.TRANSLATE),
								);
							const t = {
									element: m,
									mode: f,
									targetLang: _,
								},
								n = await r$(t);
							o(9, (c = n.alternatives)), o(10, (d = n.alternativesHtml));
						} catch (e) {
							o(12, (p = e));
						}
						o(2, (u = !1));
					}
					o(7, (h = !h));
				},
				function () {
					o(7, (h = !1));
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(s = e), o(1, s);
					});
				},
			]
		);
	}
	class ik extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, ok, nk, gg, {
					element: 0,
				});
		}
	}
	class rk {
		static HTML_TAG_NAME = 'deepl-input-selection-trigger';
		static createElement = (e = document) => {
			const t = e.createElement(rk.HTML_TAG_NAME),
				n = new rk(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.addChangeEvents = n.addChangeEvents),
				(t.removeChangeEvents = n.removeChangeEvents),
				(t.repositionContainer = n.repositionContainer),
				(t.cachedReposition = n.cachedReposition),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.mainComponent,
				this.domElement.cachedMouseEvent,
				(this.domElement.cachedElement = null);
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t) => {
			this.domElement.shadowContainer &&
				this.domElement.shadowContainer.childElementCount > 0 &&
				this.domElement.cleanupDOM(),
				(this.domElement.cachedElement = e),
				this.domElement.repositionContainer(t, e),
				this.domElement.shadowContainer.appendChild(this.domElement.container),
				(this.domElement.mainComponent = new ik({
					target: this.domElement.container,
					props: {
						element: e,
					},
				})),
				this.domElement.addChangeEvents(),
				(this.domElement.cachedMouseEvent = t);
		};
		repositionContainer = (e, t) => {
			if (window.getSelection() && !window.getSelection().toString())
				return void this.domElement.cleanupDOM();
			const { deepl_inline_ui: n } = O,
				o = n.z_index + 500;
			let i;
			i = 'TEXTAREA' === t.tagName ? sE(t) : oE();
			let r = `position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`,
				s = `position: absolute; z-index: ${o};`;
			(this.domElement.shadowContainer.style.cssText = r), (this.domElement.container.style.cssText = s);
			const a = WC(e, i);
			(this.domElement.container.style.top = `${parseInt(a.containerStyleTop)}px`),
				(this.domElement.container.style.left = `${parseInt(a.containerStyleLeft)}px`);
		};
		cachedReposition = () =>
			this.domElement.repositionContainer(this.domElement.cachedMouseEvent, this.domElement.cachedElement);
		addChangeEvents = () => {
			window.addEventListener('scroll', this.domElement.cachedReposition),
				window.addEventListener('resize', this.domElement.cachedReposition);
		};
		removeChangeEvents = () => {
			window.removeEventListener('scroll', this.domElement.cachedReposition),
				window.removeEventListener('resize', this.domElement.cachedReposition);
		};
		cleanupDOM = () => {
			this.domElement.container.remove(),
				this.domElement.shadowContainer.remove(),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
				this.domElement.removeChangeEvents();
		};
	}
	function sk(e) {
		let t,
			n,
			o,
			i = st(e[1]) + '';
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'container svelte-1dicgbw');
			},
			m(r, s) {
				Ng(r, t, s), (t.innerHTML = i), n || ((o = Wg(t, 'click', e[0])), (n = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function ak(e) {
		return [
			function () {
				t({
					action: 'dlExternalURLRedirect',
					payload: {
						destination: rv,
					},
				}),
					t({
						action: 'dlTrackUiAction',
						payload: {
							uiAction: U,
						},
					});
			},
			chrome.i18n.getMessage(
				'notification_keyboard_shortcut_hint',
				`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage(
					'notification_keyboard_shortcut_hint_placeholder',
				)}</span>`,
			),
		];
	}
	class lk extends Yh {
		constructor(e) {
			super(), Vh(this, e, ak, sk, gg, {});
		}
	}
	function ck(e) {
		let t,
			n,
			o,
			i = st(e[0]) + '';
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'class', 'container svelte-1dicgbw'),
					Gg(t, 'data-qa', 'deepl-notification-open-settings-page-writing-link');
			},
			m(r, s) {
				Ng(r, t, s), (t.innerHTML = i), n || ((o = Wg(t, 'click', e[1])), (n = !0));
			},
			p(e, [n]) {
				1 & n && i !== (i = st(e[0]) + '') && (t.innerHTML = i);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function dk(e, n, o) {
		let { options: i } = n,
			r = i?.settingsPageURL ? i?.settingsPageURL : SE.settings_page;
		let s = '',
			a = i?.currentDomain ? i.currentDomain : '';
		switch (i.saveAction) {
			case j.disableEverywhere:
				s = chrome.i18n.getMessage(
					'notification_input_translation_disabled_everywhere',
					`<span style="text-decoration: underline;">${chrome.i18n.getMessage(
						'notification_input_translation_link_to_settings_placeholder',
					)}</span>`,
				);
				break;
			case j.disablePerSite:
				s = chrome.i18n.getMessage('notification_input_translation_disabled_per_site', [
					a,
					`<span style="text-decoration: underline;">${chrome.i18n.getMessage(
						'notification_input_translation_link_to_settings_placeholder',
					)}</span>`,
				]);
		}
		return (
			(e.$$set = (e) => {
				'options' in e && o(2, (i = e.options));
			}),
			[
				s,
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: r,
						},
					});
				},
				i,
			]
		);
	}
	class uk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, dk, ck, gg, {
					options: 2,
				});
		}
	}
	function pk(e) {
		let t,
			n,
			o,
			i = st(e[0]) + '';
		return {
			c() {
				(t = zg('div')),
					Gg(t, 'class', 'container svelte-1dicgbw'),
					Gg(t, 'data-qa', 'deepl-notification-open-settings-page-reading-link');
			},
			m(r, s) {
				Ng(r, t, s), (t.innerHTML = i), n || ((o = Wg(t, 'click', e[1])), (n = !0));
			},
			p(e, [n]) {
				1 & n && i !== (i = st(e[0]) + '') && (t.innerHTML = i);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function mk(e, n, o) {
		let { options: i } = n,
			r = i?.settingsPageURL ? i?.settingsPageURL : SE.settings_page;
		let s = '',
			a = i?.currentDomain ? i.currentDomain : '';
		switch (i.saveAction) {
			case j.disableEverywhere:
				s = chrome.i18n.getMessage(
					'notification_inline_translation_disabled_everywhere',
					`<span style="text-decoration: underline;">${chrome.i18n.getMessage(
						'notification_inline_translation_link_to_settings_placeholder',
					)}</span>`,
				);
				break;
			case j.disablePerSite:
				s = chrome.i18n.getMessage('notification_inline_translation_disabled_per_site', [
					a,
					`<span style="text-decoration: underline;">${chrome.i18n.getMessage(
						'notification_inline_translation_link_to_settings_placeholder',
					)}</span>`,
				]);
		}
		return (
			(e.$$set = (e) => {
				'options' in e && o(2, (i = e.options));
			}),
			[
				s,
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: r,
						},
					});
				},
				i,
			]
		);
	}
	class gk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, mk, pk, gg, {
					options: 2,
				});
		}
	}
	function hk(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('ui_notification_fpt_hide')}`),
					Gg(t, 'class', 'container svelte-1dicgbw'),
					Gg(t, 'data-qa', 'deepl-notification-open-settings-page-reading-link');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[0])), (n = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function fk(e) {
		return [
			function () {
				t({
					action: 'dlOpenInternalPage',
					payload: {
						destination: SE.settings_page,
					},
				});
			},
		];
	}
	class _k extends Yh {
		constructor(e) {
			super(), Vh(this, e, fk, hk, gg, {});
		}
	}
	function vk(e) {
		let t;
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('onboarding_account_successfully_created')}`),
					Gg(t, 'class', 'dl-account-created svelte-nuwktw');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class yk extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, vk, gg, {});
		}
	}
	function wk(e) {
		let t;
		return {
			c() {
				(t = zg('div')),
					(t.textContent = `${chrome.i18n.getMessage('onboarding_successful_login_notification')}`),
					Gg(t, 'class', 'dl-account-created svelte-nuwktw');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class bk extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, wk, gg, {});
		}
	}
	function Ek(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('div')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('ui_gslides_unsaved_asset_warning_main')}`),
					(o = Bg()),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('ui_gslides_unsaved_asset_warning_explanation')}`),
					Gg(n, 'class', 'main-text svelte-18of7gm'),
					Gg(t, 'class', 'dl-notification-gslides-prevent-asset-loss');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ag(t, o), Ag(t, i);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class Sk extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, Ek, gg, {});
		}
	}
	function xk(e) {
		let t, n, o, i, r, s, a, l, c;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(n.textContent = `${chrome.i18n.getMessage('notification_ads_ms_office_headline')}`),
					(o = Bg()),
					(i = zg('div')),
					(i.textContent = `${chrome.i18n.getMessage('notification_ads_ms_office_text')}`),
					(r = Bg()),
					(s = zg('div')),
					(a = zg('div')),
					(a.textContent = `${chrome.i18n.getMessage('notification_ads_ms_office_learn_more')}`),
					Gg(n, 'class', 'dl-ads-for-addins_headline svelte-drhmpk'),
					Gg(i, 'class', 'dl-ads-for-addins_text'),
					Gg(a, 'class', 'dl-ads-for-addins_button svelte-drhmpk'),
					Gg(s, 'class', 'dl-ads-for-addins_wrapper svelte-drhmpk'),
					Gg(t, 'class', 'dl-ads-for-addins svelte-drhmpk');
			},
			m(d, u) {
				Ng(d, t, u),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					Ag(t, r),
					Ag(t, s),
					Ag(s, a),
					l || ((c = Wg(s, 'click', e[0])), (l = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (l = !1), c();
			},
		};
	}
	function Tk(e) {
		return [
			() => {
				t({
					action: 'dlExternalURLRedirect',
					payload: {
						destination: fv,
						utmContent: 'msaddin_ads_notification',
					},
				}),
					t({
						action: 'dlTrackClicksOnAdsButton',
					});
			},
		];
	}
	class Ck extends Yh {
		constructor(e) {
			super(), Vh(this, e, Tk, xk, gg, {});
		}
	}
	function $k(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f = e[4] == D.warning_theme && kk();
		var _ = e[5];
		function v(e, t) {
			return {
				props: {
					options: e[1],
				},
			};
		}
		return (
			_ && (l = nh(_, v(e))),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('button')),
						(r = Bg()),
						(s = zg('div')),
						f && f.c(),
						(a = Bg()),
						l && jh(l.$$.fragment),
						Gg(o, 'class', (i = 'dl-close-icon ' + e[4] + ' svelte-np3z9s')),
						Gg(n, 'class', 'header'),
						Gg(n, 'notificationtheme', e[4]),
						Gg(s, 'class', (c = 'body ' + e[4] + ' svelte-np3z9s')),
						Gg(t, 'class', (d = 'container ' + e[4] + ' svelte-np3z9s')),
						Gg(t, 'dir', Ot()),
						Qg(t, 'success', e[0] === N.accountSuccessfullyCreated || e[0] === N.successfullyLoggedIn);
				},
				m(i, c) {
					Ng(i, t, c),
						Ag(t, n),
						Ag(n, o),
						Ag(t, r),
						Ag(t, s),
						f && f.m(s, null),
						Ag(s, a),
						l && qh(l, s, null),
						(m = !0),
						g ||
							((h = Wg(o, 'click', function () {
								mg(e[2]) && e[2].apply(this, arguments);
							})),
							(g = !0));
				},
				p(r, u) {
					if (
						((e = r),
						(!m || (16 & u && i !== (i = 'dl-close-icon ' + e[4] + ' svelte-np3z9s'))) && Gg(o, 'class', i),
						(!m || 16 & u) && Gg(n, 'notificationtheme', e[4]),
						e[4] == D.warning_theme ? f || ((f = kk()), f.c(), f.m(s, a)) : f && (f.d(1), (f = null)),
						32 & u && _ !== (_ = e[5]))
					) {
						if (l) {
							Oh();
							const e = l;
							Ph(e.$$.fragment, 1, 0, () => {
								Gh(e, 1);
							}),
								Nh();
						}
						_ ? ((l = nh(_, v(e))), jh(l.$$.fragment), Dh(l.$$.fragment, 1), qh(l, s, null)) : (l = null);
					} else if (_) {
						const t = {};
						2 & u && (t.options = e[1]), l.$set(t);
					}
					(!m || (16 & u && c !== (c = 'body ' + e[4] + ' svelte-np3z9s'))) && Gg(s, 'class', c),
						(!m || (16 & u && d !== (d = 'container ' + e[4] + ' svelte-np3z9s'))) && Gg(t, 'class', d),
						(!m || 17 & u) &&
							Qg(t, 'success', e[0] === N.accountSuccessfullyCreated || e[0] === N.successfullyLoggedIn);
				},
				i(e) {
					m ||
						(l && Dh(l.$$.fragment, e),
						Sh(() => {
							m &&
								(p && p.end(1),
								(u = Uh(t, If, {
									x: 100,
									duration: 1e3,
								})),
								u.start());
						}),
						(m = !0));
				},
				o(e) {
					l && Ph(l.$$.fragment, e),
						u && u.invalidate(),
						(p = Hh(t, If, {
							x: 100,
							duration: 1e3,
						})),
						(m = !1);
				},
				d(e) {
					e && Dg(t), f && f.d(), l && Gh(l), e && p && p.end(), (g = !1), h();
				},
			}
		);
	}
	function kk(e) {
		let t;
		return {
			c() {
				(t = zg('div')),
					(t.innerHTML =
						'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					Gg(t, 'class', 'icon-container');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function Lk(e) {
		let t,
			n,
			o = e[3] && $k(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[3]
					? o
						? (o.p(e, n), 8 & n && Dh(o, 1))
						: ((o = $k(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function Ik(e, t, n) {
		let o, i;
		mh('text_direction', Ot());
		let { type: r } = t,
			{ options: s } = t,
			{ close: a } = t,
			l = !1;
		const c = {
			[N.hintKeyboardShortcut]: lk,
			[N.inputTranslation]: uk,
			[N.inlineTranslation]: gk,
			[N.fullPageTranslation]: _k,
			[N.accountSuccessfullyCreated]: yk,
			[N.successfullyLoggedIn]: bk,
			[N.glidesPreventAssetLoss]: Sk,
			[N.showAdsForMSAddins]: Ck,
		};
		return (
			dh(() => {
				setTimeout(() => n(3, (l = !0)), 100),
					setTimeout(() => n(3, (l = !1)), 10100),
					setTimeout(() => a(), 11100);
			}),
			(e.$$set = (e) => {
				'type' in e && n(0, (r = e.type)),
					'options' in e && n(1, (s = e.options)),
					'close' in e && n(2, (a = e.close));
			}),
			(e.$$.update = () => {
				1 & e.$$.dirty && n(5, (o = c[r])), 2 & e.$$.dirty && n(4, (i = D[s?.theme] ? D[s?.theme] : ''));
			}),
			[r, s, a, l, i, o]
		);
	}
	class Mk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Ik, Lk, gg, {
					type: 0,
					options: 1,
					close: 2,
				});
		}
	}
	class Ak {
		static HTML_TAG_NAME = 'deepl-notification';
		static createElement = (e = document) => {
			const t = e.createElement(Ak.HTML_TAG_NAME),
				n = new Ak(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = (e, t) => {
			const n = 'rtl' === Ot() ? 'left' : 'right';
			(this.domElement.shadowContainer.style.cssText = `position: fixed; top: 20px; ${n}: 20px; z-index: ${O.deepl_inline_ui.z_index}`),
				(this.domElement.mainComponent = new Mk({
					target: this.domElement.shadowContainer,
					props: {
						type: e,
						options: t,
						close: this.cleanupDOM,
					},
				}));
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy(),
				this.domElement.remove();
		};
	}
	function Rk(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					Gg(n, 'class', 'close-button svelte-2cst7'),
					Gg(t, 'class', 'close-button-container svelte-2cst7');
			},
			m(r, s) {
				Ng(r, t, s),
					Ag(t, n),
					o ||
						((i = Wg(n, 'click', function () {
							mg(e[0]) && e[0].apply(this, arguments);
						})),
						(o = !0));
			},
			p(t, n) {
				e = t;
			},
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function Ok(e) {
		let t,
			n,
			o,
			i,
			r,
			s = e[0] && Rk(e);
		const a = e[2].default,
			l = _g(a, e, e[1], null);
		return {
			c() {
				s && s.c(),
					(t = Bg()),
					(n = zg('div')),
					(o = zg('div')),
					(i = Bg()),
					l && l.c(),
					Gg(o, 'class', 'logo svelte-2cst7'),
					Gg(n, 'class', 'body svelte-2cst7');
			},
			m(e, a) {
				s && s.m(e, a), Ng(e, t, a), Ng(e, n, a), Ag(n, o), Ag(n, i), l && l.m(n, null), (r = !0);
			},
			p(e, [n]) {
				e[0] ? (s ? s.p(e, n) : ((s = Rk(e)), s.c(), s.m(t.parentNode, t))) : s && (s.d(1), (s = null)),
					l && l.p && (!r || 2 & n) && wg(l, a, e, e[1], r ? yg(a, e[1], n, null) : bg(e[1]), null);
			},
			i(e) {
				r || (Dh(l, e), (r = !0));
			},
			o(e) {
				Ph(l, e), (r = !1);
			},
			d(e) {
				e && (Dg(t), Dg(n)), s && s.d(e), l && l.d(e);
			},
		};
	}
	function Nk(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t,
			{ onClose: r } = t;
		return (
			(e.$$set = (e) => {
				'onClose' in e && n(0, (r = e.onClose)), '$$scope' in e && n(1, (i = e.$$scope));
			}),
			[r, i, o]
		);
	}
	class Dk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Nk, Ok, gg, {
					onClose: 0,
				});
		}
	}
	function Pk(e) {
		let t, n;
		return {
			c() {
				(t = zg('div')), (n = Hg(e[0])), Gg(t, 'class', 'info-msg svelte-17qaccl');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, [t]) {
				1 & t && Vg(n, e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function zk(e, t, n) {
		let { message: o } = t;
		return (
			(e.$$set = (e) => {
				'message' in e && n(0, (o = e.message));
			}),
			[o]
		);
	}
	class Uk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, zk, Pk, gg, {
					message: 0,
				});
		}
	}
	function Hk(e) {
		let t, n, o, i, r;
		const s = e[7].default,
			a = _g(s, e, e[6], null);
		return {
			c() {
				(t = zg('button')),
					a && a.c(),
					Gg(t, 'type', 'button'),
					Gg(t, 'class', (n = Eg(e[0]) + ' svelte-1wkb4xl')),
					(t.disabled = e[1]),
					Gg(t, 'id', e[5]),
					Gg(t, 'data-qa', e[4]),
					Qg(t, 'disabled', e[1]),
					Qg(t, 'font-size-sm', 'sm' === e[2]),
					Qg(t, 'padding-x-md', 'md' === e[3]),
					Qg(t, 'padding-x-none', 'none' === e[3]);
			},
			m(n, s) {
				Ng(n, t, s),
					a && a.m(t, null),
					(o = !0),
					i || ((r = [Wg(t, 'click', e[8]), Wg(t, 'mousedown', qg(jg(e[9])))]), (i = !0));
			},
			p(e, [i]) {
				a && a.p && (!o || 64 & i) && wg(a, s, e, e[6], o ? yg(s, e[6], i, null) : bg(e[6]), null),
					(!o || (1 & i && n !== (n = Eg(e[0]) + ' svelte-1wkb4xl'))) && Gg(t, 'class', n),
					(!o || 2 & i) && (t.disabled = e[1]),
					(!o || 32 & i) && Gg(t, 'id', e[5]),
					(!o || 16 & i) && Gg(t, 'data-qa', e[4]),
					(!o || 3 & i) && Qg(t, 'disabled', e[1]),
					(!o || 5 & i) && Qg(t, 'font-size-sm', 'sm' === e[2]),
					(!o || 9 & i) && Qg(t, 'padding-x-md', 'md' === e[3]),
					(!o || 9 & i) && Qg(t, 'padding-x-none', 'none' === e[3]);
			},
			i(e) {
				o || (Dh(a, e), (o = !0));
			},
			o(e) {
				Ph(a, e), (o = !1);
			},
			d(e) {
				e && Dg(t), a && a.d(e), (i = !1), pg(r);
			},
		};
	}
	function Bk(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t,
			{ className: r = 'button-primary' } = t,
			{ disabled: s = !1 } = t,
			{ fontSize: a = 'default' } = t,
			{ paddingX: l } = t,
			{ dataQa: c = 'dl-button' } = t,
			{ id: d = '' } = t;
		return (
			(e.$$set = (e) => {
				'className' in e && n(0, (r = e.className)),
					'disabled' in e && n(1, (s = e.disabled)),
					'fontSize' in e && n(2, (a = e.fontSize)),
					'paddingX' in e && n(3, (l = e.paddingX)),
					'dataQa' in e && n(4, (c = e.dataQa)),
					'id' in e && n(5, (d = e.id)),
					'$$scope' in e && n(6, (i = e.$$scope));
			}),
			[
				r,
				s,
				a,
				l,
				c,
				d,
				i,
				o,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
			]
		);
	}
	class Fk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Bk, Hk, gg, {
					className: 0,
					disabled: 1,
					fontSize: 2,
					paddingX: 3,
					dataQa: 4,
					id: 5,
				});
		}
	}
	function Wk(e) {
		let t,
			n = chrome.i18n.getMessage('ui_fpt_hide_cancel') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function jk(e) {
		let t,
			n = chrome.i18n.getMessage('ui_fpt_hide_confirm') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function qk(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E, S, x, T, C, $, k, L, I, M, A, R;
		return (
			($ = new Fk({
				props: {
					className: 'button-link',
					paddingX: 'none',
					$$slots: {
						default: [Wk],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			$.$on('click', function () {
				mg(e[0]) && e[0].apply(this, arguments);
			}),
			(L = new Fk({
				props: {
					className: 'button-primary',
					$$slots: {
						default: [jk],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			L.$on('click', e[4]),
			(M = (function (e) {
				let t;
				return {
					p(...n) {
						(t = n), t.forEach((t) => e.push(t));
					},
					r() {
						t.forEach((t) => e.splice(e.indexOf(t), 1));
					},
				};
			})(e[7][0])),
			{
				c() {
					(t = zg('div')),
						(n = zg('p')),
						(n.textContent = `${chrome.i18n.getMessage('ui_fpt_hide_heading')}`),
						(o = Bg()),
						(i = zg('div')),
						(r = zg('div')),
						(s = zg('label')),
						(a = zg('span')),
						(l = zg('input')),
						(c = Bg()),
						(d = zg('span')),
						(d.textContent = `${chrome.i18n.getMessage('ui_fpt_hide_option_domain')}`),
						(u = Bg()),
						(p = zg('div')),
						(m = zg('label')),
						(g = zg('span')),
						(h = zg('input')),
						(f = Bg()),
						(_ = zg('span')),
						(_.textContent = `${chrome.i18n.getMessage('ui_fpt_hide_option_lang')}`),
						(v = Bg()),
						(y = zg('div')),
						(w = zg('label')),
						(b = zg('span')),
						(E = zg('input')),
						(S = Bg()),
						(x = zg('span')),
						(x.textContent = `${chrome.i18n.getMessage('ui_fpt_hide_option_fpt')}`),
						(T = Bg()),
						(C = zg('div')),
						jh($.$$.fragment),
						(k = Bg()),
						jh(L.$$.fragment),
						Gg(n, 'class', 'font-bold svelte-1vpv55x'),
						Gg(l, 'id', 'option-website'),
						Gg(l, 'name', 'option'),
						Gg(l, 'type', 'radio'),
						(l.__value = 'website'),
						Yg(l, l.__value),
						Gg(l, 'class', 'svelte-1vpv55x'),
						Gg(d, 'class', 'label svelte-1vpv55x'),
						Gg(s, 'for', 'option-website'),
						Gg(s, 'class', 'svelte-1vpv55x'),
						Gg(r, 'class', 'option svelte-1vpv55x'),
						Gg(h, 'id', 'option-lang'),
						Gg(h, 'type', 'radio'),
						Gg(h, 'name', 'option'),
						(h.__value = 'lang'),
						Yg(h, h.__value),
						Gg(h, 'class', 'svelte-1vpv55x'),
						Gg(_, 'class', 'label svelte-1vpv55x'),
						Gg(m, 'for', 'option-lang'),
						Gg(m, 'class', 'svelte-1vpv55x'),
						Gg(p, 'class', 'option svelte-1vpv55x'),
						Gg(E, 'id', 'option-fpt'),
						Gg(E, 'type', 'radio'),
						Gg(E, 'name', 'option'),
						(E.__value = 'fpt'),
						Yg(E, E.__value),
						Gg(E, 'class', 'svelte-1vpv55x'),
						Gg(x, 'class', 'label svelte-1vpv55x'),
						Gg(w, 'for', 'option-fpt'),
						Gg(w, 'class', 'svelte-1vpv55x'),
						Gg(y, 'class', 'option svelte-1vpv55x'),
						Gg(i, 'class', 'cancel-container svelte-1vpv55x'),
						Gg(t, 'class', 'cancel-translation-body svelte-1vpv55x'),
						Gg(C, 'class', 'cancel-translation-footer svelte-1vpv55x'),
						M.p(l, h, E);
				},
				m(M, O) {
					Ng(M, t, O),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						Ag(i, r),
						Ag(r, s),
						Ag(s, a),
						Ag(a, l),
						(l.checked = l.__value === e[1]),
						Ag(s, c),
						Ag(s, d),
						Ag(i, u),
						Ag(i, p),
						Ag(p, m),
						Ag(m, g),
						Ag(g, h),
						(h.checked = h.__value === e[1]),
						Ag(m, f),
						Ag(m, _),
						Ag(i, v),
						Ag(i, y),
						Ag(y, w),
						Ag(w, b),
						Ag(b, E),
						(E.checked = E.__value === e[1]),
						Ag(w, S),
						Ag(w, x),
						Ng(M, T, O),
						Ng(M, C, O),
						qh($, C, null),
						Ag(C, k),
						qh(L, C, null),
						(I = !0),
						A || ((R = [Wg(l, 'change', e[6]), Wg(h, 'change', e[8]), Wg(E, 'change', e[9])]), (A = !0));
				},
				p(t, [n]) {
					(e = t),
						2 & n && (l.checked = l.__value === e[1]),
						2 & n && (h.checked = h.__value === e[1]),
						2 & n && (E.checked = E.__value === e[1]);
					const o = {};
					65536 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						$.$set(o);
					const i = {};
					65536 & n &&
						(i.$$scope = {
							dirty: n,
							ctx: e,
						}),
						L.$set(i);
				},
				i(e) {
					I || (Dh($.$$.fragment, e), Dh(L.$$.fragment, e), (I = !0));
				},
				o(e) {
					Ph($.$$.fragment, e), Ph(L.$$.fragment, e), (I = !1);
				},
				d(e) {
					e && (Dg(t), Dg(T), Dg(C)), Gh($), Gh(L), M.r(), (A = !1), pg(R);
				},
			}
		);
	}
	function Gk(e, n, o) {
		let i, r;
		const s = gh('deepl_settings');
		fg(e, s, (e) => o(11, (r = e)));
		const a = gh('deepl_website_settings');
		fg(e, a, (e) => o(10, (i = e)));
		let { onClose: l } = n,
			{ onCancel: d } = n,
			u = 'fpt';
		return (
			(e.$$set = (e) => {
				'onClose' in e && o(5, (l = e.onClose)), 'onCancel' in e && o(0, (d = e.onCancel));
			}),
			[
				d,
				u,
				s,
				a,
				() => {
					const e = {
						hideOption: void 0,
						sourceLang: i.websiteLanguage,
						domainName: i.hostname,
						uiLocation: BS(P.fptHideModal),
					};
					switch (u) {
						case 'website':
							Sg(s, (r.blacklistDomains = [...r.blacklistDomains, i.hostname]), r), (e.hideOption = x);
							break;
						case 'lang':
							(n = i.websiteLanguage),
								(o = c),
								'EN' === n
									? (Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'EN-GB': o,
											}),
											r,
									  ),
									  Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'EN-US': o,
											}),
											r,
									  ))
									: 'PT' === n
									? (Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'PT-PT': o,
											}),
											r,
									  ),
									  Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'PT-BR': o,
											}),
											r,
									  ))
									: 'ZH' === n
									? (Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'ZH-CN': o,
											}),
											r,
									  ),
									  Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												'ZH-HANT': o,
											}),
											r,
									  ))
									: Sg(
											s,
											(r.languagesForTranslation = {
												...r.languagesForTranslation,
												[n]: o,
											}),
											r,
									  ),
								(e.hideOption = T);
							break;
						default:
							(e.hideOption = C),
								s.set({
									enableFullPageTranslation: !1,
								});
					}
					var n, o;
					t({
						action: 'dlSendNotification',
						payload: {
							type: N.fullPageTranslation,
							options: {
								theme: D.green_theme,
							},
						},
					}),
						t({
							action: 'dlTrackFptHide',
							payload: e,
						}),
						l();
				},
				l,
				function () {
					(u = this.__value), o(1, u);
				},
				[[]],
				function () {
					(u = this.__value), o(1, u);
				},
				function () {
					(u = this.__value), o(1, u);
				},
			]
		);
	}
	class Vk extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, Gk, qk, gg, {
					onClose: 5,
					onCancel: 0,
				});
		}
	}
	function Yk(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Kk(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Zk(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Xk(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Jk(e, t, n) {
		const o = e.slice();
		return (o[17] = t[n]), o;
	}
	function Qk(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p = chrome.i18n.getMessage('ui_fpt_hide_checkbox') + '';
		t = new Dk({
			props: {
				onClose: e[0],
				$$slots: {
					default: [cL],
				},
				$$scope: {
					ctx: e,
				},
			},
		});
		let m = e[6] && dL(e);
		return {
			c() {
				jh(t.$$.fragment),
					(n = Bg()),
					m && m.c(),
					(o = Bg()),
					(i = zg('div')),
					(r = zg('label')),
					(s = zg('input')),
					(a = Bg()),
					(l = Hg(p)),
					Gg(s, 'type', 'checkbox'),
					(s.disabled = e[6]),
					Gg(s, 'class', 'svelte-6tzge'),
					Gg(r, 'class', 'svelte-6tzge'),
					Gg(i, 'class', 'footer svelte-6tzge'),
					Qg(i, 'hasError', e[6]);
			},
			m(p, g) {
				qh(t, p, g),
					Ng(p, n, g),
					m && m.m(p, g),
					Ng(p, o, g),
					Ng(p, i, g),
					Ag(i, r),
					Ag(r, s),
					Ag(r, a),
					Ag(r, l),
					(c = !0),
					d || ((u = Wg(r, 'click', e[15])), (d = !0));
			},
			p(e, n) {
				const r = {};
				1 & n && (r.onClose = e[0]),
					268435476 & n &&
						(r.$$scope = {
							dirty: n,
							ctx: e,
						}),
					t.$set(r),
					e[6]
						? m
							? (m.p(e, n), 64 & n && Dh(m, 1))
							: ((m = dL(e)), m.c(), Dh(m, 1), m.m(o.parentNode, o))
						: m &&
						  (Oh(),
						  Ph(m, 1, 1, () => {
								m = null;
						  }),
						  Nh()),
					(!c || 64 & n) && (s.disabled = e[6]),
					(!c || 64 & n) && Qg(i, 'hasError', e[6]);
			},
			i(e) {
				c || (Dh(t.$$.fragment, e), Dh(m), (c = !0));
			},
			o(e) {
				Ph(t.$$.fragment, e), Ph(m), (c = !1);
			},
			d(e) {
				e && (Dg(n), Dg(o), Dg(i)), Gh(t, e), m && m.d(e), (d = !1), u();
			},
		};
	}
	function eL(e) {
		let t, n, o, i;
		return (
			(t = new Dk({
				props: {
					onClose: e[0],
				},
			})),
			(o = new Vk({
				props: {
					onClose: e[0],
					onCancel: e[13],
				},
			})),
			{
				c() {
					jh(t.$$.fragment), (n = Bg()), jh(o.$$.fragment);
				},
				m(e, r) {
					qh(t, e, r), Ng(e, n, r), qh(o, e, r), (i = !0);
				},
				p(e, n) {
					const i = {};
					1 & n && (i.onClose = e[0]), t.$set(i);
					const r = {};
					1 & n && (r.onClose = e[0]), 8 & n && (r.onCancel = e[13]), o.$set(r);
				},
				i(e) {
					i || (Dh(t.$$.fragment, e), Dh(o.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), Ph(o.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && Dg(n), Gh(t, e), Gh(o, e);
				},
			}
		);
	}
	function tL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [$L],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435510 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function nL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [AL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435472 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function oL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [RL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435456 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function iL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [OL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435456 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function rL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [NL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435456 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function sL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [DL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435456 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function aL(e) {
		let t, n;
		return (
			(t = new Dk({
				props: {
					$$slots: {
						default: [PL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					268435456 & n &&
						(o.$$scope = {
							dirty: n,
							ctx: e,
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function lL(e) {
		let t;
		return {
			c() {
				(t = zg('span')),
					(t.textContent = `${chrome.i18n.getMessage('ui_fpt_translate_button')}`),
					Gg(t, 'class', 'svelte-6tzge');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function cL(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p;
		return (
			(l = new Tw({
				props: {
					value: e[2].selectedTargetLanguage,
					variant: 'alternate',
					alignRight: !1,
				},
			})),
			l.$on('selection', e[14]),
			(u = new Fk({
				props: {
					className: 'btn-primary',
					paddingX: 'md',
					dataQa: 'dl-button-translate-page',
					$$slots: {
						default: [lL],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			u.$on('click', e[10]),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = Hg(e[4])),
						(i = Bg()),
						(r = zg('div')),
						(s = Bg()),
						(a = zg('div')),
						jh(l.$$.fragment),
						(c = Bg()),
						(d = zg('div')),
						jh(u.$$.fragment),
						Gg(n, 'class', 'website-lang svelte-6tzge'),
						Gg(r, 'class', 'translate-to-arrow svelte-6tzge'),
						Gg(a, 'class', 'language-switch svelte-6tzge'),
						Gg(t, 'class', 'language-selection svelte-6tzge'),
						Gg(t, 'dir', Ot()),
						Gg(d, 'class', 'translate-button svelte-6tzge');
				},
				m(e, m) {
					Ng(e, t, m),
						Ag(t, n),
						Ag(n, o),
						Ag(t, i),
						Ag(t, r),
						Ag(t, s),
						Ag(t, a),
						qh(l, a, null),
						Ng(e, c, m),
						Ng(e, d, m),
						qh(u, d, null),
						(p = !0);
				},
				p(e, t) {
					(!p || 16 & t) && Vg(o, e[4]);
					const n = {};
					4 & t && (n.value = e[2].selectedTargetLanguage), l.$set(n);
					const i = {};
					268435456 & t &&
						(i.$$scope = {
							dirty: t,
							ctx: e,
						}),
						u.$set(i);
				},
				i(e) {
					p || (Dh(l.$$.fragment, e), Dh(u.$$.fragment, e), (p = !0));
				},
				o(e) {
					Ph(l.$$.fragment, e), Ph(u.$$.fragment, e), (p = !1);
				},
				d(e) {
					e && (Dg(t), Dg(c), Dg(d)), Gh(l), Gh(u);
				},
			}
		);
	}
	function dL(e) {
		let t, n, o;
		return (
			(n = new wy({
				props: {
					error: e[1].error,
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'error-container svelte-6tzge');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					2 & t && (o.error = e[1].error), n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function uL(e) {
		let t,
			n = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_language', e[4]), ['strong'])),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = hL(Kk(e, n, t));
		return {
			c() {
				for (let e = 0; e < o.length; e += 1) o[e].c();
				t = Fg();
			},
			m(e, n) {
				for (let t = 0; t < o.length; t += 1) o[t] && o[t].m(e, n);
				Ng(e, t, n);
			},
			p(e, i) {
				if (16 & i) {
					let r;
					for (
						n = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_language', e[4]), ['strong'])), r = 0;
						r < n.length;
						r += 1
					) {
						const s = Kk(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = hL(s)), o[r].c(), o[r].m(t.parentNode, t));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function pL(e) {
		let t;
		function n(e, t) {
			return e[5] ? _L : fL;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function mL(e) {
		let t,
			n = e[17].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				16 & o && n !== (n = e[17].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function gL(e) {
		let t,
			n,
			o = e[17].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o)), Gg(t, 'class', 'svelte-6tzge');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				16 & t && o !== (o = e[17].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function hL(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[17].block ? gL : mL;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function fL(e) {
		let t,
			n = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_website', e[1].hostname), ['strong'])),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = wL(Zk(e, n, t));
		return {
			c() {
				for (let e = 0; e < o.length; e += 1) o[e].c();
				t = Fg();
			},
			m(e, n) {
				for (let t = 0; t < o.length; t += 1) o[t] && o[t].m(e, n);
				Ng(e, t, n);
			},
			p(e, i) {
				if (2 & i) {
					let r;
					for (
						n = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_website', e[1].hostname), ['strong'])),
							r = 0;
						r < n.length;
						r += 1
					) {
						const s = Zk(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = wL(s)), o[r].c(), o[r].m(t.parentNode, t));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function _L(e) {
		let t,
			n = Fh(
				Of(chrome.i18n.getMessage('ui_notice_no_translate_website_and_language', [e[1].hostname, e[4]]), [
					'strong',
				]),
			),
			o = [];
		for (let t = 0; t < n.length; t += 1) o[t] = SL(Xk(e, n, t));
		return {
			c() {
				for (let e = 0; e < o.length; e += 1) o[e].c();
				t = Fg();
			},
			m(e, n) {
				for (let t = 0; t < o.length; t += 1) o[t] && o[t].m(e, n);
				Ng(e, t, n);
			},
			p(e, i) {
				if (18 & i) {
					let r;
					for (
						n = Fh(
							Of(
								chrome.i18n.getMessage('ui_notice_no_translate_website_and_language', [e[1].hostname, e[4]]),
								['strong'],
							),
						),
							r = 0;
						r < n.length;
						r += 1
					) {
						const s = Xk(e, n, r);
						o[r] ? o[r].p(s, i) : ((o[r] = SL(s)), o[r].c(), o[r].m(t.parentNode, t));
					}
					for (; r < o.length; r += 1) o[r].d(1);
					o.length = n.length;
				}
			},
			d(e) {
				e && Dg(t), Pg(o, e);
			},
		};
	}
	function vL(e) {
		let t,
			n = e[17].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				2 & o && n !== (n = e[17].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function yL(e) {
		let t,
			n,
			o = e[17].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o)), Gg(t, 'class', 'svelte-6tzge');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				2 & t && o !== (o = e[17].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function wL(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[17].block ? yL : vL;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function bL(e) {
		let t,
			n = e[17].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				18 & o && n !== (n = e[17].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function EL(e) {
		let t,
			n,
			o = e[17].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o)), Gg(t, 'class', 'svelte-6tzge');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				18 & t && o !== (o = e[17].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function SL(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[17].block ? EL : bL;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function xL(e) {
		let t,
			n = e[17].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function TL(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('span')), (t.textContent = `${e[17].text}`), Gg(t, 'class', 'link svelte-6tzge');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[9])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function CL(e) {
		let t;
		let n = (function (e, t) {
				return 'settingsLink' === e[17].block ? TL : xL;
			})(e),
			o = n(e);
		return {
			c() {
				o.c(), (t = Fg());
			},
			m(e, n) {
				o.m(e, n), Ng(e, t, n);
			},
			p(e, t) {
				o.p(e, t);
			},
			d(e) {
				e && Dg(t), o.d(e);
			},
		};
	}
	function $L(e) {
		let t, n, o, i, r;
		function s(e, t) {
			return (
				6 & t && (o = null),
				null == o && (o = !!e[2].blacklistDomains.includes(e[1].hostname)),
				o ? pL : e[5] ? uL : void 0
			);
		}
		let a = s(e, -1),
			l = a && a(e),
			c = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_change_option'), ['settingsLink'])),
			d = [];
		for (let t = 0; t < c.length; t += 1) d[t] = CL(Yk(e, c, t));
		return {
			c() {
				(t = zg('div')), (n = zg('p')), l && l.c(), (i = Bg()), (r = zg('p'));
				for (let e = 0; e < d.length; e += 1) d[e].c();
				Gg(n, 'class', 'svelte-6tzge'), Gg(r, 'class', 'svelte-6tzge');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n), l && l.m(n, null), Ag(t, i), Ag(t, r);
				for (let e = 0; e < d.length; e += 1) d[e] && d[e].m(r, null);
			},
			p(e, t) {
				if (
					(a === (a = s(e, t)) && l ? l.p(e, t) : (l && l.d(1), (l = a && a(e)), l && (l.c(), l.m(n, null))),
					512 & t)
				) {
					let n;
					for (
						c = Fh(Of(chrome.i18n.getMessage('ui_notice_no_translate_change_option'), ['settingsLink'])),
							n = 0;
						n < c.length;
						n += 1
					) {
						const o = Yk(e, c, n);
						d[n] ? d[n].p(o, t) : ((d[n] = CL(o)), d[n].c(), d[n].m(r, null));
					}
					for (; n < d.length; n += 1) d[n].d(1);
					d.length = c.length;
				}
			},
			d(e) {
				e && Dg(t), l && l.d(), Pg(d, e);
			},
		};
	}
	function kL(e) {
		let t,
			n = e[17].text + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p(e, o) {
				16 & o && n !== (n = e[17].text + '') && Vg(t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function LL(e) {
		let t,
			n,
			o = e[17].text + '';
		return {
			c() {
				(t = zg('strong')), (n = Hg(o)), Gg(t, 'class', 'svelte-6tzge');
			},
			m(e, o) {
				Ng(e, t, o), Ag(t, n);
			},
			p(e, t) {
				16 & t && o !== (o = e[17].text + '') && Vg(n, o);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function IL(e) {
		let t;
		function n(e, t) {
			return 'strong' === e[17].block ? LL : kL;
		}
		let o = n(e),
			i = o(e);
		return {
			c() {
				i.c(), (t = Fg());
			},
			m(e, n) {
				i.m(e, n), Ng(e, t, n);
			},
			p(e, r) {
				o === (o = n(e)) && i ? i.p(e, r) : (i.d(1), (i = o(e)), i && (i.c(), i.m(t.parentNode, t)));
			},
			d(e) {
				e && Dg(t), i.d(e);
			},
		};
	}
	function ML(e) {
		let t,
			n = chrome.i18n.getMessage('full_page_translation_show_original') + '';
		return {
			c() {
				t = Hg(n);
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function AL(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = Fh(Of(chrome.i18n.getMessage('ui_translated_automatically', e[4]), ['strong'])),
			l = [];
		for (let t = 0; t < a.length; t += 1) l[t] = IL(Jk(e, a, t));
		return (
			(r = new Fk({
				props: {
					className: 'button-reload',
					$$slots: {
						default: [ML],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			r.$on('click', e[11]),
			{
				c() {
					(t = zg('div')), (n = zg('p'));
					for (let e = 0; e < l.length; e += 1) l[e].c();
					(o = Bg()),
						(i = zg('p')),
						jh(r.$$.fragment),
						Gg(n, 'class', 'mb-none svelte-6tzge'),
						Gg(i, 'class', 'svelte-6tzge');
				},
				m(e, a) {
					Ng(e, t, a), Ag(t, n);
					for (let e = 0; e < l.length; e += 1) l[e] && l[e].m(n, null);
					Ag(t, o), Ag(t, i), qh(r, i, null), (s = !0);
				},
				p(e, t) {
					if (16 & t) {
						let o;
						for (
							a = Fh(Of(chrome.i18n.getMessage('ui_translated_automatically', e[4]), ['strong'])), o = 0;
							o < a.length;
							o += 1
						) {
							const i = Jk(e, a, o);
							l[o] ? l[o].p(i, t) : ((l[o] = IL(i)), l[o].c(), l[o].m(n, null));
						}
						for (; o < l.length; o += 1) l[o].d(1);
						l.length = a.length;
					}
					const o = {};
					268435456 & t &&
						(o.$$scope = {
							dirty: t,
							ctx: e,
						}),
						r.$set(o);
				},
				i(e) {
					s || (Dh(r.$$.fragment, e), (s = !0));
				},
				o(e) {
					Ph(r.$$.fragment, e), (s = !1);
				},
				d(e) {
					e && Dg(t), Pg(l, e), Gh(r);
				},
			}
		);
	}
	function RL(e) {
		let t;
		return {
			c() {
				(t = zg('p')),
					(t.textContent = `${chrome.i18n.getMessage('full_page_translation_ongoing_translation')}`),
					Gg(t, 'class', 'translation-in-progress svelte-6tzge');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function OL(e) {
		let t;
		return {
			c() {
				(t = zg('p')),
					(t.textContent = `${chrome.i18n.getMessage('full_page_translation_auto_detect_lang')}`),
					Gg(t, 'class', 'translation-in-progress svelte-6tzge');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function NL(e) {
		let t, n;
		return (
			(t = new Uk({
				props: {
					message: chrome.i18n.getMessage('full_page_translation_info_google_translate'),
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function DL(e) {
		let t, n;
		return (
			(t = new Uk({
				props: {
					message: chrome.i18n.getMessage('full_page_translation_no_website_data'),
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function PL(e) {
		let t, n, o;
		return (
			(n = new EE({})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'translation-in-progress svelte-6tzge');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function zL(e) {
		let t, n, o, i, r, s;
		const a = [aL, sL, rL, iL, oL, nL, tL, eL, Qk],
			l = [];
		function c(e, t) {
			return (
				2 & t && (n = null),
				38 & t && (o = null),
				null == e[1]
					? 0
					: (null == n && (n = !(0 !== Object.keys(e[1]).length)),
					  n
							? 1
							: e[1].isGoogleTranslatedActive
							? 2
							: e[1].translationState === d.ongoingAutoDetection
							? 3
							: e[1].translationState === d.ongoingTranslation
							? 4
							: e[1].translationState === d.isTranslationComplete
							? 5
							: (null == o && (o = !(!e[2].blacklistDomains.includes(e[1].hostname) && !e[5])),
							  o ? 6 : e[3] ? 7 : e[1].websiteLanguage ? 8 : -1))
			);
		}
		return (
			~(i = c(e, -1)) && (r = l[i] = a[i](e)),
			{
				c() {
					(t = zg('div')), r && r.c(), Gg(t, 'class', 'full-page-translation svelte-6tzge');
				},
				m(e, n) {
					Ng(e, t, n), ~i && l[i].m(t, null), (s = !0);
				},
				p(e, [n]) {
					let o = i;
					(i = c(e, n)),
						i === o
							? ~i && l[i].p(e, n)
							: (r &&
									(Oh(),
									Ph(l[o], 1, 1, () => {
										l[o] = null;
									}),
									Nh()),
							  ~i
									? ((r = l[i]), r ? r.p(e, n) : ((r = l[i] = a[i](e)), r.c()), Dh(r, 1), r.m(t, null))
									: (r = null));
				},
				i(e) {
					s || (Dh(r), (s = !0));
				},
				o(e) {
					Ph(r), (s = !1);
				},
				d(e) {
					e && Dg(t), ~i && l[i].d();
				},
			}
		);
	}
	function UL(e, n, o) {
		let i, r, s, a;
		const l = gh('deepl_settings');
		fg(e, l, (e) => o(2, (a = e)));
		const u = gh('deepl_website_settings');
		fg(e, u, (e) => o(1, (s = e)));
		let p = E,
			{ onClose: m } = n;
		let g,
			f,
			_ = !1;
		return (
			(e.$$set = (e) => {
				'onClose' in e && o(0, (m = e.onClose));
			}),
			(e.$$.update = () => {
				2 & e.$$.dirty && o(6, (i = s && s.error)),
					6 & e.$$.dirty && o(5, (r = Mt(s.websiteLanguage, a.languagesForTranslation, c))),
					2 & e.$$.dirty &&
						s &&
						(s.isSupportedLanguage
							? o(4, (g = chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)))
							: o(4, (g = chrome.i18n.getMessage('supported_languages_EN')))),
					4098 & e.$$.dirty &&
						s &&
						s.hostname &&
						s.hostname !== f &&
						(o(12, (f = s.hostname)),
						t({
							action: 'dlTrackExtensionOpenedEvent',
							payload: {
								domainName: f,
								extensionContext: p,
							},
						}));
			}),
			[
				m,
				s,
				a,
				_,
				g,
				r,
				i,
				l,
				u,
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: SE.settings_page,
						},
					});
				},
				function () {
					0 == a.isTargetLanguageConfirmed &&
						l.set({
							isTargetLanguageConfirmed: !0,
						}),
						vN(s.websiteLanguage, h);
				},
				() => {
					u.update({
						translationState: d.showOriginal,
					});
				},
				f,
				() => {
					o(3, (_ = !1));
				},
				(e) =>
					l.set({
						selectedTargetLanguage: e.detail.selectedOption.value,
						isTargetLanguageConfirmed: !0,
						regionalVariant: e.detail.selectedOption.regionalVariant,
					}),
				() => {
					i || o(3, (_ = !_));
				},
			]
		);
	}
	class HL extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, UL, zL, gg, {
					onClose: 0,
				});
		}
	}
	function BL(e) {
		let t, n, o;
		return (
			(n = new HL({
				props: {
					onClose: e[0],
				},
			})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', 'app-popup svelte-1x9ra34'),
						Gg(t, 'style', `z-index: ${e[2].z_index}`),
						Gg(t, 'dir', Ot());
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					1 & t && (o.onClose = e[0]), n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function FL(e) {
		let t,
			n,
			o = e[3]() && e[1] && e[1].isValidUrlForPopup,
			i = o && BL(e);
		return {
			c() {
				i && i.c(), (t = Fg());
			},
			m(e, o) {
				i && i.m(e, o), Ng(e, t, o), (n = !0);
			},
			p(e, [n]) {
				2 & n && (o = e[3]() && e[1] && e[1].isValidUrlForPopup),
					o
						? i
							? (i.p(e, n), 2 & n && Dh(i, 1))
							: ((i = BL(e)), i.c(), Dh(i, 1), i.m(t.parentNode, t))
						: i &&
						  (Oh(),
						  Ph(i, 1, 1, () => {
								i = null;
						  }),
						  Nh());
			},
			i(e) {
				n || (Dh(i), (n = !0));
			},
			o(e) {
				Ph(i), (n = !1);
			},
			d(e) {
				e && Dg(t), i && i.d(e);
			},
		};
	}
	function WL(e, t, n) {
		let o, i;
		fg(e, Xh, (e) => n(4, (o = e))),
			fg(e, pw, (e) => n(1, (i = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let { onClose: r } = t;
		const { deepl_inline_ui: s } = O;
		return (
			(e.$$set = (e) => {
				'onClose' in e && n(0, (r = e.onClose));
			}),
			[
				r,
				i,
				s,
				function () {
					return Ye(o, _e.TRANSLATOR);
				},
			]
		);
	}
	class jL extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, WL, FL, gg, {
					onClose: 0,
				});
		}
	}
	class qL {
		static HTML_TAG_NAME = 'deepl-page-load-popup';
		static createElement = (e = document) => {
			const t = e.createElement(qL.HTML_TAG_NAME),
				n = new qL(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			this.domElement.mainComponent = new jL({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.cleanupDOM,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function GL(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('span')),
					Gg(n, 'class', 'svelte-19tdlik'),
					Gg(
						t,
						'aria-label',
						e[3] ? chrome.i18n.getMessage('toggle_off') : chrome.i18n.getMessage('toggle_on'),
					),
					Gg(t, 'class', 'switch svelte-19tdlik'),
					Gg(t, 'data-testid', 'deepl-switch'),
					Gg(t, 'data-qa', e[2]),
					Qg(t, 'checked', e[0]),
					Qg(t, 'disabled', e[1]);
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[3])), (o = !0));
			},
			p(e, [n]) {
				4 & n && Gg(t, 'data-qa', e[2]), 1 & n && Qg(t, 'checked', e[0]), 2 & n && Qg(t, 'disabled', e[1]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function VL(e, t, n) {
		let { checked: o = !1 } = t,
			{ disabled: i = !1 } = t,
			{ qaRoot: r = 'dl-switch' } = t;
		const s = ph();
		return (
			(e.$$set = (e) => {
				'checked' in e && n(0, (o = e.checked)),
					'disabled' in e && n(1, (i = e.disabled)),
					'qaRoot' in e && n(2, (r = e.qaRoot));
			}),
			[
				o,
				i,
				r,
				function () {
					i ||
						s('change', {
							checked: !o,
						});
				},
			]
		);
	}
	class YL extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, VL, GL, gg, {
					checked: 0,
					disabled: 1,
					qaRoot: 2,
				});
		}
	}
	function KL(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = e[1] && ZL();
		return (
			(a = new YL({
				props: {
					checked: e[3].isGDocsEnabled,
				},
			})),
			a.$on('change', e[8]),
			{
				c() {
					(t = zg('div')),
						u && u.c(),
						(n = Bg()),
						(o = zg('div')),
						(i = zg('div')),
						(i.textContent = `${chrome.i18n.getMessage('ui_gdocs_setting_switch')}`),
						(r = Bg()),
						(s = zg('div')),
						jh(a.$$.fragment),
						Gg(i, 'class', 'legend'),
						Gg(s, 'class', 'switch svelte-8jz3zx'),
						Gg(o, 'class', 'turn-on-off-panel svelte-8jz3zx'),
						Gg(t, 'class', 'dl-gdocs-top-icon-modal svelte-8jz3zx'),
						Kg(t, 'left', e[2] + 'px'),
						Gg(t, 'dir', Ot());
				},
				m(p, m) {
					Ng(p, t, m),
						u && u.m(t, null),
						Ag(t, n),
						Ag(t, o),
						Ag(o, i),
						Ag(o, r),
						Ag(o, s),
						qh(a, s, null),
						(l = !0),
						c ||
							((d = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[9]),
							]),
							(c = !0));
				},
				p(e, o) {
					e[1] ? (u ? u.p(e, o) : ((u = ZL()), u.c(), u.m(t, n))) : u && (u.d(1), (u = null));
					const i = {};
					8 & o && (i.checked = e[3].isGDocsEnabled), a.$set(i), (!l || 4 & o) && Kg(t, 'left', e[2] + 'px');
				},
				i(e) {
					l || (Dh(a.$$.fragment, e), (l = !0));
				},
				o(e) {
					Ph(a.$$.fragment, e), (l = !1);
				},
				d(e) {
					e && Dg(t), u && u.d(), Gh(a), (c = !1), pg(d);
				},
			}
		);
	}
	function ZL(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = chrome.i18n.getMessage('ui_gdocs_welcome_usp1') + '',
			p = chrome.i18n.getMessage('ui_gdocs_welcome_usp2') + '',
			m = chrome.i18n.getMessage('ui_gdocs_welcome_usp3') + '';
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('p')),
					(o.textContent = `${chrome.i18n.getMessage('ui_gdocs_welcome_title')}`),
					(i = Bg()),
					(r = zg('div')),
					(s = zg('div')),
					(a = Bg()),
					(l = zg('div')),
					(c = Bg()),
					(d = zg('div')),
					Gg(o, 'class', 'svelte-8jz3zx'),
					Gg(n, 'class', 'header svelte-8jz3zx'),
					Gg(s, 'class', 'ups-item svelte-8jz3zx'),
					Gg(l, 'class', 'ups-item svelte-8jz3zx'),
					Gg(d, 'class', 'ups-item svelte-8jz3zx'),
					Gg(r, 'class', 'ups-list'),
					Gg(t, 'class', 'onboarding svelte-8jz3zx');
			},
			m(e, g) {
				Ng(e, t, g),
					Ag(t, n),
					Ag(n, o),
					Ag(t, i),
					Ag(t, r),
					Ag(r, s),
					(s.innerHTML = u),
					Ag(r, a),
					Ag(r, l),
					(l.innerHTML = p),
					Ag(r, c),
					Ag(r, d),
					(d.innerHTML = m);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function XL(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[0] && KL(e);
		return {
			c() {
				(t = zg('button')),
					(n = Bg()),
					a && a.c(),
					(o = Fg()),
					Gg(t, 'class', 'dl-gdocs-top-icon svelte-8jz3zx'),
					Kg(t, 'left', e[2] + 'px'),
					Qg(t, 'onboarding-pending', !e[3].isGDocsOnboardingShown);
			},
			m(l, c) {
				Ng(l, t, c),
					Ng(l, n, c),
					a && a.m(l, c),
					Ng(l, o, c),
					(i = !0),
					r || ((s = Wg(t, 'click', e[7])), (r = !0));
			},
			p(e, [n]) {
				(!i || 4 & n) && Kg(t, 'left', e[2] + 'px'),
					(!i || 8 & n) && Qg(t, 'onboarding-pending', !e[3].isGDocsOnboardingShown),
					e[0]
						? a
							? (a.p(e, n), 1 & n && Dh(a, 1))
							: ((a = KL(e)), a.c(), Dh(a, 1), a.m(o.parentNode, o))
						: a &&
						  (Oh(),
						  Ph(a, 1, 1, () => {
								a = null;
						  }),
						  Nh());
			},
			i(e) {
				i || (Dh(a), (i = !0));
			},
			o(e) {
				Ph(a), (i = !1);
			},
			d(e) {
				e && (Dg(t), Dg(n), Dg(o)), a && a.d(e), (r = !1), s();
			},
		};
	}
	function JL(e, n, o) {
		let i;
		const r = gh('deepl_settings');
		fg(e, r, (e) => o(3, (i = e)));
		let s,
			{ registerTopToolbarIconCallbacks: a } = n,
			{ clearTopToolbarIconCallbacks: l } = n,
			c = !1,
			d = !1;
		const u = () => {
			const e = document.querySelector('.docs-titlebar-buttons #docs-presence-container'),
				t = null != document.querySelector('.docs-titlebar-buttons-rtl');
			if (e) {
				const n = e.getBoundingClientRect();
				o(2, (s = t ? o(2, (s = n.left + 40 - 32)) : n.left - 40));
			}
		};
		dh(() => {
			u(),
				a({
					repositionTopToolbarIcon: u,
				});
		}),
			uh(() => {
				l();
			});
		return (
			(e.$$set = (e) => {
				'registerTopToolbarIconCallbacks' in e && o(5, (a = e.registerTopToolbarIconCallbacks)),
					'clearTopToolbarIconCallbacks' in e && o(6, (l = e.clearTopToolbarIconCallbacks));
			}),
			(e.$$.update = () => {
				3 & e.$$.dirty &&
					c &&
					d &&
					t({
						action: 'dlTrackOnboardingModalShown',
						payload: {
							nicheIntegration: ne.gdocs,
						},
					});
			}),
			[
				c,
				d,
				s,
				i,
				r,
				a,
				l,
				() => {
					o(0, (c = !0)),
						i.isGDocsOnboardingShown || (Sg(r, (i.isGDocsOnboardingShown = !0), i), o(1, (d = !0)));
				},
				(e) => Sg(r, (i.isGDocsEnabled = e.detail.checked), i),
				() => {
					o(1, (d = !1)), o(0, (c = !1));
				},
			]
		);
	}
	class QL extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, JL, XL, gg, {
					registerTopToolbarIconCallbacks: 5,
					clearTopToolbarIconCallbacks: 6,
				});
		}
	}
	function eI(e) {
		let t, n, o, i, r, s, a, l, c, d, u;
		o = new u_({
			props: {
				tooltip: e[4],
				showProShield: Ye(e[0], _e.TRANSLATOR),
				zIndex: '10000000000',
				$$slots: {
					default: [tI],
				},
				$$scope: {
					ctx: e,
				},
			},
		});
		let p = e[3] && nI(e);
		return (
			(a = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('ui_gdocs_turn_off'),
					zIndex: '10000000000',
					$$slots: {
						default: [iI],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('button')),
						jh(o.$$.fragment),
						(i = Bg()),
						p && p.c(),
						(r = Bg()),
						(s = zg('button')),
						jh(a.$$.fragment),
						Gg(n, 'class', 'dl-icon-circle dl-icon svelte-fyt1eq'),
						Gg(s, 'class', 'dl-icon-circle dl-on-off-icon svelte-fyt1eq'),
						Gg(s, 'data-qa', 'deepl-inline-translate-menu-icon'),
						Gg(t, 'class', 'dl-gdocs-icon svelte-fyt1eq'),
						Kg(t, 'top', e[5].top),
						Kg(t, 'left', e[5].left),
						Gg(t, 'dir', Ot()),
						Qg(t, 'has-deepl-write', e[3]);
				},
				m(l, m) {
					Ng(l, t, m),
						Ag(t, n),
						qh(o, n, null),
						Ag(t, i),
						p && p.m(t, null),
						Ag(t, r),
						Ag(t, s),
						qh(a, s, null),
						(c = !0),
						d ||
							((u = [
								Wg(n, 'click', e[7]),
								Wg(n, 'mouseenter', e[25]),
								Wg(s, 'click', e[10]),
								Wg(s, 'mouseenter', e[28]),
							]),
							(d = !0));
				},
				p(e, n) {
					const i = {};
					16 & n[0] && (i.tooltip = e[4]),
						1 & n[0] && (i.showProShield = Ye(e[0], _e.TRANSLATOR)),
						33554432 & n[1] &&
							(i.$$scope = {
								dirty: n,
								ctx: e,
							}),
						o.$set(i),
						e[3]
							? p
								? (p.p(e, n), 8 & n[0] && Dh(p, 1))
								: ((p = nI(e)), p.c(), Dh(p, 1), p.m(t, r))
							: p &&
							  (Oh(),
							  Ph(p, 1, 1, () => {
									p = null;
							  }),
							  Nh());
					const s = {};
					33554432 & n[1] &&
						(s.$$scope = {
							dirty: n,
							ctx: e,
						}),
						a.$set(s),
						(!c || 32 & n[0]) && Kg(t, 'top', e[5].top),
						(!c || 32 & n[0]) && Kg(t, 'left', e[5].left),
						(!c || 8 & n[0]) && Qg(t, 'has-deepl-write', e[3]);
				},
				i(e) {
					c ||
						(Dh(o.$$.fragment, e),
						Dh(p),
						Dh(a.$$.fragment, e),
						l ||
							Sh(() => {
								(l = Uh(t, Lf, {
									x: -5,
									duration: 300,
								})),
									l.start();
							}),
						(c = !0));
				},
				o(e) {
					Ph(o.$$.fragment, e), Ph(p), Ph(a.$$.fragment, e), (c = !1);
				},
				d(e) {
					e && Dg(t), Gh(o), p && p.d(), Gh(a), (d = !1), pg(u);
				},
			}
		);
	}
	function tI(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-fyt1eq');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function nI(e) {
		let t, n, o, i, r;
		return (
			(n = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('ui_gdocs_deepl_write'),
					showProShield: Ye(e[0], _e.WRITE),
					zIndex: '10000000000',
					$$slots: {
						default: [oI],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('button')), jh(n.$$.fragment), Gg(t, 'class', 'dl-icon-circle dl-write-icon svelte-fyt1eq');
				},
				m(s, a) {
					Ng(s, t, a),
						qh(n, t, null),
						(o = !0),
						i || ((r = [Wg(t, 'click', e[26]), Wg(t, 'mouseenter', e[27])]), (i = !0));
				},
				p(e, t) {
					const o = {};
					1 & t[0] && (o.showProShield = Ye(e[0], _e.WRITE)),
						33554432 & t[1] &&
							(o.$$scope = {
								dirty: t,
								ctx: e,
							}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), (i = !1), pg(r);
				},
			}
		);
	}
	function oI(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-fyt1eq');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function iI(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-fyt1eq');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function rI(e) {
		let t, n, o, i;
		t = new QL({
			props: {
				registerTopToolbarIconCallbacks: e[11],
				clearTopToolbarIconCallbacks: e[12],
			},
		});
		let r = e[6] && !e[1] && !e[2] && eI(e);
		return {
			c() {
				jh(t.$$.fragment), (n = Bg()), r && r.c(), (o = Fg());
			},
			m(e, s) {
				qh(t, e, s), Ng(e, n, s), r && r.m(e, s), Ng(e, o, s), (i = !0);
			},
			p(e, t) {
				!e[6] || e[1] || e[2]
					? r &&
					  (Oh(),
					  Ph(r, 1, 1, () => {
							r = null;
					  }),
					  Nh())
					: r
					? (r.p(e, t), 70 & t[0] && Dh(r, 1))
					: ((r = eI(e)), r.c(), Dh(r, 1), r.m(o.parentNode, o));
			},
			i(e) {
				i || (Dh(t.$$.fragment, e), Dh(r), (i = !0));
			},
			o(e) {
				Ph(t.$$.fragment, e), Ph(r), (i = !1);
			},
			d(e) {
				e && (Dg(n), Dg(o)), Gh(t, e), r && r.d(e);
			},
		};
	}
	function sI(e, n, o) {
		let i, r;
		fg(e, Xh, (e) => o(0, (r = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let s,
			a,
			l,
			c,
			d,
			u,
			p,
			{ replaceData: m } = n,
			{ contentProcessBuildingBlocks: g } = n,
			{
				deeplWriteTrackingData: h = {
					lang: '',
					sourceLength: 0,
					targetLength: 0,
					nicheIntegration: ne.gdocs,
					error: '',
				},
			} = n,
			f = !0,
			_ = !1,
			v = '',
			y = '',
			w = !1,
			b = '',
			E = {
				top: 0,
				left: 0,
			};
		async function S(e, n, o) {
			if ('dlTriggerTranslationShortcut' === e.action)
				T(),
					t({
						action: 'dlTrackUseOfShortcut',
						payload: {
							shortcutType: z,
							location: P.inlineTranslationTriggerIcon,
							nicheIntegration: ne.gdocs,
						},
					}),
					o();
		}
		const x = (e) => {
				(c = oe.translate), e && (d = e), ct();
			},
			T = () => {
				x(r.selectedTargetLanguage);
			},
			C = () => {
				(c = oe.write), ct();
			},
			$ = () => {
				const {
					shouldBeOutOfViewport: e,
					newPosition: { left: t, top: n },
				} = pt();
				e !== _ && o(2, (_ = e)),
					o(5, (E.left = `${Math.round(t)}px`), E),
					o(5, (E.top = `${Math.round(n)}px`), E);
			};
		function k(e) {
			t({
				action: 'dlTrackIconHover',
				payload: {
					uiLocation: e,
					domainName: window.location.host,
					nicheIntegration: ne.gdocs,
				},
			});
		}
		const L = () => {
				s = setInterval(() => {
					const e = dt(),
						n = !e.text;
					!n && f && $(),
						n &&
							!f &&
							(() => {
								if (!r.isInlineHighlighterShown) {
									Xh.set({
										isInlineHighlighterShown: !0,
									});
									try {
										t({
											action: 'dltrackCloseInlineHighlighter',
											payload: {
												trigger: te.outside_click,
											},
										});
									} catch (e) {
										console.error(e);
									}
								}
							})(),
						o(1, (f = n)),
						v !== e.text && o(23, (v = e.text));
				}, 300);
			},
			I = () => {
				const e = document.querySelector('#docs-instant-bubble');
				l = new MutationObserver(() => {
					$();
				});
				return (
					l.observe(e, {
						attributes: !0,
						childList: !1,
						characterData: !1,
					}),
					() => l.unobserve()
				);
			},
			M = async (e) => {
				if (
					c &&
					('ClipboardEvent' === e.constructor.name || e.constructor.toString().includes('ClipboardEvent'))
				) {
					switch (c) {
						case oe.translate:
							bN({
								event: e,
								targetLang: d,
							});
							break;
						case oe.write:
							EN({
								event: e,
								lang: y,
							});
					}
					c = void 0;
				}
			},
			A = () => {
				L(),
					(() => {
						const e = document.querySelector('#kix-appview');
						(a = new MutationObserver(() => {
							document.querySelector('#docs-instant-bubble') && ($(), I());
						})),
							a.observe(e, {
								attributes: !1,
								childList: !0,
								characterData: !1,
							});
					})(),
					(() => {
						const e = new ResizeObserver(() => {
							$(), u && u();
						});
						e.observe(document.body);
					})(),
					document.querySelector('#kix-appview .kix-appview-editor').addEventListener('scroll', $),
					(() => {
						const { editable: e } = lt();
						e.addEventListener('copy', M);
					})();
			},
			R = () => {
				a && a.disconnect(),
					l && l.disconnect(),
					s && clearInterval(s),
					document.querySelector('#kix-appview .kix-appview-editor').removeEventListener('scroll', $),
					(() => {
						const { editable: e } = lt();
						e.removeEventListener('copy', M);
					})();
			};
		dh(() => {
			A(),
				chrome.runtime.onMessage.addListener(S),
				t({
					action: 'dlCheckCommandShortcuts',
				}).then((e) => o(24, (b = e ? e.filter((e) => e.name == z)[0].shortcut : '')));
		}),
			uh(() => {
				R();
			});
		return (
			(e.$$set = (e) => {
				'replaceData' in e && o(14, (m = e.replaceData)),
					'contentProcessBuildingBlocks' in e && o(13, (g = e.contentProcessBuildingBlocks)),
					'deeplWriteTrackingData' in e && o(15, (h = e.deeplWriteTrackingData));
			}),
			(e.$$.update = () => {
				if (
					(1 & e.$$.dirty[0] && o(6, (i = r && r.isGDocsEnabled)),
					8388608 & e.$$.dirty[0] &&
						(async (e) => {
							const t = await kt(e);
							(y = t), o(3, (w = At(y) && !Ke(r, _e.WRITE)));
						})(v),
					16777216 & e.$$.dirty[0])
				) {
					let e = chrome.i18n.getMessage('ui_gdocs_translate_tooltip_2');
					o(4, (p = b ? `${e} (${b})` : e));
				}
			}),
			[
				r,
				f,
				_,
				w,
				p,
				E,
				i,
				T,
				C,
				k,
				() => {
					Xh.set({
						isGDocsEnabled: !1,
					}),
						t({
							action: 'dlTrackCustomizationEnabledEvent',
							payload: {
								nicheIntegration: ne.gdocs,
								uiLocation: P.inlineTranslationTriggerIcon,
								customizationEnabled: !1,
							},
						});
				},
				(e) => {
					u = e.repositionTopToolbarIcon;
				},
				() => {
					u = void 0;
				},
				g,
				m,
				h,
				(e) => {
					o(13, (g = e));
				},
				() => g,
				() => {
					m && Et(m);
				},
				x,
				() => {
					zN({
						eventType: we,
						...h,
					});
				},
				() => {
					zN({
						eventType: be,
						...h,
					});
				},
				(e) => {
					switch (e) {
						case Me:
							zN({
								eventType: Ee,
								...h,
							});
							break;
						case Ae:
							t({
								action: 'dlTrackGDocsMaxCharExceededTryProClicked',
								payload: {
									sourceLang: h.lang,
									targetLang: h.lang,
									sourceLength: h.sourceLength,
								},
							});
					}
				},
				v,
				b,
				() => k(P.inlineTranslationTriggerIcon),
				() => C(),
				() => k(P.deeplWriteIcon),
				() => k(P.inlineTranslationSettingsIcon),
			]
		);
	}
	class aI extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					sI,
					rI,
					gg,
					{
						replaceData: 14,
						contentProcessBuildingBlocks: 13,
						deeplWriteTrackingData: 15,
						setContentProcessBuildingBlocks: 16,
						getContentProcessBuildingBlocks: 17,
						applyReplacement: 18,
						requestTranslation: 19,
						trackDeeplWriteInsertCopy: 20,
						trackDeeplWriteDiscardCopy: 21,
						trackMaxCharExceeded: 22,
					},
					null,
					[-1, -1],
				);
		}
		get setContentProcessBuildingBlocks() {
			return this.$$.ctx[16];
		}
		get getContentProcessBuildingBlocks() {
			return this.$$.ctx[17];
		}
		get applyReplacement() {
			return this.$$.ctx[18];
		}
		get requestTranslation() {
			return this.$$.ctx[19];
		}
		get trackDeeplWriteInsertCopy() {
			return this.$$.ctx[20];
		}
		get trackDeeplWriteDiscardCopy() {
			return this.$$.ctx[21];
		}
		get trackMaxCharExceeded() {
			return this.$$.ctx[22];
		}
	}
	class lI {
		static HTML_TAG_NAME = 'deepl-gdocs-icon';
		static createElement = (e = document) => {
			const t = e.createElement(lI.HTML_TAG_NAME),
				n = new lI(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.setReplaceData = n.setReplaceData),
				(t.applyReplacement = n.applyReplacement),
				(t.requestNewTranslation = n.requestNewTranslation),
				(t.setDeeplWriteTrackingData = n.setDeeplWriteTrackingData),
				(t.trackDeeplWriteInsertCopy = n.trackDeeplWriteInsertCopy),
				(t.trackDeeplWriteDiscardCopy = n.trackDeeplWriteDiscardCopy),
				(t.trackMaxCharExceeded = n.trackMaxCharExceeded),
				(t.setContentProcessBuildingBlocks = n.setContentProcessBuildingBlocks),
				(t.getContentProcessBuildingBlocks = n.getContentProcessBuildingBlocks),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			this.domElement.mainComponent = new aI({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.domElement.cleanupDOM,
				},
			});
		};
		setReplaceData = (e) => {
			this.domElement.mainComponent.$$set({
				replaceData: e,
			});
		};
		setDeeplWriteTrackingData = (e) => {
			this.domElement.mainComponent.$$set({
				deeplWriteTrackingData: e,
			});
		};
		trackDeeplWriteInsertCopy = () => this.domElement.mainComponent.trackDeeplWriteInsertCopy();
		trackDeeplWriteDiscardCopy = () => this.domElement.mainComponent.trackDeeplWriteDiscardCopy();
		trackMaxCharExceeded = (e) => this.domElement.mainComponent.trackMaxCharExceeded(e);
		applyReplacement = () => {
			this.domElement.mainComponent.applyReplacement();
		};
		requestNewTranslation = (e) => {
			this.domElement.mainComponent.requestTranslation(e);
		};
		setContentProcessBuildingBlocks = (e) => this.domElement.mainComponent.setContentProcessBuildingBlocks(e);
		getContentProcessBuildingBlocks = () => this.domElement.mainComponent.getContentProcessBuildingBlocks();
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function cI(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 16,
					marginStart: 8,
					alternateColor: 'white',
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function dI(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 16,
					marginStart: 8,
					alternateColor: 'white',
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function uI(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = chrome.i18n.getMessage('ui_gslides_write_cta') + '',
			c = Ye(e[4], _e.TRANSLATOR),
			d = c && dI();
		return {
			c() {
				(t = zg('button')),
					(n = Hg(l)),
					(o = Bg()),
					d && d.c(),
					Gg(t, 'class', 'action-button svelte-c2z0h2'),
					(t.disabled = i = !At(e[3]) || Ke(e[4], _e.WRITE));
			},
			m(i, l) {
				Ng(i, t, l),
					Ag(t, n),
					Ag(t, o),
					d && d.m(t, null),
					(r = !0),
					s ||
						((a = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(s = !0));
			},
			p(n, o) {
				(e = n),
					16 & o && (c = Ye(e[4], _e.TRANSLATOR)),
					c
						? d
							? 16 & o && Dh(d, 1)
							: ((d = dI()), d.c(), Dh(d, 1), d.m(t, null))
						: d &&
						  (Oh(),
						  Ph(d, 1, 1, () => {
								d = null;
						  }),
						  Nh()),
					(!r || (24 & o && i !== (i = !At(e[3]) || Ke(e[4], _e.WRITE)))) && (t.disabled = i);
			},
			i(e) {
				r || (Dh(d), (r = !0));
			},
			o(e) {
				Ph(d), (r = !1);
			},
			d(e) {
				e && Dg(t), d && d.d(), (s = !1), a();
			},
		};
	}
	function pI(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E = chrome.i18n.getMessage('ui_gslides_translate_cta') + '',
			S = Ye(e[4], _e.TRANSLATOR);
		(s = new Tw({
			props: {
				disabled: e[2],
				websiteSettings: e[6],
				value: e[3],
				showSortCode: !0,
				showRegionalVariants: !1,
				extraPadding: !0,
			},
		})),
			s.$on('selection', e[10]),
			(u = new Tw({
				props: {
					disabled: e[2],
					websiteSettings: e[6],
					value: e[4].selectedTargetLanguage,
					extraPadding: !0,
				},
			})),
			u.$on('selection', e[11]);
		let x = S && cI();
		return (
			(v = new u_({
				props: {
					tooltip: Ke(e[4], _e.WRITE)
						? chrome.i18n.getMessage('input_translation_tooltip_improve_disabled_by_admin')
						: chrome.i18n.getMessage('input_translation_tooltip_improve_supported_lang'),
					zIndex: '10000000000',
					multiline: !0,
					$$slots: {
						default: [uI],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('p')),
						(o.textContent = `${chrome.i18n.getMessage('ui_gslides_translate_from')}`),
						(i = Bg()),
						(r = zg('div')),
						jh(s.$$.fragment),
						(a = Bg()),
						(l = zg('p')),
						(l.textContent = `${chrome.i18n.getMessage('ui_gslides_translate_into')}`),
						(c = Bg()),
						(d = zg('div')),
						jh(u.$$.fragment),
						(p = Bg()),
						(m = zg('button')),
						(g = Hg(E)),
						(h = Bg()),
						x && x.c(),
						(f = Bg()),
						(_ = zg('div')),
						jh(v.$$.fragment),
						Gg(o, 'class', 'svelte-c2z0h2'),
						Gg(r, 'class', 'dropdown svelte-c2z0h2'),
						Gg(l, 'class', 'svelte-c2z0h2'),
						Gg(d, 'class', 'dropdown svelte-c2z0h2'),
						Gg(m, 'class', 'action-button svelte-c2z0h2'),
						Gg(n, 'class', 'translate-container svelte-c2z0h2'),
						Gg(_, 'class', 'write-container svelte-c2z0h2'),
						Gg(t, 'class', 'dl-gslides-toolbar svelte-c2z0h2');
				},
				m(E, S) {
					Ng(E, t, S),
						Ag(t, n),
						Ag(n, o),
						Ag(n, i),
						Ag(n, r),
						qh(s, r, null),
						Ag(n, a),
						Ag(n, l),
						Ag(n, c),
						Ag(n, d),
						qh(u, d, null),
						Ag(n, p),
						Ag(n, m),
						Ag(m, g),
						Ag(m, h),
						x && x.m(m, null),
						Ag(t, f),
						Ag(t, _),
						qh(v, _, null),
						(y = !0),
						w ||
							((b = Wg(m, 'click', function () {
								mg(e[0]) && e[0].apply(this, arguments);
							})),
							(w = !0));
				},
				p(t, [n]) {
					e = t;
					const o = {};
					4 & n && (o.disabled = e[2]), 8 & n && (o.value = e[3]), s.$set(o);
					const i = {};
					4 & n && (i.disabled = e[2]),
						16 & n && (i.value = e[4].selectedTargetLanguage),
						u.$set(i),
						16 & n && (S = Ye(e[4], _e.TRANSLATOR)),
						S
							? x
								? 16 & n && Dh(x, 1)
								: ((x = cI()), x.c(), Dh(x, 1), x.m(m, null))
							: x &&
							  (Oh(),
							  Ph(x, 1, 1, () => {
									x = null;
							  }),
							  Nh());
					const r = {};
					16 & n &&
						(r.tooltip = Ke(e[4], _e.WRITE)
							? chrome.i18n.getMessage('input_translation_tooltip_improve_disabled_by_admin')
							: chrome.i18n.getMessage('input_translation_tooltip_improve_supported_lang')),
						4122 & n &&
							(r.$$scope = {
								dirty: n,
								ctx: e,
							}),
						v.$set(r);
				},
				i(e) {
					y || (Dh(s.$$.fragment, e), Dh(u.$$.fragment, e), Dh(x), Dh(v.$$.fragment, e), (y = !0));
				},
				o(e) {
					Ph(s.$$.fragment, e), Ph(u.$$.fragment, e), Ph(x), Ph(v.$$.fragment, e), (y = !1);
				},
				d(e) {
					e && Dg(t), Gh(s), Gh(u), x && x.d(), Gh(v), (w = !1), b();
				},
			}
		);
	}
	function mI(e, t, n) {
		let o;
		const i = gh('deepl_settings');
		fg(e, i, (e) => n(4, (o = e)));
		const r = gh('deepl_website_settings');
		let { onTranslateSelection: s } = t,
			{ onImproveSelection: a } = t,
			{ isLoading: l } = t,
			{ sourceLang: c } = t,
			{ manualSourceLang: d } = t;
		const u = (e) => {
				n(9, (d = e));
			},
			p = (e) => {
				Sg(i, (o.selectedTargetLanguage = e), o);
			};
		return (
			(e.$$set = (e) => {
				'onTranslateSelection' in e && n(0, (s = e.onTranslateSelection)),
					'onImproveSelection' in e && n(1, (a = e.onImproveSelection)),
					'isLoading' in e && n(2, (l = e.isLoading)),
					'sourceLang' in e && n(3, (c = e.sourceLang)),
					'manualSourceLang' in e && n(9, (d = e.manualSourceLang));
			}),
			[
				s,
				a,
				l,
				c,
				o,
				i,
				r,
				u,
				p,
				d,
				(e) => {
					u(e.detail.selectedOption.value);
				},
				(e) => {
					p(e.detail.selectedOption.value);
				},
			]
		);
	}
	class gI extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, mI, pI, gg, {
					onTranslateSelection: 0,
					onImproveSelection: 1,
					isLoading: 2,
					sourceLang: 3,
					manualSourceLang: 9,
				});
		}
	}
	function hI(e) {
		let t, n, o, i, r, s, a;
		function l(t) {
			e[12](t);
		}
		let c = {
			onTranslateSelection: e[7],
			onImproveSelection: e[8],
			isLoading: e[4],
			sourceLang: e[1],
		};
		return (
			void 0 !== e[0] && (c.manualSourceLang = e[0]),
			(n = new gI({
				props: c,
			})),
			_h.push(() => Wh(n, 'manualSourceLang', l)),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', 'dl-gslides-toolbar svelte-1esuwx'),
						Gg(t, 'dir', Ot());
				},
				m(o, i) {
					Ng(o, t, i),
						qh(n, t, null),
						(r = !0),
						s ||
							((a = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[13]),
							]),
							(s = !0));
				},
				p(e, t) {
					const i = {};
					16 & t && (i.isLoading = e[4]),
						2 & t && (i.sourceLang = e[1]),
						!o && 1 & t && ((o = !0), (i.manualSourceLang = e[0]), xh(() => (o = !1))),
						n.$set(i);
				},
				i(e) {
					r ||
						(Dh(n.$$.fragment, e),
						Sh(() => {
							r && (i || (i = Bh(t, Lf, {}, !0)), i.run(1));
						}),
						(r = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), i || (i = Bh(t, Lf, {}, !1)), i.run(0), (r = !1);
				},
				d(e) {
					e && Dg(t), Gh(n), e && i && i.end(), (s = !1), pg(a);
				},
			}
		);
	}
	function fI(e) {
		let t, n;
		return (
			(t = new EE({
				props: {
					small: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function _I(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c = e[3] && hI(e),
			d = e[4] && fI();
		return {
			c() {
				(t = zg('div')),
					c && c.c(),
					(n = Bg()),
					(o = zg('button')),
					d && d.c(),
					Gg(o, 'class', 'dl-gslides-button svelte-1esuwx'),
					Gg(o, 'title', 'Translate with DeepL'),
					Qg(o, 'is-loading', e[4]),
					Gg(t, 'class', 'dl-gslides-icon svelte-1esuwx'),
					Gg(
						t,
						'style',
						(r =
							'bottom: ' +
							e[2].bottom +
							'px; ' +
							e[2].horizonalAlignment +
							': ' +
							e[2].horizonalOffset +
							'px;'),
					);
			},
			m(i, r) {
				Ng(i, t, r),
					c && c.m(t, null),
					Ag(t, n),
					Ag(t, o),
					d && d.m(o, null),
					(s = !0),
					a || ((l = Wg(o, 'click', e[6])), (a = !0));
			},
			p(e, [i]) {
				e[3]
					? c
						? (c.p(e, i), 8 & i && Dh(c, 1))
						: ((c = hI(e)), c.c(), Dh(c, 1), c.m(t, n))
					: c &&
					  (Oh(),
					  Ph(c, 1, 1, () => {
							c = null;
					  }),
					  Nh()),
					e[4]
						? d
							? 16 & i && Dh(d, 1)
							: ((d = fI()), d.c(), Dh(d, 1), d.m(o, null))
						: d &&
						  (Oh(),
						  Ph(d, 1, 1, () => {
								d = null;
						  }),
						  Nh()),
					(!s || 16 & i) && Qg(o, 'is-loading', e[4]),
					(!s ||
						(4 & i &&
							r !==
								(r =
									'bottom: ' +
									e[2].bottom +
									'px; ' +
									e[2].horizonalAlignment +
									': ' +
									e[2].horizonalOffset +
									'px;'))) &&
						Gg(t, 'style', r);
			},
			i(e) {
				s ||
					(Dh(c),
					Dh(d),
					Sh(() => {
						s && (i || (i = Bh(o, Lf, {}, !0)), i.run(1));
					}),
					(s = !0));
			},
			o(e) {
				Ph(c), Ph(d), i || (i = Bh(o, Lf, {}, !1)), i.run(0), (s = !1);
			},
			d(e) {
				e && Dg(t), c && c.d(), d && d.d(), e && i && i.end(), (a = !1), l();
			},
		};
	}
	const vI = 16,
		yI = 'application/x-vnd.google-docs-drawings-object+wrapped',
		wI = 'application/x-vnd.google-docs-document-slice-clip+wrapped';
	function bI(e, t, o) {
		let i;
		const r = gh('deepl_settings');
		fg(e, r, (e) => o(15, (i = e)));
		let s,
			{ registerActionIconCallbacks: a } = t,
			{ clearActionIconCallbacks: l } = t,
			{ sourceLang: c } = t,
			{ manualSourceLang: d } = t,
			{ charLimitError: u } = t,
			p = {
				bottom: 0,
				right: 0,
			},
			m = !1,
			g = !1,
			h = [];
		const f = () => {
				const e = document.querySelector('#canvas-container'),
					t = Ot(),
					n = 'ltr' === t ? 'right' : 'left';
				if (e) {
					const i = e.getBoundingClientRect();
					let r = vI;
					r =
						'ltr' === t
							? i.right > window.innerWidth
								? 0
								: window.innerWidth - i.right
							: i.left < 0
							? 0
							: i.left;
					const s = i.bottom > window.innerHeight ? 16 : window.innerHeight - i.bottom;
					o(
						2,
						(p = {
							bottom: s + vI,
							horizonalOffset: r + vI,
							horizonalAlignment: n,
						}),
					);
				} else
					o(
						2,
						(p = {
							bottom: vI,
							horizonalOffset: vI,
							horizonalAlignment: n,
						}),
					);
			},
			_ = async (e, t) => {
				try {
					let r = e.clipboardData.getData(yI),
						a = e.clipboardData.getData(wI);
					if (r) {
						if (
							((e) => {
								let t = e.getData('application/x-vnd.google-docs-image-clip+wrapped');
								if (!t) return !1;
								const n = JSON.parse(t),
									o = JSON.parse(n.data).image_urls,
									i = Object.keys(o);
								let r = !1;
								for (const e of i)
									if (e.includes('PLACEHOLDER_') && !h.includes(e)) {
										h.push(e), (r = !0);
										break;
									}
								return r;
							})(e.clipboardData)
						)
							return void n(N.glidesPreventAssetLoss, {
								theme: D.warning_theme,
							});
						o(4, (g = !0));
						const s = await (async (e, t) => {
							const n = JSON.parse(e),
								o = JSON.parse(n.data),
								r = o.unresolved,
								{ entities: s, sentencesToTranslate: a } = Ut(r),
								l = await SN({
									targetLang: i.selectedTargetLanguage,
									sourceLang: c,
									sentences: a,
									mode: t,
								}),
								d = [];
							for (let e = 0; e < s.length; e++)
								Ht({
									entity: s[e],
									translatedSentences: l,
									modifiersToDelete: d,
								});
							return (
								(o.unresolved = o.unresolved.filter((e) => !d.includes(e))),
								(n.data = JSON.stringify(o)),
								JSON.stringify(n)
							);
						})(r, t);
						n_('keydown', document.querySelector('svg > g > g[pointer-events=visiblePainted]')),
							v(s),
							o(4, (g = !1));
					} else if (a) {
						o(4, (g = !0));
						const n = await (async (e, t) =>
							await xN({
								event: e,
								sourceLang: c,
								targetLang: i.selectedTargetLanguage,
								mode: t,
							}))(e, t);
						n_('keydown', document.querySelector('svg > g > g[pointer-events=visiblePainted]')),
							y(n),
							o(4, (g = !1));
					} else await zt(), (s = t), o(3, (m = !1)), ct();
				} catch (e) {
					console.log('errororr slidews', e),
						e.name === ff
							? o(9, (u = Be.ANONYMOUS))
							: e.name === hf
							? o(9, (u = Be.FREE))
							: e.name === vf
							? o(9, (u = vf))
							: e.name === yf && o(9, (u = yf)),
						console.error(e),
						o(4, (g = !1));
				}
			},
			v = (e) => {
				const { editable: t } = lt();
				let n;
				if (nt())
					n = new ClipboardEvent('paste', {
						dataType: yI,
						data: e,
					});
				else {
					const t = new DataTransfer();
					t.setData(yI, e),
						(n = new ClipboardEvent('paste', {
							bubbles: !0,
							clipboardData: t,
						}));
				}
				t.dispatchEvent(n);
			},
			y = (e) => {
				const { editable: t } = lt();
				let n;
				if (nt())
					n = new ClipboardEvent('paste', {
						dataType: wI,
						data: e,
					});
				else {
					const t = new DataTransfer();
					t.setData(wI, e),
						(n = new ClipboardEvent('paste', {
							bubbles: !0,
							clipboardData: t,
						}));
				}
				t.dispatchEvent(n);
			};
		dh(() => {
			setTimeout(() => {
				const { editable: e } = lt();
				e.addEventListener('copy', (e) => {
					if (s) {
						const t = s;
						(s = void 0), _(e, t);
					}
				});
			}, 2e3),
				a({
					repositionActionIcon: f,
				});
		}),
			uh(() => {
				l();
			});
		return (
			(e.$$set = (e) => {
				'registerActionIconCallbacks' in e && o(10, (a = e.registerActionIconCallbacks)),
					'clearActionIconCallbacks' in e && o(11, (l = e.clearActionIconCallbacks)),
					'sourceLang' in e && o(1, (c = e.sourceLang)),
					'manualSourceLang' in e && o(0, (d = e.manualSourceLang)),
					'charLimitError' in e && o(9, (u = e.charLimitError));
			}),
			[
				d,
				c,
				p,
				m,
				g,
				r,
				() => {
					o(3, (m = !m));
				},
				() => {
					(s = oe.translate), o(3, (m = !1)), ct();
				},
				() => {
					(s = oe.write), o(3, (m = !1)), ct();
				},
				u,
				a,
				l,
				function (e) {
					(d = e), o(0, d);
				},
				() => {
					o(3, (m = !1));
				},
			]
		);
	}
	class EI extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, bI, _I, gg, {
					registerActionIconCallbacks: 10,
					clearActionIconCallbacks: 11,
					sourceLang: 1,
					manualSourceLang: 0,
					charLimitError: 9,
				});
		}
	}
	function SI(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = e[1] && xI();
		return (
			(a = new YL({
				props: {
					checked: e[3].isGSlidesEnabled,
				},
			})),
			a.$on('change', e[8]),
			{
				c() {
					(t = zg('div')),
						u && u.c(),
						(n = Bg()),
						(o = zg('div')),
						(i = zg('div')),
						(i.textContent = `${chrome.i18n.getMessage('ui_gslides_toggle_customization')}`),
						(r = Bg()),
						(s = zg('div')),
						jh(a.$$.fragment),
						Gg(i, 'class', 'legend'),
						Gg(s, 'class', 'switch svelte-19uh4k2'),
						Gg(o, 'class', 'turn-on-off-panel svelte-19uh4k2'),
						Gg(t, 'class', 'dl-gslides-top-icon-modal svelte-19uh4k2'),
						Kg(t, 'left', e[2] + 'px'),
						Gg(t, 'dir', Ot());
				},
				m(p, m) {
					Ng(p, t, m),
						u && u.m(t, null),
						Ag(t, n),
						Ag(t, o),
						Ag(o, i),
						Ag(o, r),
						Ag(o, s),
						qh(a, s, null),
						(l = !0),
						c ||
							((d = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[9]),
							]),
							(c = !0));
				},
				p(e, o) {
					e[1] ? (u ? u.p(e, o) : ((u = xI()), u.c(), u.m(t, n))) : u && (u.d(1), (u = null));
					const i = {};
					8 & o && (i.checked = e[3].isGSlidesEnabled),
						a.$set(i),
						(!l || 4 & o) && Kg(t, 'left', e[2] + 'px');
				},
				i(e) {
					l || (Dh(a.$$.fragment, e), (l = !0));
				},
				o(e) {
					Ph(a.$$.fragment, e), (l = !1);
				},
				d(e) {
					e && Dg(t), u && u.d(), Gh(a), (c = !1), pg(d);
				},
			}
		);
	}
	function xI(e) {
		let t, n, o, i, r, s, a, l, c, d;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('p')),
					(o.textContent = `${chrome.i18n.getMessage('ui_gslides_onboarding_title')}`),
					(i = Bg()),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('ui_gslides_onboarding_label_beta')}`),
					(s = Bg()),
					(a = zg('div')),
					(l = zg('div')),
					(l.textContent = `${chrome.i18n.getMessage('ui_gslides_onboarding_ups_1')}`),
					(c = Bg()),
					(d = zg('div')),
					(d.textContent = `${chrome.i18n.getMessage('ui_gslides_onboarding_ups_2')}`),
					Gg(o, 'class', 'svelte-19uh4k2'),
					Gg(r, 'class', 'beta-label svelte-19uh4k2'),
					Gg(n, 'class', 'header svelte-19uh4k2'),
					Gg(l, 'class', 'ups-item svelte-19uh4k2'),
					Gg(d, 'class', 'ups-item svelte-19uh4k2'),
					Gg(a, 'class', 'ups-list'),
					Gg(t, 'class', 'onboarding svelte-19uh4k2');
			},
			m(e, u) {
				Ng(e, t, u), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r), Ag(t, s), Ag(t, a), Ag(a, l), Ag(a, c), Ag(a, d);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function TI(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a = e[0] && SI(e);
		return {
			c() {
				(t = zg('button')),
					(n = Bg()),
					a && a.c(),
					(o = Fg()),
					Gg(t, 'class', 'dl-gslides-top-icon svelte-19uh4k2'),
					Kg(t, 'left', e[2] + 'px'),
					Qg(t, 'onboarding-pending', !e[3].isGSlidesOnboardingShown);
			},
			m(l, c) {
				Ng(l, t, c),
					Ng(l, n, c),
					a && a.m(l, c),
					Ng(l, o, c),
					(i = !0),
					r || ((s = Wg(t, 'click', e[7])), (r = !0));
			},
			p(e, [n]) {
				(!i || 4 & n) && Kg(t, 'left', e[2] + 'px'),
					(!i || 8 & n) && Qg(t, 'onboarding-pending', !e[3].isGSlidesOnboardingShown),
					e[0]
						? a
							? (a.p(e, n), 1 & n && Dh(a, 1))
							: ((a = SI(e)), a.c(), Dh(a, 1), a.m(o.parentNode, o))
						: a &&
						  (Oh(),
						  Ph(a, 1, 1, () => {
								a = null;
						  }),
						  Nh());
			},
			i(e) {
				i || (Dh(a), (i = !0));
			},
			o(e) {
				Ph(a), (i = !1);
			},
			d(e) {
				e && (Dg(t), Dg(n), Dg(o)), a && a.d(e), (r = !1), s();
			},
		};
	}
	function CI(e, n, o) {
		let i;
		const r = gh('deepl_settings');
		fg(e, r, (e) => o(3, (i = e)));
		let s,
			{ registerTopIconCallbacks: a } = n,
			{ clearTopIconCallbacks: l } = n,
			c = !1,
			d = !1;
		const u = () => {
			const e = document.querySelector('.docs-titlebar-buttons #docs-presence-container'),
				t = null != document.querySelector('.docs-titlebar-buttons-rtl');
			if (e) {
				const n = e.getBoundingClientRect();
				o(2, (s = t ? o(2, (s = n.left + 40 - 32)) : n.left - 40));
			}
		};
		dh(() => {
			u(),
				a({
					repositionTopIcon: u,
				});
		}),
			uh(() => {
				l();
			});
		return (
			(e.$$set = (e) => {
				'registerTopIconCallbacks' in e && o(5, (a = e.registerTopIconCallbacks)),
					'clearTopIconCallbacks' in e && o(6, (l = e.clearTopIconCallbacks));
			}),
			(e.$$.update = () => {
				3 & e.$$.dirty &&
					c &&
					d &&
					t({
						action: 'dlTrackOnboardingModalShown',
						payload: {
							nicheIntegration: ne.gslides,
						},
					});
			}),
			[
				c,
				d,
				s,
				i,
				r,
				a,
				l,
				() => {
					o(0, (c = !0)),
						i.isGSlidesOnboardingShown || (Sg(r, (i.isGSlidesOnboardingShown = !0), i), o(1, (d = !0)));
				},
				(e) => Sg(r, (i.isGSlidesEnabled = e.detail.checked), i),
				() => {
					o(1, (d = !1)), o(0, (c = !1));
				},
			]
		);
	}
	class $I extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, CI, TI, gg, {
					registerTopIconCallbacks: 5,
					clearTopIconCallbacks: 6,
				});
		}
	}
	function kI(e) {
		let t, n, o, i, r;
		function s(e, t) {
			return e[0] === Be.FREE ? MI : e[0] === Be.ANONYMOUS ? II : void 0;
		}
		let a = s(e),
			l = a && a(e);
		return {
			c() {
				(t = zg('button')), (n = Bg()), l && l.c(), (o = Fg()), Gg(t, 'class', 'close-button svelte-8x6yh8');
			},
			m(s, a) {
				Ng(s, t, a),
					Ng(s, n, a),
					l && l.m(s, a),
					Ng(s, o, a),
					i ||
						((r = Wg(t, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(i = !0));
			},
			p(t, n) {
				a === (a = s((e = t))) && l
					? l.p(e, n)
					: (l && l.d(1), (l = a && a(e)), l && (l.c(), l.m(o.parentNode, o)));
			},
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o)), l && l.d(e), (i = !1), r();
			},
		};
	}
	function LI(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: {
						error: e[0],
					},
					close: e[1],
					config: {
						nicheIntegration: ne.gslides,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n &&
						(o.error = {
							error: e[0],
						}),
						2 & n && (o.close = e[1]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function II(e) {
		let t, n, o, i, r, s, a, l, c, d;
		return {
			c() {
				(t = zg('h2')),
					(t.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_anonymous_title')}`),
					(n = Bg()),
					(o = zg('p')),
					(o.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_anonymous_content')}`),
					(i = Bg()),
					(r = zg('div')),
					(s = zg('button')),
					(s.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_anonymous_cta_login')}`),
					(a = Bg()),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_anonymous_cta_signup')}`),
					Gg(t, 'class', 'svelte-8x6yh8'),
					Gg(o, 'class', 'svelte-8x6yh8'),
					Gg(s, 'class', 'btn-secondary svelte-8x6yh8'),
					Gg(l, 'class', 'btn-primary svelte-8x6yh8'),
					Gg(r, 'class', 'buttons-row svelte-8x6yh8');
			},
			m(u, p) {
				Ng(u, t, p),
					Ng(u, n, p),
					Ng(u, o, p),
					Ng(u, i, p),
					Ng(u, r, p),
					Ag(r, s),
					Ag(r, a),
					Ag(r, l),
					c || ((d = [Wg(s, 'click', e[4]), Wg(l, 'click', e[3])]), (c = !0));
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o), Dg(i), Dg(r)), (c = !1), pg(d);
			},
		};
	}
	function MI(e) {
		let t, n, o, i, r, s, a, l;
		return {
			c() {
				(t = zg('h2')),
					(t.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_logged_in_title')}`),
					(n = Bg()),
					(o = zg('p')),
					(o.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_logged_in_content')}`),
					(i = Bg()),
					(r = zg('div')),
					(s = zg('button')),
					(s.textContent = `${chrome.i18n.getMessage('ui_gslides_limit_reached_logged_in_cta')}`),
					Gg(t, 'class', 'svelte-8x6yh8'),
					Gg(o, 'class', 'svelte-8x6yh8'),
					Gg(s, 'class', 'btn-primary svelte-8x6yh8'),
					Gg(r, 'class', 'buttons-row svelte-8x6yh8');
			},
			m(c, d) {
				Ng(c, t, d),
					Ng(c, n, d),
					Ng(c, o, d),
					Ng(c, i, d),
					Ng(c, r, d),
					Ag(r, s),
					a || ((l = Wg(s, 'click', e[3])), (a = !0));
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o), Dg(i), Dg(r)), (a = !1), l();
			},
		};
	}
	function AI(e) {
		let t, n, o, i, r, s, a;
		const l = [LI, kI],
			c = [];
		function d(e, t) {
			return e[2] ? 0 : 1;
		}
		return (
			(o = d(e)),
			(i = c[o] = l[o](e)),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						i.c(),
						Gg(n, 'class', 'dl-char-limit-error-container svelte-8x6yh8'),
						Qg(n, 'is-translator-limit', !e[2]),
						Gg(t, 'class', 'dl-char-limit-error-overlay svelte-8x6yh8');
				},
				m(i, l) {
					Ng(i, t, l),
						Ag(t, n),
						c[o].m(n, null),
						(r = !0),
						s ||
							((a = [
								xg(
									r_.call(null, n, {
										isShadow: !0,
									}),
								),
								Wg(n, 'click_outside', function () {
									mg(e[1]) && e[1].apply(this, arguments);
								}),
							]),
							(s = !0));
				},
				p(t, [s]) {
					let a = o;
					(o = d((e = t))),
						o === a
							? c[o].p(e, s)
							: (Oh(),
							  Ph(c[a], 1, 1, () => {
									c[a] = null;
							  }),
							  Nh(),
							  (i = c[o]),
							  i ? i.p(e, s) : ((i = c[o] = l[o](e)), i.c()),
							  Dh(i, 1),
							  i.m(n, null)),
						(!r || 4 & s) && Qg(n, 'is-translator-limit', !e[2]);
				},
				i(e) {
					r || (Dh(i), (r = !0));
				},
				o(e) {
					Ph(i), (r = !1);
				},
				d(e) {
					e && Dg(t), c[o].d(), (s = !1), pg(a);
				},
			}
		);
	}
	function RI(e, n, o) {
		let i,
			{ charLimitError: r } = n,
			{ closeModal: s } = n;
		let a = !1;
		return (
			(e.$$set = (e) => {
				'charLimitError' in e && o(0, (r = e.charLimitError)), 'closeModal' in e && o(1, (s = e.closeModal));
			}),
			(e.$$.update = () => {
				1 & e.$$.dirty && o(2, (i = r === vf || r === yf));
			}),
			[
				r,
				s,
				i,
				() => {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'gslides_customization',
						},
					}),
						s();
				},
				() => {
					a ||
						(t({
							action: 'dlTrackUILocationClicked',
							payload: P.gslidesCharLimitLogin,
						}),
						(a = !0),
						t({
							action: 'dlRequestLogin',
						})
							.then(() => {
								(a = !1), s();
							})
							.catch(() => {
								a = !1;
							}));
				},
			]
		);
	}
	class OI extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, RI, AI, gg, {
					charLimitError: 0,
					closeModal: 1,
				});
		}
	}
	function NI(e) {
		let t, n;
		return (
			(t = new OI({
				props: {
					charLimitError: e[2],
					closeModal: e[10],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n && (o.charLimitError = e[2]), 4 & n && (o.closeModal = e[10]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function DI(e) {
		let t, n, o, i;
		function r(t) {
			e[11](t);
		}
		function s(t) {
			e[12](t);
		}
		let a = {
			registerActionIconCallbacks: e[7],
			clearActionIconCallbacks: e[8],
			sourceLang: e[3],
		};
		return (
			void 0 !== e[0] && (a.manualSourceLang = e[0]),
			void 0 !== e[2] && (a.charLimitError = e[2]),
			(t = new EI({
				props: a,
			})),
			_h.push(() => Wh(t, 'manualSourceLang', r)),
			_h.push(() => Wh(t, 'charLimitError', s)),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, n) {
					qh(t, e, n), (i = !0);
				},
				p(e, i) {
					const r = {};
					8 & i && (r.sourceLang = e[3]),
						!n && 1 & i && ((n = !0), (r.manualSourceLang = e[0]), xh(() => (n = !1))),
						!o && 4 & i && ((o = !0), (r.charLimitError = e[2]), xh(() => (o = !1))),
						t.$set(r);
				},
				i(e) {
					i || (Dh(t.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (i = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function PI(e) {
		let t, n, o, i, r;
		t = new $I({
			props: {
				registerTopIconCallbacks: e[5],
				clearTopIconCallbacks: e[6],
			},
		});
		let s = e[2] && NI(e),
			a = e[4].isGSlidesEnabled && !e[1] && DI(e);
		return {
			c() {
				jh(t.$$.fragment), (n = Bg()), s && s.c(), (o = Bg()), a && a.c(), (i = Fg());
			},
			m(e, l) {
				qh(t, e, l), Ng(e, n, l), s && s.m(e, l), Ng(e, o, l), a && a.m(e, l), Ng(e, i, l), (r = !0);
			},
			p(e, [t]) {
				e[2]
					? s
						? (s.p(e, t), 4 & t && Dh(s, 1))
						: ((s = NI(e)), s.c(), Dh(s, 1), s.m(o.parentNode, o))
					: s &&
					  (Oh(),
					  Ph(s, 1, 1, () => {
							s = null;
					  }),
					  Nh()),
					e[4].isGSlidesEnabled && !e[1]
						? a
							? (a.p(e, t), 18 & t && Dh(a, 1))
							: ((a = DI(e)), a.c(), Dh(a, 1), a.m(i.parentNode, i))
						: a &&
						  (Oh(),
						  Ph(a, 1, 1, () => {
								a = null;
						  }),
						  Nh());
			},
			i(e) {
				r || (Dh(t.$$.fragment, e), Dh(s), Dh(a), (r = !0));
			},
			o(e) {
				Ph(t.$$.fragment, e), Ph(s), Ph(a), (r = !1);
			},
			d(e) {
				e && (Dg(n), Dg(o), Dg(i)), Gh(t, e), s && s.d(e), a && a.d(e);
			},
		};
	}
	function zI(e, t, n) {
		let o, i, r, s, a, l, c;
		fg(e, Xh, (e) => n(4, (i = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let d,
			u,
			p = !0;
		const m = async (e) => {
				if ('dlChangeActiveTabStatus' === e.action) e.payload.isActive ? g() : h();
			},
			g = () => {
				r && clearInterval(r), (r = setInterval(f, 800));
			},
			h = () => {
				clearInterval(r);
			},
			f = () => {
				s && s(), a && a(), c || _();
			},
			_ = async () => {
				n(9, (l = (await Pt()) || 'EN-US'));
			};
		dh(() => {
			g(),
				(d = new MutationObserver(() => {
					window.document.querySelector('.punch-full-screen-element') ? n(1, (p = !0)) : n(1, (p = !1));
				})),
				d.observe(window.document.body, {
					attributes: !0,
					childList: !0,
					subtree: !0,
				}),
				s_(() => d.disconnect()),
				chrome.runtime.onMessage.addListener(m);
		}),
			uh(() => {
				r && h(), chrome.runtime.onMessage.removeListener(m), d.disconnect();
			});
		return (
			(e.$$.update = () => {
				513 & e.$$.dirty && n(3, (o = c || l));
			}),
			[
				c,
				p,
				u,
				o,
				i,
				(e) => {
					s = e.repositionTopIcon;
				},
				() => {
					s = void 0;
				},
				(e) => {
					a = e.repositionActionIcon;
				},
				() => {
					a = void 0;
				},
				l,
				() => n(2, (u = void 0)),
				function (e) {
					(c = e), n(0, c);
				},
				function (e) {
					(u = e), n(2, u);
				},
			]
		);
	}
	class UI extends Yh {
		constructor(e) {
			super(), Vh(this, e, zI, PI, gg, {});
		}
	}
	class HI {
		static HTML_TAG_NAME = 'deepl-gslides-controller';
		static createElement = (e = document) => {
			const t = e.createElement(HI.HTML_TAG_NAME),
				n = new HI(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			this.domElement.mainComponent = new UI({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.domElement.cleanupDOM,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function BI(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('p')),
					(t.innerHTML = '<strong class="svelte-xhv8yz">Help us improve DeepL for Arabic</strong>'),
					(n = Bg()),
					(o = zg('p')),
					(o.textContent = 'Take 2 minutes to tell us what we can do better.'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(o, 'class', 'svelte-xhv8yz');
			},
			m(e, i) {
				Ng(e, t, i), Ng(e, n, i), Ng(e, o, i);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o));
			},
		};
	}
	function FI(e) {
		let t;
		return {
			c() {
				(t = zg('p')),
					(t.textContent = `${chrome.i18n.getMessage('segmentation_survey_copy')}`),
					Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function WI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('p')),
					(n = zg('strong')),
					(n.textContent = `${chrome.i18n.getMessage('ui_gslides_feedback_title')}`),
					(o = Bg()),
					(i = zg('p')),
					(i.textContent = `${chrome.i18n.getMessage('ui_gslides_feedback_content')}`),
					Gg(n, 'class', 'svelte-xhv8yz'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(i, 'class', 'svelte-xhv8yz');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ng(e, o, r), Ng(e, i, r);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(o), Dg(i));
			},
		};
	}
	function jI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('p')),
					(n = zg('strong')),
					(n.textContent = `${chrome.i18n.getMessage('ui_toaster_gmail_feedback_title')}`),
					(o = Bg()),
					(i = zg('p')),
					(i.textContent = `${chrome.i18n.getMessage('ui_toaster_gmail_feedback_content')}`),
					Gg(n, 'class', 'svelte-xhv8yz'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(i, 'class', 'svelte-xhv8yz');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ng(e, o, r), Ng(e, i, r);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(o), Dg(i));
			},
		};
	}
	function qI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('p')),
					(n = zg('strong')),
					(n.textContent = `${chrome.i18n.getMessage('ui_toaster_feedback_form_line_1')}`),
					(o = Bg()),
					(i = zg('p')),
					(i.textContent = `${chrome.i18n.getMessage('ui_toaster_feedback_form_line_2')}`),
					Gg(n, 'class', 'svelte-xhv8yz'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(i, 'class', 'svelte-xhv8yz');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ng(e, o, r), Ng(e, i, r);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(o), Dg(i));
			},
		};
	}
	function GI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('p')),
					(n = zg('strong')),
					(n.textContent = `${chrome.i18n.getMessage('ui_toaster_write_a_review_line_1')}`),
					(o = Bg()),
					(i = zg('p')),
					(i.textContent = `${e[3].writeAReview.lineTwo}`),
					Gg(n, 'class', 'svelte-xhv8yz'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(i, 'class', 'svelte-xhv8yz');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ng(e, o, r), Ng(e, i, r);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(o), Dg(i));
			},
		};
	}
	function VI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('p')),
					(t.textContent = `${e[3].howWasYourExperience.lineOne}`),
					(n = Bg()),
					(o = zg('p')),
					(i = zg('strong')),
					(i.textContent = `${e[3].howWasYourExperience.lineTwo}`),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(i, 'class', 'svelte-xhv8yz'),
					Gg(o, 'class', 'svelte-xhv8yz');
			},
			m(e, r) {
				Ng(e, t, r), Ng(e, n, r), Ng(e, o, r), Ag(o, i);
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o));
			},
		};
	}
	function YI(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')), (t.innerHTML = '<span>Start survey</span>'), Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', e[10])), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function KI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('segmentation_survey_button')}`),
					Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[9])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function ZI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('ui_gslides_feedback_cta')}`),
					Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[8])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function XI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('ui_toaster_gmail_feedback_button')}`),
					Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[7])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function JI(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('span')),
					(n.textContent = `${chrome.i18n.getMessage('ui_toaster_write_a_review_cta')}`),
					Gg(t, 'class', 'svelte-xhv8yz');
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[6])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function QI(e) {
		let t, n, o, i, r, s, a, l, c, d, u;
		return {
			c() {
				(t = zg('button')),
					(n = zg('i')),
					(o = Bg()),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('ui_toaster_how_was_your_experience_bad')}`),
					(r = Bg()),
					(s = zg('button')),
					(a = zg('i')),
					(l = Bg()),
					(c = zg('span')),
					(c.textContent = `${chrome.i18n.getMessage('ui_toaster_how_was_your_experience_good')}`),
					Gg(n, 'class', 'icon-bad svelte-xhv8yz'),
					Gg(t, 'class', 'svelte-xhv8yz'),
					Gg(a, 'class', 'icon-good svelte-xhv8yz'),
					Gg(s, 'class', 'svelte-xhv8yz');
			},
			m(p, m) {
				Ng(p, t, m),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					Ng(p, r, m),
					Ng(p, s, m),
					Ag(s, a),
					Ag(s, l),
					Ag(s, c),
					d || ((u = [Wg(t, 'click', e[4]), Wg(s, 'click', e[5])]), (d = !0));
			},
			p: lg,
			d(e) {
				e && (Dg(t), Dg(r), Dg(s)), (d = !1), pg(u);
			},
		};
	}
	function eM(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m;
		function g(e, t) {
			return e[0] === ee.initial
				? VI
				: e[0] === ee.review
				? GI
				: e[0] === ee.feedback
				? qI
				: e[0] === ee.gmail
				? jI
				: e[0] === ee.gslides
				? WI
				: e[0] === ee.customer_segmentation
				? FI
				: e[0] === ee.arabic_survey
				? BI
				: void 0;
		}
		let h = g(e),
			f = h && h(e),
			_ =
				e[2] &&
				(function (e) {
					let t;
					function n(e, t) {
						return e[0] === ee.initial
							? QI
							: e[0] === ee.review
							? JI
							: e[0] === ee.gmail
							? XI
							: e[0] === ee.gslides
							? ZI
							: e[0] === ee.customer_segmentation
							? KI
							: e[0] === ee.arabic_survey
							? YI
							: void 0;
					}
					let o = n(e),
						i = o && o(e);
					return {
						c() {
							(t = zg('div')), i && i.c(), Gg(t, 'class', 'buttons svelte-xhv8yz');
						},
						m(e, n) {
							Ng(e, t, n), i && i.m(t, null);
						},
						p(e, r) {
							o === (o = n(e)) && i ? i.p(e, r) : (i && i.d(1), (i = o && o(e)), i && (i.c(), i.m(t, null)));
						},
						d(e) {
							e && Dg(t), i && i.d();
						},
					};
				})(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = Bg()),
					(r = zg('div')),
					(s = zg('button')),
					(a = Bg()),
					f && f.c(),
					(l = Bg()),
					_ && _.c(),
					Gg(o, 'class', 'logo svelte-xhv8yz'),
					Gg(s, 'class', 'close-icon svelte-xhv8yz'),
					Qg(s, 'rtl', 'rtl' === Ot()),
					Gg(r, 'class', 'content svelte-xhv8yz'),
					Gg(n, 'class', 'body svelte-xhv8yz'),
					Gg(t, 'class', 'container svelte-xhv8yz'),
					Gg(t, 'dir', Ot());
			},
			m(c, d) {
				Ng(c, t, d),
					Ag(t, n),
					Ag(n, o),
					Ag(n, i),
					Ag(n, r),
					Ag(r, s),
					Ag(r, a),
					f && f.m(r, null),
					Ag(t, l),
					_ && _.m(t, null),
					(u = !0),
					p ||
						((m = Wg(s, 'click', function () {
							mg(e[1]) && e[1].apply(this, arguments);
						})),
						(p = !0));
			},
			p(t, [n]) {
				h === (h = g((e = t))) && f ? f.p(e, n) : (f && f.d(1), (f = h && h(e)), f && (f.c(), f.m(r, null))),
					e[2] && _.p(e, n);
			},
			i(e) {
				u ||
					(Sh(() => {
						u &&
							(d && d.end(1),
							(c = Uh(t, If, {
								x: 100,
								duration: 1e3,
							})),
							c.start());
					}),
					(u = !0));
			},
			o(e) {
				c && c.invalidate(),
					(d = Hh(t, If, {
						x: 100,
						duration: 1e3,
					})),
					(u = !1);
			},
			d(e) {
				e && Dg(t), f && f.d(), _ && _.d(), e && d && d.end(), (p = !1), m();
			},
		};
	}
	function tM(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(11, (i = e))),
			mh('deepl_settings', Xh),
			mh('deepl_website_settings', pw),
			mh('text_direction', Ot());
		let { onClose: r } = n,
			{ reviewStage: s = ee.initial } = n;
		const a = [
			ee.initial,
			ee.review,
			ee.gmail,
			ee.gslides,
			ee.customer_segmentation,
			ee.arabic_survey,
		].includes(s);
		let l = (() => {
			let e;
			if (nt())
				e = {
					howWasYourExperience: {
						lineOne: 'ui_toaster_how_was_your_experience_line_1_firefox',
						lineTwo: 'ui_toaster_how_was_your_experience_line_2_firefox',
					},
					writeAReview: {
						lineTwo: 'ui_toaster_write_a_review_line_2_firefox',
					},
				};
			else {
				if (tt().browser === Xe.edge)
					e = {
						howWasYourExperience: {
							lineOne: 'ui_toaster_how_was_your_experience_line_1_edge',
							lineTwo: 'ui_toaster_how_was_your_experience_line_2_edge',
						},
						writeAReview: {
							lineTwo: 'ui_toaster_write_a_review_line_2_edge',
						},
					};
				else
					e = {
						howWasYourExperience: {
							lineOne: 'ui_toaster_how_was_your_experience_line_1',
							lineTwo: 'ui_toaster_how_was_your_experience_line_2',
						},
						writeAReview: {
							lineTwo: 'ui_toaster_write_a_review_line_2',
						},
					};
			}
			return {
				howWasYourExperience: {
					lineOne: chrome.i18n.getMessage(e.howWasYourExperience.lineOne),
					lineTwo: chrome.i18n.getMessage(e.howWasYourExperience.lineTwo),
				},
				writeAReview: {
					lineTwo: chrome.i18n.getMessage(e.writeAReview.lineTwo),
				},
			};
		})();
		return (
			(e.$$set = (e) => {
				'onClose' in e && o(1, (r = e.onClose)), 'reviewStage' in e && o(0, (s = e.reviewStage));
			}),
			[
				s,
				r,
				a,
				l,
				function () {
					Xh.set({
						shouldDisplayFeedbackPopup: !0,
					}),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: nt() ? pv : J_,
							},
						}),
						r();
				},
				function () {
					o(0, (s = ee.review));
				},
				function () {
					let e = sv;
					if (chrome.runtime.id === Z.edge) e = av;
					else if (nt()) e = dv;
					else {
						if (tt().browser === Xe.edge) e = av;
						else e = sv;
					}
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: e,
						},
					}),
						r();
				},
				function () {
					t({
						action: 'dlTrackUILocationClicked',
						payload: P.gmailFeedbackSurvey,
					}),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: lv,
							},
						}),
						r();
				},
				function () {
					t({
						action: 'dlTrackUILocationClicked',
						payload: P.gslidesFeedbackSurvey,
					}),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: cv,
							},
						}),
						r();
				},
				function () {
					((e) => !(!Ye(e, _e.TRANSLATOR) && !Ye(e, _e.WRITE)))(i)
						? t({
								action: 'dlExternalURLRedirect',
								payload: {
									destination: gv,
								},
						  })
						: t({
								action: 'dlExternalURLRedirect',
								payload: {
									destination: mv,
								},
						  }),
						r();
				},
				function () {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: hv,
						},
					});
				},
			]
		);
	}
	class nM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, tM, eM, gg, {
					onClose: 1,
					reviewStage: 0,
				});
		}
	}
	class oM {
		static HTML_TAG_NAME = 'deepl-ask-for-review-popup';
		static createElement = (e = document) => {
			const t = e.createElement(oM.HTML_TAG_NAME),
				n = new oM(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowContainer.addEventListener('click', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = ({ reviewStage: e }) => {
			const t = 'rtl' === Ot() ? 'left' : 'right';
			(this.domElement.shadowContainer.style.cssText = `position: fixed; bottom: 32px; ${t}: 32px; z-index: ${O.deepl_inline_ui.z_index}`),
				(this.domElement.mainComponent = new nM({
					target: this.domElement.shadowContainer,
					props: {
						onClose: this.cleanupDOM,
						reviewStage: e,
					},
				}));
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function iM(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 24,
					translator: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function rM(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 24,
					write: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function sM(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S,
			x,
			T,
			C = e[2] && iM(),
			$ = e[3] && rM();
		return {
			c() {
				(t = zg('div')),
					(n = zg('button')),
					(o = Bg()),
					(i = zg('div')),
					(r = zg('button')),
					(s = zg('div')),
					(a = Bg()),
					(l = zg('span')),
					(l.textContent = `${chrome.i18n.getMessage('layout_tab_translator')}`),
					(c = Bg()),
					C && C.c(),
					(u = Bg()),
					(p = zg('button')),
					(m = zg('div')),
					(g = Bg()),
					(h = zg('span')),
					(h.textContent = `${chrome.i18n.getMessage('layout_tab_write')}`),
					(f = Bg()),
					$ && $.c(),
					(v = Bg()),
					(y = zg('div')),
					(w = zg('button')),
					(b = Bg()),
					(E = zg('button')),
					Gg(n, 'class', 'dl-logo svelte-1tqddaq'),
					Gg(n, 'aria-label', chrome.i18n.getMessage('deepl_logo')),
					Gg(s, 'class', 'translate-icon svelte-1tqddaq'),
					Gg(r, 'class', (d = Eg('tab ' + (e[1] === oe.translate ? 'active' : '')) + ' svelte-1tqddaq')),
					Gg(m, 'class', 'write-icon svelte-1tqddaq'),
					Gg(p, 'class', (_ = Eg('tab ' + (e[1] === oe.write ? 'active' : '')) + ' svelte-1tqddaq')),
					Gg(i, 'class', 'tabs-container svelte-1tqddaq'),
					Gg(w, 'class', 'dl-settings-icon svelte-1tqddaq'),
					Gg(E, 'class', 'dl-close-icon svelte-1tqddaq'),
					Gg(y, 'class', 'dl-actions svelte-1tqddaq'),
					Gg(t, 'class', 'dl-review-header svelte-1tqddaq');
			},
			m(d, _) {
				Ng(d, t, _),
					Ag(t, n),
					Ag(t, o),
					Ag(t, i),
					Ag(i, r),
					Ag(r, s),
					Ag(r, a),
					Ag(r, l),
					Ag(r, c),
					C && C.m(r, null),
					Ag(i, u),
					Ag(i, p),
					Ag(p, m),
					Ag(p, g),
					Ag(p, h),
					Ag(p, f),
					$ && $.m(p, null),
					Ag(t, v),
					Ag(t, y),
					Ag(y, w),
					Ag(y, b),
					Ag(y, E),
					(S = !0),
					x ||
						((T = [
							Wg(n, 'click', e[5]),
							Wg(r, 'click', e[8]),
							Wg(p, 'click', e[9]),
							Wg(w, 'click', e[6]),
							Wg(E, 'click', function () {
								mg(e[0]) && e[0].apply(this, arguments);
							}),
						]),
						(x = !0));
			},
			p(t, [n]) {
				(e = t)[2]
					? C
						? 4 & n && Dh(C, 1)
						: ((C = iM()), C.c(), Dh(C, 1), C.m(r, null))
					: C &&
					  (Oh(),
					  Ph(C, 1, 1, () => {
							C = null;
					  }),
					  Nh()),
					(!S ||
						(2 & n &&
							d !== (d = Eg('tab ' + (e[1] === oe.translate ? 'active' : '')) + ' svelte-1tqddaq'))) &&
						Gg(r, 'class', d),
					e[3]
						? $
							? 8 & n && Dh($, 1)
							: (($ = rM()), $.c(), Dh($, 1), $.m(p, null))
						: $ &&
						  (Oh(),
						  Ph($, 1, 1, () => {
								$ = null;
						  }),
						  Nh()),
					(!S ||
						(2 & n && _ !== (_ = Eg('tab ' + (e[1] === oe.write ? 'active' : '')) + ' svelte-1tqddaq'))) &&
						Gg(p, 'class', _);
			},
			i(e) {
				S || (Dh(C), Dh($), (S = !0));
			},
			o(e) {
				Ph(C), Ph($), (S = !1);
			},
			d(e) {
				e && Dg(t), C && C.d(), $ && $.d(), (x = !1), pg(T);
			},
		};
	}
	function aM(e, n, o) {
		let { closeWindow: i } = n,
			{ extensionContext: r = 0 } = n,
			{ textProcessingMode: s = oe.translate } = n,
			{ showProTranslateStatus: a = !0 } = n,
			{ showProWriteStatus: l = !0 } = n,
			{ onChangeTextProcessingMode: c = () => {} } = n;
		return (
			(e.$$set = (e) => {
				'closeWindow' in e && o(0, (i = e.closeWindow)),
					'extensionContext' in e && o(7, (r = e.extensionContext)),
					'textProcessingMode' in e && o(1, (s = e.textProcessingMode)),
					'showProTranslateStatus' in e && o(2, (a = e.showProTranslateStatus)),
					'showProWriteStatus' in e && o(3, (l = e.showProWriteStatus)),
					'onChangeTextProcessingMode' in e && o(4, (c = e.onChangeTextProcessingMode));
			}),
			[
				i,
				s,
				a,
				l,
				c,
				function () {
					t({
						action: 'dlTrackLogoClickedEvent',
						payload: {
							extensionContext: r,
						},
					}),
						t({
							action: 'dlExternalURLRedirect',
							payload: {
								destination: s === oe.write ? iv : ov,
								utmContent: 'review_window_logo',
							},
						});
				},
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: s === oe.write ? SE.settings_writing : SE.settings_reading,
						},
					});
				},
				r,
				() => c(oe.translate),
				() => c(oe.write),
			]
		);
	}
	class lM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, aM, sM, gg, {
					closeWindow: 0,
					extensionContext: 7,
					textProcessingMode: 1,
					showProTranslateStatus: 2,
					showProWriteStatus: 3,
					onChangeTextProcessingMode: 4,
				});
		}
	}
	function cM(e) {
		let t, n, o, i, r;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('button')),
					(o.textContent = `${chrome.i18n.getMessage('ui_alternatives_title')}`),
					(i = Bg()),
					(r = zg('button')),
					(r.textContent = `${chrome.i18n.getMessage('ui_inline_translation_dictionary')}`),
					Gg(o, 'class', 'tab svelte-1xvv6wq'),
					Gg(r, 'class', 'tab svelte-1xvv6wq'),
					Gg(n, 'class', 'tabs-container svelte-1xvv6wq'),
					Gg(t, 'class', 'dl-review-footer svelte-1xvv6wq');
			},
			m(e, s) {
				Ng(e, t, s), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	class dM extends Yh {
		constructor(e) {
			super(), Vh(this, e, null, cM, gg, {});
		}
	}
	function uM(e) {
		let t, n;
		return (
			(t = new lM({
				props: {
					closeWindow: e[0],
					extensionContext: e[3],
					textProcessingMode: e[4],
					showProTranslateStatus: e[5],
					showProWriteStatus: e[6],
					onChangeTextProcessingMode: e[7],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n && (o.closeWindow = e[0]),
						8 & n && (o.extensionContext = e[3]),
						16 & n && (o.textProcessingMode = e[4]),
						32 & n && (o.showProTranslateStatus = e[5]),
						64 & n && (o.showProWriteStatus = e[6]),
						128 & n && (o.onChangeTextProcessingMode = e[7]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function pM(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = e[2] && uM(e);
		const c = e[10].default,
			d = _g(c, e, e[9], null);
		return (
			(r = new dM({})),
			{
				c() {
					(t = zg('div')),
						l && l.c(),
						(n = Bg()),
						(o = zg('div')),
						d && d.c(),
						(i = Bg()),
						jh(r.$$.fragment),
						Gg(o, 'class', 'dl-content svelte-jwy61a'),
						Gg(
							t,
							'class',
							(s = Eg(`dl-layout ${e[1] && 'dl-layout--with-lang-selector'}`) + ' svelte-jwy61a'),
						),
						Gg(t, 'translate', 'no'),
						Gg(t, 'dir', e[8]);
				},
				m(e, s) {
					Ng(e, t, s),
						l && l.m(t, null),
						Ag(t, n),
						Ag(t, o),
						d && d.m(o, null),
						Ag(t, i),
						qh(r, t, null),
						(a = !0);
				},
				p(e, [o]) {
					e[2]
						? l
							? (l.p(e, o), 4 & o && Dh(l, 1))
							: ((l = uM(e)), l.c(), Dh(l, 1), l.m(t, n))
						: l &&
						  (Oh(),
						  Ph(l, 1, 1, () => {
								l = null;
						  }),
						  Nh()),
						d && d.p && (!a || 512 & o) && wg(d, c, e, e[9], a ? yg(c, e[9], o, null) : bg(e[9]), null),
						(!a ||
							(2 & o &&
								s !== (s = Eg(`dl-layout ${e[1] && 'dl-layout--with-lang-selector'}`) + ' svelte-jwy61a'))) &&
							Gg(t, 'class', s);
				},
				i(e) {
					a || (Dh(l), Dh(d, e), Dh(r.$$.fragment, e), (a = !0));
				},
				o(e) {
					Ph(l), Ph(d, e), Ph(r.$$.fragment, e), (a = !1);
				},
				d(e) {
					e && Dg(t), l && l.d(), d && d.d(e), Gh(r);
				},
			}
		);
	}
	function mM(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t;
		const r = gh('text_direction');
		let { closeWindow: s } = t,
			{ showLangSelect: a = !1 } = t,
			{ withHeader: l = !0 } = t,
			{ extensionContext: c } = t,
			{ textProcessingMode: d = oe.translate } = t,
			{ showProTranslateStatus: u = !1 } = t,
			{ showProWriteStatus: p = !1 } = t,
			{ onChangeTextProcessingMode: m = () => {} } = t;
		return (
			(e.$$set = (e) => {
				'closeWindow' in e && n(0, (s = e.closeWindow)),
					'showLangSelect' in e && n(1, (a = e.showLangSelect)),
					'withHeader' in e && n(2, (l = e.withHeader)),
					'extensionContext' in e && n(3, (c = e.extensionContext)),
					'textProcessingMode' in e && n(4, (d = e.textProcessingMode)),
					'showProTranslateStatus' in e && n(5, (u = e.showProTranslateStatus)),
					'showProWriteStatus' in e && n(6, (p = e.showProWriteStatus)),
					'onChangeTextProcessingMode' in e && n(7, (m = e.onChangeTextProcessingMode)),
					'$$scope' in e && n(9, (i = e.$$scope));
			}),
			[s, a, l, c, d, u, p, m, r, i, o]
		);
	}
	class gM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, mM, pM, gg, {
					closeWindow: 0,
					showLangSelect: 1,
					withHeader: 2,
					extensionContext: 3,
					textProcessingMode: 4,
					showProTranslateStatus: 5,
					showProWriteStatus: 6,
					onChangeTextProcessingMode: 7,
				});
		}
	}
	const hM = {
		ITA_REQUEST_TRANSLATION: 'ITA_REQUEST_TRANSLATION',
		ITA_SOURCE_LANGUAGE: 'ITA_SOURCE_LANGUAGE',
		ITA_SOURCE_LANGUAGE_IS_AUTO_DETECTED: 'ITA_SOURCE_LANGUAGE_IS_AUTO_DETECTED',
		ITA_TARGET_TEXT_FIELD: 'ITA_TARGET_TEXT_FIELD',
		ITA_UPDATE_TARGET_LANGUAGE: 'ITA_UPDATE_TARGET_LANGUAGE',
	};
	function fM(t, n, o) {
		switch (t.action) {
			case 'dlTranslate':
				t.sourceLang && vN(t.sourceLang, h), o();
				break;
			case 'dlShowOriginal':
				pw.update({
					translationState: d.showOriginal,
				}),
					o();
				break;
			case 'dlDefaultPopUpMounting':
				e.websiteData.translationState === d.none && fR(), wR(), o();
				break;
			case 'dlTabChanged':
				setTimeout(LN, 500), o();
				break;
			case 'dlTranslateInline':
				LN().then(() => {
					fN(t);
				}),
					o();
				break;
			case 'dlTranslateSelectionRightClick':
				LN().then(() => _N(t.payload)), o();
				break;
			case 'dlGetWebsiteData':
				LN().then(() => o(e.websiteData));
				break;
			case 'dlShowNotification':
				DR(t.payload.type, t.payload.options), o();
				break;
			case 'dlErrorVisibility':
				console.log('content listener', t), NN(t.payload.state), o();
				break;
			case 'dlShowAskForAReviewPopup':
				PR(ee.initial), o();
				break;
			case 'dlShowCustomerSegmentationSurvey':
				PR(ee.customer_segmentation), o();
				break;
			case 'dlShowArabicSurveyPopup':
				PR(ee.arabic_survey), o();
				break;
			case 'dlShowAlert':
				UN(t.payload), o();
				break;
			case 'dlShowGmailFeedbackPopup':
				PR(ee.gmail), o();
				break;
			case 'dlShowSlidesFeedbackPopup':
				PR(ee.gslides), o();
		}
		return !0;
	}
	let _M;
	function vM(e) {
		_M &&
			(Qt() && console.log(`Sending message to background port:\n type: ${e.type}, payload: ${e.payload}`),
			_M.postMessage(e));
	}
	function yM(e) {
		switch (
			(Qt() &&
				console.log(
					`Received message from background port - type: ${e.type}, payload: ${Object.toString(e.payload)}`,
				),
			e.type)
		) {
			case hM.ITA_TARGET_TEXT_FIELD:
				BN(e.payload.targetText);
				break;
			case hM.ITA_SOURCE_LANGUAGE:
				FN(e.payload.language);
				break;
			case hM.ITA_SOURCE_LANGUAGE_IS_AUTO_DETECTED:
				WN(e.payload.isAutoDetected);
				break;
			default:
				Qt() && console.log(`Unrecognised message type:\n ${e.type}`);
		}
	}
	function wM(e) {
		let t,
			n,
			o,
			i,
			r = chrome.i18n.getMessage(`supported_languages_${e[2].itaSourceLanguage}`) + '',
			s = e[2].itaSourceLanguageIsAutoDetected && bM();
		return {
			c() {
				(t = zg('div')),
					(n = zg('span')),
					(o = Hg(r)),
					(i = Bg()),
					s && s.c(),
					Gg(n, 'class', 'source-language-label svelte-gpr70l');
			},
			m(e, r) {
				Ng(e, t, r), Ag(t, n), Ag(n, o), Ag(t, i), s && s.m(t, null);
			},
			p(e, n) {
				4 & n &&
					r !== (r = chrome.i18n.getMessage(`supported_languages_${e[2].itaSourceLanguage}`) + '') &&
					Vg(o, r),
					e[2].itaSourceLanguageIsAutoDetected
						? s || ((s = bM()), s.c(), s.m(t, null))
						: s && (s.d(1), (s = null));
			},
			d(e) {
				e && Dg(t), s && s.d();
			},
		};
	}
	function bM(e) {
		let t;
		return {
			c() {
				(t = zg('span')), (t.textContent = '(detected)');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function EM(e) {
		let t, n, o, i;
		return (
			(o = new Tw({
				props: {
					value: e[3].selectedTargetLanguage,
					websiteSettings: e[0],
					customClass: 'dropdown__wrapper--header',
					fontSize: 'sm',
				},
			})),
			o.$on('selection', e[4]),
			{
				c() {
					(t = zg('div')),
						(t.innerHTML =
							'<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-gpr70l"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>'),
						(n = Bg()),
						jh(o.$$.fragment),
						Gg(t, 'class', 'arrow-icon svelte-gpr70l');
				},
				m(e, r) {
					Ng(e, t, r), Ng(e, n, r), qh(o, e, r), (i = !0);
				},
				p(e, t) {
					const n = {};
					8 & t && (n.value = e[3].selectedTargetLanguage), 1 & t && (n.websiteSettings = e[0]), o.$set(n);
				},
				i(e) {
					i || (Dh(o.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(o.$$.fragment, e), (i = !1);
				},
				d(e) {
					e && (Dg(t), Dg(n)), Gh(o, e);
				},
			}
		);
	}
	function SM(e) {
		let t,
			n,
			o,
			i = e[2].itaSourceLanguage && wM(e),
			r = e[3]?.selectedTargetLanguage && EM(e);
		return {
			c() {
				(t = zg('div')),
					i && i.c(),
					(n = Bg()),
					r && r.c(),
					Gg(t, 'class', 'language-selector-container svelte-gpr70l');
			},
			m(e, s) {
				Ng(e, t, s), i && i.m(t, null), Ag(t, n), r && r.m(t, null), (o = !0);
			},
			p(e, [o]) {
				e[2].itaSourceLanguage
					? i
						? i.p(e, o)
						: ((i = wM(e)), i.c(), i.m(t, n))
					: i && (i.d(1), (i = null)),
					e[3]?.selectedTargetLanguage
						? r
							? (r.p(e, o), 8 & o && Dh(r, 1))
							: ((r = EM(e)), r.c(), Dh(r, 1), r.m(t, null))
						: r &&
						  (Oh(),
						  Ph(r, 1, 1, () => {
								r = null;
						  }),
						  Nh());
			},
			i(e) {
				o || (Dh(r), (o = !0));
			},
			o(e) {
				Ph(r), (o = !1);
			},
			d(e) {
				e && Dg(t), i && i.d(), r && r.d();
			},
		};
	}
	function xM(e, t, n) {
		let o,
			i,
			r = lg,
			s = () => (r(), (r = hg(c, (e) => n(2, (o = e)))), c),
			a = lg,
			l = () => (a(), (a = hg(u, (e) => n(3, (i = e)))), u);
		e.$$.on_destroy.push(() => r()), e.$$.on_destroy.push(() => a());
		let { websiteSettings: c } = t;
		s();
		let { settings: u } = t;
		return (
			l(),
			(e.$$set = (e) => {
				'websiteSettings' in e && s(n(0, (c = e.websiteSettings))),
					'settings' in e && l(n(1, (u = e.settings)));
			}),
			[
				c,
				u,
				o,
				i,
				async function (e) {
					const t = e.detail.selectedOption;
					await u.set({
						selectedTargetLanguage: t.value,
						isTargetLanguageConfirmed: !0,
						regionalVariant: t.regionalVariant || '',
					}),
						c.update({
							translationState: d.ongoingTranslation,
						}),
						vM({
							type: hM.ITA_UPDATE_TARGET_LANGUAGE,
							payload: {
								language: t.value,
							},
						});
				},
			]
		);
	}
	class TM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, xM, SM, gg, {
					websiteSettings: 0,
					settings: 1,
				});
		}
	}
	function CM(e) {
		let t, n, o, i;
		return {
			c() {
				(t = zg('button')),
					(n = zg('div')),
					Gg(n, 'class', 'glossary-icon svelte-q1f4m0'),
					Gg(t, 'class', 'glossary-button svelte-q1f4m0'),
					Gg(t, 'aria-label', chrome.i18n.getMessage('glossary_label'));
			},
			m(r, s) {
				Ng(r, t, s), Ag(t, n), o || ((i = Wg(t, 'click', e[0])), (o = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (o = !1), i();
			},
		};
	}
	function $M(e) {
		let t, n, o;
		return (
			(n = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('glossary_label'),
					zIndex: '10000000000',
					isEnabled: !0,
					$$slots: {
						default: [CM],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'customisations-toolbar svelte-q1f4m0');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, [t]) {
					const o = {};
					2 & t &&
						(o.$$scope = {
							dirty: t,
							ctx: e,
						}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function kM(e) {
		return [
			function () {
				t({
					action: 'dlOpenInternalPage',
					payload: {
						destination: SE.settings_glossary,
					},
				});
			},
		];
	}
	class LM extends Yh {
		constructor(e) {
			super(), Vh(this, e, kM, $M, gg, {});
		}
	}
	function IM(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c = tT(e[2].translatedSnippet) + '';
		return (
			(n = new TM({
				props: {
					websiteSettings: e[0],
					settings: e[1],
				},
			})),
			(i = new LM({})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						(o = Bg()),
						jh(i.$$.fragment),
						(r = Bg()),
						(s = zg('div')),
						Gg(t, 'class', 'translate-toolbar-container svelte-rqfns0'),
						Gg(s, 'class', 'result-frame svelte-rqfns0'),
						Gg(s, 'dir', (a = Ot(e[3].selectedTargetLanguage)));
				},
				m(e, a) {
					Ng(e, t, a),
						qh(n, t, null),
						Ag(t, o),
						qh(i, t, null),
						Ng(e, r, a),
						Ng(e, s, a),
						(s.innerHTML = c),
						(l = !0);
				},
				p(e, t) {
					const o = {};
					1 & t && (o.websiteSettings = e[0]),
						2 & t && (o.settings = e[1]),
						n.$set(o),
						(!l || 4 & t) && c !== (c = tT(e[2].translatedSnippet) + '') && (s.innerHTML = c),
						(!l || (8 & t && a !== (a = Ot(e[3].selectedTargetLanguage)))) && Gg(s, 'dir', a);
				},
				i(e) {
					l || (Dh(n.$$.fragment, e), Dh(i.$$.fragment, e), (l = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), Ph(i.$$.fragment, e), (l = !1);
				},
				d(e) {
					e && (Dg(t), Dg(r), Dg(s)), Gh(n), Gh(i);
				},
			}
		);
	}
	function MM(e) {
		let t, n, o;
		return (
			(n = new EE({})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'loading-spinner-container svelte-rqfns0');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function AM(e) {
		let t, n, o, i;
		const r = [MM, IM],
			s = [];
		function a(e, t) {
			return null == e[2] || e[2].translationState === d.ongoingTranslation
				? 0
				: e[2].translatedSnippet
				? 1
				: -1;
		}
		return (
			~(n = a(e)) && (o = s[n] = r[n](e)),
			{
				c() {
					(t = zg('div')), o && o.c();
				},
				m(e, o) {
					Ng(e, t, o), ~n && s[n].m(t, null), (i = !0);
				},
				p(e, [i]) {
					let l = n;
					(n = a(e)),
						n === l
							? ~n && s[n].p(e, i)
							: (o &&
									(Oh(),
									Ph(s[l], 1, 1, () => {
										s[l] = null;
									}),
									Nh()),
							  ~n
									? ((o = s[n]), o ? o.p(e, i) : ((o = s[n] = r[n](e)), o.c()), Dh(o, 1), o.m(t, null))
									: (o = null));
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(e) {
					e && Dg(t), ~n && s[n].d();
				},
			}
		);
	}
	function RM(e, t, n) {
		let o,
			i,
			r = lg,
			s = () => (r(), (r = hg(c, (e) => n(2, (o = e)))), c),
			a = lg,
			l = () => (a(), (a = hg(d, (e) => n(3, (i = e)))), d);
		e.$$.on_destroy.push(() => r()), e.$$.on_destroy.push(() => a());
		let { websiteSettings: c } = t;
		s();
		let { settings: d } = t;
		return (
			l(),
			(e.$$set = (e) => {
				'websiteSettings' in e && s(n(0, (c = e.websiteSettings))),
					'settings' in e && l(n(1, (d = e.settings)));
			}),
			[c, d, o, i]
		);
	}
	class OM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, RM, AM, gg, {
					websiteSettings: 0,
					settings: 1,
				});
		}
	}
	function NM(e) {
		let t;
		return {
			c() {
				t = Hg('PLACEHOLDER for write');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function DM(e) {
		let t, n;
		return (
			(t = new OM({
				props: {
					websiteSettings: e[1],
					settings: Xh,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					2 & n && (o.websiteSettings = e[1]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function PM(e) {
		let t, n, o, i;
		const r = [DM, NM],
			s = [];
		function a(e, t) {
			return e[0] === oe.translate ? 0 : e[0] === oe.write ? 1 : -1;
		}
		return (
			~(n = a(e)) && (o = s[n] = r[n](e)),
			{
				c() {
					(t = zg('div')),
						o && o.c(),
						Gg(t, 'class', 'review-translate-write-container svelte-jxaaz5'),
						Gg(t, 'data-qa', 'deepl-review-translate-write-container'),
						Qg(t, 'error', e[3].error);
				},
				m(e, o) {
					Ng(e, t, o), ~n && s[n].m(t, null), (i = !0);
				},
				p(e, l) {
					let c = n;
					(n = a(e)),
						n === c
							? ~n && s[n].p(e, l)
							: (o &&
									(Oh(),
									Ph(s[c], 1, 1, () => {
										s[c] = null;
									}),
									Nh()),
							  ~n
									? ((o = s[n]), o ? o.p(e, l) : ((o = s[n] = r[n](e)), o.c()), Dh(o, 1), o.m(t, null))
									: (o = null)),
						(!i || 8 & l) && Qg(t, 'error', e[3].error);
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(e) {
					e && Dg(t), ~n && s[n].d();
				},
			}
		);
	}
	function zM(e) {
		let t, n, o;
		return (
			(n = new gM({
				props: {
					closeWindow: e[7],
					extensionContext: e[6],
					platformBehaviour: e[2],
					textProcessingMode: e[0],
					showProTranslateStatus: e[4],
					showProWriteStatus: e[5],
					onChangeTextProcessingMode: e[8],
					$$slots: {
						default: [PM],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment);
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, [t]) {
					const o = {};
					4 & t && (o.platformBehaviour = e[2]),
						1 & t && (o.textProcessingMode = e[0]),
						16 & t && (o.showProTranslateStatus = e[4]),
						32 & t && (o.showProWriteStatus = e[5]),
						4107 & t &&
							(o.$$scope = {
								dirty: t,
								ctx: e,
							}),
						n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function UM(e, n, o) {
		let i,
			r,
			s = lg,
			a = () => (s(), (s = hg(c, (e) => o(3, (r = e)))), c);
		fg(e, Xh, (e) => o(11, (i = e))), e.$$.on_destroy.push(() => s());
		let { closeTooltip: l } = n,
			{ websiteSettings: c } = n;
		a();
		let d,
			u,
			{ platformBehaviour: p = ne.default } = n,
			{ textProcessingMode: m = oe.translate } = n,
			{ setPositioningStatus: g } = n,
			h = S;
		return (
			(e.$$set = (e) => {
				'closeTooltip' in e && o(9, (l = e.closeTooltip)),
					'websiteSettings' in e && a(o(1, (c = e.websiteSettings))),
					'platformBehaviour' in e && o(2, (p = e.platformBehaviour)),
					'textProcessingMode' in e && o(0, (m = e.textProcessingMode)),
					'setPositioningStatus' in e && o(10, (g = e.setPositioningStatus));
			}),
			(e.$$.update = () => {
				1036 & e.$$.dirty &&
					!r.translationState &&
					p === ne.default &&
					g &&
					(g(!0),
					setTimeout(() => {
						g(!1);
					}, 600)),
					2048 & e.$$.dirty && o(4, (d = Ye(i, _e.TRANSLATOR))),
					2048 & e.$$.dirty && o(5, (u = Ye(i, _e.WRITE)));
			}),
			[
				m,
				c,
				p,
				r,
				d,
				u,
				h,
				function () {
					t({
						action: 'dlTrackUiAction',
						payload: {
							uiAction: W,
							nicheIntegration: p,
						},
					}),
						l();
				},
				(e) => {
					switch (e) {
						case oe.translate:
							o(0, (m = oe.translate));
							break;
						case oe.write:
							o(0, (m = oe.write));
							break;
						default:
							return;
					}
				},
				l,
				g,
				i,
			]
		);
	}
	class HM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, UM, zM, gg, {
					closeTooltip: 9,
					websiteSettings: 1,
					platformBehaviour: 2,
					textProcessingMode: 0,
					setPositioningStatus: 10,
				});
		}
	}
	function BM(e) {
		let t, n, o, i, r, s, a, l;
		return (
			(r = new HM({
				props: {
					closeTooltip: e[0],
					websiteSettings: e[1],
					platformBehaviour: e[2],
					textProcessingMode: e[3],
					setPositioningStatus: e[7],
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = Bg()),
						(i = zg('div')),
						jh(r.$$.fragment),
						Gg(n, 'class', 'review-window-drag-handle svelte-xlxdq7'),
						Gg(i, 'class', 'review-window-body svelte-xlxdq7'),
						Gg(t, 'data-qa', 'review-translate-write-window'),
						Gg(t, 'class', 'review-window-wrapper svelte-xlxdq7'),
						Gg(t, 'role', 'dialog'),
						Gg(t, 'style', e[6]),
						Gg(t, 'draggable', e[5]),
						Gg(t, 'dir', Ot());
				},
				m(c, d) {
					Ng(c, t, d),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						qh(r, i, null),
						e[18](t),
						(s = !0),
						a ||
							((l = [
								Wg(n, 'mouseover', e[8]),
								Wg(n, 'mouseout', e[9]),
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[17]),
								Wg(t, 'dragstart', e[10]),
							]),
							(a = !0));
				},
				p(e, [n]) {
					const o = {};
					1 & n && (o.closeTooltip = e[0]),
						2 & n && (o.websiteSettings = e[1]),
						4 & n && (o.platformBehaviour = e[2]),
						8 & n && (o.textProcessingMode = e[3]),
						r.$set(o),
						(!s || 64 & n) && Gg(t, 'style', e[6]),
						(!s || 32 & n) && Gg(t, 'draggable', e[5]);
				},
				i(e) {
					s || (Dh(r.$$.fragment, e), (s = !0));
				},
				o(e) {
					Ph(r.$$.fragment, e), (s = !1);
				},
				d(n) {
					n && Dg(t), Gh(r), e[18](null), (a = !1), pg(l);
				},
			}
		);
	}
	function FM(e, t, n) {
		let o;
		fg(e, Xh, (e) => n(16, (o = e))), mh('deepl_settings', Xh), mh('text_direction', Ot());
		let i,
			r,
			s,
			a,
			l,
			{ closeWindow: c } = t,
			{ websiteSettings: d } = t,
			{ replaceElement: u } = t,
			{ actualPosition: p } = t,
			{ dragContainerTo: m } = t,
			{ platformBehaviour: g = ne.default } = t,
			{ textProcessingMode: h = oe.translate } = t,
			f = !1,
			_ = !1,
			v = 'visibility: hidden; opacity:0; height:0;';
		let y = {
			x: 0,
			y: 0,
		};
		function w(e) {
			let t = eT({
				dropEvent: e,
				document: document,
				dragConfig: {
					dragOffset: y,
					dragElementRect: a,
					dragBarWidth: 16,
				},
			});
			t && m(t);
		}
		dh(() => {
			n(15, (l = o.isLoggedIn)),
				setTimeout(() => {
					n(6, (v = ''));
				}, 100),
				document.addEventListener('dragover', Jx),
				document.addEventListener('drop', w),
				(s = p_(i, ({ clientHeight: e }) => {
					n(14, (r = e));
				}));
		}),
			uh(() => {
				document.removeEventListener('dragover', Jx), document.removeEventListener('drop', w), s && s();
			});
		return (
			(e.$$set = (e) => {
				'closeWindow' in e && n(0, (c = e.closeWindow)),
					'websiteSettings' in e && n(1, (d = e.websiteSettings)),
					'replaceElement' in e && n(12, (u = e.replaceElement)),
					'actualPosition' in e && n(11, (p = e.actualPosition)),
					'dragContainerTo' in e && n(13, (m = e.dragContainerTo)),
					'platformBehaviour' in e && n(2, (g = e.platformBehaviour)),
					'textProcessingMode' in e && n(3, (h = e.textProcessingMode));
			}),
			(e.$$.update = () => {
				var t, i;
				98305 & e.$$.dirty && !1 === l && !0 === o.isLoggedIn && c(),
					65536 & e.$$.dirty && n(11, ((t = o.inlineTranslateTooltipPosition), (p = u(r, t)))),
					16384 & e.$$.dirty &&
						n(11, ((i = r), (p = _ || g === ne.gdocs ? u(i, o.inlineTranslateTooltipPosition) : p)));
			}),
			[
				c,
				d,
				g,
				h,
				i,
				f,
				v,
				(e) => {
					_ = e;
				},
				function () {
					n(5, (f = !0));
				},
				function () {
					n(5, (f = !1));
				},
				function (e) {
					const t = Qx(e, g);
					(y = t.dragOffset), (a = t.dragElementRect);
				},
				p,
				u,
				m,
				r,
				l,
				o,
				() => c(),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(i = e), n(4, i);
					});
				},
			]
		);
	}
	class WM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, FM, BM, gg, {
					closeWindow: 0,
					websiteSettings: 1,
					replaceElement: 12,
					actualPosition: 11,
					dragContainerTo: 13,
					platformBehaviour: 2,
					textProcessingMode: 3,
				});
		}
	}
	class jM {
		static HTML_TAG_NAME = 'deepl-review-translate-write-window';
		static createElement = (e = document) => {
			const t = e.createElement(jM.HTML_TAG_NAME),
				n = new jM(t);
			return (
				(t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), (t.dragContainerTo = n.dragContainerTo), t
			);
		};
		#e = void 0;
		constructor(e) {
			(this.domElement = e),
				(this.domElement.platformBehaviour = ne.default),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.mainComponent,
				this.domElement.selectionRange;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = (e, t, n) => {
			const { deepl_inline_ui: o } = O;
			this.domElement.shadowContainer &&
				this.domElement.shadowContainer.childElementCount > 0 &&
				this.cleanupDOM(),
				this.domElement.platformBehaviour === ne.default &&
					(this.domElement.selectionRange = window.getSelection().getRangeAt(0));
			let i = e(this.domElement.selectionRange);
			this.domElement.shadowContainer.appendChild(this.domElement.container);
			let r =
					'visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: ' +
					(o.z_index - 100),
				s = `position: absolute; top: ${i.y}px; left: ${i.x - 200}px; z-index: ${o.z_index - 100};`;
			switch (this.domElement.platformBehaviour) {
				case ne.gdocs:
					s += 'top: 600px; left: 10px;';
					break;
				case ne.default:
				default:
					s += '';
			}
			(this.domElement.shadowContainer.style.cssText = r),
				(this.domElement.container.style.cssText = s),
				(this.domElement.mainComponent = new WM({
					target: this.domElement.container,
					props: {
						closeWindow: t,
						websiteSettings: n,
						replaceElement: (t, n) => {
							i = e(this.domElement.selectionRange);
							const o = {
								coords: i,
								clientHeight: t,
								TOOLTIP_WIDTH: 550,
								TRIGGER_MENU_ICON_HEIGHT: 30,
								style: this.domElement.container.style,
							};
							let r = n;
							const s = Zx(o),
								[a, l] = Xx(n),
								c = this.#e ?? {
									x: 0,
									y: 0,
								};
							if (this.domElement.platformBehaviour === ne.gdocs) {
								for (const e of l)
									if (Kx(e, o)) {
										Yx(e, o, c);
										break;
									}
							} else
								for (const e of a)
									if (Kx(e, o)) {
										(r = 'middle' !== e ? e : void 0), Vx(e, o, c);
										break;
									}
							return {
								...s,
								current: r,
							};
						},
						platformBehaviour: this.domElement.platformBehaviour,
						textProcessingMode: this.domElement.textProcessingMode,
						dragContainerTo: this.dragContainerTo,
					},
				}));
		};
		dragContainerTo = (e) => {
			(this.#e = {
				y: parseInt(this.domElement.container.style.top) - e.y + (this.#e?.y ?? 0),
				x: parseInt(this.domElement.container.style.left) - e.x + (this.#e?.x ?? 0),
			}),
				(this.domElement.container.style.top = `${e.y}px`),
				(this.domElement.container.style.left = `${e.x}px`);
		};
		cleanupDOM = () => {
			this.domElement.container.remove(),
				this.domElement.shadowContainer.remove(),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	const qM = 'deepl-writing-ui-added',
		GM = 5e3;
	function VM(e) {
		let t, n, o, i, r, s, a, l;
		return {
			c() {
				(t = Ug('svg')),
					(n = Ug('g')),
					(o = Ug('path')),
					(i = Ug('path')),
					(r = Ug('path')),
					(s = Ug('defs')),
					(a = Ug('clipPath')),
					(l = Ug('rect')),
					Gg(
						o,
						'd',
						'M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z',
					),
					Gg(o, 'fill', '#0F2B46'),
					Gg(
						i,
						'd',
						'M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z',
					),
					Gg(i, 'fill', 'white'),
					Gg(
						r,
						'd',
						'M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z',
					),
					Gg(r, 'fill', 'white'),
					Gg(n, 'clip-path', 'url(#clip0)'),
					Gg(l, 'width', '18.5294'),
					Gg(l, 'height', '19'),
					Gg(l, 'fill', 'white'),
					Gg(l, 'transform', 'matrix(-1 0 0 1 18.5294 0)'),
					Gg(a, 'id', 'clip0'),
					Gg(t, 'width', e[1]),
					Gg(t, 'height', e[0]),
					Gg(t, 'class', 'deepl-logo-icon'),
					Gg(t, 'viewBox', '0 0 19 19'),
					Gg(t, 'fill', 'none'),
					Gg(t, 'xmlns', 'http://www.w3.org/2000/svg');
			},
			m(e, c) {
				Ng(e, t, c), Ag(t, n), Ag(n, o), Ag(n, i), Ag(n, r), Ag(t, s), Ag(s, a), Ag(a, l);
			},
			p(e, [n]) {
				2 & n && Gg(t, 'width', e[1]), 1 & n && Gg(t, 'height', e[0]);
			},
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function YM(e, t, n) {
		let { height: o = '16px' } = t,
			{ width: i = '16px' } = t;
		return (
			(e.$$set = (e) => {
				'height' in e && n(0, (o = e.height)), 'width' in e && n(1, (i = e.width));
			}),
			[o, i]
		);
	}
	class KM extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, YM, VM, gg, {
					height: 0,
					width: 1,
				});
		}
	}
	function ZM(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m = chrome.i18n.getMessage('gmail_char_limit_logged_in_body') + '';
		return {
			c() {
				(t = zg('div')),
					(n = Bg()),
					(o = zg('div')),
					(o.textContent = `${chrome.i18n.getMessage('gmail_char_limit_anon_title')}`),
					(i = Bg()),
					(r = zg('div')),
					(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('gmail_char_limit_anon_login_button')}`),
					(c = Bg()),
					(d = zg('button')),
					(d.textContent = `${chrome.i18n.getMessage('gmail_char_limit_anon_sign_up_button')}`),
					Gg(t, 'class', 'close-icon svelte-1pm9ytz'),
					Gg(o, 'class', 'title svelte-1pm9ytz'),
					Gg(r, 'class', 'body svelte-1pm9ytz'),
					Gg(l, 'class', 'secondary svelte-1pm9ytz'),
					Gg(d, 'class', 'primary svelte-1pm9ytz'),
					Gg(a, 'class', 'footer svelte-1pm9ytz');
			},
			m(g, h) {
				Ng(g, t, h),
					Ng(g, n, h),
					Ng(g, o, h),
					Ng(g, i, h),
					Ng(g, r, h),
					(r.innerHTML = m),
					Ng(g, s, h),
					Ng(g, a, h),
					Ag(a, l),
					Ag(a, c),
					Ag(a, d),
					u || ((p = [Wg(t, 'click', e[3]), Wg(l, 'click', e[4]), Wg(d, 'click', e[5])]), (u = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o), Dg(i), Dg(r), Dg(s), Dg(a)), (u = !1), pg(p);
			},
		};
	}
	function XM(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u = chrome.i18n.getMessage('gmail_char_limit_logged_in_body') + '';
		return {
			c() {
				(t = zg('div')),
					(n = Bg()),
					(o = zg('div')),
					(o.textContent = `${chrome.i18n.getMessage('gmail_char_limit_logged_in_title')}`),
					(i = Bg()),
					(r = zg('div')),
					(s = Bg()),
					(a = zg('div')),
					(l = zg('button')),
					(l.textContent = `${chrome.i18n.getMessage('gmail_char_limit_logged_in_cta_button')}`),
					Gg(t, 'class', 'close-icon svelte-1pm9ytz'),
					Gg(o, 'class', 'title svelte-1pm9ytz'),
					Gg(r, 'class', 'body svelte-1pm9ytz'),
					Gg(l, 'class', 'primary svelte-1pm9ytz'),
					Gg(a, 'class', 'footer svelte-1pm9ytz');
			},
			m(p, m) {
				Ng(p, t, m),
					Ng(p, n, m),
					Ng(p, o, m),
					Ng(p, i, m),
					Ng(p, r, m),
					(r.innerHTML = u),
					Ng(p, s, m),
					Ng(p, a, m),
					Ag(a, l),
					c || ((d = [Wg(t, 'click', e[3]), Wg(l, 'click', e[5])]), (c = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && (Dg(t), Dg(n), Dg(o), Dg(i), Dg(r), Dg(s), Dg(a)), (c = !1), pg(d);
			},
		};
	}
	function JM(e) {
		let t, n;
		return (
			(t = new wy({
				props: {
					error: {
						error: e[0],
					},
					close: e[3],
					config: {
						nicheIntegration: ne.gmail,
					},
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n &&
						(o.error = {
							error: e[0],
						}),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function QM(e) {
		let t, n, o, i, r, s;
		const a = [JM, XM, ZM],
			l = [];
		function c(e, t) {
			return e[2] ? 0 : e[1] ? 1 : 2;
		}
		return (
			(n = c(e)),
			(o = l[n] = a[n](e)),
			{
				c() {
					(t = zg('div')),
						o.c(),
						Gg(t, 'class', 'dl-gmail-character-limit-popup svelte-1pm9ytz'),
						Gg(t, 'dir', Ot()),
						Qg(t, 'is-translator-limit', !e[2]);
				},
				m(o, a) {
					Ng(o, t, a),
						l[n].m(t, null),
						(i = !0),
						r ||
							((s = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
										exceptions: ['.deepl-gmail-message-container', '.deepl-gmail-write-toolbar'],
									}),
								),
								Wg(t, 'click_outside', e[9]),
							]),
							(r = !0));
				},
				p(e, [r]) {
					let s = n;
					(n = c(e)),
						n === s
							? l[n].p(e, r)
							: (Oh(),
							  Ph(l[s], 1, 1, () => {
									l[s] = null;
							  }),
							  Nh(),
							  (o = l[n]),
							  o ? o.p(e, r) : ((o = l[n] = a[n](e)), o.c()),
							  Dh(o, 1),
							  o.m(t, null)),
						(!i || 4 & r) && Qg(t, 'is-translator-limit', !e[2]);
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(e) {
					e && Dg(t), l[n].d(), (r = !1), pg(s);
				},
			}
		);
	}
	function eA(e, n, o) {
		let i, r;
		fg(e, Xh, (e) => o(8, (r = e))), mh('text_direction', Ot());
		let { onCloseCharLimitPopup: s } = n,
			{ cleanUpDOM: a } = n,
			{ limitType: l } = n,
			c = !1,
			d = !1;
		const u = () => {
			s && s(), a && a();
		};
		return (
			(e.$$set = (e) => {
				'onCloseCharLimitPopup' in e && o(6, (s = e.onCloseCharLimitPopup)),
					'cleanUpDOM' in e && o(7, (a = e.cleanUpDOM)),
					'limitType' in e && o(0, (l = e.limitType));
			}),
			(e.$$.update = () => {
				1 & e.$$.dirty && o(2, (i = l === vf || l === yf)),
					256 & e.$$.dirty && o(1, (d = !0 === r.isLoggedIn));
			}),
			[
				l,
				d,
				i,
				u,
				() => {
					c ||
						(t({
							action: 'dlTrackUILocationClicked',
							payload: P.gmailCharLimitLogin,
						}),
						(c = !0),
						t({
							action: 'dlRequestLogin',
						})
							.then(() => {
								(c = !1), u();
							})
							.catch(() => {
								c = !1;
							}));
				},
				() => {
					t({
						action: 'dlExternalURLRedirect',
						payload: {
							destination: ev,
							utmContent: 'gmail_customization',
						},
					}),
						u();
				},
				s,
				a,
				r,
				() => {
					u();
				},
			]
		);
	}
	class tA extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, eA, QM, gg, {
					onCloseCharLimitPopup: 6,
					cleanUpDOM: 7,
					limitType: 0,
				});
		}
	}
	class nA {
		static HTML_TAG_NAME = 'deepl-gmail-character-limit-popup';
		static createElement = (e = document) => {
			const t = e.createElement(nA.HTML_TAG_NAME),
				n = new nA(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = ({ onCloseCharLimitPopup: e, limitType: t }) => {
			this.mainComponent = new tA({
				target: this.domElement.shadowContainer,
				props: {
					cleanUpDOM: this.domElement.cleanupDOM,
					onCloseCharLimitPopup: e,
					limitType: t,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function oA(e) {
		let t, n, o, i;
		const r = [sA, rA],
			s = [];
		function a(e, t) {
			return e[8] ? 0 : 1;
		}
		return (
			(n = a(e)),
			(o = s[n] = r[n](e)),
			{
				c() {
					(t = zg('div')),
						o.c(),
						Gg(t, 'class', 'dl-gmail-translate-toolbar svelte-eo75ae'),
						Qg(t, 'hasLoaded', e[3]),
						Qg(t, 'isExpanded', e[4]);
				},
				m(e, o) {
					Ng(e, t, o), s[n].m(t, null), (i = !0);
				},
				p(e, l) {
					let c = n;
					(n = a(e)),
						n === c
							? s[n].p(e, l)
							: (Oh(),
							  Ph(s[c], 1, 1, () => {
									s[c] = null;
							  }),
							  Nh(),
							  (o = s[n]),
							  o ? o.p(e, l) : ((o = s[n] = r[n](e)), o.c()),
							  Dh(o, 1),
							  o.m(t, null)),
						(!i || 8 & l[0]) && Qg(t, 'hasLoaded', e[3]),
						(!i || 16 & l[0]) && Qg(t, 'isExpanded', e[4]);
				},
				i(e) {
					i || (Dh(o), (i = !0));
				},
				o(e) {
					Ph(o), (i = !1);
				},
				d(e) {
					e && Dg(t), s[n].d();
				},
			}
		);
	}
	function iA(e) {
		let t, n, o, i, r, s, a, l, c;
		return (
			(o = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('gmail_compose_undo_icon'),
					zIndex: e[14].z_index,
					$$slots: {
						default: [dA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(s = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('gmail_compose_accept_icon'),
					zIndex: e[14].z_index,
					$$slots: {
						default: [uA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						jh(o.$$.fragment),
						(i = Bg()),
						(r = zg('div')),
						jh(s.$$.fragment),
						Gg(n, 'class', 'wrapper undo-wrapper svelte-eo75ae'),
						Gg(r, 'class', 'wrapper accept-wrapper svelte-eo75ae'),
						Gg(t, 'class', 'accept-changes svelte-eo75ae');
				},
				m(d, u) {
					Ng(d, t, u),
						Ag(t, n),
						qh(o, n, null),
						Ag(t, i),
						Ag(t, r),
						qh(s, r, null),
						(a = !0),
						l ||
							((c = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
										exceptions: ['.deepl-gmail-message-container'],
									}),
								),
								Wg(t, 'click_outside', e[17]),
							]),
							(l = !0));
				},
				p(e, t) {
					const n = {};
					16777216 & t[1] &&
						(n.$$scope = {
							dirty: t,
							ctx: e,
						}),
						o.$set(n);
					const i = {};
					16777216 & t[1] &&
						(i.$$scope = {
							dirty: t,
							ctx: e,
						}),
						s.$set(i);
				},
				i(e) {
					a || (Dh(o.$$.fragment, e), Dh(s.$$.fragment, e), (a = !0));
				},
				o(e) {
					Ph(o.$$.fragment, e), Ph(s.$$.fragment, e), (a = !1);
				},
				d(e) {
					e && Dg(t), Gh(o), Gh(s), (l = !1), pg(c);
				},
			}
		);
	}
	function rA(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S,
			x,
			T,
			C,
			$ = chrome.i18n.getMessage('gmail_compose_translate_button') + '',
			k = Ye(e[13], _e.TRANSLATOR);
		(r = new w_({
			props: {
				selectedOption: e[1],
				items: e[7],
				placeholder: '...',
				allowLabelHtml: !0,
			},
		})),
			r.$on('valueselected', e[21]),
			(p = new Tw({
				props: {
					value: e[12] || e[13].targetLanguageUserInput,
					disabled: !1,
					fontSize: 'sm',
				},
			})),
			p.$on('selection', e[22]);
		let L = k && aA();
		return (
			(S = new u_({
				props: {
					isEnabled: !0,
					tooltip: Ke(e[13], _e.WRITE)
						? chrome.i18n.getMessage('input_translation_tooltip_improve_disabled_by_admin')
						: chrome.i18n.getMessage('input_translation_tooltip_improve_supported_lang'),
					zIndex: e[14].z_index,
					multiline: !0,
					$$slots: {
						default: [cA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(n.textContent = `${chrome.i18n.getMessage('gmail_compose_translate_from')}`),
						(o = Bg()),
						(i = zg('div')),
						jh(r.$$.fragment),
						(s = Bg()),
						(a = zg('div')),
						(l = zg('div')),
						(l.textContent = `${chrome.i18n.getMessage('gmail_compose_translate_into')}`),
						(c = Bg()),
						(d = zg('div')),
						(u = zg('div')),
						jh(p.$$.fragment),
						(m = Bg()),
						(g = zg('div')),
						(h = zg('button')),
						(f = Hg($)),
						(_ = Bg()),
						L && L.c(),
						(y = Bg()),
						(w = zg('div')),
						(b = Bg()),
						(E = zg('div')),
						jh(S.$$.fragment),
						Gg(n, 'class', 'translation-label svelte-eo75ae'),
						Gg(i, 'class', 'wrapper shortcode-wrapper svelte-eo75ae'),
						Gg(t, 'class', 'translation-selection-wrapper svelte-eo75ae'),
						Gg(l, 'class', 'translation-label svelte-eo75ae'),
						Gg(u, 'class', 'dropdown'),
						Gg(d, 'class', 'wrapper language-wrapper svelte-eo75ae'),
						Gg(a, 'class', 'translation-selection-wrapper svelte-eo75ae'),
						(h.disabled = v = e[5] || !e[12]),
						Gg(h, 'class', 'svelte-eo75ae'),
						Qg(h, 'isTranslating', e[5]),
						Gg(g, 'class', 'wrapper button-wrapper'),
						Gg(w, 'class', 'divider svelte-eo75ae'),
						Gg(E, 'class', 'wrapper button-wrapper');
				},
				m(v, $) {
					Ng(v, t, $),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						qh(r, i, null),
						Ng(v, s, $),
						Ng(v, a, $),
						Ag(a, l),
						Ag(a, c),
						Ag(a, d),
						Ag(d, u),
						qh(p, u, null),
						Ng(v, m, $),
						Ng(v, g, $),
						Ag(g, h),
						Ag(h, f),
						Ag(h, _),
						L && L.m(h, null),
						Ng(v, y, $),
						Ng(v, w, $),
						Ng(v, b, $),
						Ng(v, E, $),
						qh(S, E, null),
						(x = !0),
						T || ((C = Wg(h, 'mousedown', qg(jg(e[15])))), (T = !0));
				},
				p(e, t) {
					const n = {};
					2 & t[0] && (n.selectedOption = e[1]), 128 & t[0] && (n.items = e[7]), r.$set(n);
					const o = {};
					12288 & t[0] && (o.value = e[12] || e[13].targetLanguageUserInput),
						p.$set(o),
						8192 & t[0] && (k = Ye(e[13], _e.TRANSLATOR)),
						k
							? L
								? 8192 & t[0] && Dh(L, 1)
								: ((L = aA()), L.c(), Dh(L, 1), L.m(h, null))
							: L &&
							  (Oh(),
							  Ph(L, 1, 1, () => {
									L = null;
							  }),
							  Nh()),
						(!x || (4128 & t[0] && v !== (v = e[5] || !e[12]))) && (h.disabled = v),
						(!x || 32 & t[0]) && Qg(h, 'isTranslating', e[5]);
					const i = {};
					8192 & t[0] &&
						(i.tooltip = Ke(e[13], _e.WRITE)
							? chrome.i18n.getMessage('input_translation_tooltip_improve_disabled_by_admin')
							: chrome.i18n.getMessage('input_translation_tooltip_improve_supported_lang')),
						(8288 & t[0]) | (16777216 & t[1]) &&
							(i.$$scope = {
								dirty: t,
								ctx: e,
							}),
						S.$set(i);
				},
				i(e) {
					x || (Dh(r.$$.fragment, e), Dh(p.$$.fragment, e), Dh(L), Dh(S.$$.fragment, e), (x = !0));
				},
				o(e) {
					Ph(r.$$.fragment, e), Ph(p.$$.fragment, e), Ph(L), Ph(S.$$.fragment, e), (x = !1);
				},
				d(e) {
					e && (Dg(t), Dg(s), Dg(a), Dg(m), Dg(g), Dg(y), Dg(w), Dg(b), Dg(E)),
						Gh(r),
						Gh(p),
						L && L.d(),
						Gh(S),
						(T = !1),
						C();
				},
			}
		);
	}
	function sA(e) {
		let t, n;
		return (
			(t = new EE({})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p: lg,
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function aA(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 16,
					marginStart: 8,
					alternateColor: 'white',
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function lA(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 16,
					marginStart: 8,
					alternateColor: 'white',
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function cA(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = chrome.i18n.getMessage('gmail_compose_improve_button') + '',
			c = Ye(e[13], _e.WRITE),
			d = c && lA();
		return {
			c() {
				(t = zg('button')),
					(n = Hg(l)),
					(o = Bg()),
					d && d.c(),
					(t.disabled = i = Ke(e[13], _e.WRITE) || e[5] || !e[6]),
					Gg(t, 'class', 'svelte-eo75ae'),
					Qg(t, 'isTranslating', e[5]);
			},
			m(i, l) {
				Ng(i, t, l),
					Ag(t, n),
					Ag(t, o),
					d && d.m(t, null),
					(r = !0),
					s || ((a = Wg(t, 'mousedown', qg(jg(e[16])))), (s = !0));
			},
			p(e, n) {
				8192 & n[0] && (c = Ye(e[13], _e.WRITE)),
					c
						? d
							? 8192 & n[0] && Dh(d, 1)
							: ((d = lA()), d.c(), Dh(d, 1), d.m(t, null))
						: d &&
						  (Oh(),
						  Ph(d, 1, 1, () => {
								d = null;
						  }),
						  Nh()),
					(!r || (8288 & n[0] && i !== (i = Ke(e[13], _e.WRITE) || e[5] || !e[6]))) && (t.disabled = i),
					(!r || 32 & n[0]) && Qg(t, 'isTranslating', e[5]);
			},
			i(e) {
				r || (Dh(d), (r = !0));
			},
			o(e) {
				Ph(d), (r = !1);
			},
			d(e) {
				e && Dg(t), d && d.d(), (s = !1), a();
			},
		};
	}
	function dA(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML =
						'<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>'),
					Gg(t, 'class', 'confirm-button svelte-eo75ae');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', qg(jg(e[18])))), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function uA(e) {
		let t, n, o;
		return {
			c() {
				(t = zg('button')),
					(t.innerHTML =
						'<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>'),
					Gg(t, 'class', 'confirm-button right svelte-eo75ae');
			},
			m(i, r) {
				Ng(i, t, r), n || ((o = Wg(t, 'click', qg(jg(e[17])))), (n = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (n = !1), o();
			},
		};
	}
	function pA(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p;
		const m = [iA, oA],
			g = [];
		function h(e, t) {
			return e[2] ? 0 : 1;
		}
		return (
			(o = h(e)),
			(i = g[o] = m[o](e)),
			(l = new KM({
				props: {
					height: '20px',
					width: '20px',
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						i.c(),
						(r = Bg()),
						(s = zg('div')),
						(a = zg('div')),
						jh(l.$$.fragment),
						Gg(a, 'class', 'wrapper icon-wrapper svelte-eo75ae'),
						Gg(s, 'class', 'dl-toolbar-closed svelte-eo75ae'),
						Gg(n, 'class', 'dl-toolbar-positioner svelte-eo75ae'),
						Gg(t, 'class', 'deepl-gmail-write-toolbar svelte-eo75ae'),
						Gg(t, 'style', (c = `top: ${e[9]}px; left: ${e[10]}px`)),
						Gg(t, 'dir', Ot());
				},
				m(i, c) {
					Ng(i, t, c),
						Ag(t, n),
						g[o].m(n, null),
						Ag(n, r),
						Ag(n, s),
						Ag(s, a),
						qh(l, a, null),
						(d = !0),
						u ||
							((p = [
								Wg(a, 'click', e[23]),
								Wg(t, 'click', qg(jg(e[24]))),
								xg(
									r_.call(null, t, {
										isShadow: !0,
										exceptions: ['.deepl-gmail-message-container'],
									}),
								),
								Wg(t, 'click_outside', e[25]),
							]),
							(u = !0));
				},
				p(e, s) {
					let a = o;
					(o = h(e)),
						o === a
							? g[o].p(e, s)
							: (Oh(),
							  Ph(g[a], 1, 1, () => {
									g[a] = null;
							  }),
							  Nh(),
							  (i = g[o]),
							  i ? i.p(e, s) : ((i = g[o] = m[o](e)), i.c()),
							  Dh(i, 1),
							  i.m(n, r)),
						(!d || (1536 & s[0] && c !== (c = `top: ${e[9]}px; left: ${e[10]}px`))) && Gg(t, 'style', c);
				},
				i(e) {
					d || (Dh(i), Dh(l.$$.fragment, e), (d = !0));
				},
				o(e) {
					Ph(i), Ph(l.$$.fragment, e), (d = !1);
				},
				d(e) {
					e && Dg(t), g[o].d(), Gh(l), (u = !1), pg(p);
				},
			}
		);
	}
	function mA(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(13, (i = e))), mh('text_direction', Ot());
		const { deepl_inline_ui: r } = O;
		let { messageContainer: s } = n,
			{ updateLockStatus: a } = n,
			{ subjectInput: l } = n;
		const c = 'WRITE',
			d = 'TRANSLATE';
		let u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S,
			x,
			T = null,
			C = !1,
			$ = !1,
			k = !1,
			L = !1;
		mh('deepl_settings', Xh),
			dh(async () => {
				s &&
					(s.addEventListener('input', M),
					s.addEventListener('paste', M),
					s.classList.add('deepl-gmail-message-container'),
					I(),
					l && l.value && (f = l.value)),
					o(7, (g = GA())),
					o(12, (x = i.targetLanguageUserInput)),
					B(),
					j(),
					window.addEventListener('popstate', N);
			}),
			uh(() => {
				window.removeEventListener('popstate', N),
					s.removeEventListener('input', M),
					s.removeEventListener('paste', M),
					s.classList.remove('deepl-gmail-message-container'),
					F();
			});
		const I = async () => {
				const e = st(s.innerHTML),
					t = e.replace(/<[^>]+>/g, '');
				const n = await kt(t);
				n.length &&
					((e) => {
						const t = g.find((t) => t.value === e);
						t && o(1, (T = t));
					})(n);
			},
			M = () => {
				C && R(!1), A();
			},
			A = () => {
				I();
			},
			R = (e, t) => {
				if (!e) return o(2, (C = !1)), (p = null), void (u = null);
				o(2, (C = !0)), (p = t);
			},
			N = () => {
				document.querySelectorAll(nA.HTML_TAG_NAME).forEach((e) => {
					e.cleanupDOM, e.remove();
				});
			},
			D = (e, t = !0) => {
				for (; null !== e; ) {
					const n = e.getAttribute('role');
					if ('TABLE' === e.tagName && ('dialog' === n || 'presentation' === n))
						return t ? e.parentElement : e;
					e = e.parentElement;
				}
				return null;
			},
			P = (e) => {
				const t = D(s);
				t &&
					((_ = nA.createElement()),
					_.createDOM({
						onCloseCharLimitPopup: N,
						limitType: e,
					}),
					t.appendChild(_));
			},
			z = () => {
				o(8, (v = !0));
			},
			U = () => {
				o(8, (v = !1));
			},
			H = (e) => {
				pw.update({
					error: e.message ? e.message : e,
				});
			},
			B = () => {
				y = setInterval(W, 800);
			},
			F = () => {
				clearInterval(y);
			},
			W = () => {
				const e = JSON.stringify(s.getBoundingClientRect());
				e !== w && ((w = e), j());
			},
			j = () => {
				const e = Ot(),
					t = D(s),
					n = t.getBoundingClientRect();
				if (!t || !n) return;
				const i = (() => {
						const e = D(s),
							t = e.getBoundingClientRect();
						if (!e || !t) return;
						return e.querySelector('[role=toolbar]');
					})(),
					r = (() => {
						const e = D(s),
							t = e.getBoundingClientRect();
						if (!e || !t) return;
						const n = e.querySelector("[role='group']"),
							o = n.querySelectorAll("[role='button']");
						if (!n || !o) return;
						const i = Array.from(o);
						return i[i.length - 1];
					})();
				if (i && 0 !== i.getBoundingClientRect().top) {
					const t = i.getBoundingClientRect();
					return r && r.getBoundingClientRect()
						? (o(9, (b = t.top - 10)),
						  void o(
								10,
								(E =
									'ltr' === e ? r.getBoundingClientRect().right - 30 : r.getBoundingClientRect().right + 30),
						  ))
						: (o(9, (b = t.top - 10)), void o(10, (E = 'ltr' === e ? n.right - 45 : n.left + 45)));
				}
				if (!r || !r.getBoundingClientRect()) return;
				const a = r.getBoundingClientRect();
				o(9, (b = a.top - 18)), o(10, (E = 'ltr' === e ? a.right - 30 : a.right + 30));
			},
			q = ({ lang: e, sourceLength: t, targetLang: n, targetLength: o }) => {
				u = {
					lang: e,
					sourceLength: t,
					targetLang: n,
					targetLength: o,
					nicheIntegration: ne.gmail,
				};
			},
			G = ({ sourceLang: e, sourceLength: t, targetLang: n, targetLength: o }) => {
				u = {
					sourceLang: e,
					sourceLength: t,
					targetLang: n,
					targetLength: o,
					nicheIntegration: ne.gmail,
				};
			},
			V = (e) => {
				t({
					action: 'dlTrackTranslateAcceptOrRevertEvent',
					payload: {
						eventType: e ? Ce : $e,
						acceptOrRevertMetadata: u,
					},
				});
			},
			Y = (e) => {
				t({
					action: 'dlTrackGmailCharLimitReached',
					payload: {
						gmailActionType: jS(e),
					},
				});
			};
		return (
			(e.$$set = (e) => {
				'messageContainer' in e && o(19, (s = e.messageContainer)),
					'updateLockStatus' in e && o(0, (a = e.updateLockStatus)),
					'subjectInput' in e && o(20, (l = e.subjectInput));
			}),
			(e.$$.update = () => {
				2 & e.$$.dirty[0] && o(7, (g = GA(T))), 2 & e.$$.dirty[0] && T && T.value && o(6, (L = At(T.value)));
			}),
			[
				a,
				T,
				C,
				$,
				k,
				m,
				L,
				g,
				v,
				b,
				E,
				S,
				x,
				i,
				r,
				async () => {
					if (!s) return;
					h = st(s.innerHTML);
					const e = l && l.value;
					e && (f = l.value);
					const n = s.innerText,
						r = n.length > GM;
					if (!Ye(i, _e.TRANSLATOR) && r) return P(), void Y(Re.COMPOSE_VIEW_TRANSLATE);
					z();
					const a = S ? S.value : T.value;
					try {
						if (
							(await o$(s, {
								targetLang: x,
								nicheIntegration: ne.gmail,
								isHtml: !0,
								clearInnerHTML: !0,
							}),
							e)
						) {
							const e = await t({
								action: 'dlRequestInputTranslation',
								payload: {
									requests: [
										{
											text: l.value,
										},
									],
									domainName: window.location.hostname,
									websiteLanguage: a,
									targetLang: x,
									skipDapReporting: !0,
								},
							});
							if (e[0]?.text) {
								const t = e[0]?.text;
								o(20, (l.value = t), l);
							}
						}
						o(5, (m = !1)),
							R(!0, d),
							U(),
							G({
								sourceLang: a,
								targetLang: x,
								sourceLength: n.length,
								targetLength: s.innerText.length,
							});
					} catch (e) {
						H(e), U(), o(5, (m = !1)), R(!1);
					}
				},
				async () => {
					if (!s) return;
					const e = l && l.value;
					(h = st(s.innerHTML)), e && (f = l.value);
					const n = s.innerText;
					o(5, (m = !0)), z();
					const i = T.value,
						r = 'FR' === i || 'ES' === i;
					try {
						if (
							(await o$(s, {
								isWriteRequest: !0,
								sourceLang: i,
								nicheIntegration: ne.gmail,
								isHtml: !0,
								clearInnerHTML: !0,
								removeFormatting: r,
							}),
							e)
						) {
							const e = await t({
								action: 'dlRequestImproveWriting',
								payload: {
									requests: [
										{
											text: l.value,
										},
									],
									domainName: window.location.hostname,
									websiteLanguage: i,
									sourceLang: i,
									skipDapReporting: !0,
								},
							});
							if (e[0]?.text) {
								const t = e[0]?.text;
								o(20, (l.value = t), l);
							}
						}
						q({
							lang: i,
							sourceLength: n.length,
							targetLength: s.innerText.length,
						}),
							o(5, (m = !1)),
							R(!0, c),
							U();
					} catch (e) {
						switch (e.error) {
							case vf:
							case yf:
								P(e.error), Y(Re.COMPOSE_VIEW_IMPROVE);
								break;
							default:
								H(e);
						}
						o(5, (m = !1)), R(!1), U();
					}
				},
				() => {
					p === d
						? V(!0)
						: zN({
								eventType: Se,
								...u,
						  }),
						(h = null),
						(f = null),
						R(!1),
						I(),
						o(4, (k = !1));
				},
				() => {
					p === d
						? V(!1)
						: zN({
								eventType: xe,
								...u,
						  }),
						o(19, (s.innerHTML = st(h)), s),
						l && f && o(20, (l.value = f), l),
						I(),
						R(!1);
				},
				s,
				l,
				(e) => {
					o(11, (S = e.detail.selectedOption));
				},
				async (e) => {
					o(12, (x = e.detail.selectedOption.value));
				},
				() => {
					a(!0), o(4, (k = !k)), o(3, ($ = !0));
				},
				() => {
					a(!0);
				},
				() => {
					a(!1), o(4, (k = !1));
				},
			]
		);
	}
	class gA extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					mA,
					pA,
					gg,
					{
						messageContainer: 19,
						updateLockStatus: 0,
						subjectInput: 20,
					},
					null,
					[-1, -1],
				);
		}
	}
	class hA {
		static HTML_TAG_NAME = 'deepl-gmail-message-write-ui';
		static createElement = (e = document) => {
			const t = e.createElement(hA.HTML_TAG_NAME),
				n = new hA(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = ({ container: e, subjectInput: t, updateLockStatus: n }) => {
			this.mainComponent = new gA({
				target: this.domElement.shadowContainer,
				props: {
					messageContainer: e,
					updateLockStatus: n,
					subjectInput: t,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function fA(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b = e[3] && _A(),
			E = null != e[5] && vA(e);
		return (
			(c = new Tw({
				props: {
					disabled: e[0],
					websiteSettings: pw,
					value: e[1].selectedTargetLanguage,
					extraPadding: !0,
				},
			})),
			c.$on('selection', e[16]),
			(p = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('gmail_reading_translate_button'),
					multiline: !1,
					zIndex: 3,
					isEnabled: e[8] < SA,
					$$slots: {
						default: [yA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(h = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('gmail_reading_view_original_button'),
					multiline: !1,
					zIndex: 3,
					$$slots: {
						default: [wA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(v = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('gmail_reading_forward_button'),
					multiline: !1,
					zIndex: 2,
					isEnabled: e[8] < SA,
					$$slots: {
						default: [bA],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('span')),
						(i = Bg()),
						b && b.c(),
						(r = Bg()),
						(s = zg('div')),
						E && E.c(),
						(a = Bg()),
						(l = zg('div')),
						jh(c.$$.fragment),
						(d = Bg()),
						(u = zg('div')),
						jh(p.$$.fragment),
						(m = Bg()),
						(g = zg('div')),
						jh(h.$$.fragment),
						(f = Bg()),
						(_ = zg('div')),
						jh(v.$$.fragment),
						Gg(o, 'class', 'deepl-logo svelte-1lme20r'),
						Gg(s, 'class', 'language-selection-wrapper svelte-1lme20r'),
						Gg(l, 'class', 'language-selection-wrapper svelte-1lme20r'),
						Gg(n, 'class', 'left-side svelte-1lme20r'),
						Gg(_, 'class', 'right-side svelte-1lme20r'),
						Gg(t, 'class', 'dl-gmail-email-toolbar svelte-1lme20r'),
						Gg(t, 'dir', Ot()),
						Sh(() => e[17].call(t)),
						Qg(t, 'smallMode', e[8] < SA);
				},
				m(S, x) {
					Ng(S, t, x),
						Ag(t, n),
						Ag(n, o),
						Ag(n, i),
						b && b.m(n, null),
						Ag(n, r),
						Ag(n, s),
						E && E.m(s, null),
						Ag(n, a),
						Ag(n, l),
						qh(c, l, null),
						Ag(n, d),
						Ag(n, u),
						qh(p, u, null),
						Ag(n, m),
						Ag(n, g),
						qh(h, g, null),
						Ag(t, f),
						Ag(t, _),
						qh(v, _, null),
						(y = (function (e, t) {
							'static' === getComputedStyle(e).position && (e.style.position = 'relative');
							const n = zg('iframe');
							n.setAttribute(
								'style',
								'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;',
							),
								n.setAttribute('aria-hidden', 'true'),
								(n.tabIndex = -1);
							const o = Jg();
							let i;
							return (
								o
									? ((n.src =
											"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>"),
									  (i = Wg(window, 'message', (e) => {
											e.source === n.contentWindow && t();
									  })))
									: ((n.src = 'about:blank'),
									  (n.onload = () => {
											(i = Wg(n.contentWindow, 'resize', t)), t();
									  })),
								Ag(e, n),
								() => {
									(o || (i && n.contentWindow)) && i(), Dg(n);
								}
							);
						})(t, e[17].bind(t))),
						(w = !0);
				},
				p(e, o) {
					e[3]
						? b
							? 8 & o[0] && Dh(b, 1)
							: ((b = _A()), b.c(), Dh(b, 1), b.m(n, r))
						: b &&
						  (Oh(),
						  Ph(b, 1, 1, () => {
								b = null;
						  }),
						  Nh()),
						null != e[5]
							? E
								? (E.p(e, o), 32 & o[0] && Dh(E, 1))
								: ((E = vA(e)), E.c(), Dh(E, 1), E.m(s, null))
							: E &&
							  (Oh(),
							  Ph(E, 1, 1, () => {
									E = null;
							  }),
							  Nh());
					const i = {};
					1 & o[0] && (i.disabled = e[0]), 2 & o[0] && (i.value = e[1].selectedTargetLanguage), c.$set(i);
					const a = {};
					256 & o[0] && (a.isEnabled = e[8] < SA),
						(1 & o[0]) | (8 & o[1]) &&
							(a.$$scope = {
								dirty: o,
								ctx: e,
							}),
						p.$set(a);
					const l = {};
					(4 & o[0]) | (8 & o[1]) &&
						(l.$$scope = {
							dirty: o,
							ctx: e,
						}),
						h.$set(l);
					const d = {};
					256 & o[0] && (d.isEnabled = e[8] < SA),
						(4 & o[0]) | (8 & o[1]) &&
							(d.$$scope = {
								dirty: o,
								ctx: e,
							}),
						v.$set(d),
						(!w || 256 & o[0]) && Qg(t, 'smallMode', e[8] < SA);
				},
				i(e) {
					w ||
						(Dh(b),
						Dh(E),
						Dh(c.$$.fragment, e),
						Dh(p.$$.fragment, e),
						Dh(h.$$.fragment, e),
						Dh(v.$$.fragment, e),
						(w = !0));
				},
				o(e) {
					Ph(b),
						Ph(E),
						Ph(c.$$.fragment, e),
						Ph(p.$$.fragment, e),
						Ph(h.$$.fragment, e),
						Ph(v.$$.fragment, e),
						(w = !1);
				},
				d(e) {
					e && Dg(t), b && b.d(), E && E.d(), Gh(c), Gh(p), Gh(h), Gh(v), y();
				},
			}
		);
	}
	function _A(e) {
		let t, n;
		return (
			(t = new _x({
				props: {
					size: 24,
					translator: !0,
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function vA(e) {
		let t, n;
		return (
			(t = new Tw({
				props: {
					disabled: e[0],
					value: e[5],
					websiteSettings: pw,
					customClass: 'borderless',
					fontSize: 'sm',
					extraPadding: !0,
				},
			})),
			t.$on('selection', e[15]),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					1 & n[0] && (o.disabled = e[0]), 32 & n[0] && (o.value = e[5]), t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function yA(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('button')),
					(n = zg('div')),
					(n.innerHTML =
						'<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),
					(o = Bg()),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('gmail_reading_translate_button')}`),
					Gg(n, 'class', 'icon svelte-1lme20r'),
					Gg(i, 'class', 'svelte-1lme20r'),
					Gg(t, 'class', 'translate-button svelte-1lme20r'),
					(t.disabled = e[0]),
					Gg(t, 'paddingx', 'none');
			},
			m(a, l) {
				Ng(a, t, l), Ag(t, n), Ag(t, o), Ag(t, i), r || ((s = Wg(t, 'click', qg(jg(e[10])))), (r = !0));
			},
			p(e, n) {
				1 & n[0] && (t.disabled = e[0]);
			},
			d(e) {
				e && Dg(t), (r = !1), s();
			},
		};
	}
	function wA(e) {
		let t, n, o, i, r, s;
		return {
			c() {
				(t = zg('button')),
					(n = Ug('svg')),
					(o = Ug('path')),
					Gg(o, 'd', 'M7 16L3 12M3 12L7 8M3 12L21 12'),
					Gg(o, 'stroke', (i = e[2] ? '#000' : '#848F9B')),
					Gg(o, 'stroke-width', '1.5'),
					Gg(o, 'stroke-linecap', 'round'),
					Gg(o, 'stroke-linejoin', 'round'),
					Gg(n, 'width', '24'),
					Gg(n, 'height', '24'),
					Gg(n, 'viewBox', '0 0 24 24'),
					Gg(n, 'fill', 'none'),
					Gg(n, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(n, 'class', 'svelte-1lme20r'),
					Gg(t, 'class', 'show-original-button svelte-1lme20r'),
					Gg(t, 'paddingx', 'none'),
					Qg(t, 'enabled', e[2]);
			},
			m(i, a) {
				Ng(i, t, a), Ag(t, n), Ag(n, o), r || ((s = Wg(t, 'click', qg(jg(e[9])))), (r = !0));
			},
			p(e, n) {
				4 & n[0] && i !== (i = e[2] ? '#000' : '#848F9B') && Gg(o, 'stroke', i),
					4 & n[0] && Qg(t, 'enabled', e[2]);
			},
			d(e) {
				e && Dg(t), (r = !1), s();
			},
		};
	}
	function bA(e) {
		let t, n, o, i, r, s, a, l, c;
		return {
			c() {
				(t = zg('button')),
					(n = Ug('svg')),
					(o = Ug('path')),
					(r = Bg()),
					(s = zg('span')),
					(s.textContent = `${chrome.i18n.getMessage('gmail_reading_forward_button')}`),
					Gg(o, 'd', 'M17 8L21 12M21 12L17 16M21 12L3 12'),
					Gg(o, 'stroke', (i = e[2] ? '#000' : '#848F9B')),
					Gg(o, 'stroke-width', '1.5'),
					Gg(o, 'stroke-linecap', 'round'),
					Gg(o, 'stroke-linejoin', 'round'),
					Gg(n, 'width', '24'),
					Gg(n, 'height', '24'),
					Gg(n, 'viewBox', '0 0 24 24'),
					Gg(n, 'fill', 'none'),
					Gg(n, 'xmlns', 'http://www.w3.org/2000/svg'),
					Gg(n, 'class', 'svelte-1lme20r'),
					Gg(s, 'class', 'svelte-1lme20r'),
					(t.disabled = a = !e[2]),
					Gg(t, 'class', 'forward-button svelte-1lme20r'),
					Gg(t, 'paddingx', 'none');
			},
			m(i, a) {
				Ng(i, t, a), Ag(t, n), Ag(n, o), Ag(t, r), Ag(t, s), l || ((c = Wg(t, 'click', e[11])), (l = !0));
			},
			p(e, n) {
				4 & n[0] && i !== (i = e[2] ? '#000' : '#848F9B') && Gg(o, 'stroke', i),
					4 & n[0] && a !== (a = !e[2]) && (t.disabled = a);
			},
			d(e) {
				e && Dg(t), (l = !1), c();
			},
		};
	}
	function EA(e) {
		let t,
			n,
			o = e[6] && e[7] && fA(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, n) {
				e[6] && e[7]
					? o
						? (o.p(e, n), 192 & n[0] && Dh(o, 1))
						: ((o = fA(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	const SA = 900;
	function xA(e, n, o) {
		let i, r, s, a, l, c, d, u, p;
		fg(e, Xh, (e) => o(1, (i = e))), mh('text_direction', Ot());
		let m,
			g,
			h,
			f,
			_,
			v = !1,
			y = !1,
			w = !1,
			b = !1,
			E = !1,
			{ container: S } = n;
		dh(async () => {
			L(),
				I(),
				await $(),
				o(4, (m = i.selectedTargetLanguage)),
				setTimeout(() => {
					o(7, (E = !0));
				}, 200),
				window.addEventListener('popstate', C);
		}),
			uh(() => {
				window.removeEventListener('popstate', C);
			});
		const x = () => {
				(r.innerText = s.innerText), (r.innerHTML = st(s.innerHTML)), (d.innerText = c), o(13, (y = !1));
			},
			T = (e) => {
				d &&
					(e
						? d.classList.add('deepl-gmail-loading-skeleton')
						: d.classList.remove('deepl-gmail-loading-skeleton'));
			},
			C = () => {
				document.querySelectorAll(nA.HTML_TAG_NAME).forEach((e) => {
					e.cleanupDOM, e.remove();
				});
			},
			$ = async () => {
				if (!a) return;
				if (((u = await kt(a)), o(6, (f = Ct(u))), !f)) return;
				const e = It($t(u));
				o(5, (h = e));
			},
			k = async () => {
				const e = `<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage(
					'gmail_forwarding_link',
				)}</a>`;
				let t;
				const n = st(r.innerHTML);
				if (v) t = n;
				else {
					t = `${n}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage(
						'gmail_forwarding_title',
					)} ${e}</p>`}`;
				}
				const i = new DOMParser().parseFromString(t, 'text/html'),
					s = {
						html: t,
						text: zf(i.body),
					},
					a = document.querySelector("[contenteditable='true']");
				a.focus(),
					setTimeout(() => {
						a.focus(), e_(a, s, !1), o(14, (b = !1));
					}, 500);
			},
			L = () => {
				const e = Array.from(S.children).filter((e) => 'div' === e.tagName.toLowerCase());
				if (3 !== e.length) return;
				const t = e[1];
				if (!t) return;
				const n = Array.from(t.children).filter((e) => 'div' === e.tagName.toLowerCase());
				if (!n || !n.length) return;
				const o = n[2];
				o && ((s = o.cloneNode(!0)), (r = o), (a = o.innerText));
			},
			I = () => {
				const e = document.querySelector('[data-thread-perm-id]');
				e && ((d = e), (l = e.innerText), (c = e.innerText));
			};
		return (
			(e.$$set = (e) => {
				'container' in e && o(12, (S = e.container));
			}),
			(e.$$.update = () => {
				24577 & e.$$.dirty[0] && o(2, (p = y && !w && !b)),
					2 & e.$$.dirty[0] && o(3, (v = Ye(i, _e.TRANSLATOR)));
			}),
			[
				w,
				i,
				p,
				v,
				m,
				h,
				f,
				E,
				_,
				x,
				async () => {
					if (!r) return;
					const { domElements: e, strings: n, cloneContainer: i } = YC(r),
						s = n.reduce((e, t) => e + t.length, 0);
					if (!v && s > GM)
						return (
							t({
								action: 'dlTrackGmailCharLimitReached',
								payload: {
									gmailActionType: jS(Re.READING_VIEW_TRANSLATE),
								},
							}),
							(g = nA.createElement()),
							g.createDOM({
								onCloseCharLimitPopup: C,
							}),
							void document.body.appendChild(g)
						);
					o(0, (w = !0));
					const a = n.map((e) => ({
							text: e,
						})),
						c = [
							{
								text: l,
							},
						],
						u = XC(a.map((e) => e.text));
					((e) => {
						if (!e) return;
						const { height: t } = e.getBoundingClientRect(),
							n = Math.floor(t / 20),
							o = [];
						for (let e = 0; e < n; e++)
							o.push(
								`<div style="width: ${
									((i = 35), (r = 99), Math.floor(Math.random() * (r - i + 1)) + i)
								}%" class="deepl-gmail-loading-skeleton">line</div>`,
							);
						var i, r;
						e.innerHTML = st(o.join(''));
					})(r),
						T(!0);
					try {
						let [n, s] = await Promise.all([
							t({
								action: 'dlRequestGmailReceivedEmailTranslation',
								payload: {
									targetLang: m,
									sourceLang: h,
									requests: u.simplifiedHtml.map((e) => ({
										text: e,
									})),
									domainName: window.location.hostname,
								},
							}),
							t({
								action: 'dlRequestGmailReceivedEmailTranslation',
								payload: {
									targetLang: m,
									sourceLang: h,
									requests: c,
									domainName: window.location.hostname,
								},
							}),
						]);
						if (
							((n = n.map((e) => ({
								...e,
								text: JC(u.map, e.text),
								texts: e.texts.map((e) => JC(u.map, e)),
							}))),
							dE({
								strings: n[0]?.texts,
								domElements: e,
							}),
							(r.innerText = i.innerText),
							(r.innerHTML = st(i.innerHTML)),
							T(!1),
							s[0]?.text)
						) {
							const e = s[0]?.text;
							(l = e), (d.innerText = e);
						}
						o(0, (w = !1)), o(13, (y = !0));
					} catch (e) {
						((e) => {
							pw.update({
								error: e.message ? e.message : e,
							});
						})(e),
							o(0, (w = !1)),
							x();
					}
				},
				() => {
					o(14, (b = !0));
					if (!XA()) return void o(14, (b = !1));
					const e = JA();
					e
						? (e.scrollIntoView(),
						  setTimeout(() => {
								KA(e), ZA("[contenteditable='true']", k);
						  }, 300))
						: o(14, (b = !1));
				},
				S,
				y,
				b,
				(e) => {
					o(5, (h = e.detail.selectedOption.value));
				},
				(e) => {
					o(4, (m = e.detail.selectedOption.value));
				},
				function () {
					(_ = this.offsetWidth), o(8, _);
				},
			]
		);
	}
	class TA extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					xA,
					EA,
					gg,
					{
						container: 12,
					},
					null,
					[-1, -1],
				);
		}
	}
	class CA {
		static HTML_TAG_NAME = 'deepl-gmail-translate-email-toolbar';
		static createElement = (e = document) => {
			const t = e.createElement(CA.HTML_TAG_NAME),
				n = new CA(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.container = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = ({ container: e }) => {
			this.mainComponent = new TA({
				target: this.domElement.shadowContainer,
				props: {
					container: e,
				},
			});
		};
		cleanupDOM() {
			this.shadowContainer.remove(), this.mainComponent && this.mainComponent.$destroy();
		}
	}
	function $A(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dot svelte-b1g5uo');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			d(e) {
				e && Dg(t);
			},
		};
	}
	function kA(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m = !e[0].wasGmailOnboardingShown && LA();
		return (
			(c = new YL({
				props: {
					checked: e[0].isGmailEnabled,
				},
			})),
			c.$on('change', e[6]),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						m && m.c(),
						(o = Bg()),
						(i = zg('div')),
						(r = zg('div')),
						(s = zg('div')),
						(s.textContent = `${chrome.i18n.getMessage('gmail_onboarding_toggle')}`),
						(a = Bg()),
						(l = zg('div')),
						jh(c.$$.fragment),
						Gg(n, 'class', 'svelte-b1g5uo'),
						Qg(n, 'content', !e[0].wasGmailOnboardingShown),
						Gg(s, 'class', 'switch-content svelte-b1g5uo'),
						Gg(l, 'class', 'switch'),
						Gg(r, 'class', 'switch-container svelte-b1g5uo'),
						Qg(r, 'topBorder', !e[0].wasGmailOnboardingShown),
						Gg(i, 'class', 'footer'),
						Gg(t, 'class', 'onboarding-popup svelte-b1g5uo');
				},
				m(g, h) {
					Ng(g, t, h),
						Ag(t, n),
						m && m.m(n, null),
						Ag(t, o),
						Ag(t, i),
						Ag(i, r),
						Ag(r, s),
						Ag(r, a),
						Ag(r, l),
						qh(c, l, null),
						(d = !0),
						u ||
							((p = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
										exceptions: ['#dl-gmail-settings-icon'],
									}),
								),
								Wg(t, 'click_outside', e[7]),
							]),
							(u = !0));
				},
				p(e, t) {
					e[0].wasGmailOnboardingShown
						? m &&
						  (Oh(),
						  Ph(m, 1, 1, () => {
								m = null;
						  }),
						  Nh())
						: m
						? (m.p(e, t), 1 & t && Dh(m, 1))
						: ((m = LA()), m.c(), Dh(m, 1), m.m(n, null)),
						(!d || 1 & t) && Qg(n, 'content', !e[0].wasGmailOnboardingShown);
					const o = {};
					1 & t && (o.checked = e[0].isGmailEnabled),
						c.$set(o),
						(!d || 1 & t) && Qg(r, 'topBorder', !e[0].wasGmailOnboardingShown);
				},
				i(e) {
					d || (Dh(m), Dh(c.$$.fragment, e), (d = !0));
				},
				o(e) {
					Ph(m), Ph(c.$$.fragment, e), (d = !1);
				},
				d(e) {
					e && Dg(t), m && m.d(), Gh(c), (u = !1), pg(p);
				},
			}
		);
	}
	function LA(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y, w, b, E;
		return (
			(c = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			(g = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			(y = new kw({
				props: {
					width: '16px',
					height: '16px',
					padding: '3px 0 0 0',
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						(o = zg('div')),
						(o.textContent = `${chrome.i18n.getMessage('gmail_onboarding_title')}`),
						(i = Bg()),
						(r = zg('div')),
						(s = Bg()),
						(a = zg('div')),
						(l = zg('div')),
						jh(c.$$.fragment),
						(d = Bg()),
						(u = zg('div')),
						(u.textContent = `${chrome.i18n.getMessage('gmail_onboarding_body_1')}`),
						(p = Bg()),
						(m = zg('div')),
						jh(g.$$.fragment),
						(h = Bg()),
						(f = zg('div')),
						(f.textContent = `${chrome.i18n.getMessage('gmail_onboarding_body_2')}`),
						(_ = Bg()),
						(v = zg('div')),
						jh(y.$$.fragment),
						(w = Bg()),
						(b = zg('div')),
						(b.textContent = `${chrome.i18n.getMessage('gmail_onboarding_body_3')}`),
						Gg(n, 'class', 'left svelte-b1g5uo'),
						Gg(r, 'class', 'right'),
						Gg(t, 'class', 'title svelte-b1g5uo'),
						Gg(u, 'class', 'copy-text svelte-b1g5uo'),
						Gg(l, 'class', 'copy svelte-b1g5uo'),
						Gg(f, 'class', 'copy-text svelte-b1g5uo'),
						Gg(m, 'class', 'copy svelte-b1g5uo'),
						Gg(b, 'class', 'copy-text svelte-b1g5uo'),
						Gg(v, 'class', 'copy svelte-b1g5uo'),
						Gg(a, 'class', 'body svelte-b1g5uo');
				},
				m(e, S) {
					Ng(e, t, S),
						Ag(t, n),
						Ag(n, o),
						Ag(t, i),
						Ag(t, r),
						Ng(e, s, S),
						Ng(e, a, S),
						Ag(a, l),
						qh(c, l, null),
						Ag(l, d),
						Ag(l, u),
						Ag(a, p),
						Ag(a, m),
						qh(g, m, null),
						Ag(m, h),
						Ag(m, f),
						Ag(a, _),
						Ag(a, v),
						qh(y, v, null),
						Ag(v, w),
						Ag(v, b),
						(E = !0);
				},
				p: lg,
				i(e) {
					E || (Dh(c.$$.fragment, e), Dh(g.$$.fragment, e), Dh(y.$$.fragment, e), (E = !0));
				},
				o(e) {
					Ph(c.$$.fragment, e), Ph(g.$$.fragment, e), Ph(y.$$.fragment, e), (E = !1);
				},
				d(e) {
					e && (Dg(t), Dg(s), Dg(a)), Gh(c), Gh(g), Gh(y);
				},
			}
		);
	}
	function IA(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l = e[2] && $A(),
			c = e[1] && kA(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = Bg()),
					l && l.c(),
					(i = Bg()),
					c && c.c(),
					Gg(n, 'class', 'icon svelte-b1g5uo'),
					Gg(n, 'id', 'dl-gmail-settings-icon'),
					Qg(n, 'notification', e[2]),
					Qg(n, 'isOnboardingPopupOpen', e[1]),
					Qg(n, 'enabled', e[0].isGmailEnabled),
					Gg(t, 'class', 'deepl-gmail-header-toolbar svelte-b1g5uo'),
					Gg(t, 'dir', Ot());
			},
			m(d, u) {
				Ng(d, t, u),
					Ag(t, n),
					Ag(t, o),
					l && l.m(t, null),
					Ag(t, i),
					c && c.m(t, null),
					(r = !0),
					s || ((a = Wg(n, 'click', qg(jg(e[5])))), (s = !0));
			},
			p(e, [o]) {
				(!r || 4 & o) && Qg(n, 'notification', e[2]),
					(!r || 2 & o) && Qg(n, 'isOnboardingPopupOpen', e[1]),
					(!r || 1 & o) && Qg(n, 'enabled', e[0].isGmailEnabled),
					e[2] ? l || ((l = $A()), l.c(), l.m(t, i)) : l && (l.d(1), (l = null)),
					e[1]
						? c
							? (c.p(e, o), 2 & o && Dh(c, 1))
							: ((c = kA(e)), c.c(), Dh(c, 1), c.m(t, null))
						: c &&
						  (Oh(),
						  Ph(c, 1, 1, () => {
								c = null;
						  }),
						  Nh());
			},
			i(e) {
				r || (Dh(c), (r = !0));
			},
			o(e) {
				Ph(c), (r = !1);
			},
			d(e) {
				e && Dg(t), l && l.d(), c && c.d(), (s = !1), a();
			},
		};
	}
	function MA(e, n, o) {
		let i;
		fg(e, Xh, (e) => o(0, (i = e))), mh('text_direction', Ot());
		let r = !1,
			s = !1;
		const a = async (e) => {
				o(1, (r = e)),
					e ||
						i.wasGmailOnboardingShown ||
						(await Xh.set({
							wasGmailOnboardingShown: !0,
						})),
					t({
						action: 'dlTrackUILocationClicked',
						payload: P.gmailOnboardingIcon,
					}),
					e &&
						t({
							action: 'dlTrackOnboardingModalShown',
							payload: {
								nicheIntegration: ne.gmail,
							},
						});
			},
			l = async (e) => {
				await Xh.set({
					isGmailEnabled: e,
				}),
					t({
						action: 'dlTrackCustomizationEnabledEvent',
						payload: {
							nicheIntegration: ne.gmail,
							uiLocation: P.gmailOnboardingPopup,
							customizationEnabled: e,
						},
					});
			};
		return (
			(e.$$.update = () => {
				1 & e.$$.dirty && o(2, (s = !i.wasGmailOnboardingShown));
			}),
			[
				i,
				r,
				s,
				a,
				l,
				() => {
					a(!r);
				},
				(e) => l(e.detail.checked),
				() => {
					a(!1);
				},
			]
		);
	}
	class AA extends Yh {
		constructor(e) {
			super(), Vh(this, e, MA, IA, gg, {});
		}
	}
	class RA {
		static HTML_TAG_NAME = 'deepl-gmail-header-toolbar';
		static createElement = (e = document) => {
			const t = e.createElement(RA.HTML_TAG_NAME),
				n = new RA(t);
			return (t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), t;
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			this.domElement.mainComponent = new AA({
				target: this.domElement.shadowContainer,
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
	}
	function OA(e) {
		let t;
		return {
			c() {
				(t = zg('div')), Gg(t, 'class', 'dl-gmail'), Gg(t, 'dir', Ot());
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function NA(e, t, n) {
		let o, i, r, s, a;
		fg(e, Xh, (e) => n(5, (o = e))), mh('text_direction', Ot());
		let l = !1;
		const c = () => {
				p(), o.isGmailEnabled ? d() : u();
			},
			d = () => {
				m(), g();
			},
			u = () => {
				const e = [nA.HTML_TAG_NAME, CA.HTML_TAG_NAME, hA.HTML_TAG_NAME];
				HA(e);
			},
			p = () => {
				const e = 'data-has-dl-icon',
					t = document.querySelector('header');
				if (!t || 'banner' !== t.getAttribute('role') || t.hasAttribute(e)) return;
				const n = t.querySelector("[role='search']");
				if (!n) return;
				const o = n.parentNode;
				if (!o) return;
				const i = RA.createElement();
				o.insertAdjacentElement('afterend', i), i.createDOM(), t.setAttribute(e, !0);
			},
			m = () => {
				if (BA()) {
					const e = FA();
					if (!e) return;
					e.forEach((e) => {
						const t = qA(e);
						if (!t || WA(e)) return;
						const n = t.parentNode;
						if (!n) return;
						const o = CA.createElement();
						n.after(o),
							o.createDOM({
								container: e,
							});
					});
				}
			},
			g = () => {
				const e = document.activeElement;
				if (!e) return;
				const t = e.hasAttribute('contenteditable'),
					n = jA(e),
					o = e.hasAttribute(qM),
					i = e !== s,
					r = !a && (!t || n || i),
					c = t && (!o || i) && !n;
				!r || c || l ? ((l = !1), r && f(), c && (f(), h(e))) : (l = !0);
			},
			h = (e) => {
				const t = hA.createElement();
				(r = t), (s = e), e.setAttribute(qM, 'true'), document.body.appendChild(t);
				const n = ((e) => {
					const t = (function (e) {
						let t = e;
						for (; null !== t; ) {
							if ('dialog' === t.getAttribute('role')) return t;
							t = t.parentElement;
						}
						return null;
					})(e);
					return t ? t.querySelector('input[name="subjectbox"]') : null;
				})(e);
				t.createDOM({
					container: e,
					subjectInput: n,
					updateLockStatus: _,
				});
			},
			f = () => {
				r && r.cleanupDOM();
				const e = Array.from(document.querySelectorAll(hA.HTML_TAG_NAME));
				for (const t of e) t.remove();
				document.querySelectorAll(`[contenteditable][${qM}="true"]`).forEach((e) => e.removeAttribute(qM)),
					(r = null);
			},
			_ = (e) => {
				a = e;
			},
			v = async (e) => {
				if ('dlChangeActiveTabStatus' === e.action) e.payload.isActive ? y() : w();
			},
			y = () => {
				i && clearInterval(i), (i = setInterval(c, 800));
			},
			w = () => {
				clearInterval(i);
			};
		return (
			dh(() => {
				y(), chrome.runtime.onMessage.addListener(v);
			}),
			uh(() => {
				u(), i && w(), chrome.runtime.onMessage.removeListener(v);
			}),
			[]
		);
	}
	class DA extends Yh {
		constructor(e) {
			super(), Vh(this, e, NA, OA, gg, {});
		}
	}
	class PA {
		static HTML_TAG_NAME = 'deepl-gmail-controller';
		static createElement = (e = document) => {
			const t = e.createElement(PA.HTML_TAG_NAME),
				n = new PA(t);
			return (
				(t.createDOM = n.createDOM), (t.cleanupDOM = n.cleanupDOM), (t.showOnboarding = n.showOnboarding), t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				this.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'),
				t.setAttribute('href', chrome.runtime.getURL('build/content.css')),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer),
				this.domElement.shadowRoot.addEventListener('mouseup', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				}),
				this.domElement.shadowRoot.addEventListener('mousedown', (e) => {
					e.stopPropagation(), e.stopImmediatePropagation();
				});
		}
		createDOM = () => {
			this.domElement.mainComponent = new DA({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.domElement.cleanupDOM,
					controller: this,
				},
			});
		};
		cleanupDOM = () => {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		};
		showOnboarding = () => {
			this.domElement.mainComponent.showOnboarding();
		};
	}
	const { scope: zA } = db(),
		UA = () => document.querySelector(PA.HTML_TAG_NAME),
		HA = (e) => {
			try {
				for (const t of e)
					if (t) {
						const e = Array.from(document.getElementsByTagName(t));
						for (const t of e) t.cleanupDOM && t.cleanupDOM(), t.remove();
					}
			} catch (e) {
				Qt() && console.error(e), tf(e, zA);
			}
		},
		BA = () => document.querySelectorAll('[data-message-id]').length > 0,
		FA = () => document.querySelectorAll('[data-message-id]'),
		WA = (e) => !!e && !!e.querySelector(CA.HTML_TAG_NAME),
		jA = (e) => {
			const { bottom: t, right: n } = e.getBoundingClientRect(),
				o = t - 30,
				i = n - 30;
			let r = !1;
			return (
				document.querySelectorAll('[role="dialog"]').forEach((t) => {
					const n =
						((s = i),
						(a = o),
						(l = t.getBoundingClientRect()),
						s >= l.left && s <= l.right && a >= l.top && a <= l.bottom);
					var s, a, l;
					const c = t.contains(e);
					n && !c && (r = !0);
				}),
				r
			);
		},
		qA = (e) => {
			if (e) return e.querySelector('table');
		},
		GA = (e) => {
			const t = Lt(),
				n = t
					.filter((e) => void 0 === e.regionalVariant)
					.map((e) => ({
						value: e.value,
						label: `<strong>${e.value}</strong> - ${e.label}`,
						selectedOptionLabel: e.value,
					})),
				o = t.find((e) => 'EN-GB' === e.value),
				i = t.find((e) => 'PT-PT' === e.value);
			return [
				...[
					...n,
					...[
						{
							...o,
							value: 'EN',
							selectedOptionLabel: 'EN',
							label: `<strong>EN</strong> - ${chrome.i18n.getMessage('supported_languages_EN')}`,
						},
						{
							...i,
							value: 'PT',
							selectedOptionLabel: 'PT',
							label: `<strong>PT</strong> - ${chrome.i18n.getMessage('supported_languages_PT')}`,
						},
					],
				].map((t) =>
					e && t.value === e.value
						? {
								...t,
								label: `${t.label} ${chrome.i18n.getMessage('gmail_language_detected')}`,
						  }
						: t,
				),
			].sort((e, t) => e.value.localeCompare(t.value));
		},
		VA = (e) => {
			const t = e.getBoundingClientRect();
			return {
				x: t.left + t.width / 2,
				y: t.top + t.height / 2,
			};
		},
		YA = (e, t) => {
			const n = new MouseEvent('click', {
				view: window,
				bubbles: !0,
				cancelable: !0,
				clientX: e,
				clientY: t,
			});
			document.elementFromPoint(e, t)?.dispatchEvent(n);
		},
		KA = (e) => {
			const { x: t, y: n } = VA(e);
			YA(t, n);
		},
		ZA = (e, t) => {
			const n = document.body;
			new MutationObserver((o, i) => {
				for (const r of o)
					if ('childList' === r.type && n.querySelector(e)) {
						i.disconnect(), t(n.querySelector(e));
						break;
					}
			}).observe(n, {
				childList: !0,
				subtree: !0,
			});
		},
		XA = () => {
			const e = document.querySelectorAll('[data-message-id]');
			for (const t of e) {
				const e = t.nextElementSibling;
				if (e && 'DIV' === e.tagName) return e;
			}
			return null;
		},
		JA = () => {
			const e = document.querySelectorAll('span[role="link"]');
			let t;
			for (let n = 0; n < e.length; n++) {
				const o = e[n],
					i = o.previousElementSibling;
				if (i && 'SPAN' === i.tagName && 'link' === i.getAttribute('role')) {
					const e = o.parentElement,
						n = e.querySelectorAll('span[role="link"]'),
						i = Array.from(e.children).filter((e) => e.matches('span'));
					(2 !== (2 === n.length && i.length) && 3 !== (3 === n.length && i.length)) || (t = o);
				}
			}
			return t;
		};
	let QA, eR, tR, nR, oR, iR, rR, sR, aR, lR, cR, dR;
	const { scope: uR } = db(),
		{ deepl_inline_ui: pR } = O;
	function mR({ websiteData: e, platformBehaviour: t = ne.default, textProcessingMode: n = oe.translate }) {
		try {
			let o;
			switch (
				(gR(),
				(dR = jM.createElement()),
				(dR.platformBehaviour = t),
				(dR.textProcessingMode = n),
				(dR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(dR),
				t)
			) {
				case ne.gdocs:
					o = ut;
					break;
				case ne.default:
				default:
					o = oE;
			}
			dR.createDOM(o, gR, e),
				pw.update({
					isReviewTranslateWriteWindowInjected: !0,
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function gR() {
		try {
			dR &&
				(dR.cleanupDOM(),
				Array.from(document.getElementsByTagName(jM.HTML_TAG_NAME), (e) => e.remove()),
				pw.update({
					isReviewTranslateWriteWindowInjected: !1,
				}),
				(eR = void 0));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function hR({ websiteData: e, platformBehaviour: t = ne.default, textProcessingMode: n = oe.translate }) {
		try {
			let o;
			switch (
				(fR(),
				(eR = MC.createElement()),
				(eR.platformBehaviour = t),
				(eR.textProcessingMode = n),
				(eR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(eR),
				t)
			) {
				case ne.gdocs:
					o = ut;
					break;
				case ne.default:
				default:
					o = oE;
			}
			eR.createDOM(o, fR, e),
				pw.update({
					isTranslationTooltipInjected: !0,
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function fR() {
		try {
			eR &&
				(eR.cleanupDOM(),
				Array.from(document.getElementsByTagName(MC.HTML_TAG_NAME), (e) => e.remove()),
				pw.update({
					isTranslationTooltipInjected: !1,
				}),
				(eR = void 0));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function _R(e = ne.default) {
		try {
			if (tR) return;
			let t;
			switch (
				((tR = Wx.createElement()),
				(tR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(tR),
				e)
			) {
				case ne.gdocs:
					t = 'deepl-gdocs-icon';
					break;
				case ne.default:
				default:
					t = jC.HTML_TAG_NAME;
			}
			const n = (function (e) {
				if (!e) return;
				const t = e.getBoundingClientRect(),
					n = document.body.parentNode.getBoundingClientRect(),
					{ top: o, left: i, right: r, bottom: s, height: a, width: l } = t;
				return {
					x: i - n.left,
					y: s - n.top,
					top: o,
					bottom: s,
					right: n.width - r,
					left: i + window.pageXOffset,
					width: l,
					height: a,
				};
			})(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));
			tR.createDOM(n, vR),
				pw.update({
					isInlineTranslateSettingsTooltipInjected: !0,
				}),
				s_(() => {
					vR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function vR() {
		try {
			if (!tR) return;
			tR.cleanupDOM(),
				Array.from(document.getElementsByTagName('deepl-inline-translate-settings-tooltip'), (e) =>
					e.remove(),
				),
				pw.update({
					isInlineTranslateSettingsTooltipInjected: !1,
				}),
				(tR = void 0);
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function yR() {
		try {
			if (document.querySelector(qL.HTML_TAG_NAME)) return;
			(QA = qL.createElement()),
				document.documentElement.appendChild(QA),
				QA.createDOM(),
				document.addEventListener('click', wR),
				s_(() => {
					wR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function wR() {
		try {
			QA &&
				(QA.cleanupDOM(),
				Array.from(document.getElementsByTagName(qL.HTML_TAG_NAME), (e) => e.remove()),
				(QA = void 0),
				document.removeEventListener('click', wR));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function bR() {
		try {
			if (document.querySelector(lI.HTML_TAG_NAME)) return;
			(sR = lI.createElement()),
				document.documentElement.appendChild(sR),
				sR.createDOM(),
				s_(() => {
					SR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function ER() {
		try {
			if (document.querySelector(HI.HTML_TAG_NAME)) return;
			(aR = HI.createElement()),
				document.documentElement.appendChild(aR),
				aR.createDOM(),
				s_(() => {
					xR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function SR() {
		try {
			sR &&
				(sR.cleanupDOM(),
				Array.from(document.getElementsByTagName(lI.HTML_TAG_NAME), (e) => e.remove()),
				(sR = void 0),
				document.removeEventListener('click', SR));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function xR() {
		try {
			aR &&
				(aR.cleanupDOM(),
				Array.from(document.getElementsByTagName(HI.HTML_TAG_NAME), (e) => e.remove()),
				(aR = void 0),
				document.removeEventListener('click', xR));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function TR() {
		try {
			if (mb()) return;
			(lR = gb()),
				document.documentElement.appendChild(lR),
				lR.createDOM(),
				s_(() => {
					CR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function CR() {
		try {
			lR &&
				(lR.cleanupDOM(),
				Array.from(document.getElementsByTagName('deepl-zendesk-controller'), (e) => e.remove()),
				(lR = void 0),
				document.removeEventListener('click', CR));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function $R() {
		try {
			if (document.querySelector(BO.HTML_TAG_NAME)) return;
			(iR = BO.createElement()),
				document.body.appendChild(iR),
				iR.createDOM(),
				s_(() => {
					IR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function kR() {
		try {
			if (UA()) return;
			(cR = PA.createElement()),
				document.documentElement.appendChild(cR),
				cR.createDOM(),
				s_(() => {
					LR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function LR() {
		try {
			cR &&
				(cR.cleanupDOM(),
				Array.from(document.getElementsByTagName(PA.HTML_TAG_NAME), (e) => e.remove()),
				(cR = void 0),
				document.removeEventListener('click', LR));
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function IR() {
		try {
			if (iR) {
				iR.cleanupDOM();
				const e = Array.from(document.querySelectorAll(BO.HTML_TAG_NAME));
				for (const t of e) t.remove();
				(iR = void 0), document.removeEventListener('click', IR);
			}
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	async function MR(e) {
		try {
			if (!nR) return;
			nR.cleanupDOM(),
				Array.from(document.getElementsByTagName('deepl-inline-trigger'), (e) => e.remove()),
				(nR = void 0);
			if (!(await nx(['isInlineHighlighterShown'])).isInlineHighlighterShown && !e.target.contains(nR)) {
				try {
					t({
						action: 'dltrackCloseInlineHighlighter',
						payload: {
							trigger: te.outside_click,
						},
					});
				} catch (e) {
					console.error(e);
				}
				Xh.set({
					isInlineHighlighterShown: !0,
				});
			}
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	async function AR() {
		try {
			if (!oR) return;
			oR.cleanupDOM(),
				Array.from(document.getElementsByTagName('deepl-input-selection-trigger'), (e) => e.remove()),
				(oR = void 0);
		} catch (e) {
			Qt() && console.error(e), tf(e.message);
		}
	}
	function RR(e, t) {
		MR();
		try {
			(nR = jC.createElement()),
				(nR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(nR),
				nR.createDOM(e, t),
				s_(() => {
					MR();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	function OR(e, t) {
		AR();
		try {
			if (
				(() => {
					const e = window.getSelection()?.toString();
					return e?.length;
				})() > 500 ||
				((e) => {
					let t = e.value?.substring(e.selectionStart, e.selectionEnd);
					return t?.length;
				})(e) > 500
			)
				return;
			(oR = rk.createElement()),
				(oR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(oR),
				oR.createDOM(e, t),
				e.addEventListener('input', AR),
				s_(() => {
					AR(), e.removeEventListener('input', AR);
				});
		} catch (e) {
			Qt() && console.error(e), tf(e.message);
		}
	}
	function NR(e) {
		const t = (t) => {
				requestAnimationFrame(() => {
					const n = window.getSelection();
					if (!n.toString().trim()) return;
					if (2 === t?.button) return;
					const o = 'TEXTAREA' === t.target.tagName,
						i = (e) => {
							if (!e) return !1;
							const t = e.childNodes;
							for (let e = 0; e < t.length; e++)
								if (t[e].isContentEditable || 'TEXTAREA' === t[e].tagName) return t[e];
							return !1;
						};
					if (n.isCollapsed || n.anchorNode?.parentNode?.isContentEditable) {
						if (n.anchorNode?.parentNode?.isContentEditable || o || i(n.anchorNode)) {
							let e = {
								clientX: t.clientX || 0,
								pageY: t.pageY || 0,
								detail: t?.detail || 0,
								isOutsideOfView: zR(t),
							};
							if (n.anchorNode?.parentNode?.isContentEditable) OR(n.anchorNode.parentNode, e);
							else if (o) OR(t.target, e);
							else {
								OR(i(n.anchorNode), e);
							}
						}
					} else {
						const o = n.getRangeAt(0)?.commonAncestorContainer;
						if (!o.contains(t.target) && !t.target.contains(o)) return;
						let i = {
							clientX: t.clientX || 0,
							pageY: t.pageY || 0,
							detail: t?.detail || 0,
							isOutsideOfView: zR(t),
						};
						RR(e, i);
					}
				});
			},
			n = () => {
				const e = window.getSelection();
				e.isCollapsed || !e.toString().trim() ? (MR(), AR()) : t();
			},
			o = (e) => {
				'Escape' === e.key && AR();
			};
		document.addEventListener('mouseup', t),
			document.addEventListener('mousedown', MR),
			document.addEventListener('mousedown', AR),
			document.addEventListener('selectionchange', n),
			document.addEventListener('keydown', o),
			s_(() => {
				document.removeEventListener('mouseup', t),
					document.removeEventListener('mousedown', MR),
					document.removeEventListener('mousedown', AR),
					document.removeEventListener('selectionchange', n),
					document.removeEventListener('keydown', o);
			});
	}
	function DR(e, t) {
		try {
			(rR = Ak.createElement()),
				(rR.style.zIndex = pR.z_index),
				document.documentElement.appendChild(rR),
				rR.createDOM(e, t),
				s_(() => {
					rR.cleanupDOM();
				});
		} catch (e) {
			Qt() && console.error(e), tf(e, uR);
		}
	}
	const PR = (e = ee.initial) => {
		const t = oM.createElement();
		document.documentElement.appendChild(t),
			t.createDOM({
				reviewStage: e,
			}),
			s_(() => {
				t.cleanupDOM();
			});
	};
	function zR({ clientX: e = 0, pageY: t = 0 } = {}) {
		const n = window.innerWidth || document.documentElement.innerWidth,
			o = window.scrollHeight || document.documentElement.scrollHeight;
		return e < 0 || e >= n || t < 0 || t >= o;
	}
	function UR(e) {
		switch (e) {
			case 'web.whatsapp.com':
				eS();
				break;
			case 'twitter.com':
			case 'tweetdeck.twitter.com':
			case 'x.com':
				wS();
				break;
			case 'www.linkedin.com':
				US();
		}
	}
	async function HR(e) {
		const t = e.split('.'),
			n = t.filter((e, n) => n === t.length - 1 || n === t.length - 2).join('.');
		'deepl.com' === n && (document.body.dataset.dlBrowserExtensionPresent = 'true');
	}
	async function BR(e) {
		const t = await nx(['shouldDisplayFeedbackPopup']);
		if ('https://deepl.typeform.com/to/MkMfP2Y6' === e)
			t.shouldDisplayFeedbackPopup &&
				(Xh.set({
					shouldDisplayFeedbackPopup: !1,
				}),
				PR(ee.feedback));
	}
	function FR(e, t) {
		if ('web.whatsapp.com' === t) {
			const t = document.documentElement.querySelector('#side');
			return !t || !t.contains(e);
		}
		return !0;
	}
	function WR(e, t) {
		if ('web.whatsapp.com' === t) {
			const t = document.documentElement.querySelector('#side');
			if (t && t.contains(e)) return !1;
		}
		return !0;
	}
	const jR = () => {
			const e = new URL(window.location.href);
			return 'https:' === e.protocol && 'chatgpt.com' === e.hostname;
		},
		qR = [];
	window.onerror = function (e) {
		/ResizeObserver/gm.test(e) && qR.forEach((e) => e.resize.disconnect());
	};
	const { scope: GR } = db();
	const VR = (e) => 'true' === e.contentEditable || ('TEXTAREA' === e.nodeName && (e.rows > 1 || jR()));
	const YR = ({ inputArea: e }) => {
			const t = JR(e);
			return {
				position: 'absolute',
				top: t.top,
				left: t.left,
				right: t.right,
				width: t.width,
				height: t.height,
				isLanguageToolsPresent: !!document.querySelector('lt-toolbar'),
				isGrammarlyPresent: !!document.querySelector('grammarly-extension'),
				isChatGPTPresent: jR(),
			};
		},
		KR = ({ inputArea: e }) => {
			const t = [];
			if (e) for (let n = e.parentElement; null !== n; n = n.parentElement) ZR(n) && t.push(n);
			return t;
		},
		ZR = (e) => {
			const t = window.getComputedStyle(e),
				n = t.getPropertyValue('overflow-y'),
				o = t.getPropertyValue('overflow-x'),
				i = ['hidden', 'scroll', 'auto'];
			return i.includes(n) || i.includes(o);
		},
		XR = (e, t) => {
			let n = {
				left: Math.max(e.left, t.left),
				right: Math.min(e.right, t.right),
				top: Math.max(e.top, t.top),
				bottom: Math.min(e.bottom, t.bottom),
			};
			return n.left >= n.right || n.top >= n.bottom ? null : n;
		},
		JR = (e) => {
			let t = e.getBoundingClientRect(),
				n = {
					left: t.left,
					right: t.right,
					bottom: t.bottom,
					top: t.top,
				};
			const o = {
					top: 0,
					left: 0,
					right: 0,
					bottom: 0,
					width: 0,
					height: 0,
				},
				i = {
					top: 0,
					left: 0,
					right: window.innerWidth,
					bottom: window.innerHeight,
				};
			for (let t = e.parentElement; null !== t && t !== e.ownerDocument.body; t = t.parentElement) {
				let e = t.getBoundingClientRect();
				const i = XR(n, e);
				if (i) n = i;
				else if (ZR(t)) return o;
			}
			return (
				(n = XR(n, i)),
				n
					? {
							top: n.top,
							bottom: n.bottom,
							left: n.left,
							right: n.right,
							width: n.right - n.left,
							height: n.bottom - n.top,
					  }
					: o
			);
		},
		QR = [
			{
				domain: 'zendesk.com',
				selectors: ['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],
				uniqueDataAttributes: [
					{
						key: 'testId',
						value: 'ticket-rich-text-editor',
					},
				],
			},
		];
	const eO = {
		generalSettings: 'GENERAL_SETTINGS',
		inputSettings: 'INPUT_SETTINGS',
	};
	function tO(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-xa2hux');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function nO(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-xa2hux');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function oO(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-xa2hux');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function iO(e) {
		let t;
		return {
			c() {
				(t = zg('span')), Gg(t, 'class', 'svelte-xa2hux');
			},
			m(e, n) {
				Ng(e, t, n);
			},
			p: lg,
			d(e) {
				e && Dg(t);
			},
		};
	}
	function rO(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f, _, v, y;
		return (
			(o = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('input_translation_tooltip_turnoff'),
					parentIsRTL: e[1],
					ignoreTextDirection: !0,
					$$slots: {
						default: [tO],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(s = new u_({
				props: {
					tooltip: e[8],
					showProShield: Ye(e[2], _e.WRITE),
					parentIsRTL: e[1],
					ignoreTextDirection: !0,
					$$slots: {
						default: [nO],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(u = new u_({
				props: {
					tooltip: chrome.i18n.getMessage('input_translation_tooltip_select_target_lang'),
					parentIsRTL: e[1],
					ignoreTextDirection: !0,
					$$slots: {
						default: [oO],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			(g = new u_({
				props: {
					showProShield: Ye(e[2], _e.TRANSLATOR),
					tooltip: e[6],
					parentIsRTL: e[1],
					ignoreTextDirection: !0,
					$$slots: {
						default: [iO],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			{
				c() {
					(t = zg('div')),
						(n = zg('div')),
						jh(o.$$.fragment),
						(i = Bg()),
						(r = zg('div')),
						jh(s.$$.fragment),
						(a = Bg()),
						(l = zg('div')),
						(c = Bg()),
						(d = zg('div')),
						jh(u.$$.fragment),
						(p = Bg()),
						(m = zg('div')),
						jh(g.$$.fragment),
						(h = Bg()),
						(f = zg('div')),
						Gg(n, 'class', 'dl-icon-circle dl-on-off svelte-xa2hux'),
						Gg(r, 'class', 'dl-icon-circle dl-improve svelte-xa2hux'),
						Qg(r, 'disabled', !e[7]),
						Gg(l, 'class', 'spacer svelte-xa2hux'),
						Gg(d, 'class', 'dl-icon-circle dl-settings svelte-xa2hux'),
						Gg(m, 'class', 'dl-icon-circle dl-icon svelte-xa2hux'),
						Gg(m, 'data-qa', 'input-translation-icon'),
						Gg(f, 'class', 'dl-icon-circle dl-loading svelte-xa2hux'),
						Gg(t, 'class', 'dl-input-icon svelte-xa2hux'),
						Qg(t, 'is-input-translation-disabled', e[9]),
						Qg(t, 'is-loading', e[5]),
						Qg(t, 'is-minimized', e[4]);
				},
				m(w, b) {
					Ng(w, t, b),
						Ag(t, n),
						qh(o, n, null),
						Ag(t, i),
						Ag(t, r),
						qh(s, r, null),
						Ag(t, a),
						Ag(t, l),
						Ag(t, c),
						Ag(t, d),
						qh(u, d, null),
						Ag(t, p),
						Ag(t, m),
						qh(g, m, null),
						e[36](m),
						Ag(t, h),
						Ag(t, f),
						(_ = !0),
						v ||
							((y = [
								Wg(n, 'mousedown', qg(jg(e[28]))),
								Wg(n, 'mouseenter', e[29]),
								Wg(n, 'click', e[30]),
								Wg(r, 'mousedown', qg(jg(e[27]))),
								Wg(r, 'mouseenter', e[31]),
								Wg(r, 'click', e[32]),
								Wg(d, 'mousedown', qg(jg(e[26]))),
								Wg(d, 'mouseenter', e[33]),
								Wg(d, 'click', e[34]),
								Wg(m, 'mousedown', qg(jg(e[25]))),
								Wg(m, 'click', e[13]),
								Wg(m, 'mouseenter', e[35]),
							]),
							(v = !0));
				},
				p(e, n) {
					const i = {};
					2 & n[0] && (i.parentIsRTL = e[1]),
						2048 & n[1] &&
							(i.$$scope = {
								dirty: n,
								ctx: e,
							}),
						o.$set(i);
					const a = {};
					256 & n[0] && (a.tooltip = e[8]),
						4 & n[0] && (a.showProShield = Ye(e[2], _e.WRITE)),
						2 & n[0] && (a.parentIsRTL = e[1]),
						2048 & n[1] &&
							(a.$$scope = {
								dirty: n,
								ctx: e,
							}),
						s.$set(a),
						(!_ || 128 & n[0]) && Qg(r, 'disabled', !e[7]);
					const l = {};
					2 & n[0] && (l.parentIsRTL = e[1]),
						2048 & n[1] &&
							(l.$$scope = {
								dirty: n,
								ctx: e,
							}),
						u.$set(l);
					const c = {};
					4 & n[0] && (c.showProShield = Ye(e[2], _e.TRANSLATOR)),
						64 & n[0] && (c.tooltip = e[6]),
						2 & n[0] && (c.parentIsRTL = e[1]),
						2048 & n[1] &&
							(c.$$scope = {
								dirty: n,
								ctx: e,
							}),
						g.$set(c),
						(!_ || 512 & n[0]) && Qg(t, 'is-input-translation-disabled', e[9]),
						(!_ || 32 & n[0]) && Qg(t, 'is-loading', e[5]),
						(!_ || 16 & n[0]) && Qg(t, 'is-minimized', e[4]);
				},
				i(e) {
					_ ||
						(Dh(o.$$.fragment, e),
						Dh(s.$$.fragment, e),
						Dh(u.$$.fragment, e),
						Dh(g.$$.fragment, e),
						(_ = !0));
				},
				o(e) {
					Ph(o.$$.fragment, e), Ph(s.$$.fragment, e), Ph(u.$$.fragment, e), Ph(g.$$.fragment, e), (_ = !1);
				},
				d(n) {
					n && Dg(t), Gh(o), Gh(s), Gh(u), Gh(g), e[36](null), (v = !1), pg(y);
				},
			}
		);
	}
	function sO(e, o, i) {
		let r, s;
		const a = gh('deepl_settings');
		fg(e, a, (e) => i(2, (s = e)));
		let l,
			c,
			d,
			{ inputArea: u } = o,
			{ lockActiveElement: p } = o,
			{ openSettings: m } = o,
			{ closeSettings: g } = o,
			{ hideOnboardingHighlighter: h } = o,
			{ registerIconCallbacks: _ } = o,
			{ unregisterIconCallbacks: v } = o,
			{ getActiveElement: y } = o,
			{ setErrorMessage: w } = o,
			{ isInputAreaRTL: b } = o,
			E = !1,
			S = !1,
			x = '',
			T = {},
			C = chrome.i18n.getMessage('input_translation_tooltip_improve_lang_not_supported');
		const $ = () => {
				k();
			},
			k = () => {
				i(4, (E = Kb(u, l)));
			};
		async function L(e) {
			await a.set({
				targetLanguageUserInput: e.value,
				regionalVariant: e.regionalVariant,
			}),
				M();
		}
		const I = async (e, n, o) => {
			const r = y();
			switch (e.action) {
				case 'dlTriggerTranslationShortcut':
					if ((w(void 0), r !== u)) return;
					try {
						t({
							action: 'dlTrackUseOfShortcut',
							payload: {
								shortcutType: z,
								location: P.inputTranslationTriggerIcon,
							},
						});
					} catch (e) {
						console.error(e);
					}
					if (s && s.targetLanguageUserInput) {
						i(5, (S = !0));
						try {
							await o$(u);
						} catch (e) {
							w(e);
						}
						i(5, (S = !1));
					} else
						m({
							fromShortcut: !0,
						});
					o();
					break;
				case 'dlChangeLanguageShortcut':
					if (r !== u) return;
					i(5, (S = !0));
					try {
						m({
							fromShortcut: !0,
						});
					} catch (e) {
						w(e);
					}
					i(5, (S = !1)), o();
			}
		};
		async function M(e) {
			if (
				(w(void 0),
				h(),
				(s.targetLanguageUserInput && 'undefined' != s.targetLanguageUserInput) || e?.isWriteRequest)
			) {
				g(), i(5, (S = !0));
				try {
					await o$(u, e), c || n(N.hintKeyboardShortcut);
				} catch (e) {
					w(e);
				}
				i(5, (S = !1));
			} else m();
		}
		function A(e) {
			t({
				action: 'dlTrackIconHover',
				payload: {
					uiLocation: e,
					domainName: window.location.host,
				},
			});
		}
		async function R() {
			let e;
			(e = Gb(u) ? u.value : u.innerText), i(24, (T = await kt(e, !0))), T.isReliable;
			try {
				e &&
					(function (e) {
						try {
							return e.replace(/[^\p{L}]/gu, '').length;
						} catch (t) {
							return e.replace(/[^a-zA-Z]/g, '').length;
						}
					})(e) > 0 &&
					t({
						action: 'dlTrackLanguageDetectionForTextProcessing',
						payload: {
							lang: T.langCode,
							isReliable: T.isReliable,
							trigger: f,
							textLength: e.length,
							domainName: window.location.hostname,
						},
					});
			} catch (e) {
				console.error(e);
			}
		}
		dh(() => {
			chrome.runtime.onMessage.addListener(I),
				_({
					processRefreshCycle: $,
					languageChanged: L,
					triggerTranslation: M,
				});
		}),
			uh(() => {
				chrome.runtime.onMessage.removeListener(I), v();
			});
		return (
			(e.$$set = (e) => {
				'inputArea' in e && i(15, (u = e.inputArea)),
					'lockActiveElement' in e && i(16, (p = e.lockActiveElement)),
					'openSettings' in e && i(0, (m = e.openSettings)),
					'closeSettings' in e && i(17, (g = e.closeSettings)),
					'hideOnboardingHighlighter' in e && i(18, (h = e.hideOnboardingHighlighter)),
					'registerIconCallbacks' in e && i(19, (_ = e.registerIconCallbacks)),
					'unregisterIconCallbacks' in e && i(20, (v = e.unregisterIconCallbacks)),
					'getActiveElement' in e && i(21, (y = e.getActiveElement)),
					'setErrorMessage' in e && i(22, (w = e.setErrorMessage)),
					'isInputAreaRTL' in e && i(1, (b = e.isInputAreaRTL));
			}),
			(e.$$.update = () => {
				if (
					(16777220 & e.$$.dirty[0] &&
						(Ke(s, _e.WRITE)
							? i(8, (C = chrome.i18n.getMessage('input_translation_tooltip_improve_disabled_by_admin')))
							: At(T.langCode)
							? i(8, (C = chrome.i18n.getMessage('input_translation_tooltip_improve_supported_lang')))
							: i(8, (C = chrome.i18n.getMessage('write_language_not_supported'))),
						i(7, (d = !T.langCode || (At(T.langCode) && !Ke(s, _e.WRITE))))),
					4 & e.$$.dirty[0])
				)
					if (s.targetLanguageUserInput && 'undefined' != s.targetLanguageUserInput) {
						let e;
						t({
							action: 'dlCheckCommandShortcuts',
						}).then((t) => {
							(e = t ? t.filter((e) => e.name == z)[0].shortcut : ''),
								e ? ((e = `(${e})`), (c = !0)) : (c = !1),
								i(6, (x = `${chrome.i18n.getMessage('input_translation_tooltip_translate')} ${e}`));
						});
					} else i(6, (x = chrome.i18n.getMessage('input_translation_tooltip_translate_text')));
				4 & e.$$.dirty[0] &&
					i(
						9,
						(r =
							!s.enableInputTranslation ||
							Jb(window.location.host, window.location.href) ||
							s.blacklistDomainsForWriting.includes(window.location.host) ||
							(s.isGmailEnabled && qb())),
					);
			}),
			[
				m,
				b,
				s,
				l,
				E,
				S,
				x,
				d,
				C,
				r,
				a,
				M,
				A,
				() => {
					p(), s.targetLanguageUserInput ? M() : m();
				},
				R,
				u,
				p,
				g,
				h,
				_,
				v,
				y,
				w,
				L,
				T,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				() => A(P.inputTranslationSettingsIcon),
				() =>
					m({
						page: eO.inputSettings,
					}),
				() => {
					A(P.inputImproveTriggerIcon);
				},
				() => {
					d &&
						M({
							isWriteRequest: !0,
						});
				},
				() => A(P.inputTranslationSettingsIcon),
				() =>
					m({
						page: eO.generalSettings,
					}),
				() => {
					R(), A(P.inputTranslationTriggerIcon);
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(l = e), i(3, l);
					});
				},
			]
		);
	}
	class aO extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					sO,
					rO,
					gg,
					{
						inputArea: 15,
						lockActiveElement: 16,
						openSettings: 0,
						closeSettings: 17,
						hideOnboardingHighlighter: 18,
						registerIconCallbacks: 19,
						unregisterIconCallbacks: 20,
						getActiveElement: 21,
						setErrorMessage: 22,
						isInputAreaRTL: 1,
						onLanguageChanged: 23,
					},
					null,
					[-1, -1],
				);
		}
		get onLanguageChanged() {
			return this.$$.ctx[23];
		}
	}
	function lO(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m, g, h, f;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = zg('div')),
					(r = zg('div')),
					(r.textContent = `${chrome.i18n.getMessage('input_translation_highlighter_tooltip_headline')}`),
					(s = Bg()),
					(a = zg('div')),
					(a.textContent = `${chrome.i18n.getMessage('input_translation_highlighter_tooltip_text')}`),
					(l = Bg()),
					(c = zg('button')),
					Gg(r, 'class', 'headline svelte-1vokldc'),
					Gg(i, 'class', 'text-wrapper svelte-1vokldc'),
					Gg(o, 'class', 'content svelte-1vokldc'),
					Gg(c, 'class', 'close-icon svelte-1vokldc'),
					Gg(n, 'class', (d = Eg(`body body__${e[0]}`) + ' svelte-1vokldc')),
					Gg(t, 'class', (u = 'container container__' + e[0] + ' svelte-1vokldc'));
			},
			m(d, u) {
				Ng(d, t, u),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(i, r),
					Ag(i, s),
					Ag(i, a),
					Ag(n, l),
					Ag(n, c),
					e[12](t),
					(g = !0),
					h || ((f = Wg(c, 'click', e[11])), (h = !0));
			},
			p(e, o) {
				(!g || (1 & o && d !== (d = Eg(`body body__${e[0]}`) + ' svelte-1vokldc'))) && Gg(n, 'class', d),
					(!g || (1 & o && u !== (u = 'container container__' + e[0] + ' svelte-1vokldc'))) &&
						Gg(t, 'class', u);
			},
			i(e) {
				g ||
					(Sh(() => {
						g &&
							(m && m.end(1),
							(p = Uh(t, If, {
								x: 100,
								duration: 1e3,
							})),
							p.start());
					}),
					(g = !0));
			},
			o(e) {
				p && p.invalidate(),
					(m = Hh(t, If, {
						x: 100,
						duration: 1e3,
					})),
					(g = !1);
			},
			d(n) {
				n && Dg(t), e[12](null), n && m && m.end(), (h = !1), f();
			},
		};
	}
	function cO(e) {
		let t,
			n,
			o = e[1] && lO(e);
		return {
			c() {
				o && o.c(), (t = Fg());
			},
			m(e, i) {
				o && o.m(e, i), Ng(e, t, i), (n = !0);
			},
			p(e, [n]) {
				e[1]
					? o
						? (o.p(e, n), 2 & n && Dh(o, 1))
						: ((o = lO(e)), o.c(), Dh(o, 1), o.m(t.parentNode, t))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d(e);
			},
		};
	}
	function dO(n, o, i) {
		let r,
			s,
			{ onClose: a } = o,
			{ icon: l } = o,
			{ position: c = 'top' } = o,
			{ registerHighlighterCallbacks: d } = o,
			{ unregisterHighlighterCallbacks: u } = o,
			p = {
				top: 0,
				bottom: 0,
				left: 0,
				right: 0,
			},
			m = {
				height: 0,
				width: 0,
			},
			g = 190,
			h = 305;
		const f = () => {
			if (l) {
				const e = l.getBoundingClientRect();
				let t = {};
				for (const n of ['top', 'bottom', 'left', 'right']) e[n] !== p[n] && (t[n] = e[n]);
				Object.keys(t).length &&
					i(
						7,
						(p = {
							...p,
							...t,
						}),
					);
				let n = {};
				window.innerHeight !== m.height && (n.height = window.innerHeight),
					window.innerWidth !== m.width && (n.width = window.innerWidth),
					Object.keys(n).length &&
						i(
							8,
							(m = {
								...m,
								...n,
							}),
						);
			} else
				i(
					7,
					(p = {
						top: 0,
						bottom: 0,
						left: 0,
						right: 0,
					}),
				);
		};
		function _() {
			a(te.close_icon);
		}
		dh(async () => {
			d({
				recalculateHighlighterCoords: f,
			});
			try {
				t({
					action: 'dltrackOpenInputHighlighter',
					payload: {
						domainName: e.websiteData.hostname,
					},
				}),
					f();
			} catch (e) {
				console.error(e);
			}
			s = p_(r, ({ clientHeight: e, clientWidth: t }) => {
				i(9, (g = e)), i(10, (h = t));
			});
		}),
			uh(() => {
				u(), s && s();
			});
		return (
			(n.$$set = (e) => {
				'onClose' in e && i(4, (a = e.onClose)),
					'icon' in e && i(1, (l = e.icon)),
					'position' in e && i(0, (c = e.position)),
					'registerHighlighterCallbacks' in e && i(5, (d = e.registerHighlighterCallbacks)),
					'unregisterHighlighterCallbacks' in e && i(6, (u = e.unregisterHighlighterCallbacks));
			}),
			(n.$$.update = () => {
				1920 & n.$$.dirty &&
					i(
						0,
						(c = (({ iconCoordinates: e, viewportSize: t, highlighterHeight: n, highlighterWidth: o }) => {
							if (!l) return 'top';
							const i = {
								top: e.top > n,
								bottom: t.height - e.bottom > n,
								right: t.width - e.right > o,
								left: e.left > o,
							};
							for (const [e, t] of Object.entries(i)) if (t) return e;
							return 'top';
						})({
							iconCoordinates: p,
							viewportSize: m,
							highlighterHeight: g,
							highlighterWidth: h,
						})),
					);
			}),
			[
				c,
				l,
				r,
				_,
				a,
				d,
				u,
				p,
				m,
				g,
				h,
				() => _(),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(r = e), i(2, r);
					});
				},
			]
		);
	}
	class uO extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, dO, cO, gg, {
					onClose: 4,
					icon: 1,
					position: 0,
					registerHighlighterCallbacks: 5,
					unregisterHighlighterCallbacks: 6,
				});
		}
	}
	function pO(e) {
		let t, n, o, i, r;
		return (
			(i = new Tw({
				props: {
					value: e[2].targetLanguageUserInput,
					showChooseLanguageOption: !0,
					fontSize: 'sm',
				},
			})),
			i.$on('selection', e[5]),
			{
				c() {
					(t = zg('p')),
						(n = Hg(e[0])),
						(o = Bg()),
						jh(i.$$.fragment),
						Gg(t, 'class', 'font-bold svelte-1bwyi2r');
				},
				m(e, s) {
					Ng(e, t, s), Ag(t, n), Ng(e, o, s), qh(i, e, s), (r = !0);
				},
				p(e, t) {
					(!r || 1 & t) && Vg(n, e[0]);
					const o = {};
					4 & t && (o.value = e[2].targetLanguageUserInput), i.$set(o);
				},
				i(e) {
					r || (Dh(i.$$.fragment, e), (r = !0));
				},
				o(e) {
					Ph(i.$$.fragment, e), (r = !1);
				},
				d(e) {
					e && (Dg(t), Dg(o)), Gh(i, e);
				},
			}
		);
	}
	function mO(e) {
		let t,
			n,
			o = (e[2].enableInputTranslation || e[1]) && pO(e);
		return {
			c() {
				(t = zg('div')), o && o.c();
			},
			m(e, i) {
				Ng(e, t, i), o && o.m(t, null), (n = !0);
			},
			p(e, [n]) {
				e[2].enableInputTranslation || e[1]
					? o
						? (o.p(e, n), 6 & n && Dh(o, 1))
						: ((o = pO(e)), o.c(), Dh(o, 1), o.m(t, null))
					: o &&
					  (Oh(),
					  Ph(o, 1, 1, () => {
							o = null;
					  }),
					  Nh());
			},
			i(e) {
				n || (Dh(o), (n = !0));
			},
			o(e) {
				Ph(o), (n = !1);
			},
			d(e) {
				e && Dg(t), o && o.d();
			},
		};
	}
	function gO(e, t, n) {
		let o;
		const i = gh('deepl_settings');
		fg(e, i, (e) => n(2, (o = e)));
		const r = ph();
		let { subHeaderText: s = chrome.i18n.getMessage('input_translation_settings_target_language') } = t,
			{ fromShortcut: a } = t;
		function l(e) {
			r('languageChanged', {
				lang: e,
			});
		}
		return (
			(e.$$set = (e) => {
				'subHeaderText' in e && n(0, (s = e.subHeaderText)),
					'fromShortcut' in e && n(1, (a = e.fromShortcut));
			}),
			[s, a, o, i, l, (e) => l(e.detail.selectedOption)]
		);
	}
	class hO extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, gO, mO, gg, {
					subHeaderText: 0,
					fromShortcut: 1,
				});
		}
	}
	function fO(e) {
		let t, n, o, i, r, s, a, l;
		const c = e[3].default,
			d = _g(c, e, e[2], null);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('button')),
					(i = Bg()),
					(r = zg('div')),
					d && d.c(),
					Gg(o, 'type', 'button'),
					Gg(o, 'class', 'close-icon svelte-1l51lop'),
					Gg(n, 'class', 'header svelte-1l51lop'),
					Gg(r, 'class', 'content'),
					Gg(t, 'class', 'container svelte-1l51lop');
			},
			m(c, u) {
				Ng(c, t, u),
					Ag(t, n),
					Ag(n, o),
					Ag(t, i),
					Ag(t, r),
					d && d.m(r, null),
					e[5](t),
					(s = !0),
					a || ((l = Wg(o, 'click', e[4])), (a = !0));
			},
			p(e, [t]) {
				d && d.p && (!s || 4 & t) && wg(d, c, e, e[2], s ? yg(c, e[2], t, null) : bg(e[2]), null);
			},
			i(e) {
				s || (Dh(d, e), (s = !0));
			},
			o(e) {
				Ph(d, e), (s = !1);
			},
			d(n) {
				n && Dg(t), d && d.d(n), e[5](null), (a = !1), l();
			},
		};
	}
	function _O(e, t, n) {
		let { $$slots: o = {}, $$scope: i } = t;
		const r = ph();
		let s, a, l, c;
		dh(() => {
			c = p_(l, (e) => {
				(e.offsetHeight = s), (e.offsetWidth = a);
			});
		}),
			uh(() => {
				c && c();
			});
		return (
			(e.$$set = (e) => {
				'$$scope' in e && n(2, (i = e.$$scope));
			}),
			r('resize', {
				offsetHeight: s,
				offsetWidth: a,
			}),
			[
				l,
				r,
				i,
				o,
				() => r('close'),
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(l = e), n(0, l);
					});
				},
			]
		);
	}
	class vO extends Yh {
		constructor(e) {
			super(), Vh(this, e, _O, fO, gg, {});
		}
	}
	function yO(e) {
		let t,
			n,
			o,
			i,
			r,
			s,
			a,
			l,
			c,
			d,
			u,
			p,
			m,
			g,
			h,
			f,
			_,
			v = chrome.i18n.getMessage('input_translation_setting_button_ok') + '';
		return (
			(r = new Px({
				props: {
					name: 'disable_input_translation',
					id: j.disablePerSite,
					value: j.disablePerSite,
					cssClassName: 'radio--with-border',
					checked: e[5] === j.disablePerSite,
					label: chrome.i18n.getMessage('input_translation_setting_radio_disable_per_site'),
					dataQa: 'input-translation_hide-icon_disable-per-site',
				},
			})),
			r.$on('change', e[12]),
			(a = new Px({
				props: {
					name: 'disable_input_translation',
					id: j.disableEverywhere,
					value: j.disableEverywhere,
					cssClassName: 'radio--with-border',
					checked: e[5] === j.disableEverywhere,
					label: chrome.i18n.getMessage('input_translation_setting_radio_disable_everywhere'),
					dataQa: 'input-translation_hide-icon_disable-always',
				},
			})),
			a.$on('change', e[12]),
			{
				c() {
					(t = zg('div')),
						(n = zg('p')),
						(n.textContent = `${chrome.i18n.getMessage('input_translation_setting_label_title_v2')}`),
						(o = Bg()),
						(i = zg('div')),
						jh(r.$$.fragment),
						(s = Bg()),
						jh(a.$$.fragment),
						(l = Bg()),
						(c = zg('div')),
						(d = zg('span')),
						(d.textContent = `${chrome.i18n.getMessage('input_translation_setting_link_cancel')}`),
						(u = Bg()),
						(p = zg('button')),
						(m = Hg(v)),
						Gg(n, 'class', 'font-bold svelte-1wmfpok'),
						Gg(i, 'class', 'option-container svelte-1wmfpok'),
						Gg(d, 'class', 'link svelte-1wmfpok'),
						Gg(p, 'class', (g = Eg('btn btn-primary ' + (e[5] ? '' : 'disabled')) + ' svelte-1wmfpok')),
						Gg(p, 'data-qa', 'input-translation_hide-icon_accept'),
						Gg(c, 'class', 'action-container svelte-1wmfpok'),
						Gg(t, 'class', 'dl-widget svelte-1wmfpok'),
						Gg(t, 'data-qa', 'dl-input-translate-turnoff-settings');
				},
				m(g, v) {
					Ng(g, t, v),
						Ag(t, n),
						Ag(t, o),
						Ag(t, i),
						qh(r, i, null),
						Ag(i, s),
						qh(a, i, null),
						Ag(t, l),
						Ag(t, c),
						Ag(c, d),
						Ag(c, u),
						Ag(c, p),
						Ag(p, m),
						(h = !0),
						f ||
							((_ = [
								Wg(d, 'click', function () {
									mg(e[1] === eO.inputSettings ? e[8] : e[9]) &&
										(e[1] === eO.inputSettings ? e[8] : e[9]).apply(this, arguments);
								}),
								Wg(p, 'click', e[11]),
							]),
							(f = !0));
				},
				p(t, n) {
					e = t;
					const o = {};
					32 & n[0] && (o.checked = e[5] === j.disablePerSite), r.$set(o);
					const i = {};
					32 & n[0] && (i.checked = e[5] === j.disableEverywhere),
						a.$set(i),
						(!h ||
							(32 & n[0] &&
								g !== (g = Eg('btn btn-primary ' + (e[5] ? '' : 'disabled')) + ' svelte-1wmfpok'))) &&
							Gg(p, 'class', g);
				},
				i(e) {
					h || (Dh(r.$$.fragment, e), Dh(a.$$.fragment, e), (h = !0));
				},
				o(e) {
					Ph(r.$$.fragment, e), Ph(a.$$.fragment, e), (h = !1);
				},
				d(e) {
					e && Dg(t), Gh(r), Gh(a), (f = !1), pg(_);
				},
			}
		);
	}
	function wO(e) {
		let t, n, o, i, r;
		(n = new hO({
			props: {
				fromShortcut: e[2],
			},
		})),
			n.$on('languageChanged', e[22]);
		let s = e[6] && e[6].targetLanguageUserInput && bO(e);
		return {
			c() {
				(t = zg('div')),
					jh(n.$$.fragment),
					(o = Bg()),
					s && s.c(),
					(i = Fg()),
					Gg(t, 'class', 'dl-widget svelte-1wmfpok');
			},
			m(e, a) {
				Ng(e, t, a), qh(n, t, null), Ng(e, o, a), s && s.m(e, a), Ng(e, i, a), (r = !0);
			},
			p(e, t) {
				const o = {};
				4 & t[0] && (o.fromShortcut = e[2]),
					n.$set(o),
					e[6] && e[6].targetLanguageUserInput
						? s
							? s.p(e, t)
							: ((s = bO(e)), s.c(), s.m(i.parentNode, i))
						: s && (s.d(1), (s = null));
			},
			i(e) {
				r || (Dh(n.$$.fragment, e), (r = !0));
			},
			o(e) {
				Ph(n.$$.fragment, e), (r = !1);
			},
			d(e) {
				e && (Dg(t), Dg(o), Dg(i)), Gh(n), s && s.d(e);
			},
		};
	}
	function bO(e) {
		let t, n, o, i, r, s, a, l;
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					(o = zg('div')),
					(i = zg('span')),
					(i.textContent = `${chrome.i18n.getMessage('input_translation_link_more_settings')}`),
					(r = Bg()),
					(s = zg('span')),
					Gg(s, 'class', 'icon icon-external-link svelte-1wmfpok'),
					Gg(o, 'class', 'link link-settings svelte-1wmfpok'),
					Gg(o, 'data-qa', 'dl-input-translate-open-settings-page'),
					Gg(n, 'class', 'action-container svelte-1wmfpok'),
					Gg(t, 'class', 'dl-widget svelte-1wmfpok');
			},
			m(c, d) {
				Ng(c, t, d),
					Ag(t, n),
					Ag(n, o),
					Ag(o, i),
					Ag(o, r),
					Ag(o, s),
					a || ((l = Wg(o, 'click', e[10])), (a = !0));
			},
			p: lg,
			d(e) {
				e && Dg(t), (a = !1), l();
			},
		};
	}
	function EO(e) {
		let t, n, o, i;
		const r = [wO, yO],
			s = [];
		function a(e, t) {
			return e[3] === eO.generalSettings ? 0 : e[3] === eO.inputSettings ? 1 : -1;
		}
		return (
			~(t = a(e)) && (n = s[t] = r[t](e)),
			{
				c() {
					n && n.c(), (o = Fg());
				},
				m(e, n) {
					~t && s[t].m(e, n), Ng(e, o, n), (i = !0);
				},
				p(e, i) {
					let l = t;
					(t = a(e)),
						t === l
							? ~t && s[t].p(e, i)
							: (n &&
									(Oh(),
									Ph(s[l], 1, 1, () => {
										s[l] = null;
									}),
									Nh()),
							  ~t
									? ((n = s[t]),
									  n ? n.p(e, i) : ((n = s[t] = r[t](e)), n.c()),
									  Dh(n, 1),
									  n.m(o.parentNode, o))
									: (n = null));
				},
				i(e) {
					i || (Dh(n), (i = !0));
				},
				o(e) {
					Ph(n), (i = !1);
				},
				d(e) {
					e && Dg(o), ~t && s[t].d(e);
				},
			}
		);
	}
	function SO(e) {
		let t, n, o, i;
		return (
			(n = new vO({
				props: {
					$$slots: {
						default: [EO],
					},
					$$scope: {
						ctx: e,
					},
				},
			})),
			n.$on('close', e[23]),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', (o = 'settings-container settings-container__' + e[0] + ' svelte-1wmfpok'));
				},
				m(o, r) {
					Ng(o, t, r), qh(n, t, null), e[24](t), (i = !0);
				},
				p(e, r) {
					const s = {};
					(110 & r[0]) | (1 & r[1]) &&
						(s.$$scope = {
							dirty: r,
							ctx: e,
						}),
						n.$set(s),
						(!i ||
							(1 & r[0] &&
								o !== (o = 'settings-container settings-container__' + e[0] + ' svelte-1wmfpok'))) &&
							Gg(t, 'class', o);
				},
				i(e) {
					i || (Dh(n.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (i = !1);
				},
				d(o) {
					o && Dg(t), Gh(n), e[24](null);
				},
			}
		);
	}
	function xO(e, n, o) {
		let i;
		const r = ph();
		let s = eO.generalSettings;
		const a = gh('deepl_settings');
		fg(e, a, (e) => o(6, (i = e)));
		let l,
			c,
			{ startPage: d } = n,
			{ fromShortcut: u = !1 } = n,
			{ icon: p } = n,
			{ position: m = 'top' } = n,
			{ registerSettingsCallbacks: g } = n,
			{ unregisterSettingsCallbacks: h } = n,
			{ closeSettings: f } = n,
			_ = {
				top: 0,
				bottom: 0,
				left: 0,
				right: 0,
			},
			v = {
				height: 0,
				width: 0,
			},
			y = 140,
			w = 387,
			b = '';
		const E = () => {
			if (p) {
				const e = p.getBoundingClientRect();
				let t = {};
				for (const n of ['top', 'bottom', 'left', 'right']) e[n] !== _[n] && (t[n] = e[n]);
				Object.keys(t).length &&
					o(
						18,
						(_ = {
							..._,
							...t,
						}),
					);
				let n = {};
				window.innerHeight !== v.height && (n.height = window.innerHeight),
					window.innerWidth !== v.width && (n.width = window.innerWidth),
					Object.keys(n).length &&
						o(
							19,
							(v = {
								...v,
								...n,
							}),
						);
			} else
				o(
					18,
					(_ = {
						top: 0,
						bottom: 0,
						left: 0,
						right: 0,
					}),
				);
		};
		return (
			dh(() => {
				E(),
					g({
						recalculateSettingsCoords: E,
					}),
					(c = p_(l, ({ clientHeight: e, clientWidth: t }) => {
						o(20, (y = e)), o(21, (w = t));
					}));
			}),
			uh(() => {
				h(), c && c();
			}),
			(e.$$set = (e) => {
				'startPage' in e && o(1, (d = e.startPage)),
					'fromShortcut' in e && o(2, (u = e.fromShortcut)),
					'icon' in e && o(13, (p = e.icon)),
					'position' in e && o(0, (m = e.position)),
					'registerSettingsCallbacks' in e && o(14, (g = e.registerSettingsCallbacks)),
					'unregisterSettingsCallbacks' in e && o(15, (h = e.unregisterSettingsCallbacks)),
					'closeSettings' in e && o(16, (f = e.closeSettings));
			}),
			(e.$$.update = () => {
				3932160 & e.$$.dirty[0] &&
					o(
						0,
						(m = (({ iconCoordinates: e, viewportSize: t, popupHeight: n, popupWidth: o }) => {
							if (!p) return 'top';
							const i = {
								top: e.top > n,
								bottom: t.height - e.bottom > n,
								right: t.width - e.right > o,
								left: e.left > o,
							};
							for (const [e, t] of Object.entries(i)) if (t) return e;
							return 'top';
						})({
							iconCoordinates: _,
							viewportSize: v,
							popupHeight: y,
							popupWidth: w,
						})),
					),
					2 & e.$$.dirty[0] && d && o(3, (s = d));
			}),
			[
				m,
				d,
				u,
				s,
				l,
				b,
				i,
				a,
				function () {
					r('close');
				},
				function () {
					var e;
					o(5, (b = '')), (e = eO.generalSettings), o(3, (s = e));
				},
				function () {
					t({
						action: 'dlOpenInternalPage',
						payload: {
							destination: SE.settings_writing,
						},
					});
				},
				function () {
					if (!b) return;
					switch (b) {
						case j.disableEverywhere:
							a.set({
								enableInputTranslation: !1,
							}),
								t({
									action: 'dlTrackSettingChanged',
									payload: {
										settingType: j.disableEverywhere,
										domainName: window.location.hostname,
										uiFunction: q,
										uiLocation: P.inputTranslationSettingPopup,
									},
								}),
								f();
							break;
						case j.disablePerSite:
							!(function () {
								let e = i.blacklistDomainsForWriting;
								e &&
									!e.includes(window.location.hostname) &&
									(e.push(window.location.hostname),
									a.set({
										blacklistDomainsForWriting: e,
									}),
									t({
										action: 'dlTrackSettingChanged',
										payload: {
											settingType: j.disablePerSite,
											domainName: window.location.hostname,
											uiFunction: q,
											uiLocation: P.inputTranslationSettingPopup,
										},
									}));
								f();
							})();
					}
					let e = eE(window.location.hostname, ['www.']);
					t({
						action: 'dlSendNotification',
						payload: {
							type: N.inputTranslation,
							options: {
								theme: D.green_theme,
								currentDomain: e,
								saveAction: b,
								settingsPageURL: SE.settings_writing,
							},
						},
					});
				},
				function (e) {
					o(5, (b = e.currentTarget.value));
				},
				p,
				g,
				h,
				f,
				E,
				_,
				v,
				y,
				w,
				function (t) {
					hh.call(this, e, t);
				},
				function (t) {
					hh.call(this, e, t);
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(l = e), o(4, l);
					});
				},
			]
		);
	}
	class TO extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					xO,
					SO,
					gg,
					{
						startPage: 1,
						fromShortcut: 2,
						icon: 13,
						position: 0,
						registerSettingsCallbacks: 14,
						unregisterSettingsCallbacks: 15,
						closeSettings: 16,
						recalculateSettingsCoords: 17,
					},
					null,
					[-1, -1],
				);
		}
		get recalculateSettingsCoords() {
			return this.$$.ctx[17];
		}
	}
	function CO(e) {
		let t, n, o, i, r, s;
		return (
			(n = new wy({
				props: {
					error: e[1],
					config: {
						small: !0,
					},
					close: e[2],
				},
			})),
			{
				c() {
					(t = zg('div')),
						jh(n.$$.fragment),
						Gg(t, 'class', (o = 'error-container error-container__' + e[0] + ' svelte-16e3fjt'));
				},
				m(o, a) {
					Ng(o, t, a),
						qh(n, t, null),
						e[12](t),
						(i = !0),
						r ||
							((s = [
								xg(
									r_.call(null, t, {
										isShadow: !0,
									}),
								),
								Wg(t, 'click_outside', e[13]),
							]),
							(r = !0));
				},
				p(e, [r]) {
					const s = {};
					2 & r && (s.error = e[1]),
						4 & r && (s.close = e[2]),
						n.$set(s),
						(!i || (1 & r && o !== (o = 'error-container error-container__' + e[0] + ' svelte-16e3fjt'))) &&
							Gg(t, 'class', o);
				},
				i(e) {
					i || (Dh(n.$$.fragment, e), (i = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (i = !1);
				},
				d(o) {
					o && Dg(t), Gh(n), e[12](null), (r = !1), pg(s);
				},
			}
		);
	}
	function $O(e, t, n) {
		let o,
			i,
			{ errorMessage: r } = t,
			{ icon: s } = t,
			{ position: a = 'top' } = t,
			{ registerErrorCallbacks: l } = t,
			{ unregisterErrorCallbacks: c } = t,
			{ close: d } = t,
			u = 140,
			p = 387,
			m = {
				top: 0,
				bottom: 0,
				left: 0,
				right: 0,
			},
			g = {
				height: 0,
				width: 0,
			};
		const h = () => {
			if (s) {
				const e = s.getBoundingClientRect();
				let t = {};
				for (const n of ['top', 'bottom', 'left', 'right']) e[n] !== m[n] && (t[n] = e[n]);
				Object.keys(t).length &&
					n(
						10,
						(m = {
							...m,
							...t,
						}),
					);
				let o = {};
				window.innerHeight !== g.height && (o.height = window.innerHeight),
					window.innerWidth !== g.width && (o.width = window.innerWidth),
					Object.keys(o).length &&
						n(
							11,
							(g = {
								...g,
								...o,
							}),
						);
			} else
				n(
					10,
					(m = {
						top: 0,
						bottom: 0,
						left: 0,
						right: 0,
					}),
				);
		};
		dh(() => {
			h(),
				l({
					recalculateErrorCoords: h,
				}),
				(i = p_(o, ({ clientHeight: e, clientWidth: t }) => {
					n(8, (u = e)), n(9, (p = t));
				}));
		}),
			uh(() => {
				c(), i && i();
			});
		return (
			(e.$$set = (e) => {
				'errorMessage' in e && n(1, (r = e.errorMessage)),
					'icon' in e && n(4, (s = e.icon)),
					'position' in e && n(0, (a = e.position)),
					'registerErrorCallbacks' in e && n(5, (l = e.registerErrorCallbacks)),
					'unregisterErrorCallbacks' in e && n(6, (c = e.unregisterErrorCallbacks)),
					'close' in e && n(2, (d = e.close));
			}),
			(e.$$.update = () => {
				3840 & e.$$.dirty &&
					n(
						0,
						(a = (({ iconCoordinates: e, viewportSize: t, highlighterHeight: n, highlighterWidth: o }) => {
							if (!s) return 'top';
							const i = {
								top: e.top > n,
								bottom: t.height - e.bottom > n,
								right: t.width - e.right > o,
								left: e.left > o,
							};
							for (const [e, t] of Object.entries(i)) if (t) return e;
							return 'top';
						})({
							iconCoordinates: m,
							viewportSize: g,
							popupHeight: u,
							popupWidth: p,
						})),
					);
			}),
			[
				a,
				r,
				d,
				o,
				s,
				l,
				c,
				h,
				u,
				p,
				m,
				g,
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(o = e), n(3, o);
					});
				},
				() => d(),
			]
		);
	}
	class kO extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, $O, CO, gg, {
					errorMessage: 1,
					icon: 4,
					position: 0,
					registerErrorCallbacks: 5,
					unregisterErrorCallbacks: 6,
					close: 2,
					recalculateErrorCoords: 7,
				});
		}
		get recalculateErrorCoords() {
			return this.$$.ctx[7];
		}
	}
	function LO(e) {
		let t, n, o;
		return {
			c() {
				t = zg('div');
			},
			m(i, r) {
				Ng(i, t, r),
					n ||
						((o = [
							Wg(t, 'click_outside', e[16]),
							xg(
								r_.call(null, t, {
									isShadow: !0,
								}),
							),
						]),
						(n = !0));
			},
			p: lg,
			i: lg,
			o: lg,
			d(e) {
				e && Dg(t), (n = !1), pg(o);
			},
		};
	}
	function IO(e) {
		let t, n, o, i, r, s, a, l, c, d, u, p, m;
		o = new aO({
			props: {
				inputArea: e[1],
				lockActiveElement: e[17],
				openSettings: e[20],
				closeSettings: e[21],
				hideOnboardingHighlighter: e[18],
				registerIconCallbacks: e[22],
				unregisterIconCallbacks: e[23],
				getActiveElement: e[19],
				isInputAreaRTL: e[9],
				setErrorMessage: e[34],
			},
		});
		let g = e[3] && MO(e),
			h = e[4] && AO(e),
			f = e[7] && RO(e);
		return {
			c() {
				(t = zg('div')),
					(n = zg('div')),
					jh(o.$$.fragment),
					(i = Bg()),
					g && g.c(),
					(r = Bg()),
					h && h.c(),
					(s = Bg()),
					f && f.c(),
					Gg(n, 'class', 'dl-input-placeholder svelte-d7i1bp'),
					Qg(n, 'disabled', e[12]),
					Qg(n, 'reduced-space', !e[13]),
					Qg(n, 'other-extension-present', e[11]),
					Qg(n, 'chat-gpt-present', e[0].isChatGPTPresent),
					Gg(t, 'class', 'dl-input-positioner svelte-d7i1bp'),
					Gg(t, 'dir', (c = e[9] ? 'rtl' : 'ltr')),
					Gg(
						t,
						'style',
						(d = [
							`top: ${e[0].top}px;`,
							`left: ${e[0].left}px;`,
							`height: ${e[0].height}px;`,
							`width: ${e[0].width}px;`,
							`position: ${e[0].position};`,
						].join(' ')),
					),
					Qg(t, 'debug-mode', NO);
			},
			m(a, l) {
				Ng(a, t, l),
					Ag(t, n),
					qh(o, n, null),
					Ag(n, i),
					g && g.m(n, null),
					Ag(n, r),
					h && h.m(n, null),
					Ag(n, s),
					f && f.m(n, null),
					e[38](n),
					(u = !0),
					p ||
						((m = [
							xg(
								r_.call(null, n, {
									isShadow: !0,
								}),
							),
							Wg(n, 'click_outside', e[37]),
							Wg(n, 'click', e[17]),
						]),
						(p = !0));
			},
			p(e, i) {
				const a = {};
				2 & i[0] && (a.inputArea = e[1]),
					512 & i[0] && (a.isInputAreaRTL = e[9]),
					128 & i[0] && (a.setErrorMessage = e[34]),
					o.$set(a),
					e[3]
						? g
							? (g.p(e, i), 8 & i[0] && Dh(g, 1))
							: ((g = MO(e)), g.c(), Dh(g, 1), g.m(n, r))
						: g &&
						  (Oh(),
						  Ph(g, 1, 1, () => {
								g = null;
						  }),
						  Nh()),
					e[4]
						? h
							? (h.p(e, i), 16 & i[0] && Dh(h, 1))
							: ((h = AO(e)), h.c(), Dh(h, 1), h.m(n, s))
						: h &&
						  (Oh(),
						  Ph(h, 1, 1, () => {
								h = null;
						  }),
						  Nh()),
					e[7]
						? f
							? (f.p(e, i), 128 & i[0] && Dh(f, 1))
							: ((f = RO(e)), f.c(), Dh(f, 1), f.m(n, null))
						: f &&
						  (Oh(),
						  Ph(f, 1, 1, () => {
								f = null;
						  }),
						  Nh()),
					(!u || 4096 & i[0]) && Qg(n, 'disabled', e[12]),
					(!u || 8192 & i[0]) && Qg(n, 'reduced-space', !e[13]),
					(!u || 2048 & i[0]) && Qg(n, 'other-extension-present', e[11]),
					(!u || 1 & i[0]) && Qg(n, 'chat-gpt-present', e[0].isChatGPTPresent),
					(!u || (512 & i[0] && c !== (c = e[9] ? 'rtl' : 'ltr'))) && Gg(t, 'dir', c),
					(!u ||
						(1 & i[0] &&
							d !==
								(d = [
									`top: ${e[0].top}px;`,
									`left: ${e[0].left}px;`,
									`height: ${e[0].height}px;`,
									`width: ${e[0].width}px;`,
									`position: ${e[0].position};`,
								].join(' ')))) &&
						Gg(t, 'style', d);
			},
			i(e) {
				u ||
					(Dh(o.$$.fragment, e),
					Dh(g),
					Dh(h),
					Dh(f),
					Sh(() => {
						u &&
							(l && l.end(1),
							(a = Uh(n, Lf, {
								duration: 100,
							})),
							a.start());
					}),
					(u = !0));
			},
			o(e) {
				Ph(o.$$.fragment, e),
					Ph(g),
					Ph(h),
					Ph(f),
					a && a.invalidate(),
					(l = Hh(n, Lf, {
						duration: 150,
					})),
					(u = !1);
			},
			d(n) {
				n && Dg(t),
					Gh(o),
					g && g.d(),
					h && h.d(),
					f && f.d(),
					e[38](null),
					n && l && l.end(),
					(p = !1),
					pg(m);
			},
		};
	}
	function MO(e) {
		let t, n, o;
		return (
			(n = new uO({
				props: {
					onClose: e[18],
					position: 'top',
					registerHighlighterCallbacks: e[28],
					unregisterHighlighterCallbacks: e[29],
					icon: e[2],
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'dl-onboarding-highlighter svelte-d7i1bp');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p(e, t) {
					const o = {};
					4 & t[0] && (o.icon = e[2]), n.$set(o);
				},
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function AO(e) {
		let t, n;
		return (
			(t = new TO({
				props: {
					icon: e[2],
					startPage: e[5],
					fromShortcut: e[6],
					position: 'top',
					registerSettingsCallbacks: e[24],
					unregisterSettingsCallbacks: e[25],
					closeSettings: e[21],
				},
			})),
			t.$on('languageChanged', e[35]),
			t.$on('close', e[21]),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					4 & n[0] && (o.icon = e[2]),
						32 & n[0] && (o.startPage = e[5]),
						64 & n[0] && (o.fromShortcut = e[6]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function RO(e) {
		let t, n;
		return (
			(t = new kO({
				props: {
					errorMessage: e[7],
					icon: e[2],
					position: 'top',
					registerErrorCallbacks: e[26],
					unregisterErrorCallbacks: e[27],
					close: e[36],
				},
			})),
			{
				c() {
					jh(t.$$.fragment);
				},
				m(e, o) {
					qh(t, e, o), (n = !0);
				},
				p(e, n) {
					const o = {};
					128 & n[0] && (o.errorMessage = e[7]),
						4 & n[0] && (o.icon = e[2]),
						128 & n[0] && (o.close = e[36]),
						t.$set(o);
				},
				i(e) {
					n || (Dh(t.$$.fragment, e), (n = !0));
				},
				o(e) {
					Ph(t.$$.fragment, e), (n = !1);
				},
				d(e) {
					Gh(t, e);
				},
			}
		);
	}
	function OO(e) {
		let t, n, o, i;
		const r = [IO, LO],
			s = [];
		function a(e, t) {
			return e[10] && e[0] && e[14] ? 0 : 1;
		}
		return (
			(t = a(e)),
			(n = s[t] = r[t](e)),
			{
				c() {
					n.c(), (o = Fg());
				},
				m(e, n) {
					s[t].m(e, n), Ng(e, o, n), (i = !0);
				},
				p(e, i) {
					let l = t;
					(t = a(e)),
						t === l
							? s[t].p(e, i)
							: (Oh(),
							  Ph(s[l], 1, 1, () => {
									s[l] = null;
							  }),
							  Nh(),
							  (n = s[t]),
							  n ? n.p(e, i) : ((n = s[t] = r[t](e)), n.c()),
							  Dh(n, 1),
							  n.m(o.parentNode, o));
				},
				i(e) {
					i || (Dh(n), (i = !0));
				},
				o(e) {
					Ph(n), (i = !1);
				},
				d(e) {
					e && Dg(o), s[t].d(e);
				},
			}
		);
	}
	const NO = !1;
	function DO(n, o, i) {
		let r, s, a, l, c;
		const d = gh('deepl_settings');
		fg(n, d, (e) => i(33, (c = e)));
		const u = 20,
			p = 40;
		let m,
			g,
			h,
			f,
			_,
			v,
			y,
			w,
			b,
			E,
			S = !1,
			x = !1,
			T = !1,
			C = !1,
			$ = !1,
			{ trackInputInjectionIfNecessary: k } = o,
			{ registerPositionerCallbacks: L } = o,
			{ unregisterPositionerCallbacks: I } = o,
			M = !1,
			A = [],
			R = {
				top: 0,
				left: 0,
				height: 0,
				width: 0,
				position: 'absolute',
				isLanguageToolsPresent: !1,
				isGrammarlyPresent: !1,
				isChatGPTPresent: jR(),
			},
			O = !1;
		const N = () => {
				i(1, (m = document.activeElement));
				const e = (function (e) {
					const t = QR.find(({ domain: t }) => {
						const n = t.replace(/[.*+\-?^${}()|[\]\\]/g, '\\$&');
						return new RegExp(n).test(e);
					});
					return t || null;
				})(window.location.href);
				if (e?.uniqueDataAttributes && e.uniqueDataAttributes.length > 0)
					for (let t of e.uniqueDataAttributes) if (m.dataset[t.key] === t.value) return;
				if (e?.selectors && e.selectors.length > 0)
					for (let t of e.selectors) {
						const e = document.querySelector(t),
							n = yE(e),
							o = yE(m),
							i = n.toString() === o.toString();
						if (e === m || e.isSameNode(m) || i) return;
					}
				(A = KR({
					inputArea: m,
				})),
					V(),
					k(),
					U();
			},
			D = () => {
				H(), i(7, (f = void 0)), Y(), (A = []), i(1, (m = void 0));
			},
			z = () => {
				S = !1;
			},
			U = () => {
				if (!c.isInputHighlighterShown && !qb()) {
					Sg(d, (c.isInputHighlighterShown = !0), c), i(3, (x = !0));
					try {
						t({
							action: 'dltrackOpenInputHighlighter',
							payload: {
								domainName: e.websiteData.hostname,
							},
						});
					} catch (e) {
						console.error(e);
					}
				}
			},
			H = (e = te.outside_click) => {
				i(3, (x = !1));
				try {
					t({
						action: 'dltrackCloseInputHighlighter',
						payload: {
							event: e,
						},
					});
				} catch (e) {
					console.error(e);
				}
			},
			B = () => {
				W(), O && (i(9, (M = Nt(m))), j(), E && E(), x && v && v(), T && y && y(), w && w());
			},
			F = (e = document.activeElement) => {
				const t = e.contentDocument;
				return t && t.activeElement ? F(t.activeElement) : e;
			},
			W = () => {
				const e = F(),
					t = !S && e !== m,
					n = e && VR(e),
					o = m && !m.isConnected;
				!t || n || $ ? (($ = !1), t ? (D(), n && N()) : o && D()) : ($ = !0);
			},
			j = () => {
				i(
					0,
					(R = YR({
						inputArea: m,
					})),
				);
			},
			G = () => {
				j();
			},
			V = () => {
				i(10, (O = !0)), j();
				for (const e of A) e.addEventListener('scroll', G);
				window.addEventListener('scroll', G);
			},
			Y = () => {
				i(10, (O = !1));
				for (const e of A) e.removeEventListener('scroll', G);
				window.removeEventListener('scroll', G), X();
			},
			K = () => {
				_ && _();
			},
			Z = ({ page: e, fromShortcut: n = !1 } = {}) => {
				i(5, (h = e)),
					i(6, (C = n)),
					T ||
						(i(4, (T = !0)),
						t({
							action: 'dlTrackInlineSettingOpened',
							payload: {
								uiFunction: q,
								uiLocation: P.inputTranslationTriggerIcon,
							},
						}));
			},
			X = () => {
				T && i(4, (T = !1));
			};
		dh(() => {
			(A = KR({
				inputArea: m,
			})),
				L({
					processRefreshCycle: B,
					triggerTranslation: K,
					openSettings: Z,
				});
		}),
			uh(() => {
				for (const e of A) e.removeEventListener('scroll', G);
				I();
			});
		return (
			(n.$$set = (e) => {
				'trackInputInjectionIfNecessary' in e && i(30, (k = e.trackInputInjectionIfNecessary)),
					'registerPositionerCallbacks' in e && i(31, (L = e.registerPositionerCallbacks)),
					'unregisterPositionerCallbacks' in e && i(32, (I = e.unregisterPositionerCallbacks));
			}),
			(n.$$.update = () => {
				1 & n.$$.dirty[0] && i(14, (r = R.height >= u)),
					1 & n.$$.dirty[0] && i(13, (s = R.height >= p)),
					4 & n.$$.dirty[1] &&
						i(
							12,
							(a =
								!c.enableInputTranslation ||
								Jb(window.location.host, window.location.href) ||
								c.blacklistDomainsForWriting.includes(window.location.host) ||
								(c.isGmailEnabled && qb())),
						),
					1 & n.$$.dirty[0] && i(11, (l = R.isLanguageToolsPresent || R.isGrammarlyPresent));
			}),
			[
				R,
				m,
				g,
				x,
				T,
				h,
				C,
				f,
				b,
				M,
				O,
				l,
				a,
				s,
				r,
				d,
				z,
				() => {
					S = !0;
				},
				H,
				F,
				Z,
				X,
				({ processRefreshCycle: e, languageChanged: t, triggerTranslation: n }) => {
					(E = e), i(8, (b = t)), (_ = n);
				},
				() => {
					(E = void 0), i(8, (b = void 0)), (_ = void 0);
				},
				({ recalculateSettingsCoords: e }) => {
					y = e;
				},
				() => {
					y = void 0;
				},
				({ recalculateErrorCoords: e }) => {
					w = e;
				},
				() => {
					w = void 0;
				},
				({ recalculateHighlighterCoords: e }) => {
					v = e;
				},
				() => {
					v = void 0;
				},
				k,
				L,
				I,
				c,
				(e) => {
					i(7, (f = e));
				},
				(e) => b && b(e.detail.lang),
				() => {
					i(7, (f = void 0));
				},
				() => {
					z(), X();
				},
				function (e) {
					_h[e ? 'unshift' : 'push'](() => {
						(g = e), i(2, g);
					});
				},
			]
		);
	}
	class PO extends Yh {
		constructor(e) {
			super(),
				Vh(
					this,
					e,
					DO,
					OO,
					gg,
					{
						trackInputInjectionIfNecessary: 30,
						registerPositionerCallbacks: 31,
						unregisterPositionerCallbacks: 32,
					},
					null,
					[-1, -1],
				);
		}
	}
	function zO(e) {
		let t, n, o;
		return (
			(n = new PO({
				props: {
					trackInputInjectionIfNecessary: e[0],
					registerPositionerCallbacks: e[1],
					unregisterPositionerCallbacks: e[2],
				},
			})),
			{
				c() {
					(t = zg('div')), jh(n.$$.fragment), Gg(t, 'class', 'dl-input-translation-container svelte-95aucy');
				},
				m(e, i) {
					Ng(e, t, i), qh(n, t, null), (o = !0);
				},
				p: lg,
				i(e) {
					o || (Dh(n.$$.fragment, e), (o = !0));
				},
				o(e) {
					Ph(n.$$.fragment, e), (o = !1);
				},
				d(e) {
					e && Dg(t), Gh(n);
				},
			}
		);
	}
	function UO(e, n, o) {
		let i, r, s, a;
		mh('deepl_settings', Xh), mh('deepl_website_settings', pw), mh('text_direction', Ot());
		let l = !0,
			c = !1;
		const d = () => {
				i && i();
			},
			u = async (e) => {
				if ('dlChangeActiveTabStatus' === e.action) o(5, (l = e.payload.isActive));
			},
			p = () => {
				a && clearInterval(a), (a = setInterval(d, 300));
			},
			m = () => {
				clearInterval(a);
			};
		return (
			dh(() => {
				p(), chrome.runtime.onMessage.addListener(u);
			}),
			uh(() => {
				a && m(), chrome.runtime.onMessage.removeListener(u);
			}),
			(e.$$.update = () => {
				32 & e.$$.dirty && (l ? p() : m());
			}),
			[
				() => {
					c ||
						((c = !0),
						t({
							action: 'dlTrackInputTranslationInjection',
							payload: window.location.host,
						}));
				},
				({ processRefreshCycle: e, triggerTranslation: t, openSettings: n }) => {
					(i = e), (r = t), (s = n);
				},
				() => {
					(i = void 0), (r = void 0), (s = void 0);
				},
				() => {
					r && r();
				},
				() => {
					s &&
						s({
							fromShortcut: !1,
						});
				},
				l,
			]
		);
	}
	class HO extends Yh {
		constructor(e) {
			super(),
				Vh(this, e, UO, zO, gg, {
					triggerTranslation: 3,
					openSettingsFromShortcut: 4,
				});
		}
		get triggerTranslation() {
			return this.$$.ctx[3];
		}
		get openSettingsFromShortcut() {
			return this.$$.ctx[4];
		}
	}
	class BO {
		static HTML_TAG_NAME = 'deepl-input-controller';
		static createElement = (e = document) => {
			const t = e.createElement(BO.HTML_TAG_NAME),
				n = new BO(t);
			return (
				(t.createDOM = n.createDOM),
				(t.cleanupDOM = n.cleanupDOM),
				(t.triggerTranslation = n.triggerTranslation),
				(t.openSettingsFromShortcut = n.openSettingsFromShortcut),
				t
			);
		};
		constructor(e) {
			(this.domElement = e),
				(this.domElement.shadow = this.domElement.attachShadow({
					mode: 'open',
				})),
				(this.domElement.shadowContainer = document.createElement('div')),
				(this.domElement.shadowContainer.dir = 'ltr'),
				this.domElement.mainComponent;
			const t = document.createElement('link');
			t.setAttribute('rel', 'stylesheet'), t.setAttribute('href', chrome.runtime.getURL('build/content.css'));
			(this.domElement.shadowContainer.style.cssText = 'visibility: initial !important;'),
				this.domElement.shadow.appendChild(t),
				this.domElement.shadow.appendChild(this.domElement.shadowContainer);
		}
		createDOM = () => {
			this.domElement.mainComponent = new HO({
				target: this.domElement.shadowContainer,
				props: {
					onClose: this.domElement.cleanupDOM,
					controller: this.domElement,
				},
			});
		};
		triggerTranslation = () => {
			this.domElement.mainComponent.triggerTranslation();
		};
		openSettingsFromShortcut = () => {
			this.domElement.mainComponent.openSettingsFromShortcut();
		};
		cleanupDOM() {
			this.domElement.shadowContainer.remove(),
				this.domElement.mainComponent && this.domElement.mainComponent.$destroy();
		}
	}
	let FO,
		WO,
		jO,
		qO,
		GO,
		VO,
		YO,
		KO = 0,
		ZO = [];
	const XO = pw.subscribe((e) => {
			(FO = e.translationState),
				e.translatedDOM && (ZO = e.translatedDOM.map((e) => e)),
				e.translationState !== GO && ((GO = e.translationState), FO === d.showOriginal && QO());
		}),
		JO = Xh.subscribe((e) => {
			if (0 !== Object.keys(e).length) {
				if (((VO = e.isLoggedIn), (YO = e.translatorServiceType), qO && qO !== e.selectedTargetLanguage)) {
					const e = FO !== d.none;
					e && QO(),
						pw.update({
							translatedDOM: [],
						}),
						(ZO = []),
						e &&
							pw.update({
								translationState: d.none,
							});
				}
				qO = e.selectedTargetLanguage;
			}
		});
	function QO() {
		ZO.forEach((e) => {
			lN(e.original, e.clone), sN(e.original, e.clone), eN(e.original, !1);
		}),
			jO && (jO.disconnect(), (jO = void 0)),
			WO && (document.removeEventListener('scroll', WO), (WO = void 0)),
			(FO = d.none);
	}
	function eN(e, t) {
		if ('#text' != e.nodeName && '#comment' != e.nodeName && e.dataset) {
			e.dataset.dlTranslated = t;
			for (var n = 0; n < e.childNodes.length; ++n) eN(e.childNodes[n], t);
		}
	}
	async function tN(e, n, o) {
		try {
			const i = e.contentDocument || e.contentWindow.document;
			if (
				!e ||
				!(function (e) {
					return !!e.contentDocument && uN(e, 0.3);
				})(e)
			)
				return;
			const r = [];
			if ((pN(r, i.documentElement), 0 === r.length)) return;
			await mN(r, n.sourceLang, n.noTranslationLanguages, n.trigger, o, window.location.hostname),
				(e.translatedDOM = [...(e.translatedDOM || []), ...r]);
			try {
				t({
					action: 'dlTrackIframeTranslationSuccessful',
				});
			} catch (e) {
				console.error(e);
			}
		} catch (e) {
			console.error('error', e),
				t({
					action: 'dlTrackIframeTranslationFailed',
					payload: {
						errorCode: e.name,
						errorMessage: e.message,
					},
				});
		}
	}
	function nN(e) {
		if (void 0 !== e.dataset) {
			void 0 === e.dataset.dlUid && (e.dataset.dlUid = KO++),
				void 0 === e.dataset.dlOriginal && (e.dataset.dlOriginal = !0);
			for (var t = 0; t < e.childNodes.length; ++t) nN(e.childNodes[t]);
		}
	}
	function oN(e) {
		if (
			(function (e) {
				if (!e || !e.attributes) return !1;
				const t = e.attributes,
					n = t instanceof NamedNodeMap,
					o = t.constructor === NamedNodeMap,
					i = Object.getPrototypeOf(t) === NamedNodeMap.prototype;
				return n && o && i;
			})(e)
		) {
			if (void 0 !== e.attributes) {
				var t = null;
				for (
					void 0 !== e.dataset && void 0 !== e.dataset.dlUid && (t = e.dataset.dlUid);
					e.attributes.length > 0;

				)
					e.removeAttribute(e.attributes[0].name);
				null !== t && (e.dataset.dlUid = t);
			}
			for (var n = 0; n < e.childNodes.length; ++n) oN(e.childNodes[n]);
		}
	}
	function iN(e, t) {
		nN(t);
		var n = t.cloneNode(!0);
		oN(n),
			e.push({
				original: t,
				clone: n,
			}),
			eN(t, !0);
	}
	function rN(e, t) {
		if (void 0 === t.dataset) return null;
		if (e.dataset && e.dataset.dlUid && t.dataset.dlUid && e.dataset.dlUid === t.dataset.dlUid) return e;
		for (var n = 0; n < e.childNodes.length; ++n) {
			var o = rN(e.childNodes[n], t);
			if (null !== o) return o;
		}
		return null;
	}
	function sN(e, t) {
		for (var n = []; e.childNodes.length > 0; ) n.push(e.removeChild(e.childNodes[0]));
		for (; t.childNodes.length > 0; ) e.appendChild(t.childNodes[0]);
		for (var o = 0; o < n.length; ++o) t.appendChild(n[o]);
	}
	function aN(e, t) {
		if (null !== e.parentNode && null !== t.parentNode) {
			var n = document.createElement('div');
			e.parentNode.replaceChild(n, e),
				t.parentNode.replaceChild(e, t),
				n.parentNode.replaceChild(t, n),
				sN(e, t);
		}
	}
	function lN(e, t) {
		for (var n = 0; n < t.childNodes.length; ++n) {
			var o,
				i = t.childNodes[n],
				r = rN(e, i);
			if (r) aN((o = r.dataset && 'true' === r.dataset.dlOriginal ? r : r.cloneNode(!1)), i), lN(e, o);
			else lN(e, i);
		}
	}
	function cN(t, n = !0) {
		if ('#text' == t.nodeName || '#comment' == t.nodeName) return !1;
		if (!WR(t, e.websiteData.hostname)) return !1;
		if (t.isContentEditable && n) return !1;
		if (
			(function (e) {
				switch (e.tagName.toLowerCase()) {
					case 'input':
						return 'submit' !== e.getAttribute('type');
					case 'textarea':
						return !0;
					default:
						return !1;
				}
			})(t)
		)
			return !1;
		if (vE(t)) return !1;
		for (var o = 0; o < t.childNodes.length; ++o) {
			if (('#text' == (i = t.childNodes[o]).nodeName && '' != i.wholeText.trim()) || 'font' == i.nodeName)
				return !0;
		}
		for (o = 0; o < t.childNodes.length; ++o) {
			var i;
			if (
				'#text' != (i = t.childNodes[o]).nodeName &&
				'#comment' != i.nodeName &&
				(!_E(i) || vE(i) || 'inline' != window.getComputedStyle(i).display || cE(t))
			)
				return !1;
		}
		return void 0 !== t.innerText && '' != t.innerText.trim();
	}
	function dN(e) {
		if (void 0 !== e.dataset && (void 0 === e.dataset.dlTranslated || 'false' === e.dataset.dlTranslated))
			return !1;
		for (var t = 0; t < e.childNodes.length; ++t) {
			var n = e.childNodes[t];
			if ('#text' != n.nodeName && '#comment' != n.nodeName && !dN(n)) return !1;
		}
		return !0;
	}
	function uN(e, t) {
		var n = e.getBoundingClientRect(),
			o = window.innerWidth || document.documentElement.clientWidth,
			i = window.innerHeight || document.documentElement.clientHeight;
		if (n.bottom < 0 - i * t || n.right < 0 - o * t) return !1;
		if (n.top > i * (1 + t)) return !1;
		if (n.left > o * (1 + t)) return !1;
		var r = window.getComputedStyle(e).position;
		return 'absolute' === r || 'fixed' === r || null !== e.offsetParent;
	}
	function pN(e, t) {
		if (
			'#text' != t.nodeName &&
			'#comment' != t.nodeName &&
			!(function (e) {
				if ('no' == e.getAttribute('translate')) return !0;
				var t = e.className;
				return !(null == t || null == t.split || !t.split(' ').includes('notranslate'));
			})(t)
		)
			if (cN(t)) uN(t, 0.3) && !dN(t) && iN(e, t);
			else for (var n = 0; n < t.childNodes.length; ++n) pN(e, t.childNodes[n]);
	}
	async function mN(e, n, o, i, r, s) {
		if (e.length > 0)
			return t({
				action: 'dlRequestHtmlTranslation',
				payload: {
					sourceLang: n,
					trigger: i,
					texts: e.map((e) => st(e.clone.innerHTML)),
					isFirstTime: r,
					domainName: s,
				},
			}).then((t) => {
				for (var n = 0; n < e.length; ++n)
					(e[n].clone.innerHTML = st(t[n])),
						lN(e[n].original, e[n].clone),
						sN(e[n].original, e[n].clone),
						eN(e[n].original, !0);
			});
	}
	async function gN(e, t) {
		if (
			!Ye(
				{
					isLoggedIn: VO,
					translatorServiceType: YO,
				},
				_e.TRANSLATOR,
			)
		)
			return;
		const n = [];
		try {
			pN(n, document.documentElement);
			try {
				document.querySelectorAll('iframe').forEach((n) => tN(n, e, t));
			} catch (e) {
				console.error;
			}
			if (0 === n.length) return;
			pw.update({
				translationState: d.ongoingTranslation,
			}),
				await mN(n, e.sourceLang, e.noTranslationLanguages, e.trigger, t, window.location.hostname);
		} catch (e) {
			console.error('error', e);
			for (var o = 0; o < n.length; ++o) eN(n[o].original, !1);
			return (
				pw.update({
					translationState: d.none,
					error: e.name ? e.name : e,
				}),
				jO && jO.disconnect,
				void (WO && document.removeEventListener('scroll', WO))
			);
		}
		pw.update({
			translationState: d.isTranslationComplete,
		}),
			n.length > 0 &&
				pw.update({
					translatedDOM: [...ZO, ...n],
				});
	}
	async function hN(e) {
		jO && (jO.disconnect(), (jO = void 0)), WO && (document.removeEventListener('scroll', WO), (WO = void 0));
		let t,
			n,
			o = !1;
		ZO.length > 0
			? (pw.update({
					translationState: d.ongoingTranslation,
			  }),
			  QO(),
			  ZO.forEach((e) => {
					sN(e.original, e.clone), sN(e.original, e.clone), eN(e.original, !0);
			  }),
			  pw.update({
					translationState: d.isTranslationComplete,
			  }))
			: (o = !0),
			await gN(e, o),
			(WO = async () => {
				(n = !0),
					window.clearTimeout(t),
					(t = setTimeout(function () {
						FO === d.isTranslationComplete &&
							window.requestAnimationFrame(async () => {
								await gN(e, !1), (n = !1);
							});
					}, 100));
			}),
			document.addEventListener('scroll', WO),
			(jO = new MutationObserver((t) => {
				if (n) return;
				if (FO !== d.isTranslationComplete) return;
				t.filter((e) => e.addedNodes && e.addedNodes.length > 0).length > 0 &&
					window.requestAnimationFrame(async () => {
						await gN(e, !1);
					});
			})),
			jO.observe(document.body, {
				childList: !0,
				subtree: !0,
			}),
			s_(() => {
				XO(), JO(), jO && jO.disconnect(), WO && document.removeEventListener('scroll', WO);
			});
	}
	const fN = (n) => {
			if (n.targetLang && window.getSelection() && window.getSelection().toString()) {
				var o = window.getSelection().toString();
				document.getElementsByTagName('deepl-inline-translate-tooltip').length ||
					hR({
						websiteData: pw,
					}),
					pw.update({
						translationState: d.ongoingTranslation,
						translatedSnippet: '',
						snippetDetectedSourceLang: '',
						translatedDOMSnippet: '',
						originalSnippet: '',
					}),
					t({
						action: 'dlRequestInlineTranslation',
						payload: {
							requests: [
								{
									text: o,
								},
							],
							domainName: window.location.hostname,
							trigger: m,
							sourceLang: 'auto',
							websiteLanguage: e.websiteData.websiteLanguage,
						},
					})
						.then((e) => {
							pw.update({
								translationState: d.none,
								translatedSnippet: e[0].text,
								snippetDetectedSourceLang: e[0].detected_source_language,
								originalSnippet: o,
								websiteLanguage: e[0].detected_source_language,
							});
						})
						.catch((e) => {
							pw.update({
								translationState: d.none,
								originalSnippet: o,
								error: e.message ? e.message : e,
							});
						});
			}
		},
		_N = async (e) => {
			const n = await t({
				action: 'dlGetAppSettings',
			});
			let o = window.getSelection().anchorNode;
			'#text' === o.nodeName.toLowerCase() && (o = o.parentNode);
			const i = 'textarea' === o.nodeName.toLowerCase(),
				r = o.closest('[contenteditable="true"]'),
				s = o.closest('textarea'),
				a = o.querySelector('textarea'),
				l = a && a.selectionStart !== a.selectionEnd,
				c = (i && o) || r || s || (l && a);
			c
				? ((e, t, n) => {
						const o = document.querySelector(BO.HTML_TAG_NAME);
						o &&
							(t ? o.openSettingsFromShortcut() : n ? o.triggerTranslation() : o.openSettingsFromShortcut());
				  })(0, e, n.targetLanguageUserInput)
				: fN({
						targetLang: n.selectedTargetLanguage,
				  }),
				t({
					action: 'dlTrackRightClick',
					payload: {
						translationType: c ? p : u,
						domainName: window.location.host,
					},
				});
		},
		vN = async (e, n) => {
			fR();
			const o = await t({
				action: 'dlGetAppSettings',
			});
			var i;
			hN({
				sourceLang: e,
				trigger: n,
				isFirstTime: !0,
				noTranslationLanguages:
					((i = o.languagesForTranslation),
					Object.keys(i).filter((e) => {
						i[e];
					})),
			}).catch((e) => {
				pw.update({
					translationState: d.none,
					error: e.message ? e.message : e,
				});
			});
		},
		yN = async (e, t) => {
			let n = 5e3;
			if ((t === _e.WRITE && (n = 2e3), e.length <= n)) return !1;
			const o = await IN();
			return !Ye(o, t);
		},
		wN = async (e, t) => {
			const n = e.length,
				o = await IN(),
				i = Ye(o, _e.TRANSLATOR),
				r = Ye(o, _e.WRITE);
			if (t === oe.write) {
				const e = o.isLoggedIn ? b : w;
				if (i && !r && n > e) throw new Sf(e, 'Char limit exceeded (Translator Pro, Write Free)');
				if (!r && n > e) throw new Ef(e, 'Char limit exceeded (Write Free Or Anonymous)');
			}
			if (!o.isLoggedIn && n > v) throw new bf(v, 'Limit exceeded (anonymous user). Please upgrade');
			if (o.isLoggedIn && !Ye(o, _e.TRANSLATOR) && n > y)
				throw new wf(y, 'Limit exceeded (free account). Please upgrade');
		},
		bN = async (e) => {
			const { event: n, targetLang: o } = e,
				i = document.querySelector('deepl-gdocs-icon');
			if (o && i) {
				const { originalText: e, textLines: r, entities: s, contentReference: a, originalObject: l } = gt(n);
				if (
					(document.getElementsByTagName('deepl-inline-translate-tooltip').length ||
						hR({
							websiteData: pw,
							platformBehaviour: ne.gdocs,
						}),
					await yN(e, _e.TRANSLATOR))
				)
					return void pw.update({
						translationState: d.anonymousUserMaxCharExceeded,
						translatedSnippet: '',
						originalSnippet: e,
					});
				pw.update({
					translationState: d.ongoingTranslation,
					translatedSnippet: '',
					snippetDetectedSourceLang: '',
					translatedDOMSnippet: '',
					originalSnippet: '',
				});
				try {
					const n = await t({
							action: 'dlRequestGDocsSplitText',
							payload: {
								mode: qC.TRANSLATE,
								texts: r,
							},
						}),
						c = n.result.lang.detected,
						u = [],
						p = [];
					for (const e of n.result.texts) {
						const t = [];
						for (const n of e.chunks) for (const e of n.sentences) p.push(e), t.push(p.length - 1);
						u.push(t);
					}
					const m = (
						await t({
							action: 'dlRequestGDocsProcessContent',
							payload: {
								mode: qC.TRANSLATE,
								sentences: p,
								sourceLang: c,
								targetLang: o.substring(0, 2),
								domain: window.location.host,
							},
						})
					).result.translations.map((e, t) => ({
						prefix: p[t].prefix,
						text: e.beams[0].sentences[0].text,
					}));
					i.setContentProcessBuildingBlocks({
						detectedSourceLanguage: c,
						targetLang: o.substring(0, 2),
						sentences: p,
						processedSentences: m,
						textLines: r,
						textLinesComponents: u,
						entities: s,
						contentReference: a,
						originalObject: l,
					}),
						pw.update({
							translationState: d.none,
							translatedSnippet: 'GDOCS_CONTENT',
							snippetDetectedSourceLang: c,
							originalSnippet: e,
							websiteLanguage: c,
						});
				} catch (t) {
					console.error(t),
						pw.update({
							translationState: d.none,
							originalSnippet: e,
							error: t.message ? t.message : t,
						});
				}
			}
		},
		EN = async ({ event: e, lang: n }) => {
			const { originalText: o, textLines: i, entities: r, contentReference: s, originalObject: a } = gt(e);
			document.getElementsByTagName('deepl-inline-translate-tooltip').length ||
				hR({
					websiteData: pw,
					platformBehaviour: ne.gdocs,
					textProcessingMode: oe.write,
				});
			const l = document.querySelector('deepl-gdocs-icon'),
				c = {
					lang: n,
					sourceLength: o.length,
					targetLength: 0,
					nicheIntegration: ne.gdocs,
					error: '',
				};
			if (await yN(o, _e.WRITE))
				return (
					pw.update({
						translationState: d.anonymousUserMaxCharExceeded,
						translatedSnippet: '',
						originalSnippet: o,
					}),
					void (l && l.setDeeplWriteTrackingData(c))
				);
			pw.update({
				translationState: d.ongoingTranslation,
				translatedSnippet: '',
				snippetDetectedSourceLang: '',
				translatedDOMSnippet: '',
				originalSnippet: '',
			});
			try {
				const e = await t({
						action: 'dlRequestGDocsSplitText',
						payload: {
							mode: qC.WRITE,
							texts: i,
						},
					}),
					n = e.result.lang.detected,
					u = [],
					p = [];
				for (const t of e.result.texts) {
					const e = [];
					for (const n of t.chunks) for (const t of n.sentences) p.push(t), e.push(p.length - 1);
					u.push(e);
				}
				const m = (
					await t({
						action: 'dlRequestGDocsProcessContent',
						payload: {
							mode: qC.WRITE,
							sentences: p,
							sourceLang: n,
							targetLang: n,
							domain: window.location.host,
						},
					})
				).result.translations.map((e, t) => ({
					prefix: p[t].prefix,
					text: e.beams[0].sentences[0].text,
				}));
				l.setContentProcessBuildingBlocks({
					detectedSourceLanguage: n,
					targetLang: n,
					sentences: p,
					processedSentences: m,
					textLines: i,
					textLinesComponents: u,
					entities: r,
					contentReference: s,
					originalObject: a,
				}),
					l.setDeeplWriteTrackingData(c),
					pw.update({
						translationState: d.none,
						translatedSnippet: 'GDOCS_CONTENT',
						snippetDetectedSourceLang: n,
						originalSnippet: o,
						websiteLanguage: n,
					}),
					zN({
						eventType: ye,
						...c,
					});
			} catch (e) {
				const t = e.message ? e.message : e;
				pw.update({
					translationState: d.none,
					originalSnippet: o,
					error: t,
				}),
					zN({
						eventType: Te,
						...c,
						error: t,
					});
			}
		},
		SN = async (e) => {
			const { sentences: n, targetLang: o, sourceLang: i, mode: r } = e;
			if (o) {
				await wN(n.join(''), r);
				try {
					const e = await t({
							action: 'dlRequestInputTranslation',
							payload: {
								requests: n.map((e) => ({
									text: e,
								})),
								domainName: window.location.hostname,
								websiteLanguage: o,
								targetLang: o,
								sourceLang: i,
								platformBehavior: ne.gslides,
								isHtml: !0,
								isWriteRequest: r === oe.write,
							},
						}),
						s = e[0]?.texts;
					return s;
				} catch (e) {
					throw (console.error(e), Error(e));
				}
			}
		},
		xN = async ({ event: e, targetLang: n, sourceLang: o, mode: i }) => {
			if (n) {
				const { textLines: n, entities: r, contentReference: s, originalObject: a } = gt(e);
				await wN(n.join(''), i);
				try {
					const e = await t({
							action: 'dlRequestInlineTranslation',
							payload: {
								requests: n.map((e) => ({
									text: e,
								})),
								domainName: window.location.hostname,
								trigger: m,
								sourceLang: o,
								nicheIntegration: ne.gslides,
								isWriteRequest: i === oe.write,
							},
						}),
						{ processedText: l, processedEntities: c } = yt({
							textLines: e.map((e) => e.text),
							entities: r,
							contentReference: s,
						});
					return xt({
						entities: c,
						text: l,
						originalObject: a,
					});
				} catch (e) {
					console.error(e);
				}
			}
		},
		TN = async (e) => {
			const { element: n, targetLang: o } = e;
			let i,
				r = '';
			if (o) {
				const {
					domElements: s,
					strings: a,
					tmpElementMap: l,
				} = ((e) => {
					const t = [],
						n = [],
						o = {};
					return (
						pE({
							domElements: t,
							strings: n,
							element: e,
							tmpElementMap: o,
						}),
						{
							domElements: t,
							strings: n,
							tmpElementMap: o,
						}
					);
				})(n);
				try {
					const i = await t({
							action: 'dlRequestZendeskInputTranslation',
							payload: {
								texts: a,
								domainName: window.location.hostname,
								websiteLanguage: o,
								targetLang: o,
								...(e.formality && {
									formality: e.formality,
								}),
							},
						}),
						c = i[0]?.texts;
					c &&
						c.length > 0 &&
						(dE({
							strings: c,
							domElements: s,
						}),
						(({ element: e, tmpElementMap: t }) => {
							for (const n of Object.keys(t)) {
								const o = e.getElementsByTagName(n);
								Array.from(o).forEach((e) => {
									const { originalTagName: o, originalAttributes: i } = t[n],
										r = document.createElement(o);
									for (const e in i) r.setAttribute(e, i[e]);
									(r.innerHTML = st(e.innerHTML)), e.replaceWith(r);
								});
							}
						})({
							element: n,
							tmpElementMap: l,
						}),
						(r = st(n.innerHTML)),
						(n.innerHTML = '')),
						t({
							action: 'dlOnSuccessfulZendeskTranslation',
						});
				} catch (e) {
					console.error(e), (i = e);
				}
			}
			return [r, i];
		},
		CN = async (e) => {
			const { targetLang: n, sourceLang: o, text: i, trigger: r } = e;
			let s,
				a = '';
			if (o && n)
				try {
					a = await t({
						action: 'dlRequestZendeskMessageTranslation',
						payload: {
							domainName: window.location.hostname,
							sourceLang: o,
							targetLang: n,
							text: i,
							trigger: r,
						},
					});
				} catch (e) {
					console.error(e), (s = e);
				}
			return [a, s];
		},
		$N = async () => {
			let e,
				n = [];
			try {
				const [o, i] = await t({
					action: 'dlRequestTermbases',
				});
				i ? (e = i) : (n = o);
			} catch (t) {
				console.error(t), (e = t);
			}
			return [n, e];
		},
		kN = async () => {
			let e = document.body.innerText.substring(0, 200);
			if (!e || 1 === e.length) {
				const t = document.title;
				t.length >= e.length && (e = t);
			}
			let n = '';
			const o = await chrome.i18n.detectLanguage(e);
			o &&
				o.languages?.length > 0 &&
				(n = o.languages
					.sort((e, t) => t.percentage - e.percentage)[0]
					.language.substr(0, 2)
					.toUpperCase());
			try {
				t({
					action: 'dlTrackDetectLanguage',
					payload: {
						language: n,
						domainName: window.location.host,
					},
				});
			} catch (e) {
				console.error(e);
			}
			return n;
		},
		LN = async () => {
			let t = document.documentElement.lang;
			!t && e.websiteData.websiteLanguage && (t = e.websiteData.websiteLanguage), Qb(window.location.href);
			{
				const t = async () => {
						let t = document.documentElement.lang;
						if ((!t && e.websiteData.websiteLanguage && (t = e.websiteData.websiteLanguage), t))
							return t.substr(0, 2).toUpperCase();
						try {
							pw.update({
								translationState: d.ongoingAutoDetection,
							});
							const e = await kN();
							return (
								pw.update({
									translationState: d.none,
								}),
								e
							);
						} catch (e) {
							pw.update({
								translationState: d.none,
								error: e.message ? e.message : chrome.i18n.getMessage(e),
							});
						}
					},
					n = () => {
						const e = document.documentElement.className;
						return /translated/g.test(e);
					},
					o = Qb(window.location.href),
					i = await t();
				pw.update({
					websiteLanguage: i,
					hostname: window.location.hostname,
					isSupportedLanguage: Ct(i),
					isGoogleTranslatedActive: n(),
					isValidUrlForPopup: o,
				});
				const r = new MutationObserver(async () => {
					const e = await t();
					pw.update({
						websiteLanguage: e,
						isSupportedLanguage: Ct(e),
						isGoogleTranslatedActive: n(),
						isValidUrlForPopup: o,
					});
				});
				r.observe(document.documentElement, {
					attributes: !0,
					childList: !1,
					characterData: !1,
					subtree: !1,
					attributeFilter: ['class'],
				}),
					s_(() => {
						r.disconnect();
					});
			}
		},
		IN = async () =>
			await t({
				action: 'dlGetUserState',
			}),
		MN = async (n, o = !1) => {
			if (n && !n.isTrusted && !o) return;
			const i = await t({
				action: 'dlGetAppSettings',
			});
			ON(), await LN();
			const r = await IN();
			var s, a;
			Ye(r, _e.TRANSLATOR) &&
				Ct(e.websiteData.websiteLanguage) &&
				((s = i.selectedTargetLanguage),
				(a = e.websiteData.websiteLanguage),
				($t(s) !== a || e.websiteData.isGoogleTranslatedActive) &&
					(Mt(e.websiteData.websiteLanguage, i.languagesForTranslation, c) ||
						i.blacklistDomains.includes(e.websiteData.hostname) ||
						Xb(window.location.host, R) ||
						(Mt(e.websiteData.websiteLanguage, i.languagesForTranslation, l) &&
							vN(e.websiteData.websiteLanguage, g),
						i.enableFullPageTranslation && window === window.parent && yR())));
		},
		AN = async () => {
			await LN(), document.getElementsByTagName('deepl-input-controller').length || $R();
		},
		RN = async () => {
			await LN(), NR(pw);
		},
		ON = () => {
			at() && bR(), Dt() && ER(), pb() && TR(), qb() && kR();
		},
		NN = (e) => {
			P_.set(e);
		},
		DN = async (e) => {
			const n = () => {
					for (const t of Object.keys(X)) if (X[t] && e.match(X[t])) return t;
					if (document.querySelector('iframe#WebApplicationFrame')) {
						const e = document.querySelector('form#frameForm, form#office_form'),
							t = e && new URL(e.getAttribute('action'))?.hostname?.toLowerCase();
						if (t) for (const e of Object.keys(J)) if (J[e] && t.includes(J[e])) return e;
					}
					if ('onedrive.live.com' === e)
						for (const e of Object.keys(Q)) if (Q[e] && document.querySelector(`#${Q[e]}`)) return e;
					return document.querySelector('body#jira')
						? 'jira'
						: document.querySelector('body#com-atlassian-confluence')
						? 'confluence'
						: void 0;
				},
				o = n();
			o
				? t({
						action: 'dlTrackLandingOnWebsite',
						payload: {
							website: o,
						},
				  })
				: setTimeout(() => {
						const e = n();
						e &&
							t({
								action: 'dlTrackLandingOnWebsite',
								payload: {
									website: e,
								},
							});
				  }, 2e3);
		},
		PN = async ({
			eventType: e,
			controller: n,
			sourceTextLength: o,
			targetTextLength: i,
			error: r,
			metaDataOverride: s = {},
		}) => {
			const a = n?.getTicketLanguageInformation(),
				l = {
					agentLanguage: (
						await t({
							action: 'dlGetAppSettings',
						})
					).selectedTargetLanguage,
					ticketLanguage: a?.language,
					isTicketLanguageAutodetected: a?.isDetected,
					isTicketLanguageSupported: a?.isSupported,
					isAutoTranslateEnabled: n.getIsAutoTranslatedEnabled(),
					sourceTextLength: o,
					targetTextLength: i,
					inputHasSelection: n.getInputHasSelection(),
					error: r,
					...s,
				};
			await t({
				action: 'dlTrackZendeskCustomizationEvent',
				payload: {
					eventType: e,
					zendeskMetaData: l,
				},
			});
		},
		zN = async ({
			eventType: e,
			lang: n,
			sourceLength: o,
			targetLength: i,
			nicheIntegration: r = ne.default,
			error: s,
			metaDataOverride: a = {},
		}) => {
			await t({
				action: 'dlTrackDeeplWriteEvent',
				payload: {
					eventType: e,
					deeplWriteMetaData: {
						lang: n,
						sourceLength: o,
						targetLength: i,
						nicheIntegration: r,
						error: s,
						...a,
					},
				},
			});
		};
	function UN(e) {
		uw(e);
	}
	function HN() {
		const e = ot();
		e &&
			n(N.showAdsForMSAddins, {
				theme: D.ads_theme,
				matchedWord: e,
			});
	}
	const BN = (e) => {
			e &&
				pw.update({
					translationState: d.none,
					translatedSnippet: e,
				});
		},
		FN = (e) => {
			e &&
				pw.update({
					itaSourceLanguage: e.toUpperCase(),
				});
		},
		WN = (e) => {
			e &&
				pw.update({
					itaSourceLanguageIsAutoDetected: e,
				});
		},
		jN = () => {
			const e = window.location.hostname.split('.');
			if (e.length < 2) return !1;
			return 'deepl.com' === `${e.at(-2)}.${e.at(-1)}`;
		},
		qN = () => VN() || GN(),
		GN = () => {
			const e = new URL(window.location.href);
			return 'https:' === e.protocol && ('service-now.com' === e.hostname || 'servicenow.com' === e.hostname);
		},
		VN = () => /\.service-now\.com$/.test(window.location.hostname),
		YN = () => !jN() && !pb() && !qN(),
		KN = () => !jN() && !pb() && !qN();
	window.addEventListener('error', function (e) {
		const t = e.message || (e.error && e.error.message) || '';
		Qh(t) && e.preventDefault();
	}),
		window.addEventListener('unhandledrejection', function (e) {
			const t = (e.reason && e.reason.message) || '';
			Qh(t) && e.preventDefault();
		});
	const { client: ZN, scope: XN } = db();
	if (
		(ZN.init(),
		Qt() &&
			{
				IS_PROD: !0,
				BASE_URLS: {
					dapApi: 'https://s.deepl.com/chrome/statistics',
					toolingApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingWriteApiPro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					toolingWriteApi: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiWrite: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiWritePro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
					classicApiGlossary: 'https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.26.1',
					login: 'https://www.deepl.com/auth/login',
					token: 'https://w.deepl.com/oidc/token',
					logout: 'https://www.deepl.com/auth/logout',
					feedbackSurvey: 'https://deepl.typeform.com/to/MkMfP2Y6',
					newFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi',
					firefoxFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK',
					uninstallSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU',
					gslidesFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO',
					deeplPro: 'https://www.deepl.com/pro',
					deeplProWrite: 'https://www.deepl.com/pro-write',
					deeplTranslator: 'https://www.deepl.com/translator',
					deeplDoctrans: 'https://www.deepl.com/translator/files',
					deeplTermsOfServiceFree: 'https://www.deepl.com/en/pro-license?tab=free',
					deeplCreateAccount: 'https://www.deepl.com/signup',
					extensionStorePage: 'https://bit.ly/DeepL-Chrome',
					supportArticle: 'https://support.deepl.com/hc/articles/4407580229522',
					deeplSupport: 'https://support.deepl.com/hc',
					chromeWebstore:
						'https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj',
					edgeWebstore:
						'https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf',
					firefoxWebstore: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate',
					firefoxShortcutDocs: 'https://support.mozilla.org/kb/manage-extension-shortcuts-firefox',
					firefoxPrivacyPolicy: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/',
					clientStateApi: 'https://w.deepl.com/web',
					experimentsEndpoint: 'https://s.deepl.com/chrome/experiments',
					gmailFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW',
					customerSegmentationSurveyFree:
						'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071',
					customerSegmentationSurveyPro:
						'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070',
					arabicSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ',
					msAddinsDeepLAds: 'https://www.deepl.com/en/microsoft-365',
				},
				APP_VERSION: '1.26.1',
				FEATURE_FLAGS: {
					TRANSLATE_INPUT: !0,
					PAGE_TRANSLATION: !0,
					IMPROVE_WRITING: !0,
					DOCUMENT_TRANSLATION: !0,
					RECOMMEND_TO_A_FRIEND: !0,
					PRO_LOGIN: !0,
					WEBPAGE_CUSTOMIZER: !0,
					GDOCS_INTEGRATION: !0,
					ZENDESK_INTEGRATION: !0,
					GMAIL_INTEGRATION: !0,
					GSLIDES_INTEGRATION: !0,
					ON_INSTALL_ONBOARDING: !0,
					WHATSAPP_TRANSLATE_ALL_CHAT: !1,
					DEEPL_WRITE_GENERAL: !1,
					DEEPL_WRITE_GDOCS: !0,
					SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
					ARABIC_SURVEY: !0,
					REVIEW_UI_WITH_ITA: !1,
				},
			}.HOT_RELOAD.active &&
			!nt())
	) {
		new WebSocket(
			`ws://localhost:${
				{
					IS_PROD: !0,
					BASE_URLS: {
						dapApi: 'https://s.deepl.com/chrome/statistics',
						toolingApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingWriteApiPro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						toolingWriteApi: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApi: 'https://www2.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiPro: 'https://api.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiWrite: 'https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiWritePro: 'https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.26.1',
						classicApiGlossary: 'https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.26.1',
						login: 'https://www.deepl.com/auth/login',
						token: 'https://w.deepl.com/oidc/token',
						logout: 'https://www.deepl.com/auth/logout',
						feedbackSurvey: 'https://deepl.typeform.com/to/MkMfP2Y6',
						newFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi',
						firefoxFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK',
						uninstallSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU',
						gslidesFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO',
						deeplPro: 'https://www.deepl.com/pro',
						deeplProWrite: 'https://www.deepl.com/pro-write',
						deeplTranslator: 'https://www.deepl.com/translator',
						deeplDoctrans: 'https://www.deepl.com/translator/files',
						deeplTermsOfServiceFree: 'https://www.deepl.com/en/pro-license?tab=free',
						deeplCreateAccount: 'https://www.deepl.com/signup',
						extensionStorePage: 'https://bit.ly/DeepL-Chrome',
						supportArticle: 'https://support.deepl.com/hc/articles/4407580229522',
						deeplSupport: 'https://support.deepl.com/hc',
						chromeWebstore:
							'https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj',
						edgeWebstore:
							'https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf',
						firefoxWebstore: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate',
						firefoxShortcutDocs: 'https://support.mozilla.org/kb/manage-extension-shortcuts-firefox',
						firefoxPrivacyPolicy: 'https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/',
						clientStateApi: 'https://w.deepl.com/web',
						experimentsEndpoint: 'https://s.deepl.com/chrome/experiments',
						gmailFeedbackSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW',
						customerSegmentationSurveyFree:
							'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071',
						customerSegmentationSurveyPro:
							'https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070',
						arabicSurvey: 'https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ',
						msAddinsDeepLAds: 'https://www.deepl.com/en/microsoft-365',
					},
					APP_VERSION: '1.26.1',
					FEATURE_FLAGS: {
						TRANSLATE_INPUT: !0,
						PAGE_TRANSLATION: !0,
						IMPROVE_WRITING: !0,
						DOCUMENT_TRANSLATION: !0,
						RECOMMEND_TO_A_FRIEND: !0,
						PRO_LOGIN: !0,
						WEBPAGE_CUSTOMIZER: !0,
						GDOCS_INTEGRATION: !0,
						ZENDESK_INTEGRATION: !0,
						GMAIL_INTEGRATION: !0,
						GSLIDES_INTEGRATION: !0,
						ON_INSTALL_ONBOARDING: !0,
						WHATSAPP_TRANSLATE_ALL_CHAT: !1,
						DEEPL_WRITE_GENERAL: !1,
						DEEPL_WRITE_GDOCS: !0,
						SHOW_CUSTOMER_SEGMENTATION_SURVEY: !1,
						ARABIC_SURVEY: !0,
						REVIEW_UI_WITH_ITA: !1,
					},
				}.HOT_RELOAD.webSocketServerPort
			}`,
		).addEventListener('message', (e) => {
			'file-change' === e.data && chrome.runtime.sendMessage('reload');
		});
	}
	document.dispatchEvent(new CustomEvent('deepl-reset-event'));
	try {
		chrome.runtime.onMessage.addListener(fM),
			s_(() => {
				pw.update({
					translationState: d.showOriginal,
				}),
					mw(),
					chrome.runtime.onMessage.removeListener(fM);
			});
	} catch (e) {
		console.error(e), tf(e, XN);
	}
	try {
		HR(window.location.host),
			DN(window.location.host),
			BR(window.location.href),
			'complete' === document.readyState ? MN(null, !0) : window.addEventListener('load', MN),
			YN() && AN(),
			KN() && RN(),
			UR(window.location.host),
			HN();
	} catch (e) {
		console.error(e), tf(e, XN);
	}
	function JN(e, t, n) {
		let o = {
			block: 'end',
			position: e.length,
		};
		return (
			t.forEach((t) => {
				const i = e.indexOf(`<${t}>`, n);
				i > -1 &&
					i < o.position &&
					(o = {
						block: t,
						position: i,
					});
			}),
			[o.block, o.position]
		);
	}
	function QN(e) {
		return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g) || [];
	}
	function eD(e, t) {
		const n = QN(e),
			o = QN(t),
			i = (function (e, t, n) {
				const o = n || ((e, t) => e === t),
					i = (() => {
						let n = 0;
						for (; o(e[n], t[n]) && n < e.length; ) ++n;
						return n;
					})();
				if (i === e.length && e.length === t.length) return [i];
				const r = (() => {
						let n = e.length - 1,
							r = t.length - 1;
						for (; o(e[n], t[r]) && n > i && r > i; ) --n, --r;
						return e.length - n - 1;
					})(),
					s = e.length - i - r + 1,
					a = t.length - i - r + 1,
					l = s + a,
					c = new Map(),
					d = new Map();
				c.set(1, 0), d.set(1, null);
				for (let n = 0; n <= l; ++n)
					for (let l = -n; l <= n; l += 2) {
						let u, p, m;
						for (
							l == -n || (l != n && c.get(l - 1) < c.get(l + 1))
								? ((u = c.get(l + 1)), (m = [d.get(l + 1), void 0, void 0]))
								: ((u = c.get(l - 1) + 1), (m = [d.get(l - 1), void 0, void 0])),
								p = u - l;
							u < s && p < a && o(e[u + i], t[p + i]);

						)
							++u, ++p;
						if (u >= s && p >= a) {
							(m[1] = s + r - 1), (m[2] = a + r - 1);
							let e = -1,
								t = -1;
							const n = [];
							for (; m; ) n.push([m[1], m[2]]), (m = m[0]);
							let o = [],
								l = null;
							for (; n.length; ) {
								const i = n.pop(),
									r = i[0],
									s = i[1],
									a = r - e,
									c = s - t,
									d = Math.min(a, c);
								a > d && (l ? (l[0] += a - d) : ((l = [a - d, 0]), o.push(l))),
									c > d && (l ? (l[1] += c - d) : ((l = [0, c - d]), o.push(l))),
									d > 0 && (o.push(d), (l = null)),
									(e = r),
									(t = s);
							}
							return (o[0] = o[0] - 1 + i), o;
						}
						c.set(l, u), (m[1] = u), (m[2] = p), d.set(l, m);
					}
				throw new Error('[diff]', 'should not happen?');
			})(n, o),
			r = [];
		let s = 0,
			a = 0,
			l = 0;
		for (; s < i.length; ) {
			const e = i[s];
			let t = 0;
			for (let o = a + e - 1; o >= a; o -= 1) t += n[o]?.match(/^\s/) ? 2 : 1;
			(a += e), (l += e);
			let c = 0,
				d = 0;
			if (
				(a < n.length &&
					l < o.length &&
					n[a]?.match(/^\s/) &&
					o[l]?.match(/^\s/) &&
					((c -= 1), (d -= 1), (t += 1)),
				r.push(t),
				(s += 1),
				s < i.length)
			) {
				const [e, t] = i[s];
				for (let t = a + e - 1; t >= a; t -= 1) c += n[t]?.match(/^\s/) ? 2 : 1;
				for (let e = l + t - 1; e >= l; e -= 1) d += o[e]?.match(/^\s/) ? 2 : 1;
				r.push([Math.max(c, 0), Math.max(d, 0)]), (s += 1), (a += e), (l += t);
			}
		}
		return [r, n, o, i];
	}
	return (
		(e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER = 1500),
		(e.GMAIL_CHAR_LIMIT_FREE_USER = GM),
		(e.GMAIL_INTERVAL = 800),
		(e.GMAIL_UI_ADDED_ATTRIBUTE = qM),
		(e.autodetectLanguage = kN),
		(e.backgroundPortListener = yM),
		(e.buildGDocsPasteData = xt),
		(e.calculateNewIconPosition = pt),
		(e.canInjectInlineTranslation = KN),
		(e.canInjectInputTranslation = YN),
		(e.canTranslateElementForDomain = WR),
		(e.checkForIntersectionWithOpenDialogs = jA),
		(e.checkIfInputHasSelection = Fb),
		(e.clearMessageControllers = Hb),
		(e.clickAtCoordinates = YA),
		(e.clickOnElement = KA),
		(e.createAlert = uw),
		(e.createGmailController = kR),
		(e.createGmailControllerUtil = () => document.createElement(PA.HTML_TAG_NAME)),
		(e.createGoogleDocsIcon = bR),
		(e.createGoogleSlidesController = ER),
		(e.createHighlightsForSentence = function (e, t) {
			const n = eD(t, e),
				o = [];
			let i = 0,
				r = 0,
				s = 0,
				a = 0;
			return (
				n[3].forEach((e) => {
					if (Array.isArray(e) && 'number' == typeof e[0] && 'number' == typeof e[1]) {
						if (0 !== e[1]) {
							const t = n[2].slice(r, r + e[1]).join(''),
								l = n[1].slice(i, i + e[0]).join(''),
								c = {
									original: l,
									replace: t,
								};
							(c.changeLength = t.length),
								(c.changeOffset = s),
								(c.originalLength = l.length),
								(c.originalOffset = a),
								(s += t.length),
								(a += l.length),
								o.push(c);
						}
						(i += e[0]), (r += e[1]);
					} else {
						let t = 0;
						n[2].slice(r, r + e).forEach((e) => (t += e.length)), (s += t);
						let o = 0;
						n[1].slice(i, i + e).forEach((e) => (o += e.length)), (a += o), (i += e), (r += e);
					}
				}),
				o
			);
		}),
		(e.createInlineTranslateSettingsTooltip = _R),
		(e.createInlineTranslateTooltip = hR),
		(e.createInlineTranslationTrigger = RR),
		(e.createInlineTranslationTriggerListener = NR),
		(e.createInputTextProcessorTrigger = OR),
		(e.createInputTranslationController = $R),
		(e.createNotification = DR),
		(e.createPageLoadPopup = yR),
		(e.createReviewTranslateWriteWindow = mR),
		(e.createSubmitButtonTooltip = Wb),
		(e.createTicketController = vb),
		(e.createZendeskController = TR),
		(e.createZendeskControllerElement = gb),
		(e.customizePage = UR),
		(e.detectTicketLanguageInLiveChat = Ab),
		(e.detectTicketLanguageInTicket = Mb),
		(e.detectTicketType = Cb),
		(e.disableExtension = bb),
		(e.displayAds = HN),
		(e.elementHasTranslateToolbar = WA),
		(e.extractSentencesAndEntitiesFromData = Ut),
		(e.findEditableContent = async function t(n, o) {
			try {
				if (
					(o.dataset && 'true' === o.dataset.dlInputTranslation) ||
					(o.dataset && 'true' === o.dataset.dlNoInputTranslation)
				)
					return;
				if ('true' === o.contentEditable || ('TEXTAREA' === o.nodeName && o.rows > 1)) {
					if ('none' === window.getComputedStyle(o).display) return;
					if (
						!(function (e) {
							return e.getBoundingClientRect().width > 0 && e.getBoundingClientRect().height > 0;
						})(o)
					)
						return;
					if (!FR(o, e.websiteData.hostname)) return;
					(o.dataset.dlInputTranslation = 'true'), n.push(o);
				}
				for (const e of o.childNodes) t(n, e);
			} catch (e) {
				Qt() && console.error(e), tf(e, GR);
			}
		}),
		(e.findEmailToAndFromAddressTable = qA),
		(e.findForwardButtonInDocument = JA),
		(e.findSiblingDivWithAnyMessageId = XA),
		(e.generateLanguagesWithShortcodeForDropdown = GA),
		(e.getActivePane = fb),
		(e.getActiveTermbases = () => {
			const e = mb();
			return e ? e.getActiveTermbases() : [];
		}),
		(e.getBlocksFromString = function (e, t = []) {
			const n = [];
			let o = 0,
				i = !1;
			for (; !i; ) {
				const [r, s] = JN(e, t, o);
				if (
					('end' === r && (i = !0),
					o < s &&
						n.push({
							block: 'main',
							text: e.substring(o, s),
						}),
					i)
				)
					break;
				const a = e.indexOf(`</${r}>`, s);
				-1 === a
					? (n.push({
							block: r,
							text: e.substring(s + `<${r}>`.length),
					  }),
					  (i = !0))
					: (n.push({
							block: r,
							text: e.substring(s + `<${r}>`.length, a),
					  }),
					  (o = a + `</${r}>`.length));
			}
			return n;
		}),
		(e.getContextMessages = (e) => {
			const t = [],
				n = $b(e)
					.map(Ib)
					.map((e) => e.innerText),
				o = [],
				i = [];
			for (let e = 0; e < n.length; e++) {
				const r = e % 2 == 0 ? 'start' : 'end';
				let s = Math.floor(e / 2);
				if (('end' === r && (s = n.length - 1 - s), t.includes(s))) break;
				if ([...o, ...i].reduce((e, t) => e + t.length, 0) + n[s].length > 3e3) break;
				'end' === r ? i.unshift(n[s]) : o.push(n[s]), t.push(s);
			}
			return [...o, ...i];
		}),
		(e.getControllerFromMessage = zb),
		(e.getCoordsOfWord = (e, t, n, o, i) => {
			const r = document.createRange();
			if ('#text' === e.nodeName) r.setStart(e, t), r.setEnd(e, t + n);
			else {
				if (!e.firstChild || '#text' !== e.firstChild.nodeName)
					return console.error('Invalid textNode with no child text node.'), null;
				{
					const o = e.firstChild;
					r.setStart(o, t), r.setEnd(o, t + n);
				}
			}
			const s = r.getBoundingClientRect();
			return {
				top: s.top,
				left: s.left,
				right: s.right,
				bottom: s.bottom,
				original: o,
				replace: i,
				textNode: e,
				changeIndex: t,
				changeLength: n,
			};
		}),
		(e.getElementCenterCoordinates = VA),
		(e.getGDocsisEditMode = mt),
		(e.getGmailControllerUtil = UA),
		(e.getIFrameAndEditable = lt),
		(e.getIconCoordinates = ut),
		(e.getMessageContent = Ib),
		(e.getMessageViewContainers = FA),
		(e.getMessageWriteContainers = () => {
			const e = Array.from(document.querySelectorAll('[role="textbox"]')).filter(
				(e) => 'true' === e.getAttribute('contenteditable'),
			);
			return e;
		}),
		(e.getMessagesFromTicket = $b),
		(e.getScrollableElements = KR),
		(e.getSelectionContent = dt),
		(e.getSentryClient = db),
		(e.getSourceLangFromSlide = Pt),
		(e.getTermbases = $N),
		(e.getTicketController = _b),
		(e.getTicketId = hb),
		(e.getTicketStartingMessage = kb),
		(e.getTicketStartingMessages = Lb),
		(e.getUserState = IN),
		(e.getWebsiteSettings = LN),
		(e.getWordsFromSentence = bt),
		(e.getZendeskController = mb),
		(e.improveGDocsSelectionContent = EN),
		(e.injectAskAReviewPopup = PR),
		(e.injectControllerInMessage = Ub),
		(e.injectInlineTranslation = RN),
		(e.injectInputTranslation = AN),
		(e.injectMissingMessageControllers = Pb),
		(e.injectMissingUIElements = yb),
		(e.isChatGPT = jR),
		(e.isDeepLCom = jN),
		(e.isGDocs = at),
		(e.isGSlides = Dt),
		(e.isGmail = qb),
		(e.isIncludedInTheText = function (e, t) {
			if (!e || !t) return !1;
			const n = /[\n\r\s]+/gm,
				o = e.replace(n, ''),
				i = t.replace(n, '');
			return o.includes(i);
		}),
		(e.isInputArea = VR),
		(e.isOnMessageViewScreen = BA),
		(e.isServiceNow = qN),
		(e.isZendesk = pb),
		(e.onOpenPage = MN),
		(e.pageListener = fM),
		(e.processEntityAfterTranslation = Ht),
		(e.processGDocsCopyEvent = gt),
		(e.reassembleGDocsTranslatedResult = yt),
		(e.removeAllDeeplElements = function () {
			!(function (e) {
				const t = document.getElementsByTagName(e);
				if (!t.length) return;
				for (let e = t.length - 1; e >= 0; --e) t[e].cleanupDOM(), t[e].remove();
			})('deepl-input-controller');
		}),
		(e.removeGDocsEntities = wt),
		(e.removeGmailController = LR),
		(e.removeGoogleDocsIcon = SR),
		(e.removeGoogleSlidesController = xR),
		(e.removeInlineTranslateSettingsTooltip = vR),
		(e.removeInlineTranslateTooltip = fR),
		(e.removeInlineTranslateTrigger = MR),
		(e.removeInputTextProcessorTrigger = AR),
		(e.removeInputTranslationController = IR),
		(e.removePageLoadPopup = wR),
		(e.removeReviewTranslateWriteWindow = gR),
		(e.removeUIElementsFromList = HA),
		(e.removeZendeskController = CR),
		(e.removeZendeskToolbar = jb),
		(e.removeZendeskUIElements = wb),
		(e.replaceTranslatedGDocsContent = Et),
		(e.runCustomScriptsForDomain = HR),
		(e.runCustomScriptsForSpecificUrl = BR),
		(e.scanForTranslatables = hN),
		(e.sendMessageToBackgroundPort = vM),
		(e.setBackgroundPort = function (e) {
			e.onMessage.addListener(yM), (_M = e);
		}),
		(e.setErrorVisibility = NN),
		(e.shouldBeTranslated = cN),
		(e.shouldInjectInputIcon = FR),
		(e.showAlert = UN),
		(e.simulateGSLidesSelectAll = zt),
		(e.trackDeeplWriteEvent = zN),
		(e.trackPageLandingIfNeeded = DN),
		(e.trackZendeskCustomizationEvent = PN),
		(e.translateGDocsSelectionContent = bN),
		(e.translateGSlidesInbloxkSelectionContent = xN),
		(e.translateGSlidesSelectionContent = SN),
		(e.translateInlineText = fN),
		(e.translateInlineTextWithITA = (e) => {
			if (e.targetLang && window.getSelection() && window.getSelection().toString()) {
				const t = window.getSelection().toString();
				document.getElementsByTagName('deepl-review-translate-write-window').length ||
					mR({
						websiteData: pw,
					}),
					pw.update({
						translationState: d.ongoingTranslation,
						translatedSnippet: '',
						snippetDetectedSourceLang: '',
						translatedDOMSnippet: '',
						originalSnippet: '',
						itaSourceLanguage: '',
						itaSourceLanguageIsAutoDetected: null,
					}),
					vM({
						type: hM.ITA_REQUEST_TRANSLATION,
						payload: {
							sourceText: t,
							targetLang: e.targetLang,
						},
					});
			}
		}),
		(e.translateSelectionRightClick = _N),
		(e.translateWebsite = vN),
		(e.translateZendeskMessage = CN),
		(e.translateZendeskSelectionContent = TN),
		(e.triggerCopyEvent = ct),
		(e.twitterState = rS),
		(e.unsubscribeToWebsiteState = mw),
		(e.updateInputIconLanguageInformation = Db),
		(e.updateInputPositionerCoords = YR),
		(e.updateIntegrationPanelIfExists = Bb),
		(e.updateToolbarAutoTranslateStatus = Ob),
		(e.updateToolbarLanguageInformation = Rb),
		(e.updateTopIconLanguageInformation = Nb),
		(e.updateWebsiteStateWithITASourceLanguage = FN),
		(e.updateWebsiteStateWithITASourceLanguageAutoDetected = WN),
		(e.updateWebsiteStateWithITATargetText = BN),
		(e.waitForElement = ZA),
		(e.websiteState = pw),
		(e.whatsAppState = OE),
		Object.defineProperty(e, '__esModule', {
			value: !0,
		}),
		e
	);
})({});
//# sourceMappingURL=content.js.map
